define.alias("@glimmer/component/-private/ember-component-manager","msg-ui/component-managers/glimmer")
define("msg-ui/components/-dynamic-element-alt",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{}e.default=i}))
define("msg-ui/components/-dynamic-element",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{}e.default=i}))
define.alias("helpcenter-in-product-ember/components/ai-search-discovery","msg-ui/components/ai-search-discovery")
define.alias("helpcenter-in-product-ember/components/ai-summary","msg-ui/components/ai-summary")
define.alias("helpcenter-in-product-ember/components/announcement-list-view","msg-ui/components/announcement-list-view")
define.alias("helpcenter-in-product-ember/components/announcement-view","msg-ui/components/announcement-view")
define.alias("artdeco-button/components/artdeco-button","msg-ui/components/artdeco-button")
define.alias("artdeco-datepicker/components/artdeco-calendar","msg-ui/components/artdeco-calendar")
define.alias("artdeco-card/components/artdeco-card-image","msg-ui/components/artdeco-card-image")
define.alias("artdeco-card/components/artdeco-card","msg-ui/components/artdeco-card")
define.alias("artdeco-carousel/components/artdeco-carousel-item","msg-ui/components/artdeco-carousel-item")
define.alias("artdeco-carousel/components/artdeco-carousel-slider","msg-ui/components/artdeco-carousel-slider")
define.alias("artdeco-carousel/components/artdeco-carousel-title","msg-ui/components/artdeco-carousel-title")
define.alias("artdeco-carousel/components/artdeco-carousel","msg-ui/components/artdeco-carousel")
define.alias("artdeco-completeness-meter-linear/components/artdeco-completeness-meter-linear","msg-ui/components/artdeco-completeness-meter-linear")
define.alias("artdeco-modal/components/artdeco-confirmation-dialog","msg-ui/components/artdeco-confirmation-dialog")
define.alias("artdeco-datepicker/components/artdeco-datepicker-embedded-cal","msg-ui/components/artdeco-datepicker-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-datepicker","msg-ui/components/artdeco-datepicker")
define.alias("artdeco-datepicker/components/artdeco-daterange-embedded-cal","msg-ui/components/artdeco-daterange-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-daterange","msg-ui/components/artdeco-daterange")
define.alias("artdeco-dropdown/components/artdeco-dropdown-content","msg-ui/components/artdeco-dropdown-content")
define.alias("artdeco-dropdown/components/artdeco-dropdown-header","msg-ui/components/artdeco-dropdown-header")
define.alias("artdeco-dropdown/components/artdeco-dropdown-item","msg-ui/components/artdeco-dropdown-item")
define.alias("artdeco-dropdown/components/artdeco-dropdown-trigger","msg-ui/components/artdeco-dropdown-trigger")
define.alias("artdeco-dropdown/components/artdeco-dropdown","msg-ui/components/artdeco-dropdown")
define.alias("artdeco-empty-state/components/artdeco-empty-state","msg-ui/components/artdeco-empty-state")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-badge","msg-ui/components/artdeco-entity-lockup-badge")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-caption","msg-ui/components/artdeco-entity-lockup-caption")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-content","msg-ui/components/artdeco-entity-lockup-content")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-image","msg-ui/components/artdeco-entity-lockup-image")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-metadata","msg-ui/components/artdeco-entity-lockup-metadata")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-subtitle","msg-ui/components/artdeco-entity-lockup-subtitle")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-title","msg-ui/components/artdeco-entity-lockup-title")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup","msg-ui/components/artdeco-entity-lockup")
define.alias("artdeco-entity-pile/components/artdeco-entity-pile","msg-ui/components/artdeco-entity-pile")
define.alias("artdeco-hoverables/components/artdeco-hoverable-content","msg-ui/components/artdeco-hoverable-content")
define.alias("artdeco-hoverables/components/artdeco-hoverable-trigger","msg-ui/components/artdeco-hoverable-trigger")
define.alias("artdeco-inline-feedback/components/artdeco-inline-feedback","msg-ui/components/artdeco-inline-feedback")
define.alias("artdeco-loader/components/artdeco-loader","msg-ui/components/artdeco-loader")
define.alias("artdeco-modal/components/container","msg-ui/components/artdeco-modal-container")
define.alias("artdeco-modal/components/artdeco-modal-content","msg-ui/components/artdeco-modal-content")
define.alias("artdeco-modal/components/artdeco-modal-footer","msg-ui/components/artdeco-modal-footer")
define.alias("artdeco-modal/components/artdeco-modal-header","msg-ui/components/artdeco-modal-header")
define.alias("artdeco-modal/components/artdeco-modal","msg-ui/components/artdeco-modal")
define.alias("artdeco-notification-badge/components/artdeco-notification-badge","msg-ui/components/artdeco-notification-badge")
define.alias("artdeco-pagination/components/artdeco-pagination-ellipsis","msg-ui/components/artdeco-pagination-ellipsis")
define.alias("artdeco-pagination/components/artdeco-pagination-indicator","msg-ui/components/artdeco-pagination-indicator")
define.alias("artdeco-pagination/components/artdeco-pagination","msg-ui/components/artdeco-pagination")
define.alias("artdeco-pill/components/artdeco-pill-choice-group","msg-ui/components/artdeco-pill-choice-group")
define.alias("artdeco-pill/components/artdeco-pill-choice","msg-ui/components/artdeco-pill-choice")
define.alias("artdeco-pill/components/artdeco-pill-dismiss","msg-ui/components/artdeco-pill-dismiss")
define.alias("artdeco-pill/components/artdeco-pill-input","msg-ui/components/artdeco-pill-input")
define.alias("artdeco-pill/components/artdeco-pill-link","msg-ui/components/artdeco-pill-link")
define.alias("artdeco-pill/components/artdeco-pill-toggle","msg-ui/components/artdeco-pill-toggle")
define.alias("artdeco-slider/components/artdeco-slider","msg-ui/components/artdeco-slider")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tab","msg-ui/components/artdeco-spotlight-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tablist","msg-ui/components/artdeco-spotlight-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tab","msg-ui/components/artdeco-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tablist","msg-ui/components/artdeco-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabpanel","msg-ui/components/artdeco-tabpanel")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabs","msg-ui/components/artdeco-tabs")
define.alias("artdeco-text-input/components/artdeco-text-input-multi","msg-ui/components/artdeco-text-input-multi")
define.alias("artdeco-text-input/components/artdeco-text-input-single","msg-ui/components/artdeco-text-input-single")
define.alias("artdeco-text-input/components/artdeco-text-input","msg-ui/components/artdeco-text-input")
define.alias("artdeco-toast/components/artdeco-toast-item","msg-ui/components/artdeco-toast-item")
define.alias("artdeco-toast/components/artdeco-toasts","msg-ui/components/artdeco-toasts")
define.alias("artdeco-toggle/components/artdeco-toggle","msg-ui/components/artdeco-toggle")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-input","msg-ui/components/artdeco-typeahead-input")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-result","msg-ui/components/artdeco-typeahead-result")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-results-list","msg-ui/components/artdeco-typeahead-results-list")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead","msg-ui/components/artdeco-typeahead")
define.alias("helpcenter-in-product-ember/components/article-link","msg-ui/components/article-link")
define.alias("helpcenter-in-product-ember/components/article-view","msg-ui/components/article-view")
define("msg-ui/components/away-message-reminder-banner-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateFieldSet","@babel/runtime/helpers/esm/classPrivateFieldGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/tracking","@glimmer/component","@ember/service","@ember/object","ember-lifeline","ember","artdeco-inline-feedback/components/artdeco-inline-feedback","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-tracking/helpers/tracked-action","ember-set-helper/helpers/set","@ember/render-modifiers/modifiers/did-insert","@ember/helper","@ember/render-modifiers/modifiers/did-update","msg-shared-modals/components/away-message-settings-modal-presenter"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var k,S,T,D,I,C,x,E
e.default=(0,l.setComponentTemplate)((0,o.createTemplateFactory)({id:"tVnuS7cK",block:'[[[1,"\\n"],[41,[30,0,["msgDataManager","currentAwayStatus"]],[[[1,"      "],[8,[32,0],[[24,"tabindex","0"],[24,0,"msg-away-message-reminder-banner-presenter"],[4,[32,4],[[28,[32,5],[[30,0,["handleStartTime"]],[30,0,["startTime"]]],null]],null],[4,[32,6],[[28,[32,5],[[30,0,["handleStartTime"]],[30,0,["startTime"]]],null]],null]],[["@message","@linkText","@onClick"],[[52,[30,0,["isActive"]],[28,[32,1],["i18n_away_message_on","msg-ui/components/away-message-reminder-banner-presenter"],null],[28,[32,1],["i18n_away_message_scheduled","msg-ui/components/away-message-reminder-banner-presenter"],null]],[28,[32,1],["i18n_update","msg-ui/components/away-message-reminder-banner-presenter"],null],[28,[32,2],["away_message_update",[28,[32,3],[[30,0],"awayMessageSettingsModalIsOpen",true],null]],null]]],null],[1,"\\n"],[1,"\\n"],[41,[30,0,["awayMessageSettingsModalIsOpen"]],[[[1,"        "],[8,[32,7],null,[["@closeModal","@returnFocusTo"],[[28,[32,3],[[30,0],"awayMessageSettingsModalIsOpen",false],null],".msg-away-message-reminder-banner-presenter .artdeco-inline-feedback__linktext"]],null],[1,"\\n"]],[]],null]],[]],null],[1,"  "]],[],false,["if"]]',moduleName:"msg-ui/components/away-message-reminder-banner-presenter.gjs",scope:()=>[h.default,f.default,b.default,v.default,y.default,_.fn,w.default,M.default],isStrictMode:!0}),(k=(0,u.inject)("date"),S=(0,u.inject)("msg-data@data-manager"),T=(E=new WeakMap,class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"dateService",D,this);(0,t.default)(this,"msgDataManager",I,this);(0,t.default)(this,"currentTime",C,this);(0,t.default)(this,"isActive",x,this)
E.set(this,{writable:!0,value:null})}handleStartTime(e){if((0,s.default)(this,E)){(0,p.cancelTask)(this,(0,s.default)(this,E));(0,n.default)(this,E,null)}const t=e-this.dateService.now()
if(t>0){this.isActive=!1
g.default.testing||(0,n.default)(this,E,(0,p.runTask)(this,(()=>{this.isDestroying||(this.isActive=!0)}),t))}else this.isActive=!0}get startTime(){return this.msgDataManager.currentAwayStatus.timeRange.start}}),D=(0,a.default)(T.prototype,"dateService",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,a.default)(T.prototype,"msgDataManager",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,a.default)(T.prototype,"currentTime",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,a.default)(T.prototype,"isActive",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,a.default)(T.prototype,"handleStartTime",[m.action],Object.getOwnPropertyDescriptor(T.prototype,"handleStartTime"),T.prototype),T))}))
define.alias("ember-semaphore/components/block-profile","msg-ui/components/block-profile")
define("msg-ui/components/blocked-conversation-footer-presenter",["exports","@ember/template-factory","@ember/component/template-only","@ember/component","ember-cli-pemberly-i18n/helpers/t"],(function(e,t,i,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.setComponentTemplate)((0,t.createTemplateFactory)({id:"d5M1/qjU",block:'[[[1,"\\n"],[1,"  "],[11,0],[24,0,"msg-s-conversation-block-user p4 t-12 t-black--light t-normal"],[17,1],[12],[1,"\\n    "],[10,2],[14,0,"t-12 t-black t-normal"],[12],[1,"\\n      "],[1,[28,[32,0],["i18n_blocked_recipient","msg-ui/components/blocked-conversation-footer-presenter"],null]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],["&attrs"],false,[]]',moduleName:"msg-ui/components/blocked-conversation-footer-presenter.gjs",scope:()=>[s.default],isStrictMode:!0}),(0,i.default)("blocked-conversation-footer-presenter","BlockedConversationFooterPresenter"))
e.default=a}))
define.alias("ember-semaphore/components/cleared-content-modal-v2","msg-ui/components/cleared-content-modal-v2")
define.alias("ember-semaphore/components/cleared-content-modal","msg-ui/components/cleared-content-modal")
define("msg-ui/components/compose-feature",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/template-factory","msg-ui/viewdata/sdk-compose-viewdata","@ember/object","@glimmer/component","msg-ui/components/premium-upsell-presenter","msg-typeahead/components/connections-typeahead-feature","ember-cli-pemberly-i18n/helpers/t","@ember/helper","@ember/component","msg-ui/components/thread-feature","msg-shared/utils/pem-config"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p
e.default=(0,c.setComponentTemplate)((0,i.createTemplateFactory)({id:"eZSCtuHM",block:'[[[1,"\\n"],[1,"\\n"],[41,[30,1],[[[1,"      "],[8,[32,0],null,[["@targetUrl"],[[30,2]]],null],[1,"\\n"]],[]],[[[1,"      "],[10,0],[14,0,"display-flex flex-column flex-grow-1"],[12],[1,"\\n"],[41,[30,0,["showConnectionsTypeahead"]],[[[1,"          "],[8,[32,1],[[24,0,"mbA"]],[["@trackingPrefix","@a11yText","@placeholder","@prefilledRecipients","@recipientsChanged","@openConversation","@composeToNonConnection","@setComposeContext","@includeCoworkerResults","@includeGroupConversationResults","@includeNonConnectionResults","@enableGroupMessageRequests","@showSuggestedRecipientTray","@recipientSuggestionEnabled","@hasForwardedContent","@hasInitialFocus","@actionOnTypeaheadEnter","@messageComposeFlowTrackingId","@pemMetadata"],[[52,[30,3],"overlay_",""],[28,[32,2],["i18n_new_compose_recipients_label","msg-ui/components/compose-feature"],null],[52,[30,4],[30,4],[28,[32,2],["i18n_type_name_or_multiple_names","msg-ui/components/compose-feature"],null]],[30,5],[30,6],[30,7],[30,8],[30,9],true,true,true,true,[30,0,["showSuggestedRecipientTray"]],[30,10],[52,[30,11],true,false],[30,12],[30,0,["focusOnComposeForm"]],[30,13],[32,3,["COMPOSE"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showNewConversationRename"]],[[[1,"          "],[10,0],[14,0,"msg-s-thread-actions-tray__item msg-s-thread-actions-tray__item--rename msg-s-thread-actions-tray__item--rename-is-for-new-conversation pv2 ph3"],[12],[1,"\\n            "],[10,"label"],[14,0,"mb1 mt0"],[15,"for",[28,[32,4],["msg-s-thread-actions-tray__rename-input-",[30,14]],null]],[12],[1,"\\n              "],[1,[28,[32,2],["i18n_group_name","msg-ui/components/compose-feature"],null]],[1,"\\n            "],[13],[1,"\\n            "],[8,[32,5],[[24,"maxlength","300"],[24,0,"msg-s-thread-actions-tray__rename-input t-20 t-black t-light"],[16,1,[28,[32,4],["msg-s-thread-actions-tray__rename-input-",[30,14]],null]],[16,"placeholder",[28,[32,2],["i18n_group_name_placeholder","msg-ui/components/compose-feature"],null]]],[["@type","@value"],["text",[30,15]]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[1,"        "],[8,[32,6],null,[["@bubbleId","@bubble","@openConversation","@noConvoHistoryInNewConvo","@loadingConvoHistory","@composeToNonConnection","@showRenameConversationForm","@toggleShowRenameConversation","@renamePageKey","@addParticipantsPageKey","@isOverlay","@gaiContext","@handleSuccessfulDiscardRequest","@isOriginalSize","@quickRepliesUseCase","@messageActions","@composeViewContext","@forwardedEvent","@invitationUrn","@hasPrefilledConversationName","@conversation","@conversationTrackedAsyncData","@messageRecipients","@messageContext","@isNew","@isInMailCompose","@msgAdapterOptions","@entryPointData","@jobPostingUrn","@customPlaceholderText","@prefilledAttachments","@prefilledMessage","@showOneToOneProfileCard","@subject","@update","@smpContent","@is1on1Compose","@isMessageRequestCompose","@didSubmitMessage","@dragAndDropTrackingKeys","@sendMessageControlName","@conversationDetailModuleKey","@fileUploadControlName","@imageUploadControlName","@imagePasteControlName","@composeModuleKey","@actionTrackingPrefix","@contextByRecipients","@contextWidth","@conversationName","@inmailReplyDeepLink","@onEnterGaiFlow","@focusInput","@trackingData"],[[30,14],[30,16],[30,7],[30,0,["currentNoConvoHistoryInNewConvo"]],[30,0,["loadingConvoHistory"]],[30,8],[30,17],[30,18],[30,19],[30,20],[30,3],[30,21],[30,22],[30,23],[30,24],[30,25],[30,26],[30,11],[30,27],[30,28],[30,29],[30,30],[30,5],[30,31],[30,32],[30,33],[30,34],[30,35],[30,36],[30,37],[30,38],[30,39],[30,0,["showOneToOneProfileCard"]],[30,40],[30,41],[30,42],[30,43],[30,0,["isMessageRequestCompose"]],[30,0,["didSubmitMessage"]],[30,44],[30,45],[30,46],[30,47],[30,48],[30,49],[30,50],[30,51],[30,52],[30,53],[30,15],[30,54],[30,55],[30,56],[30,57]]],null],[1,"\\n      "],[13],[1,"\\n"]],[]]],[1,"  "]],["@showPremiumUpsell","@targetUrl","@isOverlay","@messageBarText","@messageRecipients","@recipientsChanged","@openConversation","@composeToNonConnection","@setComposeContext","@recipientSuggestionEnabled","@forwardedEvent","@focusTypeahead","@messageComposeFlowTrackingId","@bubbleId","@conversationName","@bubble","@showRenameConversationForm","@toggleShowRenameConversation","@renamePageKey","@addParticipantsPageKey","@gaiContext","@handleSuccessfulDiscardRequest","@isOriginalSize","@quickRepliesUseCase","@messageActions","@composeViewContext","@invitationUrn","@hasPrefilledConversationName","@conversation","@conversationTrackedAsyncData","@messageContext","@isNew","@isInMailCompose","@msgAdapterOptions","@entryPointData","@jobPostingUrn","@customPlaceholderText","@prefilledAttachments","@prefilledMessage","@subject","@update","@smpContent","@is1on1Compose","@dragAndDropTrackingKeys","@sendMessageControlName","@conversationDetailModuleKey","@fileUploadControlName","@imageUploadControlName","@imagePasteControlName","@composeModuleKey","@actionTrackingPrefix","@contextByRecipients","@contextWidth","@inmailReplyDeepLink","@onEnterGaiFlow","@focusInput","@trackingData"],false,["if"]]',moduleName:"msg-ui/components/compose-feature.gjs",scope:()=>[r.default,o.default,l.default,m.VOYAGER_MESSAGING_DEGRADATION_METADATA,d.concat,c.Input,u.default],isStrictMode:!0}),(p=class extends a.default{get showNewConversationRename(){const{numOfRecipients:e,conversationId:t}=this.viewData
return this.args.isNew&&e>1&&!t}get showSuggestedRecipientTray(){return this.args.isNew&&this.hasEnoughRecipientsToTriggerSuggestionsTray}get hasEnoughRecipientsToTriggerSuggestionsTray(){const e=this.viewData.numOfRecipients??0
return!!(this.args.update&&e>=1)||e>1}get showConnectionsTypeahead(){var e
return this.args.isNew&&!this.args.invitationUrn&&!this.args.isInMailCompose&&!this.args.is1on1Compose&&(!this.isMessageRequestCompose||(null===(e=this.args.messageContext)||void 0===e?void 0:e.contextEntityUrn.includes("company")))}get isMessageRequestCompose(){var e
return"MESSAGE_REQUEST"===(null===(e=this.args.messageContext)||void 0===e?void 0:e.composeOptionType)}get showOneToOneProfileCard(){return!this.args.isInMailCompose&&!this.loadingConvoHistory&&1===this.viewData.numOfRecipients}get loadingConvoHistory(){var e
return null===(e=this.args.conversationTrackedAsyncData)||void 0===e?void 0:e.isPending}get currentNoConvoHistoryInNewConvo(){var e
const{conversation:t,conversationTrackedAsyncData:i,noConvoHistoryInNewConvo:n}=this.args
return void 0!==n?n:!!this.args.isNew&&(!!i&&(!(null===(e=this.args.messageRecipients)||void 0===e||!e.length)&&(i.isResolved&&!(null!=t&&t.messages.length))))}didSubmitMessage(e){var t,i
null===(t=(i=this.args).didSubmitMessage)||void 0===t||t.call(i,e)}focusOnComposeForm(){const{activeElement:e}=document
if(e.classList.contains("msg-connections-typeahead__search-field")){var t,i
null===(t=e.closest(".msg-convo-wrapper"))||void 0===t||null===(i=t.querySelector(".msg-form__contenteditable"))||void 0===i||i.focus()}}get viewData(){const{conversation:e,messageRecipients:t}=this.args
return new n.default({conversation:e,messageRecipients:t})}},(0,t.default)(p.prototype,"didSubmitMessage",[s.action],Object.getOwnPropertyDescriptor(p.prototype,"didSubmitMessage"),p.prototype),(0,t.default)(p.prototype,"focusOnComposeForm",[s.action],Object.getOwnPropertyDescriptor(p.prototype,"focusOnComposeForm"),p.prototype),p))}))
define.alias("helpcenter-in-product-ember/components/contextual-help","msg-ui/components/contextual-help")
define("msg-ui/components/conversation-entity-presenter",["exports","@ember/template-factory","@ember/component/template-only","@ember/component","presence/components/entity-with-presence-presenter","msg-facepile-grid/components/facepile-presenter"],(function(e,t,i,n,s,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,n.setComponentTemplate)((0,t.createTemplateFactory)({id:"TXyG7F28",block:'[[[1,"\\n"],[1,"  "],[10,0],[14,0,"pb1 pt1"],[12],[1,"\\n"],[41,[30,1],[[[41,[30,2,["hasPresenceInformation"]],[[[1,"        "],[8,[32,0],null,[["@viewData","@size"],[[30,2,["entityWithPresenceViewData"]],[30,3]]],null],[1,"\\n"]],[]],[[[1,"        "],[10,0],[14,0,"p1"],[12],[1,"\\n          "],[8,[32,1],[[16,0,[30,4]]],[["@viewData","@entitySize","@iconSize","@isInCoversationBubbleHeader","@isConversationAdMemberSender","@isConversationWithAdvertiser"],[[30,2,["facepileViewData"]],[30,3],[30,5],[30,6],[30,2,["isConversationAdMemberSender"]],[30,2,["isConversationWithAdvertiser"]]]],null],[1,"\\n        "],[13],[1,"\\n"]],[]]]],[]],null],[1,"  "],[13],[1,"\\n"]],["@hasParticipants","@viewData","@entitySize","@classNames","@iconSize","@isInCoversationBubbleHeader"],false,["if"]]',moduleName:"msg-ui/components/conversation-entity-presenter.gjs",scope:()=>[s.default,a.default],isStrictMode:!0}),(0,i.default)("conversation-entity-presenter","ConversationEntityPresenter"))
e.default=r}))
define("msg-ui/components/conversation-list-item-viewdata-i18n",["exports","@ember/template-factory","@ember/component/template-only","@ember/component"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.setComponentTemplate)((0,t.createTemplateFactory)({id:"nRyFQmJB",block:'[[[1,"\\n"],[1,"  "]],[],false,[]]',moduleName:"msg-ui/components/conversation-list-item-viewdata-i18n.gjs",isStrictMode:!0}),(0,i.default)("conversation-list-item-viewdata-i18n","ConversationListItemViewdataI18n"))
e.default=s}))
define.alias("ember-vector-images/components/custom-image","msg-ui/components/custom-image")
define("msg-ui/components/declined-message-request-footer-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/tracking","@ember/object","@glimmer/component","ember-cli-pemberly-i18n/helpers/t","artdeco-inline-feedback/components/artdeco-inline-feedback"],(function(e,t,i,n,s,a,r,o,l,d,c,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,p
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"EuwseI4O",block:'[[[1,"\\n"],[1,"    "],[11,0],[24,0,"msg-declined-message-request-accept-banner"],[17,1],[12],[1,"\\n      "],[10,0],[14,0,"msg-declined-message-request-accept-banner__description t-12 t-black--light t-normal"],[12],[1,"\\n\\n        "],[8,[32,0],null,[["@message","@linkText","@onClick","@type"],[[28,[32,1],["i18n_declined_message_request_description_v3","msg-ui/components/declined-message-request-footer-presenter"],[["senderName"],[[30,2]]]],[28,[32,1],["i18n_accept_request","msg-ui/components/declined-message-request-footer-presenter"],null],[30,0,["acceptDeclinedMessageRequest"]],"note"]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["&attrs","@senderName"],false,[]]',moduleName:"msg-ui/components/declined-message-request-footer-presenter.gjs",scope:()=>[u.default,c.default],isStrictMode:!0}),(m=class extends d.default{constructor(){super(...arguments);(0,t.default)(this,"isReplyPending",p,this)}acceptDeclinedMessageRequest(){this.isReplyPending=!0
this.args.acceptMessageRequest().finally((()=>{this.isDestroying||(this.isReplyPending=!1)}))}},p=(0,n.default)(m.prototype,"isReplyPending",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(m.prototype,"acceptDeclinedMessageRequest",[l.action],Object.getOwnPropertyDescriptor(m.prototype,"acceptDeclinedMessageRequest"),m.prototype),m))}))
define("msg-ui/components/delay-remove-from-dom",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","ember-lifeline","@glimmer/tracking","@ember/object","@glimmer/component","@ember/render-modifiers/modifiers/did-update","@ember/render-modifiers/modifiers/did-insert"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,h
e.default=(0,o.setComponentTemplate)((0,a.createTemplateFactory)({id:"AbX7gODu",block:'[[[1,"\\n    "],[11,0],[16,0,[29,[[52,[30,0,["shouldRender"]],[30,1]]]]],[4,[32,0],[[30,0,["onUpdate"]],[30,2]],null],[4,[32,1],[[30,0,["onUpdate"]]],null],[12],[1,"\\n"],[41,[30,0,["shouldRender"]],[[[1,"        "],[10,0],[15,0,[29,[[30,1]," ",[52,[30,2],"",[30,3]]]]],[12],[1,"\\n          "],[18,4,null],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],["@containerClass","@renderIf","@hideClass","&default"],false,["if","yield"]]',moduleName:"msg-ui/components/delay-remove-from-dom.gjs",scope:()=>[m.default,p.default],isStrictMode:!0}),(g=class extends u.default{constructor(){super(...arguments);(0,t.default)(this,"shouldRender",h,this)}onUpdate(){this.args.renderIf?this.shouldRender=!0:(0,l.runTask)(this,(()=>{this.shouldRender=!1}),this.args.delay)}},h=(0,n.default)(g.prototype,"shouldRender",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(g.prototype,"onUpdate",[c.action],Object.getOwnPropertyDescriptor(g.prototype,"onUpdate"),g.prototype),g))}))
define("msg-ui/components/dispatcher",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateFieldGet","@babel/runtime/helpers/esm/classPrivateFieldSet","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","data-layer/utils/profile/get-profile","@ember/destroyable","@glimmer/component","@ember/helper","ember-async-data","@ember/service","@glimmer/tracking","@ember/object","@ember/render-modifiers/modifiers/did-update","@ember/render-modifiers/modifiers/did-insert","msg-ui/utils/dispatcher-states/undecided","msg-ui/utils/dispatcher-states/replying","msg-ui/utils/dispatcher-states/composing","msg-ui/utils/dispatcher-states/auto-close","msg-shared/custom-types","global-utils/utils/url"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M,k,S,T){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var D,I,C,x,E,P,A,O,R,U,N,j,F,G,L,z,B,V,H,q,W,K,$,Y,Q,J,Z,X,ee,te,ie,ne,se,ae,re,oe,le,de,ce,ue,me,pe,ge,he,fe,be,ve,ye
function _e(e){return null!=e}e.default=(0,d.setComponentTemplate)((0,l.createTemplateFactory)({id:"isMesoiV",block:'[[[1,"\\n    "],[11,0],[24,0,"relative display-flex flex-column flex-grow-1"],[17,1],[4,[32,0],[[30,0,["resetCourierData"]]],null],[4,[32,1],[[30,0,["resetCourierData"]],[30,2]],null],[4,[32,1],[[30,0,["handleConversationTrackedAsyncDataUpdate"]],[30,0,["currentConversationTrackedAsyncData","state"]]],null],[12],[1,"\\n"],[41,[30,0,["currentState","loaded"]],[[[1,"        "],[18,8,[[28,[32,2],null,[["composeToNonConnection","composeViewContext","contextByRecipients","conversation","didSubmitMessage","entryPointData","forwardedEvent","gaiContext","loadingConvoHistory","messageContext","msgAdapterOptions","noConvoHistoryInNewConvo","openConversation","prefilledAttachments","prefilledMessage","recipientsChanged","conversationTrackedAsyncData","subject","trackingData","focusInput","focusTypeahead","focusHeader","inmailReplyDeepLink","smpContent","update","jobPostingUrn"],[[30,3],[30,0,["currentComposeViewContext"]],[30,4],[30,0,["currentConversation"]],[30,0,["didSubmitMessage"]],[30,5],[30,0,["currentForwardedEvent"]],[30,0,["gaiContext"]],[30,0,["loadingConvoHistory"]],[30,0,["currentMessageContext"]],[30,0,["currentMsgAdapterOptions"]],[30,0,["noConvoHistoryInNewConvo"]],[30,6],[30,0,["currentPrefilledAttachments"]],[30,0,["currentPrefilledMessage"]],[30,7],[30,0,["currentConversationTrackedAsyncData"]],[30,0,["currentSubject"]],[30,0,["currentTrackingData"]],[30,0,["focusInput"]],[30,0,["focusTypeahead"]],[30,0,["focusHeader"]],[30,0,["currentInmailReplyDeepLink"]],[30,0,["currentSmpContent"]],[30,0,["currentUpdate"]],[30,0,["currentJobPostingUrn"]]]]]]],[1,"\\n"]],[]],[[[1,"        "],[10,0],[12],[13],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n  "]],["&attrs","@conversation","@composeToNonConnection","@contextByRecipients","@entryPointData","@openConversation","@recipientsChanged","&default"],false,["if","yield"]]',moduleName:"msg-ui/components/dispatcher.gts",scope:()=>[y.default,v.default,p.hash],isStrictMode:!0}),(D=(0,h.inject)("authentication@authenticated-user"),I=(0,h.inject)("msg-data@data-manager"),C=(0,h.inject)("global-services@store-shim"),x=(0,h.inject)("lix"),E=(0,h.inject)("@linkedin/ember-restli-graphql@graphql"),P=(0,h.inject)("client-sensor-web@client-sensor"),A=(0,h.inject)("s-upsell@detached-upsell-modal"),O=(0,h.inject)("global-services@window"),R=(0,h.inject)("trust-intervention@intervention-service"),U=(be=new WeakMap,ve=new WeakSet,ye=new WeakSet,class extends m.default{constructor(e,n){super(e,n)
ye.add(this)
ve.add(this);(0,t.default)(this,"authenticatedUser",N,this);(0,t.default)(this,"msgDataManager",j,this);(0,t.default)(this,"storeShim",F,this);(0,t.default)(this,"lix",G,this);(0,t.default)(this,"graphql",L,this);(0,t.default)(this,"clientSensor",z,this);(0,t.default)(this,"detachedUpsellModal",B,this);(0,t.default)(this,"windowService",V,this);(0,t.default)(this,"interventionService",H,this)
be.set(this,{writable:!0,value:void 0});(0,i.default)(this,"previousState",void 0);(0,t.default)(this,"currentState",q,this);(0,t.default)(this,"composeViewContext",W,this);(0,t.default)(this,"messageContext",K,this);(0,t.default)(this,"contextByRecipients",$,this);(0,t.default)(this,"forwardedEvent",Y,this);(0,t.default)(this,"initialBody",Q,this);(0,t.default)(this,"initialSubject",J,this);(0,t.default)(this,"initialAttachments",Z,this);(0,t.default)(this,"smpContent",X,this);(0,t.default)(this,"update",ee,this);(0,t.default)(this,"messageComposeFlowTrackingId",te,this);(0,t.default)(this,"controlUrn",ie,this);(0,t.default)(this,"referringModuleKey",ne,this);(0,t.default)(this,"entryPageKey",se,this);(0,t.default)(this,"msgAdapterOptions",ae,this);(0,t.default)(this,"composeOptionType",re,this);(0,t.default)(this,"recipientUrns",oe,this);(0,t.default)(this,"loadingConvoHistory",le,this);(0,t.default)(this,"noConvoHistoryInNewConvo",de,this);(0,t.default)(this,"conversationTrackedAsyncData",ce,this);(0,t.default)(this,"draftMessage",ue,this);(0,t.default)(this,"draftSubject",me,this);(0,t.default)(this,"inmailReplyDeepLink",pe,this);(0,t.default)(this,"jobPostingUrn",ge,this);(0,t.default)(this,"templateText",he,this);(0,t.default)(this,"conversation",fe,this)
this.currentState=new _.default(this)
this.msgDataManager.isRefetchCourierDataOnRealtimeUpdateEnabled&&this.msgDataManager.onNewMessageInConversation((()=>{(0,u.isDestroying)(this)||(0,a.default)(this,ve,we).call(this)}))}get currentConversationTrackedAsyncData(){return this.args.isTYAHFlow?this.args.conversationTrackedAsyncData:this.conversationTrackedAsyncData}get dispatcherStateServices(){return(0,u.isDestroying)(this)?{}:{lix:this.lix,clientSensor:this.clientSensor,graphql:this.graphql,detachedUpsellModal:this.detachedUpsellModal,windowService:this.windowService,authenticatedUser:this.authenticatedUser,interventionService:this.interventionService}}get currentPrefilledMessage(){var e
if(null!==(e=this.initialBody)&&void 0!==e&&e.length){let e=this.initialBody
!e.endsWith(" ")&&(0,T.isUrl)(e)&&(e+=" ")
return e}if(this.msgDataManager.isServerSideDraftsEnabled){var t,i
if(!this.currentConversationTrackedAsyncData||null!==(t=this.currentConversationTrackedAsyncData)&&void 0!==t&&t.isPending)return""
if(null!==(i=this.draftMessage)&&void 0!==i&&i.length)return this.draftMessage}return this.templateText}get currentMsgAdapterOptions(){return this.args.msgAdapterOptions??this.msgAdapterOptions}get currentSubject(){if(this.msgDataManager.isServerSideDraftsEnabled){var e,t
if(!this.currentConversationTrackedAsyncData||null!==(e=this.currentConversationTrackedAsyncData)&&void 0!==e&&e.isPending)return""
if(null!==(t=this.draftSubject)&&void 0!==t&&t.length)return this.draftSubject}return this.args.subject??this.initialSubject}get currentPrefilledAttachments(){return this.args.prefilledAttachments??this.initialAttachments}get currentTrackingData(){var e,t,i
const{client:{trackingData:n={}}={}}=this.args.dispatcherEntryPointArgs,s=(0,S.isConversationDraft)(this.conversation)?this.conversation.recipients:this.conversation.participants
return{composeOptionType:this.composeOptionType,controlUrn:null==n?void 0:n.controlUrn,conversationUrn:this.conversation.entityUrn,entryPageKey:null==n?void 0:n.entryPageKey,hasNonEmptyDraftMessage:!(null===(e=this.currentConversationTrackedAsyncData)||void 0===e||null===(t=e.value)||void 0===t||null===(i=t.draftMessage)||void 0===i||!i.content.text),messageComposeFlowTrackingId:n.messageComposeFlowTrackingId,prefilledText:this.initialBody,recipientUrns:s??[],referringModuleKey:null==n?void 0:n.referringModuleKey}}get currentSmpContent(){return this.args.smpContent??this.smpContent}get currentUpdate(){return this.args.update??this.update}get currentInmailReplyDeepLink(){return this.args.inmailReplyDeepLink??this.inmailReplyDeepLink}get focusInput(){var e
return(null===(e=this.currentState.client.senderContext.ui)||void 0===e?void 0:e.focusInput)??this.args.focusInput}get focusTypeahead(){var e
return(null===(e=this.currentState.client.senderContext.ui)||void 0===e?void 0:e.focusTypeahead)??this.args.focusTypeahead}get focusHeader(){var e
return(null===(e=this.currentState.client.senderContext.ui)||void 0===e?void 0:e.focusHeader)??this.args.focusHeader}get currentComposeViewContext(){return this.args.composeViewContext??this.composeViewContext}get gaiContext(){var e,t,i
return null===(e=this.args.dispatcherEntryPointArgs.client)||void 0===e||null===(t=e.senderContext)||void 0===t||null===(i=t.ui)||void 0===i?void 0:i.gaiContext}get currentMessageContext(){return this.args.messageContext??this.messageContext}get currentForwardedEvent(){return this.args.forwardedEvent??this.forwardedEvent}get currentJobPostingUrn(){var e,t
return(null===(e=this.args.entryPointData)||void 0===e||null===(t=e.uiSenderContext)||void 0===t?void 0:t.jobPosting)??this.jobPostingUrn}get currentConversation(){return this.args.isTYAHFlow?this.args.conversation:this.conversation}updateDraftContent(){if(this.msgDataManager.isServerSideDraftsEnabled){var e
if(null!==(e=this.currentConversationTrackedAsyncData)&&void 0!==e&&e.isResolved){var t
const e=null===(t=this.args.conversation)||void 0===t?void 0:t.draftMessage
this.draftMessage=null==e?void 0:e.content.text
this.draftSubject=null==e?void 0:e.subject}}}handleConversationTrackedAsyncDataUpdate(){this.args.isTYAHFlow&&this.fetchPrefilledTemplateByRecipients()
this.updateDraftContent()}changeState(e){this.previousState=this.currentState
this.currentState=e}stateUpdated(){var e,t
const{senderContext:i}=this.currentState.client
if(this.currentState instanceof M.default||this.currentState instanceof w.default){var n,a,r,o,l,d,c,u,m,p,h,f,b,v,y,_,k
const{cVCArgs:e}=this.currentState.courierAPIArgs
this.composeOptionType=null==e?void 0:e.composeOptionType
if(e&&null!==(n=e.recipientUrns)&&void 0!==n&&n.length){var S
this.recipientUrns=e.recipientUrns
if(e.contextEntityUrn&&("HIGH_INTENT"===e.composeOptionType||"MESSAGE_REQUEST"===e.composeOptionType)){var T,D
this.messageContext={contextEntityUrn:e.contextEntityUrn,contextText:null===(T=this.currentState.courierAPIResults)||void 0===T||null===(D=T.cVCResult)||void 0===D?void 0:D.contextText,composeOptionType:e.composeOptionType}}this.composeViewContext=new g.TrackedAsyncData(Promise.resolve(null===(S=this.currentState.courierAPIResults)||void 0===S?void 0:S.cVCResult))}else{this.composeViewContext=new g.TrackedAsyncData(Promise.resolve(null))
this.messageContext=void 0
this.recipientUrns=[]}if(null!=i&&null!==(a=i.ui)&&void 0!==a&&a.conversationUrn){var I;(0,s.default)(this,be,null==i||null===(I=i.ui)||void 0===I?void 0:I.conversationUrn)}null!=i&&null!==(r=i.ui)&&void 0!==r&&r.inmailReplyDeepLink&&(this.inmailReplyDeepLink=i.ui.inmailReplyDeepLink)
this.noConvoHistoryInNewConvo=(null==i||null===(o=i.ui)||void 0===o?void 0:o.isNew)&&!(null!=i&&null!==(l=i.ui)&&void 0!==l&&null!==(d=l.conversation)&&void 0!==d&&d.entityUrn)
this.forwardedEvent=null==i||null===(c=i.ui)||void 0===c?void 0:c.forwardedEvent
this.initialBody=null==i||null===(u=i.ui)||void 0===u?void 0:u.initialBody
this.currentState instanceof w.default||this.forwardedEvent||this.initialBody||null!=i&&null!==(m=i.ui)&&void 0!==m&&null!==(p=m.conversation)&&void 0!==p&&p.draftMessage.content.text||1!==this.recipientUrns.length||this.msgDataManager.fetchMessagingPrefillByRecipients(this.recipientUrns).then((e=>{this.isDestroying||null!=e&&e.text&&(this.templateText=e.text)}))
this.initialSubject=null==i||null===(h=i.ui)||void 0===h?void 0:h.initialSubject
this.initialAttachments=null==i||null===(f=i.ui)||void 0===f?void 0:f.initialAttachments
this.smpContent=null==i||null===(b=i.ui)||void 0===b?void 0:b.smpContent
this.update=null==i||null===(v=i.ui)||void 0===v?void 0:v.update
this.jobPostingUrn=null==i||null===(y=i.ui)||void 0===y?void 0:y.jobPostingUrn
this.msgAdapterOptions=null==i||null===(_=i.payload)||void 0===_?void 0:_.msgAdapterOptions
this.conversation=null==i||null===(k=i.ui)||void 0===k?void 0:k.conversation}null===(e=(t=this.args).updateModel)||void 0===e||e.call(t,i)}async fetchComposeOptions(e){let t
try{t=await this.msgDataManager.fetchComposeOptions(e)
if((0,u.isDestroying)(this))return}catch(e){if((0,u.isDestroying)(this))throw e
t={composeOptionType:"CONNECTION_MESSAGE"}}return{composeOptionType:_e(t.composeOptionType)?t.composeOptionType:"CONNECTION_MESSAGE",composeNavigationContext:_e(t.composeNavigationContext)?t.composeNavigationContext:void 0}}async fetchConversationByUrn(e){this.loadingConvoHistory=!0
const t=this.msgDataManager.fetchConversationByUrn(e).finally((()=>{(0,u.isDestroying)(this)||(this.loadingConvoHistory=!1)})),i=await t
if(!(0,u.isDestroying)(this)){i&&(this.conversationTrackedAsyncData=new g.TrackedAsyncData(this.msgDataManager.setConversationAsActive(i).then((()=>{if(!this.isDestroying)return this.msgDataManager.getTrackedConversation(e)}))))
return i}}async createDraftConversation(){const e=await this.msgDataManager.getMailbox()
if(!(0,u.isDestroying)(this))return null==e?void 0:e.createDraftConversation([])}async fetchRecipients(e){if((0,u.isDestroying)(this))return
const t=await Promise.all((null==e?void 0:e.map((e=>{const t=this.msgDataManager.normalizeProfileUrn(e)
return(0,c.getProfileByEntityUrn)(this.storeShim,t,"com.linkedin.voyager.dash.deco.identity.profile.MiniProfile")})))??[])
return(0,u.isDestroying)(this)?void 0:t}fetchLatestConversationByRecipients(e){this.loadingConvoHistory=!0
if((0,u.isDestroying)(this))return
const t=this.msgDataManager.fetchLatestConversationByRecipients(e).finally((()=>{(0,u.isDestroying)(this)||(this.loadingConvoHistory=!1)}))
this.conversationTrackedAsyncData=new g.TrackedAsyncData(t)
return t}get isInterventionEnabled(){var e
return null===(e=this.lix)||void 0===e?void 0:e.getTreatmentIsEnabled("voyager.web.tsx-enable-intervention-page-for-messages")}async asyncFetchComposeViewContext(e){let t,{recipientUrns:i,contextEntityUrn:n,composeOptionType:s}=e
if(!(0,u.isDestroying)(this)){if(null!=i&&i.length||this.isInterventionEnabled)try{t=await this.msgDataManager.fetchComposeContext({recipients:i,composeOptionType:s,context:n})
if((0,u.isDestroying)(this))return}catch(e){if((0,u.isDestroying)(this))throw e
return t}return t}}fetchPrefilledTemplateByRecipients(){var e
if(!(0,u.isDestroying)(this)&&null!==(e=this.currentConversationTrackedAsyncData)&&void 0!==e&&e.isResolved){if(this.draftMessage)return
let e,a,r
if(this.args.dispatcherEntryPointArgs&&this.args.isOverlay&&!this.args.isTYAHFlow){var t
const{courierAPIArgs:{cVCArgs:i={}}={},client:{senderContext:{ui:n={}}={}}={}}=this.args.dispatcherEntryPointArgs
e=i.recipientUrns||[]
a=1===(null===(t=e)||void 0===t?void 0:t.length)
r=!!n.conversationUrn}else if((0,S.isConversationDraft)(this.args.conversation)){var i,n,s
e=null===(i=this.args.conversation)||void 0===i?void 0:i.recipients
a=1===(null===(n=e)||void 0===n?void 0:n.length)
r=!(null===(s=this.args.conversation)||void 0===s||!s.entityUrn)}e&&r||(this.templateText="")
!a||r||this.currentForwardedEvent||this.currentPrefilledMessage||this.msgDataManager.fetchMessagingPrefillByRecipients(e).then((e=>{this.isDestroying||e&&e.text&&(this.templateText=e.text)}))}}async resetCourierData(){var e
if(this.args.showPremiumUpsell&&this.args.targetUrl){this.currentState.loaded=!0
return}if(null!==(e=this.lix)&&void 0!==e&&e.getTreatmentIsEnabled("voyager.web.tsx-enable-intervention-page-for-messages")&&this.currentState instanceof k.default)return
if(this.args.isTYAHFlow){this.noConvoHistoryInNewConvo=void 0
return}if(this.args.conversationUrn&&this.args.conversationUrn===(0,n.default)(this,be))return
const{courierAPIArgs:{composeOptionArgs:t={}}={},courierAPIResults:{composeOptionResult:i={}}={},client:{senderContext:{ui:s={}}={}}={}}=this.args.dispatcherEntryPointArgs,a=t.recipientUrns??[],r=1===(null==a?void 0:a.length),o=!!i.composeNavigationContext,l=!(!s.conversationUrn&&!this.args.conversationUrn)
this.currentState=o||r&&!l?new _.default(this):l?new w.default(this):new M.default(this)
await this.currentState.fetchCourierData(this.args.dispatcherEntryPointArgs)}didSubmitMessage(e){if(!this.args.isOverlay&&this.currentState instanceof M.default){var t,i
null===(t=(i=this.args).didSubmitMessage)||void 0===t||t.call(i,e)}else this.currentState.didSubmitMessage(e)}}),N=(0,r.default)(U.prototype,"authenticatedUser",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,r.default)(U.prototype,"msgDataManager",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,r.default)(U.prototype,"storeShim",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,r.default)(U.prototype,"lix",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,r.default)(U.prototype,"graphql",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,r.default)(U.prototype,"clientSensor",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,r.default)(U.prototype,"detachedUpsellModal",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,r.default)(U.prototype,"windowService",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,r.default)(U.prototype,"interventionService",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,r.default)(U.prototype,"currentState",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,r.default)(U.prototype,"composeViewContext",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,r.default)(U.prototype,"messageContext",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,r.default)(U.prototype,"contextByRecipients",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,r.default)(U.prototype,"forwardedEvent",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,r.default)(U.prototype,"initialBody",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,r.default)(U.prototype,"initialSubject",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,r.default)(U.prototype,"initialAttachments",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,r.default)(U.prototype,"smpContent",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=(0,r.default)(U.prototype,"update",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,r.default)(U.prototype,"messageComposeFlowTrackingId",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,r.default)(U.prototype,"controlUrn",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,r.default)(U.prototype,"referringModuleKey",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,r.default)(U.prototype,"entryPageKey",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=(0,r.default)(U.prototype,"msgAdapterOptions",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=(0,r.default)(U.prototype,"composeOptionType",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=(0,r.default)(U.prototype,"recipientUrns",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,r.default)(U.prototype,"loadingConvoHistory",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=(0,r.default)(U.prototype,"noConvoHistoryInNewConvo",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=(0,r.default)(U.prototype,"conversationTrackedAsyncData",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=(0,r.default)(U.prototype,"draftMessage",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=(0,r.default)(U.prototype,"draftSubject",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=(0,r.default)(U.prototype,"inmailReplyDeepLink",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=(0,r.default)(U.prototype,"jobPostingUrn",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=(0,r.default)(U.prototype,"templateText",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fe=(0,r.default)(U.prototype,"conversation",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(U.prototype,"updateDraftContent",[b.action],Object.getOwnPropertyDescriptor(U.prototype,"updateDraftContent"),U.prototype),(0,r.default)(U.prototype,"handleConversationTrackedAsyncDataUpdate",[b.action],Object.getOwnPropertyDescriptor(U.prototype,"handleConversationTrackedAsyncDataUpdate"),U.prototype),(0,r.default)(U.prototype,"fetchPrefilledTemplateByRecipients",[b.action],Object.getOwnPropertyDescriptor(U.prototype,"fetchPrefilledTemplateByRecipients"),U.prototype),(0,r.default)(U.prototype,"resetCourierData",[b.action],Object.getOwnPropertyDescriptor(U.prototype,"resetCourierData"),U.prototype),(0,r.default)(U.prototype,"didSubmitMessage",[b.action],Object.getOwnPropertyDescriptor(U.prototype,"didSubmitMessage"),U.prototype),U))
function we(){this.currentState instanceof w.default&&this.currentState.refetchCourierData()}}))
define("msg-ui/components/draggable-object-target",["exports","ember-drag-drop/components/draggable-object-target"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=t.default}))
define("msg-ui/components/draggable-object",["exports","ember-drag-drop/components/draggable-object"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=t.default}))
define.alias("ember-cloud-filepicker/components/dropbox-file-picker","msg-ui/components/dropbox-file-picker")
define.alias("ember-semaphore/components/ember-semaphore","msg-ui/components/ember-semaphore")
define.alias("ember-wormhole/components/ember-wormhole","msg-ui/components/ember-wormhole")
define("msg-ui/components/empty-state-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/component","hue-web-icons/components/illustration","@ember/service","global-helpers/helpers/and","global-helpers/helpers/not","ember-cli-pemberly-i18n/helpers/t"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,h
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"5Viocovt",block:'[[[1,"\\n"],[1,"    "],[10,0],[14,0,"display-flex full-height flex-grow-1 pv5 ph4"],[12],[1,"\\n      "],[10,0],[14,0,"align-items-center display-flex flex-column mvA mhA"],[12],[1,"\\n        "],[8,[32,0],null,[["@name","@size"],[[30,0,["illustrationName"]],"small"]],null],[1,"\\n        "],[10,0],[14,0,"text-align-center pv3"],[12],[1,"\\n          "],[10,2],[14,0,"text-heading-xlarge"],[12],[1,"\\n            "],[1,[30,0,["messageText"]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"],[41,[28,[32,1],[[30,1],[28,[32,2],[[30,2]],null]],null],[[[1,"          "],[10,0],[14,0,"text-align-center"],[12],[1,"\\n            "],[10,2],[14,0,"t-14 t-black--light t-normal"],[12],[1,"\\n              "],[1,[28,[32,3],["i18n_search_your_messages","msg-ui/components/empty-state-presenter"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@isSearchMode","@searchResultTerms"],false,["if"]]',moduleName:"msg-ui/components/empty-state-presenter.gjs",scope:()=>[l.default,c.default,u.default,m.default],isStrictMode:!0}),(p=(0,d.inject)("i18n"),g=class e extends o.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",h,this)}get filterText(){return{ARCHIVED:"archived",STARRED:"starred",INMAIL:"InMail",BLOCKED:"spam",UNREAD:"unread",CONNECTIONS:"Connections",DRAFTS:"draft",JOB:"job"}[this.args.currentConvosFilter]||""}get searchTerm(){return this.args.currentSearchFilter||""}get illustrationName(){return this.args.isSearchMode&&!this.args.currentSearchFilter?"main-person":"empty-room"}get messageText(){return this.args.isSearchMode&&!this.args.currentSearchFilter?this.i18n.lookupTranslation(e,"i18n_search_inbox")():this.args.currentSearchFilter?this.i18n.lookupTranslation(e,"i18n_we_did_not_find_anything")({searchTerm:this.searchTerm}):this.args.currentConvosFilter?this.i18n.lookupTranslation(e,"i18n_no_messages")({filter:this.filterText}):this.i18n.lookupTranslation(e,"i18n_no_messages_found")()}},h=(0,n.default)(g.prototype,"i18n",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g))}))
define.alias("helpcenter-in-product-ember/components/external-link","msg-ui/components/external-link")
define.alias("helpcenter-in-product-ember/components/feature-launcher","msg-ui/components/feature-launcher")
define.alias("ember-cloud-filepicker/components/file-picker","msg-ui/components/file-picker")
define.alias("ember-finite-scroll/components/finite-scroll","msg-ui/components/finite-scroll")
define("msg-ui/components/focused-inbox-banner-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","msg-shared/utils/constants","@glimmer/tracking","@ember/service","@ember/object","@glimmer/component","@ember/destroyable","msg-ui/components/focused-inbox-opt-in-banner-presenter","@ember/helper","msg-ui/components/focused-inbox-opt-out-banner-presenter","msg-ui/components/focused-inbox-feedback-banner-presenter","msg-ui/components/focused-inbox-onboarding-presenter"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var v,y,_,w,M,k,S,T,D
const{FOCUSED_INBOX_ONBOARDING_LEGO:I,FOCUSED_INBOX_FEEDBACK_BANNER_LEGO:C,FOCUSED_INBOX_OPT_IN_BANNER_LEGO:x,FOCUSED_INBOX_EU_OPT_IN_BANNER_LEGO:E,FOCUSED_INBOX_POST_OPT_IN_BANNER_LEGO:P,MESSAGING_EU_MEMBER_LEGO:A}=o.default
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"n8qtS1IP",block:'[[[1,"\\n"],[41,[30,0,["showBanner"]],[[[41,[30,0,["showOptInBanner"]],[[[41,[30,1],[[[1,"          "],[8,[32,0],null,[["@legoTrackingToken","@isOverlay","@showLoader","@isEUMember"],[[30,0,["legoTrackingToken"]],[30,1],[30,0,["showLoader"]],[30,0,["isEUMember"]]]],null],[1,"\\n"]],[]],[[[1,"          "],[8,[32,0],null,[["@legoTrackingToken","@isOverlay","@showLoader","@isEUMember","@setInboxType"],[[30,0,["legoTrackingToken"]],[30,1],[30,0,["showLoader"]],[30,0,["isEUMember"]],[28,[32,1],[[30,2],"PRIMARY",true],null]]],null],[1,"\\n"]],[]]]],[]],[[[41,[30,0,["showOptOutBanner"]],[[[1,"        "],[8,[32,2],null,[["@legoTrackingToken","@isOverlay","@isEUMember"],[[30,0,["legoTrackingToken"]],[30,1],[30,0,["isEUMember"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["showFeedbackBanner"]],[[[1,"        "],[8,[32,3],null,[["@legoTrackingToken"],[[30,0,["legoTrackingToken"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["showOnboardingBanner"]],[[[1,"        "],[8,[32,4],null,[["@legoTrackingToken"],[[30,0,["legoTrackingToken"]]]],null],[1,"\\n      "]],[]],null]],[]]]],[]]]],[]]]],[]],null],[1,"  "]],["@isOverlay","@setInboxType"],false,["if"]]',moduleName:"msg-ui/components/focused-inbox-banner-presenter.gjs",scope:()=>[p.default,g.fn,h.default,f.default,b.default],isStrictMode:!0}),(v=(0,d.inject)("lego@resolver"),y=(0,d.inject)("lego@tracking"),_=(0,d.inject)("msg-data@data-manager"),w=class extends u.default{constructor(){super(...arguments);(0,t.default)(this,"legoResolver",M,this);(0,t.default)(this,"legoTracking",k,this);(0,t.default)(this,"msgDataManager",S,this);(0,t.default)(this,"showBanner",T,this);(0,t.default)(this,"legoTrackingToken",D,this)
this.legoResolver.fireLegoCall(A,!0,!0).then((e=>{if(!(0,m.isDestroying)(this)){e&&(this.isEUMember=!0)
this._fetchLegoWidget(x).then((()=>{(0,m.isDestroying)(this)||this.showOptInBanner||this._fetchLegoWidget(E).then((()=>{(0,m.isDestroying)(this)||this.showOptInBanner||this._fetchLegoWidget(P).then((()=>{(0,m.isDestroying)(this)||this.showOptOutBanner||this._fetchLegoWidget(C).then((()=>{(0,m.isDestroying)(this)||this.showFeedbackBanner||this._fetchLegoWidget(I)}))}))}))}))}}))}_fetchLegoWidget(e){return this.legoResolver.fireLegoCall(e,!0,!0).then((t=>{if(!this.isDestroying){if(t){this.legoTrackingToken=t.trackingToken
if(this.legoTrackingToken){this.showBanner=!0
e!==x&&e!==E||this.msgDataManager.enableFocusedInbox?e===P&&this.msgDataManager.enableFocusedInbox?this.showOptOutBanner=!0:e===C?this.showFeedbackBanner=!0:e===I&&(this.showOnboardingBanner=!0):this.showOptInBanner=!0}}return t}}))}showLoader(){this.args.showLoader()}dismiss(){this.legoTracking.sendLegoAction(this.legoTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS)
this.showBanner=!1}},M=(0,n.default)(w.prototype,"legoResolver",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,n.default)(w.prototype,"legoTracking",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,n.default)(w.prototype,"msgDataManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,n.default)(w.prototype,"showBanner",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=(0,n.default)(w.prototype,"legoTrackingToken",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,n.default)(w.prototype,"showLoader",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"showLoader"),w.prototype),(0,n.default)(w.prototype,"dismiss",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"dismiss"),w.prototype),w))}))
define("msg-ui/components/focused-inbox-feedback-banner-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@ember/object","@glimmer/tracking","@ember/service","@glimmer/component","ember-cli-pemberly-i18n/helpers/t","@ember/modifier","@ember/helper","artdeco-button/components/artdeco-button","hue-web-icons/components/illustration"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,b,v,y,_,w,M
const k=["premium","au","mpc","hvmu"]
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"br8y1YLw",block:'[[[1,"\\n"],[41,[30,0,["showBanner"]],[[[1,"      "],[10,0],[14,0,"msg-focused-inbox-feedback-banner"],[12],[1,"\\n        "],[10,"figure"],[12],[1,"\\n          "],[8,[32,0],null,[["@type","@name","@size"],["microspot","notepad","small"]],null],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"msg-focused-inbox-feedback-banner__text-container"],[12],[1,"\\n          "],[10,0],[14,0,"t-14 t-black t-bold"],[12],[1,"\\n            "],[1,[28,[32,1],["i18n_focused_inbox_feedback_banner_title","msg-ui/components/focused-inbox-feedback-banner-presenter"],null]],[1,"\\n          "],[13],[1,"\\n"],[1,"          "],[11,0],[24,0,"t-12"],[4,[32,2],["click",[30,0,["dismiss"]]],null],[12],[1,"\\n            "],[1,[28,[32,1],["i18n_focused_inbox_feedback_banner_content","msg-ui/components/focused-inbox-feedback-banner-presenter"],[["surveyLink"],[[28,[32,3],null,[["data-test-msg-ui-focused-inbox-feedback-banner-presenter__survey-link","target","href","rel"],["true","_blank",[30,0,["surveyLink"]],"noopener noreferrer"]]]]]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"msg-focused-inbox-feedback-banner__dismiss-button-container"],[12],[1,"\\n          "],[8,[32,4],[[16,"aria-label",[28,[32,1],["i18n_a11y_dismiss_banner","msg-ui/components/focused-inbox-feedback-banner-presenter"],null]],[4,[32,2],["click",[30,0,["dismiss"]]],null]],[["@color","@icon","@type","@circle","@size"],["muted","close","tertiary","true",1]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "]],[],false,["if"]]',moduleName:"msg-ui/components/focused-inbox-feedback-banner-presenter.gjs",scope:()=>[h.default,u.default,m.on,p.hash,g.default],isStrictMode:!0}),(f=(0,d.inject)("lego@resolver"),b=(0,d.inject)("lego@tracking"),v=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"legoResolver",y,this);(0,t.default)(this,"legoTracking",_,this);(0,t.default)(this,"showBanner",w,this);(0,t.default)(this,"surveyLink",M,this)
this._showWidget()}_showWidget(){const{legoTrackingToken:e}=this.args
if(e){this.showBanner=!0
k.forEach((e=>{null===this.surveyLink&&this._setSurveyLink(e)}))
this.legoTracking.sendLegoImpression(e,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}}dismiss(){const{legoTrackingToken:e}=this.args
this.legoTracking.sendLegoAction(e,this.legoTracking.LEGO_ACTION_DISMISS)
this.showBanner=!1}_setSurveyLink(e){const t=this._getLegoConfig(e)
return this.legoResolver.fireLegoCall(t,!0,!0).then((t=>{if(!this.isDestroying&&t){this.legoTrackingToken=t.trackingToken
this.legoTrackingToken&&(this.surveyLink=this._getSurveyLink(e))}}))}_getSurveyLink(e){switch(e){case"premium":return"https://linkedin.focusvision.com/survey/selfserve/bb5/22rops665?folioKey=665"
case"au":default:return"https://linkedin.focusvision.com/survey/selfserve/bb5/22rops646?folioKey=646&mt=1"
case"mpc":return"https://linkedin.focusvision.com/survey/selfserve/bb5/22rops646?folioKey=646&mt=2"
case"hvmu":return"https://linkedin.focusvision.com/survey/selfserve/bb5/22rops646?folioKey=646&mt=3"}}_getLegoConfig(e){return Object.freeze({pageKey:"message_inbox",slotId:"focused_inbox_feedback_banner",groupId:`${e}`,widgetId:`messaging:focused-inbox-feedback-banner-${e}`})}},y=(0,n.default)(v.prototype,"legoResolver",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,n.default)(v.prototype,"legoTracking",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,n.default)(v.prototype,"showBanner",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=(0,n.default)(v.prototype,"surveyLink",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,n.default)(v.prototype,"dismiss",[o.action],Object.getOwnPropertyDescriptor(v.prototype,"dismiss"),v.prototype),v))}))
define("msg-ui/components/focused-inbox-onboarding-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@glimmer/tracking","@ember/service","@ember/object","@glimmer/component","ember-cli-pemberly-i18n/helpers/t","artdeco-button/components/artdeco-button","@ember/modifier","hue-web-icons/components/illustration"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,b,v,y
e.default=(0,o.setComponentTemplate)((0,a.createTemplateFactory)({id:"hER/czta",block:'[[[1,"\\n"],[41,[30,0,["showBanner"]],[[[1,"      "],[10,0],[14,0,"msg-focused-inbox-onboarding-widget__banner"],[12],[1,"\\n        "],[10,"figure"],[12],[1,"\\n          "],[8,[32,0],null,[["@type","@name","@size"],["microspot","mail-open","small"]],null],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"msg-focused-inbox-onboarding-widget__text-container"],[12],[1,"\\n          "],[10,0],[14,0,"t-14 t-black t-bold"],[12],[1,"\\n            "],[1,[28,[32,1],["i18n_focused_inbox_early_access_title","msg-ui/components/focused-inbox-onboarding-presenter"],null]],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"t-12"],[12],[1,"\\n            "],[1,[28,[32,1],["i18n_focused_inbox_early_access_content","msg-ui/components/focused-inbox-onboarding-presenter"],null]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"msg-focused-inbox-onboarding-widget__dismiss-button-container"],[12],[1,"\\n          "],[8,[32,2],[[16,"aria-label",[28,[32,1],["i18n_a11y_dismiss_banner","msg-ui/components/focused-inbox-onboarding-presenter"],null]],[4,[32,3],["click",[30,0,["dismiss"]]],null]],[["@color","@icon","@type","@circle","@size"],["muted","close","tertiary","true",1]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "]],[],false,["if"]]',moduleName:"msg-ui/components/focused-inbox-onboarding-presenter.gjs",scope:()=>[h.default,m.default,p.default,g.on],isStrictMode:!0}),(f=(0,d.inject)("lego@tracking"),b=class extends u.default{constructor(){super(...arguments);(0,t.default)(this,"legoTracking",v,this);(0,t.default)(this,"showBanner",y,this)
this._showWidget()}_showWidget(){const{legoTrackingToken:e}=this.args
if(e){this.showBanner=!0
this.legoTracking.sendLegoImpression(e,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}}dismiss(){const{legoTrackingToken:e}=this.args
this.legoTracking.sendLegoAction(e,this.legoTracking.LEGO_ACTION_DISMISS)
this.showBanner=!1}},v=(0,n.default)(b.prototype,"legoTracking",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,n.default)(b.prototype,"showBanner",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(b.prototype,"dismiss",[c.action],Object.getOwnPropertyDescriptor(b.prototype,"dismiss"),b.prototype),b))}))
define("msg-ui/components/focused-inbox-opt-in-banner-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@glimmer/tracking","@ember/service","@ember/object","@glimmer/component","@ember/destroyable","ember-cli-pemberly-tracking/modifiers/track-render","ember-cli-pemberly-i18n/helpers/t","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction","@ember/modifier","hue-web-icons/components/illustration"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,_,w,M,k,S,T,D
e.default=(0,o.setComponentTemplate)((0,a.createTemplateFactory)({id:"s482wWNH",block:'[[[1,"\\n"],[41,[51,[30,0,["isFocusedInboxEnabled"]]],[[[41,[30,0,["showBanner"]],[[[1,"        "],[11,0],[24,0,"msg-focused-inbox-opt-in-banner__container"],[4,[32,0],null,[["pageKey","routeName","currentRoute"],[[52,[30,1],"flagship3_messaging_smart_feature_opt_in_banner","flagship3_messaging_focused_inbox_opt_in_banner"],[28,[32,1],[[53,"outletState"],"render.name"],null],[28,[32,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n          "],[10,"figure"],[12],[1,"\\n            "],[8,[32,2],null,[["@type","@name","@size"],["microspot","messages","small"]],null],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"msg-focused-inbox-opt-in-banner__text-container"],[12],[1,"\\n            "],[10,0],[15,0,[29,[[52,[30,2],"text-body-small-bold","text-body-medium-bold"]]]],[12],[1,"\\n              "],[1,[52,[30,1],[28,[32,3],["i18n_opt_in_banner_eu_title","msg-ui/components/focused-inbox-opt-in-banner-presenter"],null],[28,[32,3],["i18n_opt_in_banner_title","msg-ui/components/focused-inbox-opt-in-banner-presenter"],null]]],[1,"\\n            "],[13],[1,"\\n            "],[10,0],[15,0,[29,[[52,[30,2],"text-body-xsmall","text-body-small"]]]],[12],[1,"\\n              "],[1,[52,[30,1],[28,[32,3],["i18n_opt_in_banner_eu_content","msg-ui/components/focused-inbox-opt-in-banner-presenter"],null],[28,[32,3],["i18n_opt_in_banner_content","msg-ui/components/focused-inbox-opt-in-banner-presenter"],null]]],[1,"\\n            "],[13],[1,"\\n            "],[10,0],[14,0,"display-flex"],[12],[1,"\\n              "],[8,[32,4],[[16,"aria-label",[28,[32,3],["i18n_a11y_select_opt_in","msg-ui/components/focused-inbox-opt-in-banner-presenter"],null]],[4,[32,5],[[52,[30,1],"click_eu_opt_in_banner","click_opt_in_banner"]],null],[4,[32,6],["click",[30,0,["selectOptIn"]]],null]],[["@type","@size","@class","@text"],["primary",[52,[30,2],"1","2"],"mv2",[52,[30,1],[28,[32,3],["i18n_opt_in_banner_eu_turn_on_cta","msg-ui/components/focused-inbox-opt-in-banner-presenter"],null],[28,[32,3],["i18n_opt_in_banner_cta","msg-ui/components/focused-inbox-opt-in-banner-presenter"],null]]]],null],[1,"\\n"],[41,[30,1],[[[1,"                "],[8,[32,4],[[16,"aria-label",[28,[32,3],["i18n_a11y_dismiss_banner","msg-ui/components/focused-inbox-opt-in-banner-presenter"],null]],[4,[32,5],["dismiss_eu_opt_in_banner"],null],[4,[32,6],["click",[30,0,["dismiss"]]],null]],[["@type","@size","@class","@text","@color"],["secondary",[52,[30,2],"1","2"],"ml2 mv2",[28,[32,3],["i18n_opt_in_banner_eu_not_now_cta","msg-ui/components/focused-inbox-opt-in-banner-presenter"],null],"muted"]],null],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n          "],[13],[1,"\\n"],[41,[51,[30,1]],[[[1,"            "],[10,0],[14,0,"msg-focused-inbox-opt-in-banner__dismiss-button-container"],[12],[1,"\\n              "],[8,[32,4],[[16,"aria-label",[28,[32,3],["i18n_a11y_dismiss_banner","msg-ui/components/focused-inbox-opt-in-banner-presenter"],null]],[4,[32,5],["dismiss_opt_in_banner"],null],[4,[32,6],["click",[30,0,["dismiss"]]],null]],[["@color","@icon","@type","@circle","@size"],["muted","close","tertiary","true",1]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n"]],[]],null]],[]],null],[1,"  "]],["@isEUMember","@isOverlay"],false,["unless","if","-get-dynamic-var"]]',moduleName:"msg-ui/components/focused-inbox-opt-in-banner-presenter.gjs",scope:()=>[p.default,r.get,v.default,g.default,h.default,f.default,b.on],isStrictMode:!0}),(y=(0,d.inject)("lego@tracking"),_=(0,d.inject)("msg-shared@messaging-user-settings"),w=(0,d.inject)("msg-data@data-manager"),M=class extends u.default{get isFocusedInboxEnabled(){return this.msgDataManager.enableFocusedInbox}constructor(){super(...arguments);(0,t.default)(this,"legoTracking",k,this);(0,t.default)(this,"msgUserSettings",S,this);(0,t.default)(this,"msgDataManager",T,this);(0,t.default)(this,"showBanner",D,this)
this._showWidget()}_showWidget(){const{legoTrackingToken:e}=this.args
if(e){this.showBanner=!0
this.legoTracking.sendLegoImpression(e,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}}dismiss(){const{legoTrackingToken:e}=this.args
this.legoTracking.sendLegoAction(e,this.legoTracking.LEGO_ACTION_DISMISS)
this.showBanner=!1}async selectOptIn(){this.args.showLoader()
const{legoTrackingToken:e,isEUMember:t}=this.args
this.legoTracking.sendLegoAction(e,this.legoTracking.LEGO_ACTION_DISMISS)
this.showBanner=!1
await this.msgUserSettings.savefocusedInboxEnabled(!0)
if((0,m.isDestroying)(this))return
this.msgUserSettings.focusedInboxEnabled=!0
if(t){this.msgUserSettings.messagingSmartReplies=!0
this.msgUserSettings.enableMessageNudging=!0
await this.msgUserSettings.saveMessagingSmartReplies(!0)
if((0,m.isDestroying)(this))return
await this.msgUserSettings.saveEnableMessageNudging(!0)
if((0,m.isDestroying)(this))return}const{setInboxType:i,isOverlay:n}=this.args
n||this.msgUserSettings.onFocusedInboxOptOut(i(...arguments))}},k=(0,n.default)(M.prototype,"legoTracking",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,n.default)(M.prototype,"msgUserSettings",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,n.default)(M.prototype,"msgDataManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,n.default)(M.prototype,"showBanner",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(M.prototype,"dismiss",[c.action],Object.getOwnPropertyDescriptor(M.prototype,"dismiss"),M.prototype),(0,n.default)(M.prototype,"selectOptIn",[c.action],Object.getOwnPropertyDescriptor(M.prototype,"selectOptIn"),M.prototype),M))}))
define("msg-ui/components/focused-inbox-opt-out-banner-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@glimmer/tracking","@ember/service","@ember/object","@glimmer/component","ember-cli-pemberly-tracking/modifiers/track-render","ember-cli-pemberly-i18n/helpers/t","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction","@ember/modifier","hue-web-icons/components/illustration"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var v,y,_,w
e.default=(0,o.setComponentTemplate)((0,a.createTemplateFactory)({id:"IPcmZhcG",block:'[[[1,"\\n"],[41,[30,0,["showBanner"]],[[[1,"      "],[11,0],[24,0,"msg-focused-inbox-opt-out-banner__container"],[4,[32,0],null,[["pageKey","routeName","currentRoute"],[[52,[30,1],"flagship3_messaging_focused_inbox_eu_post_opt_in_banner","flagship3_messaging_focused_inbox_eu_post_opt_in_banner"],[28,[32,1],[[53,"outletState"],"render.name"],null],[28,[32,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n        "],[10,"figure"],[12],[1,"\\n          "],[8,[32,2],null,[["@type","@name","@size"],["microspot","mail-open","small"]],null],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"msg-focused-inbox-opt-out-banner__text-container"],[12],[1,"\\n          "],[10,0],[15,0,[29,[[52,[30,2],"text-body-small-bold","text-body-medium-bold"]]]],[12],[1,"\\n            "],[1,[52,[30,1],[28,[32,3],["i18n_opt_out_banner_eu_title","msg-ui/components/focused-inbox-opt-out-banner-presenter"],null],[28,[32,3],["i18n_opt_out_banner_title","msg-ui/components/focused-inbox-opt-out-banner-presenter"],null]]],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[15,0,[29,[[52,[30,2],"text-body-xsmall","text-body-small"]]]],[12],[1,"\\n            "],[1,[52,[30,1],[28,[32,3],["i18n_opt_out_banner_eu_content","msg-ui/components/focused-inbox-opt-out-banner-presenter"],null],[28,[32,3],["i18n_opt_out_banner_content","msg-ui/components/focused-inbox-opt-out-banner-presenter"],null]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"msg-focused-inbox-opt-out-banner__dismiss-button-container"],[12],[1,"\\n          "],[8,[32,4],[[16,"aria-label",[28,[32,3],["i18n_a11y_dismiss_banner","msg-ui/components/focused-inbox-opt-out-banner-presenter"],null]],[4,[32,5],[[52,[30,1],"dismiss_eu_post_opt_in_banner","dismiss_post_opt_in_banner"]],null],[4,[32,6],["click",[30,0,["dismiss"]]],null]],[["@color","@icon","@type","@circle","@size"],["muted","close","tertiary","true",1]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "]],["@isEUMember","@isOverlay"],false,["if","-get-dynamic-var"]]',moduleName:"msg-ui/components/focused-inbox-opt-out-banner-presenter.gjs",scope:()=>[m.default,r.get,b.default,p.default,g.default,h.default,f.on],isStrictMode:!0}),(v=(0,d.inject)("lego@tracking"),y=class extends u.default{constructor(){super(...arguments);(0,t.default)(this,"legoTracking",_,this);(0,t.default)(this,"showBanner",w,this)
this._showWidget()}_showWidget(){const{legoTrackingToken:e}=this.args
if(e){this.showBanner=!0
this.legoTracking.sendLegoImpression(e,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}}dismiss(){const{legoTrackingToken:e}=this.args
this.legoTracking.sendLegoAction(e,this.legoTracking.LEGO_ACTION_DISMISS)
this.showBanner=!1}},_=(0,n.default)(y.prototype,"legoTracking",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,n.default)(y.prototype,"showBanner",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(y.prototype,"dismiss",[c.action],Object.getOwnPropertyDescriptor(y.prototype,"dismiss"),y.prototype),y))}))
define("msg-ui/components/focused-inbox-secondary-preview-banner-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@ember/object","@glimmer/tracking","@ember/service","@glimmer/component","@ember/helper","@ember/modifier","ember-cli-pemberly-tracking/modifiers/track-interaction","image-view-model/components/entity-pile","text-view-model/components/text-view-model-v2","artdeco-button/components/artdeco-button","ember-cli-pemberly-i18n/helpers/t"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var v,y,_,w
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"DE57W3ga",block:'[[[1,"\\n"],[41,[30,0,["showBanner"]],[[[1,"      "],[10,0],[15,0,[28,[32,0],["msg-ui-focused-inbox-secondary-preview-banner-presenter__container-v2 ",[30,1]],null]],[12],[1,"\\n        "],[11,0],[24,"role","button"],[24,0,"msg-ui-focused-inbox-secondary-preview-banner-presenter__content"],[4,[32,1],["click",[30,2]],null],[4,[32,2],["secondary_preview_banner_click"],null],[12],[1,"\\n"],[41,[30,0,["images"]],[[[1,"            "],[8,[32,3],null,[["@image","@entitySize","@isStackedLayout","@maxEntities"],[[30,0,["images"]],1,true,3]],null],[1,"\\n"]],[]],null],[1,"          "],[10,0],[14,0,"msg-ui-focused-inbox-secondary-preview-banner-presenter__text-container"],[12],[1,"\\n            "],[10,0],[12],[1,"\\n              "],[8,[32,4],null,[["@tvm"],[[30,0,["title"]]]],null],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"display-flex align-item-center"],[12],[1,"\\n          "],[8,[32,5],[[24,0,"msg-ui-focused-inbox-secondary-preview-banner-presenter__dismiss-button"],[16,"aria-label",[28,[32,6],["i18n_a11y_dismiss_banner","msg-ui/components/focused-inbox-secondary-preview-banner-presenter"],null]],[4,[32,1],["click",[30,0,["dismiss"]]],null],[4,[32,2],[[52,[30,3],"overlay.dismiss_preview_banner","dismiss_preview_banner"]],null]],[["@color","@icon","@type","@circle","@size"],["muted","close","tertiary","true",1]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "]],["@classNames","@onClicked","@isOverlay"],false,["if"]]',moduleName:"msg-ui/components/focused-inbox-secondary-preview-banner-presenter.gjs",scope:()=>[u.concat,m.on,p.default,g.default,h.default,f.default,b.default],isStrictMode:!0}),(v=(0,d.inject)("msg-data@data-manager"),y=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",_,this);(0,t.default)(this,"isDismissed",w,this)}get showBanner(){return null!==this.bannerData&&!this.isDismissed}get bannerData(){return this.msgDataManager.inboxManager.secondaryPreviewBannerData}get title(){return this.bannerData?this.bannerData.title:null}get images(){return this.bannerData?this.bannerData.profileImages:null}get imageCount(){return this.images?this.images.length:0}dismiss(){this.msgDataManager.inboxManager.markSecondaryInboxAsSeen().then((()=>{this.isDestroying||(this.isDismissed=!0)}))}},_=(0,n.default)(y.prototype,"msgDataManager",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,n.default)(y.prototype,"isDismissed",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(y.prototype,"dismiss",[o.action],Object.getOwnPropertyDescriptor(y.prototype,"dismiss"),y.prototype),y))}))
define("msg-ui/components/focused-inbox-tabs-presenter",["exports","@ember/template-factory","@ember/helper","@ember/component/template-only","@ember/component","ember-cli-artdeco-tabs/components/artdeco-tabs","ember-cli-pemberly-tracking/modifiers/track-interaction","ember-cli-pemberly-i18n/helpers/t"],(function(e,t,i,n,s,a,r,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const l=(0,s.setComponentTemplate)((0,t.createTemplateFactory)({id:"5TnJ22jp",block:'[[[1,"\\n"],[1,"  "],[8,[32,0],[[24,0,"msg-focused-inbox-tabs"]],[["@selection","@align"],[[30,1],"centered"]],[["default"],[[[[1,"\\n    "],[8,[30,2,["tablist"]],null,null,[["default"],[[[[1,"\\n      "],[8,[30,3,["tab"]],[[4,[32,1],[[52,[30,5],"overlay.click_primary_tab","click_primary_tab"]],null]],[["@model","@on-select"],["PRIMARY",[30,4]]],[["default"],[[[[1,"\\n        "],[1,[28,[32,2],["i18n_inbox_tab_focused","msg-ui/components/focused-inbox-tabs-presenter"],null]],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[30,3,["tab"]],[[4,[32,1],[[52,[30,5],"overlay.click_secondary_tab","click_secondary_tab"]],null]],[["@model","@on-select"],["SECONDARY",[30,6]]],[["default"],[[[[1,"\\n        "],[1,[28,[32,2],["i18n_inbox_tab_other","msg-ui/components/focused-inbox-tabs-presenter"],null]],[1,"\\n"],[41,[30,7],[[[1,"          "],[10,1],[14,0,"msg-focused-inbox-tabs__badge"],[12],[13],[1,"\\n"]],[]],null],[1,"      "]],[]]]]],[1,"\\n    "]],[3]]]]],[1,"\\n  "]],[2]]]]],[1,"\\n"]],["@currentSelection","tabs","tablist","@onPrimaryTabSelect","@isOverlay","@onSecondaryTabSelect","@showSecondaryTabBadge"],false,["if"]]',moduleName:"msg-ui/components/focused-inbox-tabs-presenter.gjs",scope:()=>[a.default,r.default,o.default],isStrictMode:!0}),(0,n.default)("focused-inbox-tabs-presenter","FocusedInboxTabsPresenter"))
e.default=l}))
define("msg-ui/components/forwarded-message-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","msg-shared/utils/decorate-attributed-body","@ember/service","@glimmer/component","msg-ui/components/primitives/message-sender-entity-presenter","app-aware-link/components/app-aware-link","ember-cli-pemberly-tracking/modifiers/track-interaction","msg-cross-pillar/components/render-chunk","ember-cli-pemberly-i18n/helpers/t"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,b,v
e.default=(0,o.setComponentTemplate)((0,a.createTemplateFactory)({id:"zN4vtVRN",block:'[[[1,"\\n"],[1,"    "],[10,0],[14,0,"msg-s-forward-preview__forwarded-item mv2 t-14 t-black"],[12],[1,"\\n      "],[10,0],[14,0,"msg-s-forward-preview__forwarded-from"],[12],[1,"\\n        "],[8,[32,0],null,[["@viewData","@size","@profileRoute","@hasResharedContent"],[[30,1,["messageSenderEntityViewData"]],1,"profile.common.profile",[30,2]]],null],[1,"\\n        "],[10,0],[12],[1,"\\n"],[41,[30,1,["participantProfileUrl"]],[[[1,"            "],[8,[32,1],[[4,[32,2],["view_profile"],null]],[["@href"],[[30,1,["participantProfileUrl"]]]],[["default"],[[[[1,"\\n              "],[10,1],[14,0,"msg-s-message-group__profile-link msg-s-message-group__name t-14 t-black t-bold hoverable-link-text"],[12],[1,"\\n                "],[1,[30,1,["senderName"]]],[1,"\\n              "],[13],[1,"\\n            "]],[]]]]],[1,"\\n"]],[]],[[[1,"            "],[10,1],[14,0,"msg-s-message-group__profile-link msg-s-message-group__name t-14 t-black t-bold"],[12],[1,"\\n              "],[1,[30,1,["senderName"]]],[1,"\\n            "],[13],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n      "],[13],[1,"\\n"],[1,"      "],[10,2],[14,0,"msg-s-forward-preview__forwarded-body msg-form__reshared-content t-14 t-normal"],[12],[1,"\\n"],[41,[30,0,["decoratedContent"]],[[[1,"          "],[8,[32,3],null,[["@decoratedContent"],[[30,0,["decoratedContent"]]]],null],[1,"\\n"]],[]],[[[1,"          "],[1,[30,1,["messageBodyText"]]],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n      "],[10,0],[14,0,"msg-s-forward-preview__forwarded-details t-12 t-black--light t-normal"],[12],[1,"\\n        "],[10,1],[12],[1,"\\n          "],[1,[28,[32,4],["i18n_forwarded_label","msg-ui/components/forwarded-message-presenter"],null]],[1,"\\n        "],[13],[1,"\\n        "],[10,"time"],[14,0,"msg-s-message-group__timestamp white-space-nowrap"],[12],[1,"\\n          "],[1,[30,1,["timestampText"]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@viewData","@hasResharedContent"],false,["if"]]',moduleName:"msg-ui/components/forwarded-message-presenter.gjs",scope:()=>[u.default,m.default,p.default,g.default,h.default],isStrictMode:!0}),(f=(0,d.inject)("lix"),b=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"lix",v,this)}get linkifyOpts(){return{url:!0,email:!0,hashtag:!0,goLink:this.lix.getTreatmentIsEnabled("voyager.client.staff")}}get decoratedContent(){const{viewData:{messageBody:e}}=this.args
if(e){const{forwardedBody:t}=e,i=t&&t.text
return(0,l.default)(t,i,this.linkifyOpts)}}},v=(0,n.default)(b.prototype,"lix",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b))}))
define.alias("ember-semaphore/components/gen-ai-feedback","msg-ui/components/gen-ai-feedback")
define.alias("ember-cloud-filepicker/components/google-drive-file-picker","msg-ui/components/google-drive-file-picker")
define("msg-ui/components/harmful-content-detection-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","msg-shared/utils/constants","@ember/service","@ember/object","@glimmer/tracking","@glimmer/component","@ember/destroyable","ember-cli-pemberly-tracking/modifiers/track-render","artdeco-inline-feedback/components/artdeco-inline-feedback","ember-cli-pemberly-i18n/helpers/t","artdeco-button/components/artdeco-button","@ember/modifier"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,_,w,M,k,S,T,D,I,C,x
e.default=(0,o.setComponentTemplate)((0,a.createTemplateFactory)({id:"0UZNX7rl",block:'[[[1,"\\n"],[41,[30,0,["showBanner"]],[[[1,"      "],[11,0],[24,0,"display-flex p2 msg-harmful-content-detection-presenter__container"],[4,[32,0],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_harmful_banner",[28,[32,1],[[53,"outletState"],"render.name"],null],[28,[32,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n        "],[8,[32,2],[[24,0,"msg-harmful-content-detection-presenter__text"]],[["@type","@message","@linkText","@onClick"],["note",[28,[32,3],["i18n_msg_harmful_content_detection_presenter_title","msg-ui/components/harmful-content-detection-presenter"],null],[28,[32,3],["i18n_msg_harmful_content_detection_presenter_action_text","msg-ui/components/harmful-content-detection-presenter"],null],[30,0,["onPrimaryAction"]]]],null],[1,"\\n        "],[10,0],[12],[1,"\\n          "],[8,[32,4],[[4,[32,5],["click",[30,0,["onSecondaryAction"]]],null]],[["@icon","@type","@color","@size","@circle"],["close","tertiary","muted",1,true]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "]],[],false,["if","-get-dynamic-var"]]',moduleName:"msg-ui/components/harmful-content-detection-presenter.gjs",scope:()=>[g.default,r.get,h.default,f.default,b.default,v.on],isStrictMode:!0}),(y=(0,d.inject)("lego@resolver"),_=(0,d.inject)("lego@tracking"),w=(0,d.inject)("global-services@window"),M=(0,d.inject)("tracking"),k=class extends m.default{constructor(){super(...arguments);(0,t.default)(this,"legoResolver",S,this);(0,t.default)(this,"legoTracking",T,this);(0,t.default)(this,"windowService",D,this);(0,t.default)(this,"tracking",I,this);(0,t.default)(this,"showBanner",C,this);(0,t.default)(this,"legoTrackingToken",x,this)
this._fetchLegoWidget()}_fetchLegoWidget(){return this.legoResolver.fireLegoCall(l.HARMFUL_CONTENT_DETECTION_BANNER_LEGO,!0,!0).then((e=>{if(!(0,p.isDestroying)(this)&&e){this.legoTrackingToken=e.trackingToken
if(this.legoTrackingToken){this.showBanner=!0
this.legoTracking.sendLegoImpression(this.legoTrackingToken,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}return e}}))}onPrimaryAction(){this.tracking.fireInteractionEvent("click","SHORT_PRESS")
this.windowService.open("/mypreferences/d/settings/detect-harmful-content","_blank")
this.legoTrackingToken&&this.legoTracking.sendLegoAction(this.legoTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)
this.showBanner=!1}onSecondaryAction(){this.tracking.fireInteractionEvent("dismiss","SHORT_PRESS")
this.legoTrackingToken&&this.legoTracking.sendLegoAction(this.legoTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)
this.showBanner=!1}},S=(0,n.default)(k.prototype,"legoResolver",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,n.default)(k.prototype,"legoTracking",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,n.default)(k.prototype,"windowService",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,n.default)(k.prototype,"tracking",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,n.default)(k.prototype,"showBanner",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=(0,n.default)(k.prototype,"legoTrackingToken",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(k.prototype,"onPrimaryAction",[c.action],Object.getOwnPropertyDescriptor(k.prototype,"onPrimaryAction"),k.prototype),(0,n.default)(k.prototype,"onSecondaryAction",[c.action],Object.getOwnPropertyDescriptor(k.prototype,"onSecondaryAction"),k.prototype),k))}))
define.alias("helpcenter-in-product-ember/components/header","msg-ui/components/header")
define.alias("ember-highcharts/components/high-charts","msg-ui/components/high-charts")
define("msg-ui/components/i18n-shared",["exports","@ember/template-factory","@ember/component/template-only","@ember/component"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.setComponentTemplate)((0,t.createTemplateFactory)({id:"x5x0qEv0",block:'[[[1,"\\n"],[1,"\\n"],[1,"  "]],[],false,[]]',moduleName:"msg-ui/components/i18n-shared.gjs",isStrictMode:!0}),(0,i.default)("i18n-shared","I18nShared"))
e.default=s}))
define.alias("image-editor/components/image-editor-loader","msg-ui/components/image-editor-loader")
define.alias("image-editor/components/image-editor","msg-ui/components/image-editor")
define("msg-ui/components/inbox-header-with-message-request-presenter",["exports","@ember/template-factory","@ember/helper","@ember/component/template-only","@ember/component","ember-cli-pemberly-i18n/helpers/t","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction","@ember/modifier"],(function(e,t,i,n,s,a,r,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const d=(0,s.setComponentTemplate)((0,t.createTemplateFactory)({id:"ZkXB0WV6",block:'[[[1,"\\n"],[1,"  "],[11,0],[24,0,"msg-message-request-banner-v2"],[17,1],[12],[1,"\\n    "],[10,1],[14,0,"t-14 t-bold t-black display-flex align-items-center"],[12],[1,"\\n      "],[1,[28,[32,0],["i18n_inbox_label","msg-ui/components/inbox-header-with-message-request-presenter"],null]],[1,"\\n    "],[13],[1,"\\n\\n    "],[8,[32,1],[[4,[32,2],[[30,2]],null],[4,[32,3],["click",[30,3]],null]],[["@size","@type"],[1,"tertiary"]],[["default"],[[[[1,"\\n      "],[1,[30,4]],[1,"\\n    "]],[]]]]],[1,"\\n  "],[13],[1,"\\n"]],["&attrs","@trackingKey","@openMessageRequestConversationList","@headingText"],false,[]]',moduleName:"msg-ui/components/inbox-header-with-message-request-presenter.gjs",scope:()=>[a.default,r.default,o.default,l.on],isStrictMode:!0}),(0,n.default)("inbox-header-with-message-request-presenter","InboxHeaderWithMessageRequestPresenter"))
e.default=d}))
define.alias("helpcenter-in-product-ember/components/inline-svg-empty-room-dark","msg-ui/components/inline-svg-empty-room-dark")
define.alias("helpcenter-in-product-ember/components/inline-svg-empty-room","msg-ui/components/inline-svg-empty-room")
define("msg-ui/components/inmail-compose-form-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","msg-shared/utils/constants","@ember/object","@ember/utils","@ember/service","@glimmer/tracking","@glimmer/component","ember-cli-pemberly-tracking/modifiers/track-render","artdeco-entity-lockup/components/artdeco-entity-lockup","ember-cli-pemberly-tracking/components/shared/external-link","presence/components/entity-with-presence-presenter","msg-ui/components/msg-form/primitives/subject-line-input-presenter","msg-ui/components/msg-form/base-form-feature","ember-cli-pemberly-i18n/helpers/t","artdeco-inline-feedback/components/artdeco-inline-feedback","hue-web-icons/components/icon","text-view-model/components/text-view-model-v2","emoji-picker/components/emoji-hoverable","global-helpers/helpers/and","premium-gai/utils/constants"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M,k,S,T,D){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var I,C,x,E,P,A,O,R,U,N,j,F,G
const{INMAIL_MAX_CHARACTERS:L}=l.default
e.default=(0,o.setComponentTemplate)((0,a.createTemplateFactory)({id:"UWloFDza",block:'[[[1,"\\n"],[1,"    "],[11,0],[17,1],[24,0,"msg-inmail-compose-form-v2 relative flex-1 white display-flex flex-column"],[4,[32,0],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_compose_inmail",[28,[32,1],[[53,"outletState"],"render.name"],null],[28,[32,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n      "],[8,[32,2],null,[["@classNames","@size"],["msg-compose__inmail-compose-entity-lockup",2]],[["default"],[[[[1,"\\n        "],[8,[32,3],null,[["@href"],[[30,3,["recipientParticipantProfileUrl"]]]],[["default"],[[[[1,"\\n          "],[8,[30,2,["image"]],null,[["@type"],["circle"]],[["default"],[[[[1,"\\n            "],[8,[32,4],null,[["@class","@viewData","@size"],["mr2",[30,3,["entityWithPresenceViewData"]],2]],null],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[]]]]],[1,"\\n        "],[8,[30,2,["content"]],null,null,[["default"],[[[[1,"\\n          "],[8,[30,2,["title"]],null,[["@altLink"],[true]],[["default"],[[[[1,"\\n            "],[8,[32,3],null,[["@href","@class"],[[30,3,["recipientParticipantProfileUrl"]],"msg-compose__profile-link"]],[["default"],[[[[1,"\\n              "],[1,[30,3,["recipientName"]]],[1,"\\n            "]],[]]]]],[1,"\\n          "]],[]]]]],[1,"\\n          "],[8,[30,2,["subtitle"]],[[24,0,"msg-compose__occupation"]],null,[["default"],[[[[1,"\\n            "],[1,[30,3,["recipientOccupation"]]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[2]]]]],[1,"\\n\\n      "],[10,0],[14,0,"full-height"],[12],[1,"\\n        "],[8,[32,5],[[16,0,[29,[[52,[51,[30,4]],"msg-form--thread"]," full-height"]]]],[["@beforeUpload","@bubbleId","@canUndoGaiMessage","@composeIsFullyExpanded","@conversation","@conversationTrackedAsyncData","@gaiIntentsAsyncData","@gaiLoaderPromptText","@gaiLoaderRecipientName","@gaiMessageAsyncData","@gaiStreamingStatus","@gaiStreamingMessage","@gaiRefinementOptionsAsyncData","@gaiUpsellAsyncData","@generateGaiMessage","@isInMailCompose","@isOriginalSize","@isOverlay","@messageRecipients","@msgAdapterOptions","@onCancelGaiMessageGeneration","@onEnterGaiFlow","@onRefineGaiMessage","@onResetGaiFlow","@onUndoGaiMessage","@prefilledMessage","@refreshGaiMessage","@smpContent","@subject","@submitMessage","@update","@updateGeneratedSubject","@validateForm"],[[30,5],[30,6],[30,7],true,[30,8],[30,9],[30,10],[30,11],[30,12],[30,13],[30,14],[30,15],[30,16],[30,17],[30,18],true,[30,19],[30,4],[30,20],[30,21],[30,22],[30,23],[30,24],[30,25],[30,26],[30,27],[30,28],[30,29],[30,0,["subject"]],[30,30],[30,31],[30,0,["updateGeneratedSubject"]],[30,0,["validateForm"]]]],[["default"],[[[[1,"\\n"],[41,[30,3,["composeViewContext","isResolved"]],[[[41,[30,3,["composeViewContext","value"]],[[[41,[30,3,["footerText"]],[[[1,"                "],[10,"section"],[15,0,[29,["msg-inmail-credits-display pv2 ph4\\n                    ",[52,[30,35],"justify-flex-end"]]]],[12],[1,"\\n"],[41,[30,3,["footerIcon"]],[[[1,"                    "],[10,1],[14,0,"a11y-text"],[12],[1,"\\n                      "],[1,[28,[32,6],["i18n_a11y_premium_badge","msg-ui/components/inmail-compose-form-presenter"],null]],[1,"\\n                    "],[13],[1,"\\n                    "],[8,[32,7],null,[["@type","@size","@name","@a11yText"],["logo","xsmall","premium-badge-v2","Premium"]],null],[1,"\\n"]],[]],null],[1,"                  "],[10,2],[14,0,"t-12 t-black--light t-normal"],[12],[1,"\\n                    "],[8,[32,8],null,[["@tvm"],[[30,3,["footerText"]]]],null],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n"]],[]],null]],[]],[[[1,"              "],[8,[30,32,["inmailCreditsPresenter"]],null,[["@inmailCredits","@isOpenLink","@loading","@recipientOpenToFreeMessages"],[[30,0,["inmailCredits"]],[30,0,["isOpenLink"]],[30,0,["loadingInmailCreditsData"]],[30,21,["recipientOpenToFreeMessages"]]]],null],[1,"\\n"]],[]]]],[]],null],[1,"          "],[8,[32,9],null,[["@subject","@updateSubject","@isLoading"],[[30,0,["subject"]],[30,0,["updateSubject"]],[30,0,["isLoadingGaiMessage"]]]],null],[1,"\\n          "],[8,[30,32,["attachmentDragAndDropPresenter"]],null,[["@composeIsFullyExpanded","@trackingKeys"],[true,[30,36]]],null],[1,"\\n"],[41,[51,[30,34,["showMiniAttachmentPreviews"]]],[[[1,"            "],[8,[30,32,["uploadedAttachmentListPresenter"]],null,null,null],[1,"\\n"],[41,[30,34,["attachmentDropErrorType"]],[[[1,"              "],[8,[30,32,["attachmentDragAndDropErrorPresenter"]],null,null,null],[1,"\\n"]],[]],null]],[]],null],[1,"          "],[8,[30,32,["messageContentContainerPresenter"]],[[24,0,"msg-form__message-texteditor relative flex-grow-1 display-flex"]],[["@composeIsFullyExpanded","@labelText","@update","@smpContent","@recipientUrn"],[true,[28,[32,6],["i18n_write_message","msg-ui/components/inmail-compose-form-presenter"],null],[30,31],[30,29],[30,3,["recipientEntityUrn"]]]],null],[1,"\\n"],[41,[30,0,["messageExceedsLength"]],[[[1,"            "],[8,[32,10],null,[["@classNames","@type","@message"],["msg-form__compose-error p2","error",[28,[32,6],["i18n_inmail_too_long","msg-ui/components/inmail-compose-form-presenter"],[["messagelength"],[[30,0,["messageLength"]]]]]]],null],[1,"\\n"]],[]],null],[41,[51,[30,34,["isGaiModuleVisible"]]],[[[1,"            "],[10,"footer"],[14,0,"msg-form__footer"],[12],[1,"\\n              "],[10,0],[14,0,"msg-form__left-actions"],[12],[1,"\\n"],[41,[30,34,["shouldShowGaiPermEntryPoint"]],[[[1,"                  "],[8,[30,32,["gaiSmartAction"]],null,null,null],[1,"\\n"]],[]],null],[1,"              "],[13],[1,"\\n"],[41,[28,[32,11],[[30,0,["msgDataManager","hackweekMessengerReadInLixEnabled"]],[30,34,["currentInputText"]]],null],[[[1,"                "],[8,[30,32,["gaiSuggestions"]],null,null,null],[1,"\\n"]],[]],null],[1,"              "],[10,0],[14,0,"msg-form__right-actions display-flex"],[12],[1,"\\n                "],[8,[30,32,["uploadAttachmentPresenter"]],null,[["@buttonClasses","@iconName","@iconSize","@labelText","@acceptTypes","@trackingPrefix","@disabled"],["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0","image","2",[28,[32,6],["i18n_attach_image","msg-ui/components/inmail-compose-form-presenter"],null],[30,34,["supportedImageAttachmentTypes"]],"image",[30,0,["isLoadingGaiMessage"]]]],null],[1,"\\n                "],[8,[30,32,["uploadAttachmentPresenter"]],null,[["@buttonClasses","@iconName","@iconSize","@labelText","@acceptTypes","@trackingPrefix","@disabled"],["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0","attachment","2",[28,[32,6],["i18n_attach_file","msg-ui/components/inmail-compose-form-presenter"],null],[30,34,["supportedFileAttachmentTypes"]],"file",[30,0,["isLoadingGaiMessage"]]]],null],[1,"\\n                "],[8,[32,12],null,[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@hoverableOutletId","@size","@onHoverableHide","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses","@triggerData","@disabled"],[true,[30,33,["updateTextareaWithEmoji"]],[52,[30,4],"msg_overlay_emoji","msg_pillar_emoji"],[52,[30,4],"msg-overlay__emoji-hoverable-outlet"],"2",[30,33,["focusComposeAfterEmojiPickerClose"]],[52,[30,4],"overlay.close_emoji_picker","msg.close_emoji_picker"],[52,[30,4],"overlay.open_emoji_picker","msg.open_emoji_picker"],[52,[30,4],"overlay.select_emoji","msg.select_emoji"],[52,[30,4],"overlay.select_searched_emoji","msg.select_searched_emoji"],"msg-form__footer-action",[30,37],[30,0,["isLoadingGaiMessage"]]]],null],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"        "]],[32,33,34]]]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["&attrs","elements","@viewData","@isOverlay","@beforeUpload","@bubbleId","@canUndoGaiMessage","@conversation","@conversationTrackedAsyncData","@gaiIntentsAsyncData","@gaiLoaderPromptText","@gaiLoaderRecipientName","@gaiMessageAsyncData","@gaiStreamingStatus","@gaiStreamingMessage","@gaiRefinementOptionsAsyncData","@gaiUpsellAsyncData","@generateGaiMessage","@isOriginalSize","@messageRecipients","@msgAdapterOptions","@onCancelGaiMessageGeneration","@onEnterGaiFlow","@onRefineGaiMessage","@onResetGaiFlow","@onUndoGaiMessage","@prefilledMessage","@refreshGaiMessage","@smpContent","@submitMessage","@update","components","actions","props","@recipientOpenToFreeMessages","@dragAndDropTrackingKeys","@triggerData"],false,["-get-dynamic-var","unless","if"]]',moduleName:"msg-ui/components/inmail-compose-form-presenter.gjs",scope:()=>[g.default,r.get,h.default,f.default,b.default,y.default,_.default,M.default,k.default,v.default,w.default,T.default,S.default],isStrictMode:!0}),(I=(0,u.inject)("global-services@a11y-notification"),C=(0,u.inject)("msg-data@data-manager"),x=(0,u.inject)("i18n"),E=class extends p.default{get isLoadingGaiMessage(){var e
return(null===(e=this.args.gaiMessageAsyncData)||void 0===e?void 0:e.isPending)||this.args.gaiStreamingStatus===D.PREMIUM_GAI_STREAMING_STATUS.STREAMING}constructor(){var e
super(...arguments);(0,t.default)(this,"a11yNotification",P,this);(0,t.default)(this,"msgDataManager",A,this);(0,t.default)(this,"i18n",O,this);(0,t.default)(this,"_subject",R,this);(0,t.default)(this,"messageLength",U,this);(0,t.default)(this,"messageExceedsLength",N,this);(0,t.default)(this,"inmailCredits",j,this);(0,t.default)(this,"creditsDataLoaded",F,this);(0,t.default)(this,"loadingInmailCreditsData",G,this)
this.loadingInmailCreditsData=!(0,c.isPresent)(null===(e=this.args.viewData.composeViewContext)||void 0===e?void 0:e.value)
this.args.viewData.fetchInmailCredits.then((e=>{this.isDestroying||(this.inmailCredits=e)})).finally((()=>{this.isDestroying||(this.loadingInmailCreditsData=!1)}))}a11yNotify(e){const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(t([]))}updateGeneratedSubject(e){this._subject=e}get subject(){var e
return this._subject??(null===(e=this.args.subject)||void 0===e?void 0:e.string)??this.args.subject}updateSubject(e){this._subject=e.target.value}validateForm(e){const t=this.messageExceedsLength,i=e.length>L
if(i){t||this.a11yNotify("i18n_inmail_too_long")
this.messageLength=e.length}else t&&this.a11yNotify("i18n_inmail_not_too_long_any_more")
this.messageExceedsLength=i
return!(!(0,c.isPresent)(e)||i)}},P=(0,n.default)(E.prototype,"a11yNotification",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,n.default)(E.prototype,"msgDataManager",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,n.default)(E.prototype,"i18n",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,n.default)(E.prototype,"_subject",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,n.default)(E.prototype,"messageLength",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,n.default)(E.prototype,"messageExceedsLength",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,n.default)(E.prototype,"inmailCredits",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),F=(0,n.default)(E.prototype,"creditsDataLoaded",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=(0,n.default)(E.prototype,"loadingInmailCreditsData",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(E.prototype,"updateGeneratedSubject",[d.action],Object.getOwnPropertyDescriptor(E.prototype,"updateGeneratedSubject"),E.prototype),(0,n.default)(E.prototype,"updateSubject",[d.action],Object.getOwnPropertyDescriptor(E.prototype,"updateSubject"),E.prototype),(0,n.default)(E.prototype,"validateForm",[d.action],Object.getOwnPropertyDescriptor(E.prototype,"validateForm"),E.prototype),E))}))
define("msg-ui/components/inmail-quick-action-footer-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","msg-shared/utils/constants","@ember/object","@ember/debug","@glimmer/component","@glimmer/tracking","@ember/destroyable","artdeco-button/components/artdeco-button","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-tracking/modifiers/track-interaction","@ember/legacy-built-in-components","@ember/modifier","@ember/helper","global-helpers/helpers/or","global-helpers/helpers/eq","@ember/render-modifiers/modifiers/did-update"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var M,k,S,T
const{SMART_ACTIONS:D}=o.default
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"Xg34vNQZ",block:'[[[1,"\\n"],[1,"    "],[11,0],[24,0,"msg-inmail-reply-panel display-flex flex-column pt1 ph3"],[4,[32,0],[[30,0,["updateQuickReplyAttributes"]],[30,1]],null],[12],[1,"\\n      "],[10,0],[14,0,"msg-inmail-reply-panel__header display-flex justify-space-between align-items-center"],[12],[1,"\\n        "],[10,1],[14,0,"msg-inmail-reply-panel__signal-text t-14 t-black--medium"],[12],[1,[30,1,["text"]]],[13],[1,"\\n"],[44,[[28,[32,1],[[30,2],[30,3,["inmailType"]],"_inmail_",[30,0,["signal"]],"_back"],null]],[[[1,"          "],[8,[32,2],[[4,[32,4],["click",[30,5]],null],[4,[32,5],[[30,4]],null]],[["@class","@type","@color","@size","@circle","@icon","@text"],["msg-inmail-reply-panel__cancel-icon","tertiary","muted","1","true","close",[28,[32,3],["a11y_cancel_button","msg-ui/components/inmail-quick-action-footer-presenter"],null]]],null],[1,"\\n"]],[4]]],[1,"      "],[13],[1,"\\n      "],[10,"label"],[14,"for","msg-inmail-reply-panel"],[14,0,"visually-hidden"],[12],[1,"\\n        "],[1,[28,[32,3],["i18n_edit_reply","msg-ui/components/inmail-quick-action-footer-presenter"],null]],[1,"\\n      "],[13],[1,"\\n"],[44,[[28,[32,1],[[30,2],[30,3,["inmailType"]],"_inmail_",[30,0,["signal"]],"_edit"],null]],[[[1,"        "],[8,[32,6],[[24,0,"msg-inmail-reply-panel__message mb2"],[24,1,"msg-inmail-reply-panel"],[4,[32,4],["input",[30,0,["textInputHandler"]]],null],[4,[32,5],[[30,6]],null]],[["@value"],[[30,0,["messageBody"]]]],null],[1,""]],[6]]],[1,"      "],[10,0],[14,0,"msg-inmail-reply-panel__footer display-flex justify-flex-end pb2"],[12],[1,"\\n"],[41,[30,0,["isDecline"]],[[[44,[[28,[32,1],[[30,2],[30,3,["inmailType"]],"_inmail_no_send_no_message"],null]],[[[1,"            "],[8,[32,2],[[4,[32,4],["click",[30,0,["sendDeclineWithoutMessageBody"]]],null],[4,[32,5],[[30,7]],null]],[["@class","@type","@size","@disabled","@text","@aria-label"],["msg-inmail-reply-panel__decline-without-a-message-button mr2","secondary","1",[30,0,["sendInProgress"]],[28,[32,3],["i18n_decline_without_a_message_button_text","msg-ui/components/inmail-quick-action-footer-presenter"],null],[28,[32,3],["a11y_decline_without_a_message_button","msg-ui/components/inmail-quick-action-footer-presenter"],null]]],null],[1,"\\n"]],[7]]]],[]],null],[44,[[28,[32,1],[[30,2],[30,3,["inmailType"]],"_inmail_",[30,0,["signal"]],"_send"],null]],[[[1,"\\n          "],[8,[32,2],[[4,[32,4],["click",[28,[32,9],[[30,9],[30,0,["isDecline"]],[30,0,["messageBody"]]],null]],null],[4,[32,5],[[30,8]],null]],[["@class","@type","@size","@text","@aria-label","@disabled"],["msg-inmail-reply-panel__send-button","primary","1",[28,[32,3],["i18n_send_button_text","msg-ui/components/inmail-quick-action-footer-presenter"],null],[52,[30,0,["isAccept"]],[28,[32,3],["a11y_send_accept","msg-ui/components/inmail-quick-action-footer-presenter"],null],[28,[32,3],["a11y_send_decline","msg-ui/components/inmail-quick-action-footer-presenter"],null]],[28,[32,7],[[30,0,["sendInProgress"]],[28,[32,8],[[30,0,["messageBody"]],""],null]],null]]],null],[1,"\\n"]],[8]]],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@quickReply","@trackingPrefix","@viewData","controlName","@cancel","controlName","controlName","controlName","@send"],false,["let","if"]]',moduleName:"msg-ui/components/inmail-quick-action-footer-presenter.gjs",scope:()=>[w.default,v.concat,p.default,g.default,b.on,h.default,f.TextArea,y.default,_.default,v.fn],isStrictMode:!0}),(M=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"messageBody",k,this);(0,t.default)(this,"isAccept",S,this);(0,t.default)(this,"isDecline",T,this)
this.sendInProgress=!1}get signal(){return this.isAccept?"yes":"no"}updateQuickReplyAttributes(e,t){let[i]=t
this.messageBody=i.quickActionPrefillText
this.isAccept=i.replyType===D.INMAIL_ACCEPT
this.isDecline=i.replyType===D.INMAIL_DECLINE}sendDeclineWithoutMessageBody(){this.sendInProgress=!0
this.args.send(this.isDecline,"").finally((()=>{(0,m.isDestroying)(this)||(this.sendInProgress=!1)}))}textInputHandler(e){const t=e.target
t.style.height="auto"
t.scrollHeight!==t.clientHeight&&(t.style.height=`${t.scrollHeight+2}px`)}},k=(0,n.default)(M.prototype,"messageBody",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.quickReply.quickActionPrefillText}}),S=(0,n.default)(M.prototype,"isAccept",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.quickReply.replyType===D.INMAIL_ACCEPT}}),T=(0,n.default)(M.prototype,"isDecline",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.quickReply.replyType===D.INMAIL_DECLINE}}),(0,n.default)(M.prototype,"updateQuickReplyAttributes",[l.action],Object.getOwnPropertyDescriptor(M.prototype,"updateQuickReplyAttributes"),M.prototype),(0,n.default)(M.prototype,"sendDeclineWithoutMessageBody",[l.action],Object.getOwnPropertyDescriptor(M.prototype,"sendDeclineWithoutMessageBody"),M.prototype),M))}))
define.alias("helpcenter-in-product-ember/components/iph-widget-container","msg-ui/components/iph-widget-container")
define.alias("helpcenter-in-product-ember/components/iph-widget-trigger","msg-ui/components/iph-widget-trigger")
define.alias("helpcenter-in-product-ember/components/iph-widget","msg-ui/components/iph-widget")
define.alias("ember-finite-scroll/components/item-container","msg-ui/components/item-container")
define("msg-ui/components/kindness-reminder-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/tracking","rsvp","@ember/service","@ember/object","@glimmer/component","global-helpers/helpers/eq","artdeco-inline-feedback/components/artdeco-inline-feedback","artdeco-button/components/artdeco-button","@ember/modifier","@ember/helper","dummy-yield-wrapper/components/dummy-yield-wrapper","global-helpers/helpers/get-class-hash"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,_,w,M,k,S
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"j6y5UAE2",block:'[[[1,"\\n"],[41,[30,0,["widgetTrackingToken"]],[[[41,[28,[32,0],[[30,0,["widgetType"]],"simple"],null],[[[1,"        "],[11,0],[24,0,"msg-kindness-reminder-presenter--simple-layout"],[17,1],[12],[1,"\\n          "],[10,2],[14,0,"t-14 t-black--light"],[12],[1,"\\n            "],[1,[30,2]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[41,[28,[32,0],[[30,0,["widgetType"]],"basic"],null],[[[1,"        "],[11,0],[24,0,"msg-kindness-reminder-presenter--basic-layout"],[17,1],[12],[1,"\\n          "],[8,[32,1],null,[["@class","@message","@linkText","@onClick","@type"],["mr1",[30,2],[30,3],[30,0,["legoWidgetPrimaryAction"]],"note"]],null],[1,"\\n          "],[8,[32,2],[[4,[32,3],["click",[30,0,["legoWidgetDismissAction"]]],null]],[["@class","@icon","@type","@color","@size","@circle"],["msg-kindness-reminder-presenter--basic-cancel","close","tertiary","muted",[30,0,["dismissButtonSize"]],true]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[41,[28,[32,0],[[30,0,["widgetType"]],"full"],null],[[[1,"        "],[11,0],[24,0,"msg-kindness-reminder-presenter"],[17,1],[12],[1,"\\n"],[41,[48,[30,7]],[[[1,"            "],[10,0],[14,0,"msg-kindness-reminder-presenter__left-section-container"],[12],[1,"\\n              "],[18,7,[[28,[32,4],null,[["leftSection"],[[50,[32,5],0,null,null]]]]]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"          "],[10,0],[14,0,"pt3"],[12],[1,"\\n            "],[10,0],[14,0,"display-flex justify-space-between align-items-center"],[12],[1,"\\n              "],[10,1],[14,0,"t-14 t-bold t-black mb1"],[12],[1,"\\n                "],[1,[30,4]],[1,"\\n              "],[13],[1,"\\n\\n"],[41,[30,5],[[[1,"                "],[10,0],[14,0,"pr1"],[12],[1,"\\n                  "],[8,[32,2],[[4,[32,3],["click",[30,0,["legoWidgetDismissAction"]]],null]],[["@icon","@type","@color","@size","@circle"],["close","tertiary","muted",1,true]],null],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n\\n            "],[10,2],[15,0,[29,["t-12 t-black--light pr3 ",[28,[32,6],["pb4"],null]]]],[12],[1,"\\n              "],[1,[30,2]],[1,"\\n            "],[13],[1,"\\n\\n"],[41,[30,6],[[[1,"              "],[8,[32,2],[[4,[32,3],["click",[30,0,["legoWidgetPrimaryAction"]]],null]],[["@text","@type","@size"],[[30,3],"secondary",1]],null],[1,"\\n"]],[]],null],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n      "]],[]],null]],[]]]],[]]]],[]],null],[1,"  "]],["&attrs","@text","@primaryActionText","@title","@onDismiss","@onPrimary","&default"],false,["if","has-block","yield","component"]]',moduleName:"msg-ui/components/kindness-reminder-presenter.gjs",scope:()=>[m.default,p.default,g.default,h.on,f.hash,b.default,v.default],isStrictMode:!0}),(y=(0,d.inject)("lego@resolver"),_=(0,d.inject)("lego@tracking"),w=class extends u.default{get widgetType(){return this.args.type??"full"}get dismissButtonSize(){return this.args.dismissButtonSize??1}get impressOnRender(){return this.args.impressOnRender??!0}get sendPrimaryActionOnPrimaryActionClick(){return this.args.sendPrimaryActionOnPrimaryActionClick??!0}constructor(){super(...arguments);(0,t.default)(this,"legoResolver",M,this);(0,t.default)(this,"legoTracking",k,this);(0,t.default)(this,"widgetTrackingToken",S,this)
this._fetchLegoWidget()}_fetchLegoWidget(){return this.legoResolver.fireLegoCall(this.args.legoConfig,!0,!0).then((e=>{if(!this.isDestroying){if(!e){var t,i
null===(t=(i=this.args).onDismiss)||void 0===t||t.call(i)
return(0,l.reject)()}this.widgetTrackingToken=e.trackingToken
if(this.widgetTrackingToken){var n,s
this.impressOnRender&&this._sendLegoImpression()
null===(n=(s=this.args).onImpression)||void 0===n||n.call(s)
this.args.dismissOnImpression&&this.legoTracking.sendLegoAction(this.widgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)}else{var a,r
null===(a=(r=this.args).onDismiss)||void 0===a||a.call(r)}return e}}))}_sendLegoImpression(){this.legoTracking.sendLegoImpression(this.widgetTrackingToken,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}legoWidgetPrimaryAction(){var e,t
this.sendPrimaryActionOnPrimaryActionClick&&this.legoTracking.sendLegoAction(this.widgetTrackingToken,this.legoTracking.LEGO_ACTION_PRIMARY,1)
null===(e=(t=this.args).onPrimary)||void 0===e||e.call(t)}legoWidgetDismissAction(){var e,t
this.legoTracking.sendLegoAction(this.widgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)
null===(e=(t=this.args).onDismiss)||void 0===e||e.call(t)}},M=(0,n.default)(w.prototype,"legoResolver",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,n.default)(w.prototype,"legoTracking",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,n.default)(w.prototype,"widgetTrackingToken",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,n.default)(w.prototype,"legoWidgetPrimaryAction",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"legoWidgetPrimaryAction"),w.prototype),(0,n.default)(w.prototype,"legoWidgetDismissAction",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"legoWidgetDismissAction"),w.prototype),w))}))
define.alias("ember-vector-images/components/lazy-background","msg-ui/components/lazy-background")
define.alias("ember-vector-images/components/lazy-image","msg-ui/components/lazy-image")
define.alias("ember-line-clamp/components/line-clamp","msg-ui/components/line-clamp")
define.alias("artdeco-icons-web/components/linkedin-logo","msg-ui/components/linkedin-logo")
define("msg-ui/components/loader",["exports","@ember/template-factory","@ember/component","@ember/debug","@glimmer/component","artdeco-loader/components/artdeco-loader"],(function(e,t,i,n,s,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r={right:"flex-row",left:"flex-row-reverse",top:"flex-column-reverse",bottom:"flex-column"},o={top:"msg-loader--border-top",bottom:"msg-loader--border-bottom"}
class l extends s.default{constructor(){super(...arguments)
const{textPosition:e}=this.args}get positionClass(){return r[this.args.textPosition??"right"]}get borderClass(){return o[this.args.border]??""}get size(){return this.args.size??"default"}get type(){return this.args.type??"standard"}}e.default=l;(0,i.setComponentTemplate)((0,t.createTemplateFactory)({id:"4M+59fja",block:'[[[1,"\\n    "],[11,0],[16,0,[29,["msg-loader display-flex align-items-center\\n        ",[30,0,["positionClass"]],"\\n        ",[30,0,["borderClass"]]]]],[17,1],[12],[1,"\\n      "],[8,[32,0],null,[["@size","@type","@class"],[[30,0,["size"]],[30,0,["type"]],"mh2"]],null],[1,"\\n"],[41,[30,2],[[[1,"        "],[10,0],[14,0,"t-14 t-bold t-black--light"],[12],[1,"\\n          "],[1,[30,2]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],["&attrs","@text"],false,["if"]]',moduleName:"msg-ui/components/loader.gjs",scope:()=>[a.default],isStrictMode:!0}),l)}))
define.alias("ember-cloud-filepicker/components/local-file-input","msg-ui/components/local-file-input")
define.alias("ember-media-player/components/media-player","msg-ui/components/media-player")
define("msg-ui/components/message-list-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/tracking","msg-ui/viewdata/sdk-message-list-viewdata","global-utils/utils/is-browser","@glimmer/component","@ember/service","@ember/object","global-modifiers/modifiers/shim-link","ember-cli-pemberly-i18n/helpers/format-date","msg-ui/helpers/is-current-year","premium-shared/components/premium-branding-banner","ember-cli-pemberly-i18n/helpers/t","@ember/helper","msg-conversation-ui/components/recipient-detail-group-presenter","msg-conversation-ui/components/recipient-detail-one-to-one-presenter","artdeco-loader/components/artdeco-loader","global-helpers/helpers/and","global-helpers/helpers/eq","msg-ui/components/primitives/message-list-item-feature","ember-set-helper/helpers/set","msg-cross-pillar/components/typing-indicators-presenter","msg-ui/components/quick-replies-presenter","artdeco-modal/components/artdeco-modal","ember-vector-images/components/custom-image","@ember/render-modifiers/modifiers/did-insert","@ember/destroyable","feature-introduction/components/stateful-inline-callout","feature-introduction/utils/constants"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M,k,S,T,D,I,C,x,E,P,A,O){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var R,U,N,j,F,G,L,z,B,V,H,q,W,K,$,Y,Q,J,Z,X,ee,te,ie,ne,se
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"9CnU1e6H",block:'[[[1,"\\n"],[1,"\\n    "],[11,0],[16,0,[29,["msg-s-message-list",[52,[51,[30,0,["viewData","conversationFullyLoaded"]]]," msg-s-message-list--scroll-buffer"],"\\n        full-width scrollable"]]],[17,1],[4,[32,0],null,[["when","params"],[[30,0,["shouldLinkBeShimmed"]],[30,0,["linkShimmingParams"]]]]],[12],[1,"\\n      "],[10,"ul"],[14,0,"msg-s-message-list-content list-style-none full-width mbA"],[12],[1,"\\n        "],[10,"li"],[14,0,"msg-s-message-list__top-of-list"],[12],[13],[1,"\\n\\n"],[41,[30,0,["viewData","showSponsoredBanner"]],[[[1,"          "],[10,"li"],[14,0,"msg-s-message-list__top-banner"],[12],[1,"\\n            "],[10,0],[14,0,"display-flex"],[12],[1,"\\n              "],[10,2],[14,0,"t-12 t-black--light t-normal"],[12],[1,"\\n                "],[1,[30,0,["viewData","advertiserLabel"]]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n"],[41,[30,0,["viewData","oldestMessageCreatedAt"]],[[[1,"              "],[10,"time"],[14,0,"white-space-nowrap pl3 t-12 t-black--light t-normal"],[12],[1,"\\n                "],[1,[28,[32,1],[[30,0,["viewData","oldestMessageCreatedAt"]]],[["format","useTimeZone"],[[52,[28,[32,2],[[30,0,["viewData","oldestMessageCreatedAt"]]],null],"fmt_md_medium","fmt_mdy_medium"],true]]]],[1,"\\n              "],[13],[1,"\\n"]],[]],null],[1,"          "],[13],[1,"\\n"]],[]],[[[41,[30,0,["shouldDisplayPremiumBranding"]],[[[1,"          "],[8,[32,3],[[24,0,"msg-s-message-list__top-banner"]],[["@bannerText","@hovercardTitle","@hovercardDescription"],[[28,[32,4],["i18n_message_received_via_open_profile","msg-ui/components/message-list-feature"],null],[28,[32,4],["i18n_make_easier_contacted_opportunities","msg-ui/components/message-list-feature"],null],[28,[32,4],["i18n_received_message_open_profile_turned_on_contact_adjust_in_settings","msg-ui/components/message-list-feature"],[["linkInfo"],[[28,[32,5],null,[["target","href","rel","class"],["_blank","/mypreferences/d/who-can-message-me","noopener noreferrer","link"]]]]]]]],null],[1,"\\n        "]],[]],null]],[]]],[41,[30,0,["showProfileCard"]],[[[1,"          "],[10,"li"],[12],[1,"\\n"],[41,[30,2,["groupChat"]],[[[1,"              "],[8,[32,6],null,[["@viewData","@isOverlay","@addParticipantsPageKey","@actionTrackingPrefix","@toggleShowRenameConversation"],[[30,0,["viewData","recipientDetailGroupViewData"]],[30,3],[30,4],[30,0,["actionTrackingPrefix"]],[30,5]]],null],[1,"\\n"]],[]],[[[41,[30,0,["viewData","recipientDetailOneToOneViewData"]],[[[1,"              "],[8,[32,7],[[24,0,"ph3"]],[["@viewData","@inlineLayout","@contextText"],[[30,0,["viewData","recipientDetailOneToOneViewData"]],[30,6],[30,0,["viewData","contextText"]]]],null],[1,"\\n            "]],[]],null]],[]]],[1,"          "],[13],[1,"\\n"]],[]],null],[1,"        "],[10,"li"],[15,0,[29,["msg-s-message-list__loader",[52,[51,[30,7]]," hidden"]]]],[12],[1,"\\n          "],[8,[32,8],null,[["@size"],["small"]],null],[1,"\\n        "],[13],[1,"\\n"],[42,[28,[31,3],[[28,[31,3],[[30,0,["messages"]]],null]],null],"entityUrn",[[[1,"          "],[11,"li"],[16,0,[29,["msg-s-message-list__event clearfix\\n              ",[52,[28,[32,9],[[28,[32,10],[[30,9],[30,0,["lastMessageIndex"]]],null],[30,0,["isLastMessageStatusSending"]]],null],"msg-s-message-list__event--slide-in"],"\\n              ",[52,[28,[32,10],[[30,9],[30,0,["lastMessageIndex"]]],null],[28,[32,11],["msg-s-message-list__last-msg-",[30,10]],null]],"\\n              "]]],[4,[32,12],[[30,0,["handleUpdating"]]],null],[12],[1,"\\n            "],[8,[32,13],null,[["@message","@msgFormId","@messages","@index","@conversation","@showSeenReceipts","@messageIndexToBeAnchored","@indexOfLatestMessageSeenByNone","@blockedByNoResponse","@isOverlay","@moduleKey","@resendMessage","@showMessageEditForm","@shouldShowMessageEditForm","@showImageAttachment","@replyToMessage","@isOriginalSize"],[[30,8],[30,11],[30,0,["messages"]],[30,9],[30,2],[30,0,["viewData","showSeenReceipts"]],[30,12],[30,0,["viewData","indexOfLatestMessageSeenByNone"]],[30,13],[30,3],[52,[30,3],"overlay_compose"],[30,14],[30,15],[30,16],[28,[32,14],[[30,0],"currentlyViewedImageAttachment"],null],[30,17],[30,6]]],[["default"],[[[[1,"\\n              "],[18,29,[[30,18]]],[1,"\\n            "]],[18]]]]],[1,"\\n          "],[13],[1,"\\n"]],[8,9]],null],[1,"        "],[10,"li"],[15,0,[52,[52,[30,0,["viewData","showSeenReceipts"]],[30,0,["viewData","latestMessageHasSeenReceipts"]]],"msg-s-message-list__typing-indicator-container--with-seen-receipt","msg-s-message-list__typing-indicator-container--without-seen-receipt"]],[12],[1,"\\n"],[41,[30,0,["viewData","hasTypingParticipants"]],[[[1,"            "],[8,[32,15],null,[["@typingParticipants"],[[30,0,["viewData","typingIndicatorsViewData","typingParticipants"]]]],null],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n\\n"],[41,[30,19],[[[1,"          "],[10,"li"],[14,0,"msg-s-message-list__quick-replies-container mtA"],[12],[1,"\\n            "],[8,[32,16],null,[["@viewData","@quickReplies","@useCase","@trackingPrefix","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@openVirtualMeetingModal","@contextWidth","@isConversationWithPage"],[[30,0,["viewData","quickRepliesViewData"]],[30,20],[30,21],[30,0,["actionTrackingPrefix"]],[52,[30,3],"mebc_quick_reply","non_inmail_quick_reply"],[30,22],[30,23],[30,24],[30,25],[30,26],[30,27],[30,0,["viewData","isConversationWithCompany"]]]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[41,[30,0,["shouldShowJobsFif"]],[[[1,"          "],[10,"li"],[14,0,"msg-s-message-list__jobs-inline-callout"],[12],[1,"\\n            "],[8,[32,17],null,[["@widgetGroupId","@widgetId","@buttonText","@text","@title","@isRenderedByUserAction","@hasBorder"],[[30,0,["widgetGroupId"]],[30,0,["widgetId"]],[28,[32,4],["i18n_jobs_fif_button","msg-ui/components/message-list-feature"],null],[28,[32,4],["i18n_jobs_fif_text","msg-ui/components/message-list-feature"],null],[28,[32,4],["i18n_jobs_fif_title","msg-ui/components/message-list-feature"],null],false,false]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"        "],[10,"li"],[14,0,"msg-s-message-list__bottom-of-list"],[12],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n    "],[8,[32,18],null,[["@dismissModal","@isOpen","@modalClasses","@overlayClasses"],[[30,0,["dismissImageAttachmentViewer"]],[30,0,["currentlyViewedImageAttachment"]],"msg-modal-preview","display-flex flex-column justify-center"]],[["default"],[[[[1,"\\n      "],[8,[30,28,["artdeco-modal-header"]],null,[["@classNames"],["visually-hidden"]],[["default"],[[[[1,"\\n        "],[10,"h3"],[14,1,"msg-modal-preview__label"],[12],[1,[28,[32,4],["i18n_img_alt","msg-ui/components/message-list-feature"],null]],[13],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[30,28,["artdeco-modal-content"]],null,[["@classNames"],["msg-modal-preview__content"]],[["default"],[[[[1,"\\n        "],[8,[32,19],null,[["@alt","@classNames","@ghostType","@image","@desiredWidth"],[[28,[32,4],["i18n_img_alt","msg-ui/components/message-list-feature"],null],"msg-modal-preview__image","image",[30,0,["currentlyViewedImageAttachment"]],10000]],null],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[28]]]]],[1,"\\n  "]],["&attrs","@conversation","@isOverlay","@addParticipantsPageKey","@toggleShowRenameConversation","@isOriginalSize","@isLoading","message","index","@msgListIdToScroll","@msgFormId","@messageIndexToBeAnchored","@blockedByNoResponse","@resendMessage","@showMessageEditForm","@shouldShowMessageEditForm","@replyToMessage","listItemViewData","@showQuickReplies","@quickRepliesList","@quickRepliesUseCase","@sendQuickReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@openVirtualMeetingModal","@contextWidth","modal","&default"],false,["unless","if","each","-track-array","yield"]]',moduleName:"msg-ui/components/message-list-feature.gjs",scope:()=>[p.default,g.default,h.default,f.default,b.default,v.hash,y.default,_.default,w.default,M.default,k.default,v.concat,E.default,S.default,T.default,D.default,I.default,A.default,C.default,x.default],isStrictMode:!0}),(R=(0,u.inject)("global-services@a11y-notification"),U=(0,u.inject)("i18n"),N=(0,u.inject)("authentication@authenticated-user"),j=(0,u.inject)("tracking"),F=(0,u.inject)("msg-data@data-manager"),G=(0,u.inject)("feature-introduction@fif-client-manager"),L=(0,u.inject)("formatter"),z=(0,u.inject)("invitation-platform@invitation-platform"),B=(0,u.inject)("profile-services@identity-store"),V=(0,u.inject)("presence@presence-api-dash"),H=class extends c.default{get linkShimmingParams(){return{trk:"flagship-messaging-web",messageThreadUrn:this.viewData.conversationBackendUrn}}get showProfileCard(){return!!this.viewData.isSponsoredConversation||!this.args.hasMoreMessagesToLoad&&!this.viewData.isSponsoredConversation}get shouldLinkBeShimmed(){return!this.viewData.isSponsoredConversation}get shouldShowJobsFif(){return this.hasFif&&this.msgDataManager.isJobsFilterEnabled&&!this.viewData.isSponsoredConversation&&!this.viewData.isConversationWithCompany}async fetchFifData(){if(this.args.isOverlay)return
const e=await this.fifClientManager.shouldShowFeatureIntroduction(this.widgetGroupId,!1);(0,P.isDestroying)(this)||(this.hasFif=e)}willUpdate(){this._checkTypingParticipants()}constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",q,this);(0,t.default)(this,"i18n",W,this);(0,t.default)(this,"authenticatedUser",K,this);(0,t.default)(this,"tracking",$,this);(0,t.default)(this,"msgDataManager",Y,this);(0,t.default)(this,"fifClientManager",Q,this);(0,t.default)(this,"formatter",J,this);(0,t.default)(this,"invitationPlatform",Z,this);(0,t.default)(this,"identityStore",X,this);(0,t.default)(this,"presenceAPI",ee,this);(0,t.default)(this,"currentlyViewedImageAttachment",te,this);(0,t.default)(this,"widgetGroupId",ie,this);(0,t.default)(this,"widgetId",ne,this);(0,t.default)(this,"hasFif",se,this);(0,i.default)(this,"_lastTypingParticipants",0)
this.fetchFifData()}_checkTypingParticipants(){var e,t,i
if("INMAIL"===!(null!==(e=this.args)&&void 0!==e&&null!==(t=e.conversation)&&void 0!==t&&null!==(i=t.latestEvent)&&void 0!==i&&i.subtype)){var n,s
const e=this._lastTypingParticipants??0,t=null===(n=this.args.conversation)||void 0===n||null===(s=n.typingParticipants)||void 0===s?void 0:s.length
if(e!==t){this._announceTypingIndicators(t)
this._lastTypingParticipants=t}}}_a11yNotify(e,t){const i=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(i([t]))}_announceTypingIndicators(e){if(1===e){var t,i,n,s
this._a11yNotify("i18n_a11y_user_is_typing",{user:null===(t=this.args)||void 0===t||null===(i=t.conversation)||void 0===i||null===(n=i.typingParticipants)||void 0===n||null===(s=n[0])||void 0===s?void 0:s.name})}else this._a11yNotify("i18n_a11y_users_are_typing",{usercount:e})}onEmojiHoverableShow(e){if(null!=e&&e.currentTrigger){const i=e.currentTrigger.closest(".msg-s-message-list")
null==(t=i)||t.classList.add("msg-s-message-list--inactive")
const n=this.args.isOverlay?"flagship3_messaging_overlay_reaction_picker":"flagship3_messaging_reaction_picker"
this.tracking.firePageViewEvent(n)}var t}handleUpdating(){var e,t
null===(e=(t=this.args).closeHumanHandoffConsent)||void 0===e||e.call(t)}onEmojiHoverableHide(){d.default&&document.querySelectorAll(".msg-s-message-list--inactive").forEach((e=>{e.classList.remove("msg-s-message-list--inactive")}))}dismissImageAttachmentViewer(){this.currentlyViewedImageAttachment=null
this.tracking.fireInteractionEvent("close_photo_viewer")}get messages(){return this.args.conversation.messages.map((e=>e))}get isLastMessageStatusSending(){return"Sending"===this.messages[this.lastMessageIndex].status}get lastMessageIndex(){return this.messages.length-1}get shouldDisplayPremiumBranding(){var e
return null===(e=this.args.conversation.hostConversationActions)||void 0===e?void 0:e.includes("SHOULD_DISPLAY_PREMIUM_BRANDING")}get viewData(){const{conversation:e}=this.args
return new l.default({conversation:e,mailboxParticipants:this.msgDataManager.mailboxParticipants,msgDataManager:this.msgDataManager,formatter:this.formatter,i18n:this.i18n,authenticatedUser:this.authenticatedUser,identityStore:this.identityStore,invitationPlatform:this.invitationPlatform,presenceAPI:this.presenceAPI})}},q=(0,n.default)(H.prototype,"a11yNotification",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,n.default)(H.prototype,"i18n",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,n.default)(H.prototype,"authenticatedUser",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,n.default)(H.prototype,"tracking",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,n.default)(H.prototype,"msgDataManager",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,n.default)(H.prototype,"fifClientManager",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,n.default)(H.prototype,"formatter",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,n.default)(H.prototype,"invitationPlatform",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,n.default)(H.prototype,"identityStore",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=(0,n.default)(H.prototype,"presenceAPI",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,n.default)(H.prototype,"currentlyViewedImageAttachment",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,n.default)(H.prototype,"widgetGroupId",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.MESSAGING_MARK_AS_JOB_GROUP_ID}}),ne=(0,n.default)(H.prototype,"widgetId",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.MESSAGING_MARK_AS_JOB_WIDGET_1_ID}}),se=(0,n.default)(H.prototype,"hasFif",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(H.prototype,"onEmojiHoverableShow",[m.action],Object.getOwnPropertyDescriptor(H.prototype,"onEmojiHoverableShow"),H.prototype),(0,n.default)(H.prototype,"handleUpdating",[m.action],Object.getOwnPropertyDescriptor(H.prototype,"handleUpdating"),H.prototype),(0,n.default)(H.prototype,"onEmojiHoverableHide",[m.action],Object.getOwnPropertyDescriptor(H.prototype,"onEmojiHoverableHide"),H.prototype),(0,n.default)(H.prototype,"dismissImageAttachmentViewer",[m.action],Object.getOwnPropertyDescriptor(H.prototype,"dismissImageAttachmentViewer"),H.prototype),H))}))
define("msg-ui/components/message-list-scroller",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","msg-data/utils/sdk-view-data-helpers","msg-ui/utils/msg-anchoring-helpers","ember-batcher","global-utils/utils/is-browser","global-utils/utils/intersection-observer","global-utils/utils/scroller","msg-shared/utils/constants","rsvp","@ember/service","@glimmer/tracking","@ember/object","@glimmer/component","@ember/render-modifiers/modifiers/did-insert","@ember/render-modifiers/modifiers/did-update","@ember/helper","@ember/object/internals"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var k,S,T,D,I,C,x,E,P,A,O,R,U,N,j,F
const{MESSAGE_LIST_SCROLLBLOCK_THRESHOLD:G}=p.default
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"Q0j7CWI+",block:'[[[1,"\\n    "],[11,0],[16,0,[29,["msg-s-message-list-container relative display-flex mbA\\n        ",[52,[51,[30,0,["shouldScrollFromTop"]]],"msg-s-message-list-container--column-reversed"],"\\n        ",[52,[30,1],"message-list-container--collapsed"]]]],[4,[32,0],[[30,0,["handleContainerInsert"]]],null],[4,[32,1],[[30,0,["handleConversationUpdate"]],[30,2,["entityUrn"]]],null],[4,[32,1],[[30,0,["handleLatestEventChange"]],[30,2,["latestEvent"]]],null],[12],[1,"\\n      "],[18,3,[[28,[32,2],null,[["props","actions"],[[28,[32,2],null,[["hasMoreMessagesToLoad","isLoading","hasNewMessages","scrollingPastThreshold","messageIndexToBeAnchored","msgListIdToScroll"],[[30,0,["hasMoreMessagesToLoad"]],[30,0,["isLoading"]],[30,0,["hasNewMessages"]],[30,0,["scrollingPastThreshold"]],[30,0,["messageIndexToBeAnchored"]],[30,0,["msgListId"]]]]],[28,[32,2],null,[["scrollToNewMessages"],[[30,0,["scrollToNewMessages"]]]]]]]]]],[1,"\\n    "],[13],[1,"\\n  "]],["@composeIsFullyExpanded","@conversation","&default"],false,["unless","if","yield"]]',moduleName:"msg-ui/components/message-list-scroller.gjs",scope:()=>[y.default,_.default,w.hash],isStrictMode:!0}),(k=(0,h.inject)("i18n"),S=(0,h.inject)("global-services@a11y-notification"),T=(0,h.inject)("authentication@authenticated-user"),D=(0,h.inject)("client-sensor-web@client-sensor"),I=(0,h.inject)("msg-data@data-manager"),C=class extends v.default{get hasNewMessages(){var e
const t=this.args.conversation.messages.last()
if(!t)return!1
return(null===(e=this.authenticatedUser.miniProfile)||void 0===e?void 0:e.dashEntityUrn)!==t.senderUrn&&t.deliveredAt>this._lastLeftScrollAreaBottomAt&&0!==this._lastLeftScrollAreaBottomAt}get shouldScrollFromTop(){const{conversation:e}=this.args
return(0,o.messageHasInMailHostUrnData)(e.messages.first())&&1===e.messages.length}constructor(){super(...arguments);(0,t.default)(this,"i18n",x,this);(0,t.default)(this,"a11yNotification",E,this);(0,t.default)(this,"authenticatedUser",P,this);(0,t.default)(this,"clientSensor",A,this);(0,t.default)(this,"msgDataManager",O,this);(0,t.default)(this,"isLoading",R,this);(0,t.default)(this,"messageIndexToBeAnchored",U,this);(0,t.default)(this,"scrollingPastThreshold",N,this);(0,t.default)(this,"_lastLeftScrollAreaBottomAt",j,this);(0,i.default)(this,"_previousLatestEvent",null);(0,t.default)(this,"hasMoreMessagesToLoad",F,this);(0,i.default)(this,"msgListId",(0,M.guidFor)(this))
this.handleConversationUpdate()
c.default&&(this._isSafari=/^((?!chrome).)*safari/i.test(window.navigator.userAgent))}handleConversationUpdate(){this.hasMoreMessagesToLoad=!0
const e=this.msgDataManager.initialConversationActivateRequestsMap.get(this.args.conversation.entityUrn)
if(e)e.finally((()=>{if(!this.isDestroying){this.messageIndexToBeAnchored=this._getAnchoredMessageIndex()
this.isLoading=!1
this.hasMoreMessagesToLoad=!this.args.conversation.status.fullyLoaded
this.scrollingElement&&this._reconnectIntersectionObserver()}}))
else{this.isLoading=!1
this.scrollingElement&&this._reconnectIntersectionObserver()}}handleLatestEventChange(){const{latestEvent:e}=this.args
if(e&&e!==this._previousLatestEvent){var t
this.messageIndexToBeAnchored=this._getAnchoredMessageIndex()
if((this.authenticatedUser.miniProfile.dashEntityUrn===(null===(t=this.msgDataManager.latestEvent)||void 0===t?void 0:t.senderUrn)||!this.scrollingPastThreshold)&&this.scrollingElement){this._isSafari&&this.scrollingElement.classList.add("msg-s-message-list--hide-scrollbar");(0,d.mutateDOM)((()=>{this.scrollToNewMessages()
this._isSafari&&this.scrollingElement.classList.remove("msg-s-message-list--hide-scrollbar")}))}}this._previousLatestEvent=e}handleContainerInsert(e){this.scrollingElement=e.querySelector(".msg-s-message-list")
this.scrollingElementContainer=e.querySelector(".msg-s-message-list-container")
if(c.default){this._bottomIntersectionObserver=new u.default((e=>{e.forEach((e=>{if(1===e.intersectionRatio)this.scrollingPastThreshold=!1
else if(!this.shouldScrollFromTop){this._lastLeftScrollAreaBottomAt=Date.now()
this.scrollingPastThreshold=!0}}))}),{root:this.scrollingElementContainer,rootMargin:`0px 0px ${G}px 0px`})
this._bottomIntersectionObserver.observe(e.querySelector(".msg-s-message-list__bottom-of-list"))}}willDestroy(){var e,t
super.willDestroy(...arguments)
null===(e=this._bottomIntersectionObserver)||void 0===e||e.disconnect()
null===(t=this._topIntersectionObserver)||void 0===t||t.disconnect()}loadMore(){const{conversation:e}=this.args
if(this.isLoading||!this.hasMoreMessagesToLoad)return(0,g.resolve)([])
this.isLoading=!0
return this.msgDataManager.loadMoreMessages(e.entityUrn).then((t=>{if(this.isDestroying)return(0,g.resolve)([])
this.hasMoreMessagesToLoad=!e.status.fullyLoaded
0===t&&(this.hasMoreMessagesToLoad=!1)
this.messageIndexToBeAnchored&&(this.messageIndexToBeAnchored=this._getAnchoredMessageIndex())
const i=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_a11y_infinite_scroll_messages")
this.a11yNotification.setTextInLiveRegion(i([{newRecordCount:t}]))
return t})).finally((()=>{this.isDestroying||(this.isLoading=!1)}))}_reconnectIntersectionObserver(){this._topIntersectionObserver&&this._topIntersectionObserver.disconnect()
this._topIntersectionObserver=new u.default((e=>{e.forEach((e=>{if(1===e.intersectionRatio){var t
null!==(t=this.args.conversation.messages)&&void 0!==t&&t.length&&this.loadMore()}}))}),{root:this.scrollingElementContainer,rootMargin:"250px 0px 0px 0px"})
this._topIntersectionObserver.observe(this.scrollingElement.querySelector(".msg-s-message-list__top-of-list"))}scrollToNewMessages(){if(this.isDestroying)return
m.default.scrollTo(this.scrollingElement,{animate:!0,top:0})
const e=document.querySelector(`.msg-s-message-list__last-msg-${this.msgListId} .msg-s-event-listitem__message-bubble`)
e&&(0,d.mutateDOM)((()=>e.focus()))}_getAnchoredMessageIndex(){var e,t
const{conversation:i}=this.args,n=i.lastReadAt,s=null===(e=i.messages.first())||void 0===e?void 0:e.deliveredAt,a=null===(t=i.messages.last())||void 0===t?void 0:t.deliveredAt,r=!!n&&n>=s
!r&&n&&this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"anchoring-EV-unread"})
if(!this.isDestroying&&r&&n<a)return(0,l.getMessageIndexToBeAnchoredFromSDKMessages)(n,i.messages,this.authenticatedUser)}},x=(0,n.default)(C.prototype,"i18n",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,n.default)(C.prototype,"a11yNotification",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,n.default)(C.prototype,"authenticatedUser",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,n.default)(C.prototype,"clientSensor",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,n.default)(C.prototype,"msgDataManager",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,n.default)(C.prototype,"isLoading",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=(0,n.default)(C.prototype,"messageIndexToBeAnchored",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,n.default)(C.prototype,"scrollingPastThreshold",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=(0,n.default)(C.prototype,"_lastLeftScrollAreaBottomAt",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=(0,n.default)(C.prototype,"hasMoreMessagesToLoad",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),(0,n.default)(C.prototype,"handleConversationUpdate",[b.action],Object.getOwnPropertyDescriptor(C.prototype,"handleConversationUpdate"),C.prototype),(0,n.default)(C.prototype,"handleLatestEventChange",[b.action],Object.getOwnPropertyDescriptor(C.prototype,"handleLatestEventChange"),C.prototype),(0,n.default)(C.prototype,"handleContainerInsert",[b.action],Object.getOwnPropertyDescriptor(C.prototype,"handleContainerInsert"),C.prototype),(0,n.default)(C.prototype,"scrollToNewMessages",[b.action],Object.getOwnPropertyDescriptor(C.prototype,"scrollToNewMessages"),C.prototype),C))}))
define("msg-ui/components/message-request-list-header-presenter",["exports","@ember/template-factory","@ember/helper","@ember/component/template-only","@ember/component","ember-cli-pemberly-i18n/helpers/t","@ember/modifier","ember-cli-pemberly-tracking/modifiers/track-interaction"],(function(e,t,i,n,s,a,r,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const l=(0,s.setComponentTemplate)((0,t.createTemplateFactory)({id:"HFBuKq7S",block:'[[[1,"\\n"],[1,"  "],[10,0],[14,0,"msg-message-request-list-header-presenter p3"],[12],[1,"\\n    "],[10,0],[14,0,"visually-hidden"],[14,"aria-live","polite"],[12],[1,"\\n      "],[1,[52,[30,1],[28,[32,0],["i18n_a11y_declined_mesage_requests","msg-ui/components/message-request-list-header-presenter"],null],[28,[32,0],["i18n_a11y_message_requests","msg-ui/components/message-request-list-header-presenter"],null]]],[1,"\\n    "],[13],[1,"\\n    "],[10,"h4"],[14,0,"t-14 t-bold"],[12],[1,"\\n      "],[1,[52,[30,1],[28,[32,0],["i18n_declined_mesage_requests","msg-ui/components/message-request-list-header-presenter"],null],[28,[32,0],["i18n_message_requests","msg-ui/components/message-request-list-header-presenter"],null]]],[1,"\\n    "],[13],[1,"\\n    "],[10,2],[14,0,"t-12 pt1"],[12],[1,"\\n      "],[1,[52,[30,1],[28,[32,0],["i18n_declined_message_request_description","msg-ui/components/message-request-list-header-presenter"],null],[28,[32,0],["i18n_message_request_description","msg-ui/components/message-request-list-header-presenter"],null]]],[1,"\\n    "],[13],[1,"\\n    "],[11,"button"],[24,0,"msg-message-request-list-header-presenter__back-button t-14 t-bold pt1"],[24,4,"button"],[4,[32,1],["click",[30,2]],null],[4,[32,2],[[30,3]],null],[12],[1,"\\n      "],[1,[52,[30,1],[28,[32,0],["i18n_back_to_message_request_inbox","msg-ui/components/message-request-list-header-presenter"],null],[28,[32,0],["i18n_go_to_inbox","msg-ui/components/message-request-list-header-presenter"],null]]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],["@isDeclinedList","@goBack","@trackingKey"],false,["if"]]',moduleName:"msg-ui/components/message-request-list-header-presenter.gjs",scope:()=>[a.default,r.on,o.default],isStrictMode:!0}),(0,n.default)("message-request-list-header-presenter","MessageRequestListHeaderPresenter"))
e.default=l}))
define("msg-ui/components/messaging-gai/gai-draft-intents-feedback-panel",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","tracked-toolbox","form-builder-v2/utils/dash-form-utils-v2","msg-ui/utils/messaging-gai/messaging-gai-constants","profile-shared/utils/tetris-api-helpers","@ember/service","@glimmer/component","@glimmer/tracking","@ember/object","ember-cli-pemberly-tracking/modifiers/track-render","artdeco-button/components/artdeco-button","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-tracking/modifiers/track-interaction","artdeco-modal/components/artdeco-modal","form-builder-v2/components/dash-form-section","@ember/modifier"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var k,S,T,D,I,C,x,E,P,A,O,R
e.default=(0,o.setComponentTemplate)((0,a.createTemplateFactory)({id:"lt5j86KX",block:'[[[1,"\\n"],[1,"    "],[11,0],[16,0,[29,["msg-ui-gai-draft-intents-feedback-panel__container\\n        ",[52,[30,1],"msg-ui-gai-draft-intents-feedback-panel__container--with-gai-perm-entry"],"\\n        flex-grow-1"]]],[17,2],[4,[32,0],["click",[30,0,["trapEvent"]]],null],[4,[32,1],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_gai_compose_feedback",[28,[32,2],[[53,"outletState"],"render.name"],null],[28,[32,2],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n\\n"],[41,[30,1],[[[41,[30,3],[[[1,"          "],[8,[32,3],[[16,"aria-label",[28,[32,4],["i18n_undo_refinement","msg-ui/components/messaging-gai/gai-draft-intents-feedback-panel"],null]],[4,[32,0],["click",[30,4]],null]],[["@class","@size","@text","@type","@icon","@color"],[[29,["text-body-small t-black--light\\n              ",[52,[30,1],"mr2"]]],2,[28,[32,4],["i18n_undo","msg-ui/components/messaging-gai/gai-draft-intents-feedback-panel"],null],"tertiary","undo","muted"]],null],[1,"\\n"]],[]],[[[1,"          "],[10,0],[12],[13],[1,"\\n"]],[]]]],[]],[[[41,[30,5],[[[1,"          "],[8,[32,3],[[16,"aria-label",[28,[32,4],["i18n_refresh_draft","msg-ui/components/messaging-gai/gai-draft-intents-feedback-panel"],null]],[4,[32,0],["click",[30,6]],null],[4,[32,5],[[30,0,["refreshInteractionTrackingName"]]],null]],[["@class","@size","@text","@type","@icon","@color"],[[29,["text-body-small t-black--light ",[52,[30,1],"mr2"]]],2,[28,[32,4],["i18n_refresh","msg-ui/components/messaging-gai/gai-draft-intents-feedback-panel"],null],"tertiary","refresh","muted"]],null],[1,"\\n"]],[]],null]],[]]],[1,"\\n      "],[10,1],[14,0,"msg-ui-gai-draft-intents-feedback-panel__buttons"],[12],[1,"\\n"],[41,[30,7],[[[1,"          "],[8,[32,3],[[4,[32,0],["click",[30,0,["markFeedbackAsGood"]]],null],[4,[32,5],["messaging_gai_generated_suggestion_feedback_thumbs_up"],null]],[["@class","@icon","@aria-label","@circle","@color","@type","@size"],["msg-ui-gai-draft-intents-feedback-panel__button","thumbs-up-outline",[28,[32,4],["i18n_good_feedback","msg-ui/components/messaging-gai/gai-draft-intents-feedback-panel"],null],true,"muted","tertiary","1"]],null],[1,"\\n          "],[8,[32,3],[[24,"data-js-gai-draft-intents-feedback-panel__dislike-button",""],[4,[32,0],["click",[30,0,["markFeedbackAsBad"]]],null],[4,[32,5],["messaging_gai_generated_suggestion_feedback_thumbs_down"],null]],[["@class","@icon","@aria-label","@circle","@color","@type","@size"],["msg-ui-gai-draft-intents-feedback-panel__button","thumbs-down-outline",[28,[32,4],["i18n_bad_feedback","msg-ui/components/messaging-gai/gai-draft-intents-feedback-panel"],null],true,"muted","tertiary","1"]],null],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n    "],[8,[32,6],null,[["@isOpen","@dismissModal","@headerId","@size","@returnFocusTo"],[[30,0,["isFeedbackCollectionModalOpen"]],[30,0,["dismissFeedbackCollectionModal"]],"generated-suggestion-feedback-panel-modal__header","small",[52,[30,7],"[data-js-gai-draft-intents-feedback-panel__dislike-button]",[30,8]]]],[["default"],[[[[1,"\\n      "],[8,[30,9,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n        "],[10,"h2"],[14,1,"generated-suggestion-feedback-panel-modal__header"],[12],[1,"\\n          "],[1,[28,[32,4],["i18n_feedback_modal_header","msg-ui/components/messaging-gai/gai-draft-intents-feedback-panel"],null]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[30,9,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n        "],[10,"h3"],[14,0,"t-16"],[12],[1,[28,[32,4],["i18n_feedback_collection_title","msg-ui/components/messaging-gai/gai-draft-intents-feedback-panel"],null]],[13],[1,"\\n        "],[8,[32,7],null,[["@viewModel"],[[30,0,["feedbackFormSectionViewModel"]]]],null],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[30,9,["artdeco-modal-footer"]],[[24,0,"text-align-right"]],null,[["default"],[[[[1,"\\n"],[41,[30,0,["feedbackFormData","showSecondaryCta"]],[[[1,"          "],[8,[32,3],[[4,[32,0],["click",[30,0,["dismissFeedbackCollectionModal"]]],null],[4,[32,5],["messaging_gai_generated_suggestion_feedback_cancel_feedback_submission"],null]],[["@text","@type","@color"],[[28,[32,4],["i18n_cancel","msg-ui/components/messaging-gai/gai-draft-intents-feedback-panel"],null],"secondary","muted"]],null],[1,"\\n"]],[]],null],[41,[30,0,["feedbackFormData","showPrimaryCta"]],[[[1,"          "],[8,[32,3],[[4,[32,0],["click",[30,0,["submitSuggestionQualityFeedback"]]],null]],[["@text","@type","@disabled"],[[28,[32,4],["i18n_submit","msg-ui/components/messaging-gai/gai-draft-intents-feedback-panel"],null],"primary",[30,0,["isSubmitDisabled"]]]],null],[1,"\\n"]],[]],null],[1,"      "]],[]]]]],[1,"\\n    "]],[9]]]]],[1,"\\n  "]],["@isInMailCompose","&attrs","@canUndo","@onUndo","@canRefresh","@refreshDraft","@canProvideFeedback","@onSubmitReturnFocusTo","modal"],false,["if","-get-dynamic-var"]]',moduleName:"msg-ui/components/messaging-gai/gai-draft-intents-feedback-panel.gjs",scope:()=>[M.on,f.default,r.get,b.default,v.default,y.default,_.default,w.default],isStrictMode:!0}),(k=(0,m.inject)("tracking"),S=(0,m.inject)("@linkedin/ember-restli-graphql@graphql"),T=(0,m.inject)("persistent-toast-manager@persistent-toast-manager"),D=(0,m.inject)("i18n"),I=(0,m.inject)("form-builder-v2@dependency-handler"),C=class extends p.default{constructor(){super(...arguments);(0,t.default)(this,"tracking",x,this);(0,t.default)(this,"graphql",E,this);(0,t.default)(this,"persistentToastManager",P,this);(0,t.default)(this,"i18n",A,this);(0,t.default)(this,"dependencyHandler",O,this);(0,t.default)(this,"isFeedbackCollectionModalOpen",R,this)}get refreshInteractionTrackingName(){return this.args.isInMailCompose?"msg_inmail_refresh_gai_draft":"msg_mebc_refresh_gai_draft"}markFeedbackAsGood(e){var t,i
e.preventDefault()
null===(t=(i=this.args).onThumbsUpClick)||void 0===t||t.call(i,e)
this._fireGeneralFeedbackTracking(c.feedbackChoice.SATISFIED)
this._showThankyouToast()}_showThankyouToast(){const e=this.i18n.lookupTranslation("components/msg-ui@messaging-gai/gai-draft-intents-feedback-panel","i18n_thank_you")()
this.persistentToastManager.success({message:e})}_fetchPremiumGenerativeAiFeedbackForm(){return(0,u.fetchPremiumGenerativeAiFeedbackFormsByFeedbackTypeGraphQL)(this.graphql,c.PREMIUM_GENERATIVE_AI_FEEDBACK_TYPE.SEEK_WORK_MESSAGE)}markFeedbackAsBad(e){var t,i
e.preventDefault()
null===(t=(i=this.args).onThumbsDownClick)||void 0===t||t.call(i,e)
this._fetchPremiumGenerativeAiFeedbackForm().then((e=>{if(!this.isDestroying){var t,i,n
const s=null===(t=e.data)||void 0===t||null===(i=t.messagingDashPremiumGenerativeAiFeedbackFormsByFeedbackType)||void 0===i||null===(n=i.elements)||void 0===n?void 0:n[0]
this.feedbackFormData=s
this.isFeedbackCollectionModalOpen=!0
this._fireImpressionTrackingForFeedbackOptions()}}))}dismissFeedbackCollectionModal(){this.isFeedbackCollectionModalOpen=!1
this._closeFeedbackModal()}submitSuggestionQualityFeedback(){var e,t,i
const n=null===(e=this.feedbackFormSectionViewModel)||void 0===e?void 0:e.firstFormElementViewModel.inputValues.values.map((e=>e.inputEntityName))
null===(t=(i=this.args).onSurveyFormSubmit)||void 0===t||t.call(i,n)
this._fireGeneralFeedbackTracking(c.feedbackChoice.UNSATISFIED)
this._fireTrackingForFeedback(n)
this._closeFeedbackModal()
this._showThankyouToast()}_fireTrackingForFeedback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]
this.tracking.fireTrackingPayload(c.PREMIUM_GAI_COMPOSE_TRACKING_KEYS.GAI_SURVEY_SUBMIT,{surveyChoicesSelected:e,generatedContentTrackingId:this.args.trackingId,generatedContentType:c.feedbackFormType.MESSAGING})}_fireGeneralFeedbackTracking(e){this.tracking.fireTrackingPayload(c.PREMIUM_GAI_COMPOSE_TRACKING_KEYS.GAI_GENERAL_FEEDBACK_SUBMIT,{generatedContentTrackingId:this.args.trackingId,generatedContentType:c.feedbackFormType.MESSAGING,feedbackChoiceSelected:e})}_fireImpressionTrackingForFeedbackOptions(){var e,t
const i=null===(e=this.feedbackFormSectionViewModel)||void 0===e?void 0:e.firstFormElementViewModel.formElement
if(!i||this.isDestroying)return
const n=null===(t=i.formComponentResolutionResult.radioButtonFormComponent.selectableOptionsResolutionResults)||void 0===t?void 0:t.map((e=>{var t
return null===(t=e.textSelectableOption)||void 0===t?void 0:t.optionEnumString}))
this.tracking.fireTrackingPayload(c.PREMIUM_GAI_COMPOSE_TRACKING_KEYS.GAI_SURVEY_IMPRESSION,{generatedContentTrackingId:this.args.trackingId,generatedContentType:c.feedbackFormType.MESSAGING,surveyChoicesShown:n})}_closeFeedbackModal(){this.isFeedbackCollectionModalOpen=!1}get feedbackFormSectionViewModel(){var e
if(!this.feedbackFormData)return null
const t=null===(e=this.feedbackFormData.feedbackForms)||void 0===e?void 0:e[0]
return t&&new d.FormSectionViewModel(t,"feedbackForm",this.dependencyHandler)}trapEvent(e){e.preventDefault()
e.stopPropagation()}},x=(0,n.default)(C.prototype,"tracking",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,n.default)(C.prototype,"graphql",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,n.default)(C.prototype,"persistentToastManager",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,n.default)(C.prototype,"i18n",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,n.default)(C.prototype,"dependencyHandler",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,n.default)(C.prototype,"isFeedbackCollectionModalOpen",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(C.prototype,"markFeedbackAsGood",[h.action],Object.getOwnPropertyDescriptor(C.prototype,"markFeedbackAsGood"),C.prototype),(0,n.default)(C.prototype,"markFeedbackAsBad",[h.action],Object.getOwnPropertyDescriptor(C.prototype,"markFeedbackAsBad"),C.prototype),(0,n.default)(C.prototype,"dismissFeedbackCollectionModal",[h.action],Object.getOwnPropertyDescriptor(C.prototype,"dismissFeedbackCollectionModal"),C.prototype),(0,n.default)(C.prototype,"submitSuggestionQualityFeedback",[h.action],Object.getOwnPropertyDescriptor(C.prototype,"submitSuggestionQualityFeedback"),C.prototype),(0,n.default)(C.prototype,"feedbackFormSectionViewModel",[l.cached],Object.getOwnPropertyDescriptor(C.prototype,"feedbackFormSectionViewModel"),C.prototype),C))}))
define("msg-ui/components/messaging-gai/gai-inline-module",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@ember/object","@ember/helper","premium-gai/utils/constants","global-utils/utils/is-browser","@ember/service","ember-lifeline","@ember/modifier","@glimmer/tracking","global-helpers/helpers/and","@glimmer/component","@ember/render-modifiers/modifiers/did-update","global-modifiers/modifiers/focus","msg-ui/components/messaging-gai/gai-smart-action","coach-shared/components/hscroll-bar","premium-gai/components/inline-module","global-helpers/helpers/not","premium-gai/components/prompt-button","text-view-model/components/text-view-model-v2","premium-gai/components/input-form","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-tracking/modifiers/track-view"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M,k,S,T,D,I){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var C,x,E,P,A
const O=e=>{e.preventDefault()
e.stopPropagation()},R=e=>{e.stopPropagation()}
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"cjXgviBo",block:'[[[1,"\\n"],[1,"    "],[11,0],[24,0,"msg-gai-inline-module"],[4,[32,0],[[30,0,["handleMessageAsyncDataUpdate"]],[30,1]],null],[4,[32,0],[[28,[32,1],[[30,2],[30,0,["shouldShowCard"]]],null],[30,0,["shouldShowCard"]]],null],[12],[1,"\\n"],[41,[30,0,["shouldShowCard"]],[[[1,"        "],[8,[32,2],[[24,0,"msg-gai-inline-module__card"],[4,[32,4],null,[["onSelector"],[".artdeco-button[data-js-premium-gai-inline-module-dismiss]"]]]],[["@onDismiss","@learnMoreUrl","@dismissButtonViewName","@overflowButtonViewName","@learnMoreLinkViewName"],[[30,0,["handleDismiss"]],"/help/linkedin/answer/a1487434",[32,3,["DISMISS_BUTTON"]],[32,3,["OVERFLOW_BUTTON"]],[32,3,["LEARN_MORE_LINK"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["shouldShowRefinmentsInCard"]],[[[41,[28,[32,5],[[30,0,["refinementOptions","length"]],[28,[32,6],[[30,0,["isGenerating"]]],null]],null],[[[1,"              "],[11,0],[24,0,"pb2"],[4,[32,7],["click",[32,8]],null],[12],[1,"\\n                "],[8,[32,9],[[4,[32,7],["wheel",[32,10]],null]],[["@coachPrompts","@multiContainerClassOverride"],[[30,0,["refinementOptions"]],"msg-gai-inline-module__multi-container"]],[["default"],[[[[1,"\\n"],[44,[[30,3,["prompt"]]],[[[41,[30,4],[[[1,"                      "],[8,[32,11],[[24,0,"white-space-nowrap"],[16,"data-view-name",[32,3,["REFINEMENT_BUTTON"]]],[4,[32,7],["click",[28,[32,1],[[30,0,["handleRefinementOptionClick"]],[30,4]],null]],null],[4,[32,12],null,[["viewName","contentTrackingId","horizontalPosition","routeName","currentRoute"],[[32,3,["REFINEMENT_BUTTON"]],[30,4,["contentTrackingId"]],[30,3,["index"]],[28,[32,13],[[53,"outletState"],"render.name"],null],[28,[32,13],[[53,"outletState"],"render"],null]]]]],[["@text"],[[30,4,["messageRefineAction","text"]]]],null],[1,"\\n"]],[]],null]],[4]]],[1,"                "]],[3]]]]],[1,"\\n              "],[13],[1,"\\n"]],[]],null],[1,"            "],[8,[32,14],[[24,0,"pv2"]],[["@placeholderText","@placeholderA11yText","@withInputBox","@onCancelClick","@onSubmit","@isLoading","@inputViewName","@submitButtonViewName","@cancelButtonViewName"],[[28,[32,15],["i18n_freeform_refinement_input_placeholder_v2","msg-ui/components/messaging-gai/gai-inline-module"],null],[28,[32,15],["i18n_freeform_refinement_input_placeholder_v2","msg-ui/components/messaging-gai/gai-inline-module"],null],[30,0,["isRefinementFreeformEnabled"]],[30,5],[30,0,["handleRefineInputSubmit"]],[30,0,["isGenerating"]],[32,3,["REFINEMENT_INPUT"]],[32,3,["REFINEMENT_INPUT_SUBMIT_BUTTON"]],[32,3,["STOP_GENERATION_BUTTON"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["showIntentButtons"]],[[[41,[30,6,["header"]],[[[1,"                "],[10,"h3"],[14,0,"t-14 text-align-left mb2"],[12],[1,"\\n                  "],[8,[32,16],null,[["@tvm"],[[30,6,["header"]]]],null],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"              "],[10,0],[14,0,"msg-gai-inline-module__intents-container msg-gai-inline-module__intents-container--inline"],[12],[1,"\\n                "],[8,[32,9],[[4,[32,7],["wheel",[32,10]],null]],[["@coachPrompts","@multiContainerClassOverride"],[[30,6,["intents"]],"msg-gai-inline-module__multi-container"]],[["default"],[[[[1,"\\n"],[44,[[30,7,["prompt"]],[30,7,["index"]]],[[[41,[30,8],[[[1,"                      "],[8,[32,11],[[24,0,"white-space-nowrap"],[16,"data-view-name",[32,3,["INTENT_BUTTON"]]],[4,[32,7],["click",[28,[32,1],[[30,0,["handleIntentClick"]],[30,8]],null]],null],[4,[32,12],null,[["viewName","contentTrackingId","horizontalPosition","routeName","currentRoute"],[[32,3,["INTENT_BUTTON"]],[30,8,["contentTrackingId"]],[30,9],[28,[32,13],[[53,"outletState"],"render.name"],null],[28,[32,13],[[53,"outletState"],"render"],null]]]]],[["@text"],[[30,8,["title","text"]]]],null],[1,"\\n"]],[]],null]],[8,9]]],[1,"                "]],[7]]]]],[1,"\\n              "],[13],[1,"\\n              "],[10,0],[14,0,"msg-gai-inline-module__intents-container msg-gai-inline-module__intents-container--stacked"],[12],[1,"\\n"],[42,[28,[31,4],[[28,[31,4],[[30,6,["intents"]]],null]],null],null,[[[1,"                  "],[8,[32,11],[[24,0,"mb2 full-width"],[16,"data-view-name",[32,3,["INTENT_BUTTON"]]],[4,[32,7],["click",[28,[32,1],[[30,0,["handleIntentClick"]],[30,10]],null]],null],[4,[32,12],null,[["viewName","contentTrackingId","verticalPosition","routeName","currentRoute"],[[32,3,["INTENT_BUTTON"]],[30,10,["contentTrackingId"]],[30,11],[28,[32,13],[[53,"outletState"],"render.name"],null],[28,[32,13],[[53,"outletState"],"render"],null]]]]],[["@text"],[[30,10,["title","text"]]]],null],[1,"\\n"]],[10,11]],null],[1,"              "],[13],[1,"\\n"]],[]],null],[41,[30,12],[[[1,"              "],[8,[32,14],[[24,0,"pv2"]],[["@placeholderText","@placeholderA11yText","@withInputBox","@onCancelClick","@onSubmit","@onChange","@isLoading","@inputViewName","@submitButtonViewName","@cancelButtonViewName"],[[28,[32,15],["i18n_freeform_intent_input_placeholder","msg-ui/components/messaging-gai/gai-inline-module"],null],[28,[32,15],["i18n_freeform_intent_input_placeholder","msg-ui/components/messaging-gai/gai-inline-module"],null],true,[30,5],[30,0,["handleIntentInputSubmit"]],[30,0,["handleIntentInputChange"]],[30,0,["isGenerating"]],[32,3,["INTENT_INPUT"]],[32,3,["INTENT_INPUT_SUBMIT_BUTTON"]],[32,3,["STOP_GENERATION_BUTTON"]]]],null],[1,"\\n"]],[]],null]],[]]],[1,"        "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["shouldShowEntryPoint"]],[[[1,"        "],[11,0],[24,0,"msg-gai-inline-module__entry-point-container"],[4,[32,7],["click",[32,8]],null],[12],[1,"\\n          "],[8,[32,17],null,[["@cta","@upsellCard","@onClick","@isInMailCompose"],[[30,6,["premiumAIEntryPointCTA"]],[30,13],[30,0,["handleEntryPointClick"]],[30,12]]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],["@messageAsyncData","@onCardVisibilityChanged","properties","refinementOption","@onCancelGeneration","@intentsResponse","properties","intent","index","intent","index","@isInMailCompose","@upsellCard"],false,["if","let","-get-dynamic-var","each","-track-array"]]',moduleName:"msg-ui/components/messaging-gai/gai-inline-module.gjs",scope:()=>[b.default,l.fn,w.default,d.PREMIUM_GAI_TRACKING_VIEW_NAMES,v.default,h.default,M.default,p.on,O,_.default,R,k.default,I.default,l.get,T.default,D.default,S.default,y.default],isStrictMode:!0}),(C=(0,u.inject)("lix"),x=class extends f.default{constructor(){super(...arguments);(0,t.default)(this,"lix",E,this);(0,t.default)(this,"_hasEnteredFlow",P,this);(0,t.default)(this,"intentInputValue",A,this)}get hasEnteredFlow(){return this.args.isInMailCompose?this.args.hasEnteredFlow:this._hasEnteredFlow}get hasGenerated(){var e
return!(null===(e=this.args.messageAsyncData)||void 0===e||!e.value)&&this.args.currentInputText}get isGenerating(){var e
return(null===(e=this.args.messageAsyncData)||void 0===e?void 0:e.isPending)||this.args.streamingStatus===d.PREMIUM_GAI_STREAMING_STATUS.STREAMING}get isRefinementFreeformEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.premium-magic-wand-refinement-freeform")}get shouldShowEntryPoint(){var e,t,i,n
if(this.args.isInMailCompose)return!1
const s=null===(e=this.args.intentsResponse)||void 0===e||null===(t=e.premiumAIEntryPointCTA)||void 0===t?void 0:t.appearance,a=(null===(i=this.args.intentsResponse)||void 0===i||null===(n=i.intents)||void 0===n?void 0:n.length)>0||this.args.upsellCard
return!(!s&&!a)&&(!this.shouldShowCard&&(!this.isGenerating&&(!(!this.args.isPrefilledFromEntryPointOrTemplate||!this.args.isPrefilledMessageNotEdited)||(!(!this.hasGenerated||!this.args.isInMailCompose)||!this.args.currentInputText))))}get shouldShowCard(){var e,t,i
const n=!(null===(e=this.args.intentsResponse)||void 0===e||null===(t=e.intents)||void 0===t||!t.length),s=!(null===(i=this.refinementOptions)||void 0===i||!i.length)
return!this.args.isInSmallBubble&&this.hasEnteredFlow&&(n||s)&&(this.args.isInMailCompose||!this.isGenerating)}get shouldShowRefinmentsInCard(){var e
return(null===(e=this.refinementOptions)||void 0===e?void 0:e.length)&&(this.hasGenerated&&this.args.isInMailCompose||this.args.currentInputText&&this.args.isInMailCompose)}get refinementOptions(){var e,t,i,n,s,a
return(null===(e=this.args.messageAsyncData)||void 0===e||null===(t=e.value)||void 0===t||null===(i=t.message)||void 0===i||null===(n=i.messageData)||void 0===n?void 0:n.refinementOptions)??(null===(s=this.args.refinementOptionsAsyncData)||void 0===s||null===(a=s.value)||void 0===a?void 0:a.refinementOptions)}get showIntentButtons(){return!this.intentInputValue&&!this.isGenerating}handleEntryPointClick(){var e,t
if((null===(e=this.args.intentsResponse)||void 0===e||null===(t=e.intents)||void 0===t?void 0:t.length)>0){var i,n
this._hasEnteredFlow=!0
null===(i=(n=this.args).onEnterFlow)||void 0===i||i.call(n)}}handleDismiss(){var e,t
this._hasEnteredFlow=!1
null===(e=(t=this.args).onDismiss)||void 0===e||e.call(t);(0,m.runTask)(this,(()=>{if(c.default){const e=document.querySelector(".msg-gai-smart-action__button")
null==e||e.focus()}}))}handleRefineInputSubmit(e){var t,i
if(!e)return
const{currentInputText:n,messageAsyncData:s,onRefineMessage:a}=this.args,{trackingId:r}=(null==s||null===(t=s.value)||void 0===t||null===(i=t.message)||void 0===i?void 0:i.messageData)??{},o={refinementType:"FREE_FORM",refinementText:e,refinementUseCase:d.REFINEMENT_USE_CASE.MESSAGE}
null==a||a(n,o,e,r)}handleIntentInputSubmit(e){if(!e)return
const t={queryText:e,userInput:!0,premiumGAIMessageIntentType:d.PREMIUM_GAI_MESSAGE_INTENT_TYPE.FREE_FORM,premiumGAIMessageContentType:d.PREMIUM_GAI_MESSAGE_CONTENT_TYPE.MESSAGING}
this.args.generateGaiMessage(t,e)}handleIntentInputChange(e){this.intentInputValue=e}handleMessageAsyncDataUpdate(){if(!this.args.messageAsyncData){if(this.args.isInMailCompose)return
this._hasEnteredFlow=!1}}handleIntentClick(e){var t,i,n,s
if(!this.args.isInMailCompose){var a,r
this._hasEnteredFlow=!1
null===(a=(r=this.args).onDismiss)||void 0===a||a.call(r)}const o={userInput:!1,premiumGAIMessageIntentType:e.intentType,contextUrn:(null===(t=e.profilePosition)||void 0===t?void 0:t.entityUrn)??(null===(i=e.jobPosting)||void 0===i?void 0:i.entityUrn)??(null===(n=e.company)||void 0===n?void 0:n.entityUrn),premiumGAIMessageContentType:d.PREMIUM_GAI_MESSAGE_CONTENT_TYPE.MESSAGING}
this.args.generateGaiMessage(o,null===(s=e.title)||void 0===s?void 0:s.text)}handleRefinementOptionClick(e){var t,i,n,s
const{messageRefineAction:a,premiumGAIMessageRefinementType:r}=e,o={refinementType:r,refinementUseCase:d.REFINEMENT_USE_CASE.MESSAGE}
this.args.onRefineMessage(this.args.currentInputText,o,a.text,null===(t=this.args.messageAsyncData)||void 0===t||null===(i=t.value)||void 0===i||null===(n=i.message)||void 0===n||null===(s=n.messageData)||void 0===s?void 0:s.trackingId)}},E=(0,n.default)(x.prototype,"lix",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,n.default)(x.prototype,"_hasEnteredFlow",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=(0,n.default)(x.prototype,"intentInputValue",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),(0,n.default)(x.prototype,"handleEntryPointClick",[o.action],Object.getOwnPropertyDescriptor(x.prototype,"handleEntryPointClick"),x.prototype),(0,n.default)(x.prototype,"handleDismiss",[o.action],Object.getOwnPropertyDescriptor(x.prototype,"handleDismiss"),x.prototype),(0,n.default)(x.prototype,"handleRefineInputSubmit",[o.action],Object.getOwnPropertyDescriptor(x.prototype,"handleRefineInputSubmit"),x.prototype),(0,n.default)(x.prototype,"handleIntentInputSubmit",[o.action],Object.getOwnPropertyDescriptor(x.prototype,"handleIntentInputSubmit"),x.prototype),(0,n.default)(x.prototype,"handleIntentInputChange",[o.action],Object.getOwnPropertyDescriptor(x.prototype,"handleIntentInputChange"),x.prototype),(0,n.default)(x.prototype,"handleMessageAsyncDataUpdate",[o.action],Object.getOwnPropertyDescriptor(x.prototype,"handleMessageAsyncDataUpdate"),x.prototype),(0,n.default)(x.prototype,"handleIntentClick",[o.action],Object.getOwnPropertyDescriptor(x.prototype,"handleIntentClick"),x.prototype),(0,n.default)(x.prototype,"handleRefinementOptionClick",[o.action],Object.getOwnPropertyDescriptor(x.prototype,"handleRefinementOptionClick"),x.prototype),x))}))
define("msg-ui/components/messaging-gai/gai-intro-tooltip",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@ember/object","@ember/debug","msg-ui/utils/fix-hoverable-position","@ember/service","@ember/destroyable","@glimmer/tracking","artdeco-hoverables/components/artdeco-hoverable-trigger","@glimmer/component","hue-web-icons/components/icon","@ember/helper"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,v,y,_,w,M,k,S,T,D
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"jfxrgHq8",block:'[[[1,"\\n"],[41,[30,0,["legoTrackingToken"]],[[[1,"      "],[8,[32,0],null,[["@on","@placement"],["init","top"]],[["default"],[[[[1,"\\n        "],[8,[30,1,["artdeco-hoverable-content"]],null,[["@onDismissPressed","@onShow","@contentClass"],[[30,0,["handleTooltipDismiss"]],[30,0,["handleTooltipShow"]],[30,0,["HOVERABLE_CONTENT_CLASS"]]]],[["default"],[[[[1,"\\n"],[1,"          "],[10,0],[15,0,[52,[30,0,["isDarkModeEnabled"]],"hue-web-color-scheme--light","hue-web-color-scheme--dark"]],[12],[1,"\\n"],[1,"            "],[8,[32,1],null,[["@a11yText","@type","@size","@name"],["Premium","logo","xxxsmall","premium-badge"]],null],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"msg-gai-intro-tooltip__message"],[12],[1,"\\n            "],[1,[30,2]],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n        "],[18,3,[[28,[32,2],null,[["handlePrimaryAction"],[[30,0,["handlePrimaryAction"]]]]]]],[1,"\\n      "]],[1]]]]],[1,"\\n"]],[]],[[[1,"      "],[18,3,null],[1,"\\n"]],[]]],[1,"  "]],["trigger","@text","&default"],false,["if","yield"]]',moduleName:"msg-ui/components/messaging-gai/gai-intro-tooltip.gjs",scope:()=>[p.default,h.default,f.hash],isStrictMode:!0}),(b=(0,c.inject)("lego@tracking"),v=(0,c.inject)("lego@resolver"),y=(0,c.inject)("global-services@theme"),_=(0,c.inject)("msg-ui@messaging-gai/gai-tooltip-manager"),w=class extends g.default{get isDarkModeEnabled(){const{theme:e}=this.theme
return"dark"===e}constructor(){super(...arguments);(0,t.default)(this,"legoTracking",M,this);(0,t.default)(this,"legoResolver",k,this);(0,t.default)(this,"theme",S,this);(0,t.default)(this,"tooltipManager",T,this);(0,i.default)(this,"HOVERABLE_CONTENT_CLASS","msg-gai-intro-tooltip__content");(0,t.default)(this,"legoTrackingToken",D,this)
const{legoConfig:e}=this.args
this.tooltipManager.canShowTooltip(e)&&this.legoResolver.fireLegoCall(e,!1,!0).then((e=>{(0,u.isDestroying)(this)||e&&(this.legoTrackingToken=e.trackingToken)}))}handleTooltipShow(){(0,d.fixHoverablePosition)(`.${this.HOVERABLE_CONTENT_CLASS}`)
this.legoTracking.sendLegoImpression(this.legoTrackingToken,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}handleTooltipDismiss(){this.legoTracking.sendLegoAction(this.legoTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS)}handlePrimaryAction(){this.legoTracking.sendLegoAction(this.legoTrackingToken,this.legoTracking.LEGO_ACTION_PRIMARY)}},M=(0,n.default)(w.prototype,"legoTracking",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,n.default)(w.prototype,"legoResolver",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,n.default)(w.prototype,"theme",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,n.default)(w.prototype,"tooltipManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,n.default)(w.prototype,"legoTrackingToken",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(w.prototype,"handleTooltipShow",[o.action],Object.getOwnPropertyDescriptor(w.prototype,"handleTooltipShow"),w.prototype),(0,n.default)(w.prototype,"handleTooltipDismiss",[o.action],Object.getOwnPropertyDescriptor(w.prototype,"handleTooltipDismiss"),w.prototype),(0,n.default)(w.prototype,"handlePrimaryAction",[o.action],Object.getOwnPropertyDescriptor(w.prototype,"handlePrimaryAction"),w.prototype),w))}))
define("msg-ui/components/messaging-gai/gai-skeleton-loader",["exports","@ember/template-factory","@ember/helper","@ember/component/template-only","@ember/component","scaffold-skeleton/components/skeleton","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-tracking/modifiers/track-render"],(function(e,t,i,n,s,a,r,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const l=new Array(4).fill(),d=(0,s.setComponentTemplate)((0,t.createTemplateFactory)({id:"bCoXi7Ut",block:'[[[1,"\\n"],[1,"  "],[11,0],[24,0,"msg-gai-skeleton-loader"],[4,[32,0],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_gai_compose_loading_state",[28,[32,1],[[53,"outletState"],"render.name"],null],[28,[32,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n    "],[8,[32,2],[[24,0,"text-align-center"]],null,[["default"],[[[[1,"\\n      "],[8,[30,1,["Container"]],null,[["@margin"],["2"]],[["default"],[[[[1,"\\n"],[42,[28,[31,2],[[28,[31,2],[[32,3]],null]],null],null,[[[1,"          "],[8,[30,1,["Text"]],[[24,0,"msg-gai-skeleton-loader__row"]],null,null],[1,"\\n"]],[]],null],[1,"      "]],[]]]]],[1,"\\n\\n      "],[10,0],[12],[1,"\\n        "],[10,2],[14,0,"text-body-medium mb1"],[12],[1,"\\n"],[41,[30,2],[[[1,"            "],[1,[28,[32,4],["i18n_drafting_message_for","msg-ui/components/messaging-gai/gai-skeleton-loader"],null]],[1,"\\n"]],[]],[[[41,[30,3],[[[1,"            "],[1,[28,[32,4],["i18n_drafting_message_to","msg-ui/components/messaging-gai/gai-skeleton-loader"],null]],[1,"\\n          "]],[]],null]],[]]],[1,"        "],[13],[1,"\\n        "],[10,2],[14,0,"t-black--light"],[12],[1,"\\n"],[41,[30,2],[[[1,"            "],[1,[28,[32,4],["i18n_quote","msg-ui/components/messaging-gai/gai-skeleton-loader"],[["quote"],[[30,2]]]]],[1,"\\n"]],[]],[[[41,[30,3],[[[1,"            "],[1,[30,3]],[1,"\\n          "]],[]],null]],[]]],[1,"        "],[13],[1,"\\n      "],[13],[1,"\\n    "]],[1]]]]],[1,"\\n  "],[13],[1,"\\n"]],["Bones","@promptText","@recipientName"],false,["-get-dynamic-var","each","-track-array","if"]]',moduleName:"msg-ui/components/messaging-gai/gai-skeleton-loader.gjs",scope:()=>[o.default,i.get,a.default,l,r.default],isStrictMode:!0}),(0,n.default)("gai-skeleton-loader","GaiSkeletonLoader"))
e.default=d}))
define("msg-ui/components/messaging-gai/gai-smart-action",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component/template-only","@ember/component","@ember/object","@ember/helper","premium-gai/utils/constants","@ember/service","@ember/destroyable","@ember/modifier","@glimmer/component","artdeco-button/components/artdeco-button","hue-web-icons/components/icon","msg-ui/components/messaging-gai/gai-intro-tooltip","global-helpers/helpers/or","ember-cli-pemberly-tracking/modifiers/track-impression","ember-cli-pemberly-tracking/modifiers/track-interaction","ember-cli-pemberly-tracking/modifiers/track-view","ember-cli-pemberly-i18n/helpers/t","s-upsell/components/upsell-templates-v2/upsell-template-container-v2","button-appearance/components/button-appearance"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M,k,S){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var T,D,I
const C=Object.freeze({pageKey:"premium_tooltip_messaging",slotId:"premium_tooltip_messaging_mw",groupId:"premium_tooltip_messaging_mw",widgetId:"premium_tooltip:mw_messaging"})
e.default=(0,o.setComponentTemplate)((0,a.createTemplateFactory)({id:"IL3URWWy",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],null,[["@legoConfig","@text"],[[32,1],[28,[32,2],["i18n_draft_with_ai","msg-ui/components/messaging-gai/gai-smart-action"],null]]],[["default"],[[[[1,"\\n"],[41,[30,2],[[[1,"        "],[8,[32,3],null,[["@upsellCard","@defaultConfig"],[[30,2],[28,[32,4],null,[["isCustomTrigger"],[true]]]]],[["default"],[[[[1,"\\n          "],[8,[30,3,["trigger"]],null,null,[["default"],[[[[1,"\\n            "],[8,[32,5],[[17,4]],[["@controlName","@onImpression","@onClick","@shouldUsePremiumChipIcon","@shouldUseTertiaryButton","@disabled"],[[30,0,["controlName"]],[30,0,["firePageViewEvent"]],[28,[32,6],[[30,0,["handleClick"]],[30,1,["handlePrimaryAction"]],[30,3,["openModal"]]],null],true,[30,5],[30,6]]],null],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[3]]]]],[1,"\\n"]],[]],[[[41,[30,7],[[[44,[[52,[30,7,["controlName"]],[30,7,["controlName"]],[30,0,["controlName"]]]],[[[1,"            "],[8,[32,7],[[24,0,"msg-gai-smart-action__button msg-gai-smart-action__button--gold-icon"],[16,"data-view-name",[32,8,["ENTRY_POINT_BUTTON"]]],[24,4,"button"],[4,[32,10],[[30,8]],null],[4,[32,11],[[30,0,["firePageViewEvent"]]],[["eager","routeName","currentRoute"],[true,[28,[32,12],[[53,"outletState"],"render.name"],null],[28,[32,12],[[53,"outletState"],"render"],null]]]],[4,[32,13],null,[["viewName","contentTrackingId","routeName","currentRoute"],[[32,8,["ENTRY_POINT_BUTTON"]],[30,7,["contentTrackingId"]],[28,[32,12],[[53,"outletState"],"render.name"],null],[28,[32,12],[[53,"outletState"],"render"],null]]]]],[["@appearance","@onClick","@disabled"],[[28,[32,9],[[30,7,["appearance"]],[30,7,["apperance"]]],null],[28,[32,6],[[30,0,["handleClick"]],[30,1,["handlePrimaryAction"]]],null],[30,6]]],null],[1,"\\n"]],[8]]]],[]],[[[1,"          "],[8,[32,5],[[17,4]],[["@controlName","@onImpression","@onClick","@shouldUseTertiaryButton","@disabled"],[[30,0,["controlName"]],[30,0,["firePageViewEvent"]],[28,[32,6],[[30,0,["handleClick"]],[30,1,["handlePrimaryAction"]]],null],[30,5],[30,6]]],null],[1,"\\n"]],[]]]],[]]],[1,"    "]],[1]]]]],[1,"\\n  "]],["tooltip","@upsellCard","upsellModal","&attrs","@shouldUseTertiaryButton","@disabled","@cta","controlName"],false,["if","let","-get-dynamic-var"]]',moduleName:"msg-ui/components/messaging-gai/gai-smart-action.gjs",scope:()=>[b.default,C,M.default,k.default,d.hash,x,d.fn,S.default,c.PREMIUM_GAI_TRACKING_VIEW_NAMES,v.default,_.default,y.default,d.get,w.default],isStrictMode:!0}),(T=(0,u.inject)("tracking"),D=class extends g.default{constructor(){super(...arguments);(0,t.default)(this,"tracking",I,this)}get interactionTrackingPrefix(){return this.args.isInMailCompose?"msg_inmail":"msg_mebc"}get controlName(){return`${this.interactionTrackingPrefix}-gai_entry_point_click`}firePageViewEvent(){if((0,m.isDestroying)(this))return[]
this.tracking.firePageViewEvent("flagship3_messaging_gai_compose_entry_point")
return[]}handleClick(){for(var e,t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s]
n.forEach((e=>"function"==typeof e&&e()))
null===(e=(t=this.args).onClick)||void 0===e||e.call(t)}},I=(0,n.default)(D.prototype,"tracking",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(D.prototype,"firePageViewEvent",[l.action],Object.getOwnPropertyDescriptor(D.prototype,"firePageViewEvent"),D.prototype),(0,n.default)(D.prototype,"handleClick",[l.action],Object.getOwnPropertyDescriptor(D.prototype,"handleClick"),D.prototype),D))
const x=(0,o.setComponentTemplate)((0,a.createTemplateFactory)({id:"VZyfFmjn",block:'[[[1,"\\n"],[1,"  "],[8,[32,0],[[16,0,[29,["msg-gai-smart-action__button\\n      ",[52,[51,[30,1]],"msg-gai-smart-action__button--gold-icon"]]]],[17,2],[16,"data-view-name",[32,1,["ENTRY_POINT_BUTTON"]]],[4,[32,2],["click",[30,5]],null],[4,[32,3],[[30,6]],null],[4,[32,4],[[30,7]],[["eager","routeName","currentRoute"],[true,[28,[32,5],[[53,"outletState"],"render.name"],null],[28,[32,5],[[53,"outletState"],"render"],null]]]],[4,[32,6],null,[["viewName","routeName","currentRoute"],[[32,1,["ENTRY_POINT_BUTTON"]],[28,[32,5],[[53,"outletState"],"render.name"],null],[28,[32,5],[[53,"outletState"],"render"],null]]]]],[["@type","@color","@controlType","@disabled"],[[52,[30,3],"tertiary","secondary"],"muted","button",[30,4]]],[["default"],[[[[1,"\\n    "],[10,1],[15,0,[29,["display-flex align-items-center\\n        ",[52,[30,3],"text-body-medium-bold","text-body-small-bold"]]]],[12],[1,"\\n"],[41,[30,1],[[[1,"        "],[8,[32,7],[[24,0,"msg-gai-smart-action__icon"]],[["@type","@size","@name"],["system","small","premium-chip-v2"]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[32,7],[[24,0,"msg-gai-smart-action__icon"]],[["@type","@size","@name"],["system","small","signal-ai"]],null],[1,"\\n"]],[]]],[41,[30,8],[[[1,"        "],[1,[28,[32,8],["i18n_rewrite_with_ai","msg-ui/components/messaging-gai/gai-smart-action"],null]],[1,"\\n"]],[]],[[[1,"        "],[1,[28,[32,8],["i18n_write_with_ai","msg-ui/components/messaging-gai/gai-smart-action"],null]],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],["@shouldUsePremiumChipIcon","&attrs","@shouldUseTertiaryButton","@disabled","@onClick","@controlName","@onImpression","@isRewrite"],false,["unless","if","-get-dynamic-var"]]',moduleName:"msg-ui/components/messaging-gai/gai-smart-action.gjs",scope:()=>[h.default,c.PREMIUM_GAI_TRACKING_VIEW_NAMES,p.on,_.default,y.default,d.get,w.default,f.default,M.default],isStrictMode:!0}),(0,r.default)("gai-smart-action","SmartActionButton"))}))
define("msg-ui/components/messaging-gai/gai-suggestion-modal",["exports","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/template-factory","@ember/component","@ember/object","@glimmer/component","artdeco-modal/components/artdeco-modal","ember-cli-pemberly-i18n/helpers/t","global-utils/utils/trusted-html-safe","artdeco-button/components/artdeco-button","@ember/modifier","@ember/helper"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p
e.default=(0,s.setComponentTemplate)((0,n.createTemplateFactory)({id:"b85Lw/LB",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],null,[["@modalClasses","@isOpen","@dismissModal","@size"],["ad-choice-modal",[30,1],[30,0,["dismissModal"]],"medium"]],[["default"],[[[[1,"\\n      "],[8,[30,2,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n        "],[10,"h1"],[14,0,"t-sans t-20 t-black t-normal"],[14,1,"ad-choice-modal-header"],[12],[1,"\\n          "],[1,[28,[32,1],["i18n_ai_generated_text","msg-ui/components/messaging-gai/gai-suggestion-modal"],null]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[30,2,["artdeco-modal-content"]],[[24,"classNames","t-black"]],null,[["default"],[[[[1,"\\n        "],[1,[30,0,["suggestedText"]]],[1,"\\n        "],[8,[32,2],[[4,[32,3],["click",[28,[32,4],[[30,3],[30,0,["suggestedText"]]],null]],null]],[["@size","@text","@class","@type"],[2,[28,[32,1],["i18n_apply_text","msg-ui/components/messaging-gai/gai-suggestion-modal"],null],"mv4","primary"]],null],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[2]]]]],[1,"\\n  "]],["@isOpen","modal","@applySuggestedText"],false,[]]',moduleName:"msg-ui/components/messaging-gai/gai-suggestion-modal.gjs",scope:()=>[o.default,l.default,c.default,u.on,m.fn],isStrictMode:!0}),(p=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"suggestedText",(0,d.default)("Hello Charlie,\n    I hope you're doing well. I came across the job posting you shared and I’m really interested in learning more about the role. Could you kindly provide additional details regarding the responsibilities and the skills required? I believe my background could be a great fit, and I'd love to explore this opportunity further.\n    \n    Looking forward to hearing from you!\n    \n    Anjana Ramji"))}dismissModal(){this.args.dismissModal()}},(0,i.default)(p.prototype,"dismissModal",[a.action],Object.getOwnPropertyDescriptor(p.prototype,"dismissModal"),p.prototype),p))}))
define("msg-ui/components/messaging-gai/gai-suggestions",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/component","artdeco-button/components/artdeco-button","@ember/object","artdeco-dropdown/components/artdeco-dropdown","artdeco-dropdown/components/artdeco-dropdown-item","ember-cli-pemberly-i18n/helpers/t","@ember/modifier","@glimmer/tracking","global-utils/utils/trusted-html-safe","@ember/helper","ember-set-helper/helpers/set","msg-ui/components/messaging-gai/gai-suggestion-modal"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,_,w,M
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"VK80b2xq",block:'[[[1,"\\n"],[1,"    "],[10,0],[14,0,"msg-form__right-actions display-flex"],[12],[1,"\\n      "],[8,[32,0],[[4,[32,2],["click",[28,[32,3],[[30,0,["handleButtonClick"]],[30,0,["grammarText"]]],null]],null]],[["@class","@disabled","@size","@type","@controlType","@color","@circle","@icon","@text","@title","@aria-label"],["msg-form__footer-action",[30,1],1,"tertiary","button","muted",true,"pencil",[28,[32,1],["i18n_spell_check","msg-ui/components/messaging-gai/gai-suggestions"],null],[28,[32,1],["i18n_spell_check","msg-ui/components/messaging-gai/gai-suggestions"],null],[28,[32,1],["i18n_spell_check","msg-ui/components/messaging-gai/gai-suggestions"],null]]],null],[1,"\\n\\n"],[41,[30,0,["isModalOpen"]],[[[1,"        "],[8,[32,4],null,[["@isOpen","@dismissModal","@applySuggestedText"],[[30,0,["isModalOpen"]],[28,[32,5],[[30,0],"isModalOpen",false],null],[30,0,["handleButtonClick"]]]],null],[1,"\\n"]],[]],null],[1,"\\n      "],[8,[32,0],[[4,[32,2],["click",[30,0,["openModal"]]],null]],[["@class","@disabled","@size","@type","@controlType","@color","@circle","@icon","@text","@title","@aria-label"],["msg-form__footer-action",[30,1],1,"tertiary","button","muted",true,"lightbulb",[28,[32,1],["i18n_messaging_suggestions","msg-ui/components/messaging-gai/gai-suggestions"],null],[28,[32,1],["i18n_messaging_suggestions","msg-ui/components/messaging-gai/gai-suggestions"],null],[28,[32,1],["i18n_messaging_suggestions","msg-ui/components/messaging-gai/gai-suggestions"],null]]],null],[1,"\\n\\n      "],[8,[32,6],null,[["@isOpen","@onVisibilityChange","@placement","@justification"],[[30,0,["isDropdownOpen"]],[28,[32,5],[[30,0],"isDropdownOpen"],null],"top","right"]],[["default"],[[[[1,"\\n        "],[8,[30,2,["dropdown-trigger"]],null,null,[["default"],[[[[1,"\\n          "],[8,[32,0],null,[["@class","@disabled","@size","@type","@controlType","@color","@circle","@icon","@text","@title","@aria-label"],["msg-form__footer-action",[30,1],1,"tertiary","button","muted",true,"language",[28,[32,1],["i18n_translate","msg-ui/components/messaging-gai/gai-suggestions"],null],[28,[32,1],["i18n_translate","msg-ui/components/messaging-gai/gai-suggestions"],null],[28,[32,1],["i18n_translate","msg-ui/components/messaging-gai/gai-suggestions"],null]]],null],[1,"\\n        "]],[]]]]],[1,"\\n\\n        "],[8,[30,2,["dropdown-content"]],null,[["@justification"],["right"]],[["default"],[[[[1,"\\n          "],[10,0],[14,0,"global-nav__app-launcher-menu-content-inner"],[12],[1,"\\n            "],[10,"header"],[12],[1,"\\n              "],[1,[28,[32,1],["i18n_available_languages","msg-ui/components/messaging-gai/gai-suggestions"],null]],[1,"\\n            "],[13],[1,"\\n            "],[8,[32,7],null,[["@classNames","@itemSelected"],["display-flex align-items-center",[28,[32,3],[[30,0,["handleButtonClick"]],[30,0,["spanishText"]]],null]]],[["default"],[[[[1,"\\n              "],[1,[28,[32,1],["i18n_spanish","msg-ui/components/messaging-gai/gai-suggestions"],null]],[1,"\\n            "]],[]]]]],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[2]]]]],[1,"\\n    "],[13],[1,"\\n  "]],["@disabled","dropdown"],false,["if"]]',moduleName:"msg-ui/components/messaging-gai/gai-suggestions.gjs",scope:()=>[l.default,m.default,p.on,f.fn,v.default,b.default,c.default,u.default],isStrictMode:!0}),(y=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"disabled",_,this);(0,t.default)(this,"isDropdownOpen",w,this);(0,t.default)(this,"isModalOpen",M,this);(0,i.default)(this,"grammarText",(0,h.default)("Hello, I am interested in the job you posted. Can you tell me more about it?"));(0,i.default)(this,"spanishText",(0,h.default)("Hola Charlie,\n  Espero que estés bien. Vi la oferta de trabajo que compartiste y estoy muy interesado en saber más sobre el puesto. ¿Podrías proporcionarme más detalles sobre las responsabilidades y las habilidades requeridas? Creo que mi experiencia podría encajar bien y me encantaría explorar esta oportunidad más a fondo.\n  \n  ¡Espero tu respuesta!\n  \n  Anjana Ramji"))}handleButtonClick(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Hlo, I am intrested in the job you posted. Can you tell me more abt it?",t=arguments.length>1?arguments[1]:void 0
t.stopPropagation()
t.preventDefault()
this.isDropdownOpen&&(this.isDropdownOpen=!1)
this.isModalOpen&&(this.isModalOpen=!1)
this.args.onClick({body:e})}openModal(){this.isModalOpen=!0}},_=(0,n.default)(y.prototype,"disabled",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=(0,n.default)(y.prototype,"isDropdownOpen",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=(0,n.default)(y.prototype,"isModalOpen",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(y.prototype,"handleButtonClick",[d.action],Object.getOwnPropertyDescriptor(y.prototype,"handleButtonClick"),y.prototype),(0,n.default)(y.prototype,"openModal",[d.action],Object.getOwnPropertyDescriptor(y.prototype,"openModal"),y.prototype),y))}))
define("msg-ui/components/msg-edit-form/edit-message-footer-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@ember/service","@ember/object","@glimmer/component","@ember/destroyable","msg-ui/components/msg-form/base-form-feature","msg-ui/components/msg-form/primitives/character-limit-banner","ember-cli-pemberly-i18n/helpers/t","emoji-picker/components/emoji-hoverable","artdeco-button/components/artdeco-button","@ember/modifier","ember-cli-pemberly-tracking/modifiers/track-interaction"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,_,w,M,k,S,T
e.default=(0,o.setComponentTemplate)((0,a.createTemplateFactory)({id:"01uqrihV",block:'[[[1,"\\n"],[1,"    "],[10,0],[14,0,"msg-edit-form"],[12],[1,"\\n      "],[8,[32,0],[[24,0,"msg-edit-form__base-form"]],[["@conversation","@prefilledMessage","@isMessageEditForm","@validateForm","@submitMessage"],[[30,1],[30,2],true,[30,0,["validateFormForEdits"]],[30,0,["onSaveEditedMessage"]]]],[["default"],[[[[1,"\\n"],[41,[30,5,["isOverCharLimit"]],[[[1,"          "],[8,[32,1],null,[["@isEditForm"],[true]],null],[1,"\\n"]],[]],null],[1,"        "],[10,0],[14,0,"t-14 t-black pl3 pv2"],[12],[1,"\\n          "],[1,[28,[32,2],["i18n_edit_message","msg-ui/components/msg-edit-form/edit-message-footer-presenter"],null]],[1,"\\n        "],[13],[1,"\\n"],[41,[30,5,["showMentionsPicker"]],[[[1,"          "],[8,[30,3,["mentionsPickerPresenter"]],null,null,null],[1,"\\n"]],[]],null],[1,"        "],[10,0],[14,0,"msg-edit-form__content-container ph3"],[12],[1,"\\n          "],[8,[30,3,["messageContentContainerPresenter"]],[[24,0,"msg-form__message-texteditor msg-edit-form__message-texteditor relative flex-grow-1 display-flex"]],[["@expandButtonSize"],[1]],null],[1,"\\n        "],[13],[1,"\\n        "],[10,"footer"],[14,0,"msg-edit-form__footer flex-shrink-zero"],[12],[1,"\\n          "],[10,0],[14,0,"msg-form__left-actions display-flex"],[12],[1,"\\n            "],[8,[32,3],null,[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@onHoverableHide","@size","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses"],[true,[30,4,["updateTextarea"]],"msg_pillar_emoji",[30,4,["focusTextarea"]],2,"msg.close_emoji_picker","msg.open_emoji_picker","msg.select_emoji","msg.select_searched_emoji","msg-form__footer-action"]],null],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"msg-form__right-actions display-flex align-items-center"],[12],[1,"\\n            "],[8,[32,4],[[4,[32,5],["click",[30,6]],null]],[["@class","@controlType","@size","@type","@text"],["msg-edit-form__dismiss-button","button",1,"secondary",[28,[32,2],["i18n_cancel_button","msg-ui/components/msg-edit-form/edit-message-footer-presenter"],null]]],null],[1,"\\n            "],[8,[32,4],[[4,[32,6],[[30,7]],null]],[["@class","@controlType","@size","@text","@disabled"],["msg-edit-form__save-button ml1","submit",1,[28,[32,2],["i18n_save_button","msg-ui/components/msg-edit-form/edit-message-footer-presenter"],null],[52,[30,5,["enableSend"]],false,true]]],null],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "]],[3,4,5]]]]],[1,"\\n    "],[13],[1,"\\n  "]],["@conversation","@prefilledMessage","components","actions","props","@onDismissEditForm","@saveEditControlName"],false,["if"]]',moduleName:"msg-ui/components/msg-edit-form/edit-message-footer-presenter.gjs",scope:()=>[m.default,p.default,g.default,h.default,f.default,b.on,v.default],isStrictMode:!0}),(y=(0,l.inject)("msg-data@data-manager"),_=(0,l.inject)("persistent-toast-manager@persistent-toast-manager"),w=(0,l.inject)("i18n"),M=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",k,this);(0,t.default)(this,"persistentToastManager",S,this);(0,t.default)(this,"i18n",T,this)}_showEditErrorToast(e){const t=e||"i18n_edit_generic_error",i=this.i18n.lookupTranslation("components/msg-ui@msg-edit-form/edit-message-footer-presenter",t)()
this.persistentToastManager.error({message:i})}onSaveEditedMessage(e){const{eventCreatedAt:t,conversationUrn:i,eventUrn:n}=this.args.viewData
if(s=t,Date.now()-s>36e5)this._showEditErrorToast("i18n_edit_timebox_expired_error")
else{this.args.onDismissEditForm()
i&&n&&e&&e.text||this._showEditErrorToast()
this.msgDataManager.editMessage(i,n,e).catch((e=>{var t
null!==(t=e.message)&&void 0!==t&&t.indexOf("DISALLOW_EDIT_OF_DELETED_CONTENT")&&this.msgDataManager.syncConversationMessages(i)
this._showEditErrorToast()
if((0,u.isDestroying)(this))throw e
throw e}))}var s}validateFormForEdits(e){return this.args.prefilledMessage!==e}},k=(0,n.default)(M.prototype,"msgDataManager",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,n.default)(M.prototype,"persistentToastManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,n.default)(M.prototype,"i18n",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(M.prototype,"onSaveEditedMessage",[d.action],Object.getOwnPropertyDescriptor(M.prototype,"onSaveEditedMessage"),M.prototype),(0,n.default)(M.prototype,"validateFormForEdits",[d.action],Object.getOwnPropertyDescriptor(M.prototype,"validateFormForEdits"),M.prototype),M))}))
define("msg-ui/components/msg-form/base-form-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","tracked-built-ins","msg-ui/utils/messaging-gai/messaging-gai-constants","@ember/destroyable","msg-typeahead/viewdata/graphql-possible-recipient-viewdata","scaffold-sound/services/sound","msg-ui/utils/attributed-text-helpers","msg-ui/viewdata/sdk-base-form-viewdata","tracked-toolbox","msg-ui/utils/mentions-helper","ember-lifeline","global-helpers/helpers/load","@linkedin/ember-m3-pdsc-model-builder","msg-shared/utils/decorate-attributed-body","rsvp","msg-shared/utils/attachments-handler","global-utils/utils/is-browser","msg-ui/utils/attributed-text-manager","msg-shared/utils/constants","global-utils/utils/api-compat","@ember-decorators/object","@glimmer/tracking","@glimmer/component","@ember/object/internals","@ember/object","@ember/utils","ember","@ember/service","@ember/modifier","@ember/render-modifiers/modifiers/did-insert","@ember/render-modifiers/modifiers/did-update","global-helpers/helpers/lazy-hash","msg-cross-pillar/components/uploaded-attachment-list-presenter","msg-cross-pillar/components/upload-attachment-presenter","msg-ui/components/rich-media/attachment-drag-and-drop-presenter","msg-ui/components/rich-media/attachment-drag-and-drop-error-presenter","msg-ui/components/msg-form/primitives/msg-content-container-presenter","msg-mentions/components/mentions-picker-presenter","msg-ui/components/msg-form/primitives/send-controls-presenter","msg-cross-pillar/components/send-mode-toggle-presenter","msg-conversation-ui/components/inmail-credits-presenter","msg-mentions/components/mention-to-invite-toast-presenter","msg-ui/components/messaging-gai/gai-smart-action","msg-ui/components/messaging-gai/gai-suggestions","@ember/helper","artdeco-modal/components/artdeco-confirmation-dialog","ember-cli-pemberly-i18n/helpers/t","ember-set-helper/helpers/set","msg-shared/utils/pem-config","global-utils/utils/array/remove","premium-gai/utils/constants"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M,k,S,T,D,I,C,x,E,P,A,O,R,U,N,j,F,G,L,z,B,V,H,q,W,K,$,Y,Q,J,Z,X,ee,te,ie,ne){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var se,ae,re,oe,le,de,ce,ue,me,pe,ge,he,fe,be,ve,ye,_e,we,Me,ke,Se,Te,De,Ie,Ce,xe,Ee,Pe,Ae,Oe,Re,Ue,Ne,je,Fe,Ge,Le,ze,Be,Ve,He,qe,We,Ke,$e,Ye,Qe,Je,Ze,Xe,et,tt,it,nt
const{CONTROL_NAMES:{MENTIONS:{OPEN_DROPDOWN:st,SELECT_MENTION:at}},KEYCODES:{TAB:rt,ENTER:ot,ESC:lt,SPACEBAR:dt,UP_ARROW:ct,DOWN_ARROW:ut,Z:mt}}=T.default,pt=/(?:^|\s)([@](?:\S+\s)?(?:\S+\s)?\S*$)/
e.default=(0,o.setComponentTemplate)((0,r.createTemplateFactory)({id:"Qp47+U5C",block:'[[[1,"\\n"],[1,"    "],[11,"form"],[16,1,[29,[[30,0,["formId"]]]]],[16,0,[29,[[52,[30,1],"msg-form--is-fully-expanded"],"\\n        msg-form"]]],[17,2],[4,[32,0],["click",[30,0,["onClick"]]],null],[4,[32,0],["submit",[30,0,["onSubmit"]]],null],[4,[32,0],["change",[30,0,["onChange"]]],null],[4,[32,0],["focusout",[30,0,["onFocusOut"]]],null],[4,[32,0],["focusin",[30,0,["onFocusIn"]]],null],[4,[32,1],[[30,0,["baseFormAfterInsert"]]],null],[4,[32,2],[[30,0,["checkForReset"]],[30,3],[30,4],[30,5],[30,6],[30,7],[30,8],[30,9],[30,10],[30,11],[30,12],[30,13],[30,14],[30,15],[30,16],[30,17],[30,18]],null],[4,[32,2],[[30,0,["handleSubjectUpdate"]],[30,19]],null],[4,[32,2],[[30,0,["handleGaiMessageAsyncDataUpdate"]],[30,20,["state"]]],null],[4,[32,2],[[30,0,["handleGaiStreamingUpdate"]],[30,21],[30,22]],null],[4,[32,2],[[30,0,["handlePrefilledMessageUpdate"]],[30,15]],null],[12],[1,"\\n"],[41,[48,[30,39]],[[[1,"        "],[18,39,[[28,[32,3],null,[["uploadedAttachmentListPresenter","uploadAttachmentPresenter","attachmentDragAndDropPresenter","attachmentDragAndDropErrorPresenter","messageContentContainerPresenter","mentionsPickerPresenter","sendControlsPresenter","sendModeTogglePresenter","inmailCreditsPresenter","mentionToInviteToastPresenter","gaiSmartAction","gaiSuggestions"],[[50,[32,4],0,null,[["attachments","removeAttachment"],[[30,0,["attachments"]],[30,0,["removeAttachment"]]]]],[50,[32,5],0,null,[["addAttachment","attachmentAdded","beforeUpload","afterUpload","triggerDragAndDropLayer"],[[30,0,["addAttachment"]],[30,0,["onAttachmentAdded"]],[30,0,["onBeforeUpload"]],[30,0,["onAttachmentAdded"]],[30,0,["triggerDragAndDropLayer"]]]]],[50,[32,6],0,null,[["showUserEducationLayer","addAttachment","beforeUpload","afterUpload","onError"],[[30,0,["showDragAndDropUserEducationLayer"]],[30,0,["addAttachment"]],[30,0,["onBeforeUpload"]],[30,0,["afterDragAndDropUpload"]],[30,0,["handleAttachmentDropError"]]]]],[50,[32,7],0,null,[["errorType","dismissError"],[[30,0,["attachmentDropErrorType"]],[30,0,["dismissAttachmentDropError"]]]]],[50,[32,8],0,null,[["forwardedMessageViewData","overridePlaceholder","showPlaceholder","isInMailCompose","subject","handleKeyDown","messageSendInProgress","hasResharedContent","isOriginalSize","generateGaiMessage","onGaiRefreshClick","gaiUpsellCard","gaiIntents","gaiMessageAsyncData","gaiStreamingStatus","gaiStreamingMessage","gaiSuggestionsLoader","gaiRefinementOptionsAsyncData","currentInputText","isPrefilledFromEntryPointOrTemplate","isPrefilledMessageNotEdited","onCancelGaiMessageGeneration","onEnterGaiFlow","onRefineGaiMessage","onUndoGaiMessage","onGaiCardVisibilityChanged","onDismissGaiModule","hasEnteredGaiFlow","canUndoGaiMessage","canRefreshGaiMessage","gaiLoaderPromptText","gaiLoaderRecipientName","enableSend","disableExpandComposeButton"],[[30,0,["viewData","forwardedMessageViewData"]],[30,0,["_overridePlaceholder"]],[30,0,["showPlaceholder"]],[30,23],[30,19],[30,0,["onTextEditorKeyDown"]],[30,0,["messageSendInProgress"]],[30,8],[30,24],[30,25],[30,0,["refreshGaiMessage"]],[30,26,["value"]],[30,27,["value"]],[30,20],[30,21],[30,22],[30,0,["gaiSuggestionsLoader"]],[30,28],[30,0,["currentInputText"]],[30,0,["isPrefilledFromEntryPointOrTemplate"]],[30,0,["isPrefilledMessageNotEdited"]],[30,29],[30,30],[30,31],[30,32],[30,0,["handleGaiModuleVisibilityChanged"]],[30,0,["handleDismissGaiModule"]],[30,0,["hasEnteredGaiFlow"]],[30,33],[30,34],[30,35],[30,36],[30,0,["enableSend"]],[30,37]]]],[50,[32,9],0,null,[["viewData","mentionsTopPosition","mentionAll","showMentionAllOption","isTabbingThroughMentions","onKeyDown","selectMentionWithKeyDown","selectMention","closeMentions"],[[30,0,["viewData","mentionsPickerViewData"]],[30,0,["mentionsTopPosition"]],[30,0,["mentionAll"]],[30,0,["showMentionAllOption"]],[30,0,["isTabbingThroughMentions"]],[30,0,["onMentionsPickerKeyDown"]],[30,0,["selectMentionWithKeyDown"]],[30,0,["selectMention"]],[30,0,["closeMentions"]]]]],[50,[32,10],0,null,[["enableSend"],[[30,0,["enableSend"]]]]],[50,[32,11],0,null,[["isInMailCompose"],[[30,23]]]],[50,[32,12],0,null,null],[50,[32,13],0,null,[["viewData","membersToInvite","onToastDismiss"],[[30,0,["viewData","mentionToInviteToastViewData"]],[30,0,["membersToInvite"]],[30,0,["onMentionToInviteDismiss"]]]]],[50,[32,14],0,null,[["cta","upsellCard","onClick","isInMailCompose","shouldUseTertiaryButton","disabled"],[[30,0,["gaiEntryPointCta"]],[30,26,["value"]],[30,0,["handleGaiEntryPointClick"]],[30,23],true,[30,0,["isGaiEntryPoinDisabled"]]]]],[50,[32,15],0,null,[["onClick"],[[30,0,["clearAndUpdateTextArea"]]]]]]]],[28,[32,16],null,[["beforeUpload","validateForm","attachmentAdded","focusTextarea","addAttachment","updateTextarea","updateTextareaWithEmoji","focusComposeAfterEmojiPickerClose","handleGIFSend","toggleExpandComposeField","onSubmit","setEnterToSendSetting"],[[30,0,["onBeforeUpload"]],[30,0,["onValidateForm"]],[30,0,["onAttachmentAdded"]],[30,0,["focusTextarea"]],[30,0,["addAttachment"]],[30,0,["updateTextarea"]],[30,0,["updateTextareaWithEmoji"]],[30,0,["focusComposeAfterEmojiPickerClose"]],[30,0,["handleGIFSend"]],[30,38],[30,0,["onSubmit"]],[30,0,["setEnterToSendSetting"]]]]],[28,[32,16],null,[["attributedTextModel","showMentionsPicker","showMiniAttachmentPreviews","attachments","overridePlaceholder","showPlaceholder","isValidForm","isOverCharLimit","pressEnterToSend","isNotInmail","supportedFileAttachmentTypes","supportedImageAttachmentTypes","attachmentDropErrorType","enableSend","subjectDisplay","currentInputText","isGaiModuleVisible","shouldShowGaiPermEntryPoint"],[[30,0,["attributedTextModel"]],[30,0,["showMentionsPicker"]],[30,0,["showMiniAttachmentPreviews"]],[30,0,["attachments"]],[30,0,["_overridePlaceholder"]],[30,0,["showPlaceholder"]],[30,0,["isValidForm"]],[30,0,["isOverCharLimit"]],[30,0,["messagingUserSettings","pressEnterToSend"]],[30,0,["isNotInmail"]],[30,0,["supportedFileAttachmentTypes"]],[30,0,["supportedImageAttachmentTypes"]],[30,0,["attachmentDropErrorType"]],[30,0,["enableSend"]],[30,0,["subjectDisplay"]],[30,0,["currentInputText"]],[30,0,["isGaiModuleVisible"]],[30,0,["shouldShowGaiPermEntryPoint"]]]]]]],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n\\n    "],[8,[32,17],null,[["@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@onPrimary","@onSecondary","@onEscape"],[[30,0,["showSendConfirmationModal"]],[28,[32,18],["i18n_send_generated_message","msg-ui/components/msg-form/base-form-feature"],null],[28,[32,18],["i18n_send_generated_message_body","msg-ui/components/msg-form/base-form-feature"],null],[28,[32,18],["i18n_send_generated_message_primary","msg-ui/components/msg-form/base-form-feature"],null],[28,[32,18],["i18n_send_generated_message_secondary","msg-ui/components/msg-form/base-form-feature"],null],[30,0,["onSubmit"]],[28,[32,19],[[30,0],"showSendConfirmationModal",false],null],[28,[32,19],[[30,0],"showSendConfirmationModal",false],null]]],null],[1,"\\n\\n    "],[8,[32,17],null,[["@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@onPrimary","@onSecondary","@onEscape"],[[30,0,["isGaiOverwriteConfirmationModalOpen"]],[28,[32,18],["i18n_delete_existing_message","msg-ui/components/msg-form/base-form-feature"],null],[28,[32,18],["i18n_delete_existing_message_body","msg-ui/components/msg-form/base-form-feature"],null],[28,[32,18],["i18n_confirm_delete_existing_message","msg-ui/components/msg-form/base-form-feature"],null],[28,[32,18],["i18n_cancel_delete_exisiting_message","msg-ui/components/msg-form/base-form-feature"],null],[30,0,["confirmRefetchGaiSuggestion"]],[28,[32,19],[[30,0],"isGaiOverwriteConfirmationModalOpen",false],null],[28,[32,19],[[30,0],"isGaiOverwriteConfirmationModalOpen",false],null]]],null],[1,"\\n  "]],["@composeIsFullyExpanded","&attrs","@id","@bubbleId","@messageContext","@contextByRecipients","@conversation","@hasResharedContent","@externallyValid","@forwardedEvent","@loadingConvoHistory","@msgAdapterOptions","@overridePlaceholder","@prefilledAttachments","@prefilledMessage","@update","@smpContent","@validateForm","@subject","@gaiMessageAsyncData","@gaiStreamingStatus","@gaiStreamingMessage","@isInMailCompose","@isOriginalSize","@generateGaiMessage","@gaiUpsellAsyncData","@gaiIntentsAsyncData","@gaiRefinementOptionsAsyncData","@onCancelGaiMessageGeneration","@onEnterGaiFlow","@onRefineGaiMessage","@onUndoGaiMessage","@canUndoGaiMessage","@refreshGaiMessage","@gaiLoaderPromptText","@gaiLoaderRecipientName","@disableExpandComposeButton","@toggleExpandComposeField","&default"],false,["if","has-block","yield","component"]]',moduleName:"msg-ui/components/msg-form/base-form-feature.gjs",scope:()=>[U.on,N.default,j.default,F.default,G.default,L.default,z.default,B.default,V.default,H.default,q.default,W.default,K.default,$.default,Y.default,Q.default,J.hash,Z.default,X.default,ee.default],isStrictMode:!0}),(se=(0,R.inject)("i18n"),ae=(0,R.inject)("jet"),re=(0,R.inject)("lix"),oe=(0,R.inject)("msg-data@data-manager"),le=(0,R.inject)("tracking"),de=(0,R.inject)("formatter"),ce=(0,R.inject)("vector@vector-media-upload"),ue=(0,R.inject)("msg-ui@update-message-compose"),me=(0,R.inject)("msg-shared@messaging-user-settings"),pe=(0,R.inject)("scaffold-sound@sound"),ge=(0,R.inject)("presence@presence-api-dash"),he=(0,R.inject)("client-sensor-web@client-sensor"),fe=(0,R.inject)("interop"),be=(0,R.inject)("global-services@a11y-notification"),ve=(0,I.on)("updateMessageCompose"),ye=(0,I.on)("focusMessageCompose"),_e=(it=new WeakSet,nt=new WeakSet,class e extends x.default{get gaiStreamedMessage(){const{gaiStreamingStatus:e,gaiStreamingMessage:t}=this.args
if(e===ne.PREMIUM_GAI_STREAMING_STATUS.COMPLETED){var i,n,s,a,r,o,l,d,c
return null==t||null===(i=t.content)||void 0===i||null===(n=i.aiResponse)||void 0===n||null===(s=n.responseV2)||void 0===s||null===(a=s.streamingResponse)||void 0===a||null===(r=a.responseComponent)||void 0===r||null===(o=r[0])||void 0===o||null===(l=o.component)||void 0===l||null===(d=l.attachment)||void 0===d||null===(c=d.attachment)||void 0===c?void 0:c.premiumMagicWandGeneratedMessage}}get isGaiDraftGenerated(){var e,t
return!!(null!==(e=this.args.gaiMessageAsyncData)&&void 0!==e&&e.value||null!==(t=this.gaiStreamedMessage)&&void 0!==t&&t.body)&&this.currentInputText}get isGaiDraftEdited(){var e,t,i,n,s
const a=(null===(e=this.args.gaiMessageAsyncData)||void 0===e||null===(t=e.value)||void 0===t||null===(i=t.message)||void 0===i||null===(n=i.messageData)||void 0===n?void 0:n.body)??(null===(s=this.gaiStreamedMessage)||void 0===s?void 0:s.body)
return a&&this.currentInputText&&this.currentInputText!==a}get gaiMessageTrackingId(){var e,t,i,n,s
const a=null===(e=this.args.gaiMessageAsyncData)||void 0===e||null===(t=e.value)||void 0===t||null===(i=t.message)||void 0===i||null===(n=i.messageData)||void 0===n?void 0:n.trackingId,r=null===(s=this.gaiStreamedMessage)||void 0===s?void 0:s.trackingId
return a??r}get gaiEntryPointCta(){var e,t
const i=null===(e=this.args.gaiRefinementOptionsAsyncData)||void 0===e||null===(t=e.value)||void 0===t?void 0:t.refinementEntryPointCTA
if((this.currentInputText||this.isExistingConversation)&&i&&this.args.isInMailCompose)return i}get isGaiEntryPoinDisabled(){var e,t,i,n,s
const a=null===(e=this.args.gaiIntentsAsyncData)||void 0===e||null===(t=e.value)||void 0===t||null===(i=t.intents)||void 0===i?void 0:i.length,r=null===(n=this.args.gaiUpsellAsyncData)||void 0===n?void 0:n.value
return(null===(s=this.args.gaiMessageAsyncData)||void 0===s?void 0:s.isPending)||!a&&!r&&!this.currentInputText}get isPrefilledMessageNotEdited(){return this.isPrefilledFromEntryPointOrTemplate&&this.currentInputText===this.args.prefilledMessage}get showPlaceholder(){var e,t
return!(null!==(e=this.attributedTextModel)&&void 0!==e&&e.text||null!==(t=this.args.gaiMessageAsyncData)&&void 0!==t&&t.isPending||this.args.gaiStreamingStatus===ne.PREMIUM_GAI_STREAMING_STATUS.STREAMING)}get currentInputText(){var e
return null===(e=this.attributedTextModel)||void 0===e?void 0:e.text}get showMiniAttachmentPreviews(){return!1}get formElement(){return k.default?document.getElementById(this.formId):null}get subjectDisplay(){var e
return(null===(e=this.args.subject)||void 0===e?void 0:e.toString())||this.args.subject||""}set subjectDisplay(e){this.subjectDisplay=e}get isNotInmail(){return!(this.args.isInMailCompose||this.viewData.isInMailConversation)}get hasNewConversationMessageInFlight(){var e,t
return(null===(e=this.messageSendRequest)||void 0===e?void 0:e.isLoading)&&!(null!==(t=this.args.conversation)&&void 0!==t&&t.entityUrn)}get enableSend(){var e
return this.isValidForm&&!this.hasNewConversationMessageInFlight&&!(null!==(e=this.args.gaiMessageAsyncData)&&void 0!==e&&e.isPending||this.args.gaiStreamingStatus===ne.PREMIUM_GAI_STREAMING_STATUS.STREAMING)}constructor(){super(...arguments)
nt.add(this)
it.add(this);(0,i.default)(this,"pageKey","flagship3_messaging_msg_form");(0,t.default)(this,"i18n",we,this);(0,t.default)(this,"jet",Me,this);(0,t.default)(this,"lix",ke,this);(0,t.default)(this,"msgDataManager",Se,this);(0,t.default)(this,"tracking",Te,this);(0,t.default)(this,"formatter",De,this);(0,t.default)(this,"vectorMediaUpload",Ie,this);(0,t.default)(this,"updateMessageComposeService",Ce,this);(0,t.default)(this,"messagingUserSettings",xe,this);(0,t.default)(this,"sound",Ee,this);(0,t.default)(this,"presenceAPI",Pe,this);(0,t.default)(this,"clientSensor",Ae,this);(0,t.default)(this,"interop",Oe,this);(0,t.default)(this,"a11yNotification",Re,this);(0,t.default)(this,"attributedTextModel",Ue,this);(0,t.default)(this,"showSendConfirmationModal",Ne,this);(0,t.default)(this,"isGaiOverwriteConfirmationModalOpen",je,this);(0,t.default)(this,"mentionsTopPosition",Fe,this);(0,t.default)(this,"messageSendRequest",Ge,this);(0,t.default)(this,"isTabbingThroughMentions",Le,this);(0,t.default)(this,"isValidForm",ze,this);(0,t.default)(this,"isOverCharLimit",Be,this);(0,t.default)(this,"conversationMentions",Ve,this);(0,t.default)(this,"connectionMentionData",He,this);(0,t.default)(this,"showMentionAllOption",qe,this);(0,t.default)(this,"showDragAndDropUserEducationLayer",We,this);(0,t.default)(this,"attachmentDropErrorType",Ke,this);(0,t.default)(this,"attachments",$e,this);(0,t.default)(this,"messageSendInProgress",Ye,this);(0,t.default)(this,"membersToInvite",Qe,this);(0,t.default)(this,"mentionAll",Je,this);(0,t.default)(this,"isSystemClipboardUsed",Ze,this);(0,t.default)(this,"isPrefilledFromEntryPointOrTemplate",Xe,this);(0,i.default)(this,"formIsAnimating",!1);(0,i.default)(this,"renderContent",[]);(0,i.default)(this,"lastSeenTyping",0);(0,i.default)(this,"supportedFileAttachmentTypes","image/*,.ai,.psd,.pdf,.doc,.docx,.csv,.ppt,.pptx,.pps,.ppsx,.xls,.xlsx,.txt,.eml,.mov,.mp4");(0,i.default)(this,"supportedImageAttachmentTypes","image/*");(0,i.default)(this,"conversationUrnsThatTriggeredMCSE",new Set);(0,t.default)(this,"isGaiModuleVisible",et,this);(0,t.default)(this,"hasEnteredGaiFlow",tt,this)
const{id:e,isOverlay:s,beforeUpload:a,conversation:r,overridePlaceholder:o,prefilledAttachments:d}=this.args
this._overridePlaceholder=o
this.attachments=new l.TrackedArray(d||[])
this.attachments&&this.renderContent.push(...this.attachments)
this.attachmentsHandler=new M.default({beforeUpload:a,vectorMediaUpload:this.vectorMediaUpload,afterUpload:this._attachmentAdded.bind(this),tracking:this.tracking,jet:this.jet,updateUI:this._addAttachment.bind(this),clientSensor:this.clientSensor})
this.formId=e||`base-form-${(0,E.guidFor)(this)}`
this.oldConvo=r
this.oldConvoId=this.viewData.conversationId
this.AttributedTextManager=new S.default
const c=(0,n.default)(this,nt,ht).call(this,r)
if(c)if(this.args.isMessageEditForm&&"object"==typeof c&&c.text){const e=(0,_.default)(c,c.text,{url:!0,email:!0,hashtag:!0,goLink:this.lix.getTreatmentIsEnabled("voyager.client.staff")})
let t=0
e.forEach((e=>{if(e.mention){const i=this._getMentionsEntityByAttributeChunk(e)
i&&this.AttributedTextManager.insertAttribute({entity:i,entityUrn:e.entityUrn,match:{start:t,length:e.value.length,text:e.value},tokenSelection:{start:t,end:t+e.value.length},type:(0,y.buildModel)("com.linkedin.pemberly.text.Entity",{urn:e.entityUrn,type:"Entity"})})}else this.AttributedTextManager.insertText(e.value,{start:t,end:t})
t+=e.value.length}))}else this.AttributedTextManager.insertText(c,{start:0,end:0})
this._validateForm()
s&&(this.bubbleId=this.args.bubbleId)
this.updateMessageComposeService.setBaseFormSubscriber(this,s)}get isExistingConversation(){return!!this.args.conversation&&!this.args.conversation.isDraft}get shouldShowGaiPermEntryPoint(){var e,t,i
const{gaiRefinementOptionsAsyncData:n,gaiIntentsAsyncData:s,gaiUpsellAsyncData:a}=this.args
if(null!=a&&a.isPending||null!=s&&s.isPending||null!=n&&n.isPending)return!1
const r=this.isExistingConversation?null==n||null===(e=n.value)||void 0===e?void 0:e.refinementEntryPointCTA:null==s||null===(t=s.value)||void 0===t||null===(i=t.intents)||void 0===i?void 0:i.length,o=null==a?void 0:a.value
return!(!r&&!o)}get gaiInteractionTrackingPrefix(){return this.args.isInMailCompose?"msg_inmail":"msg_mebc"}_toggleExpandComposeField(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]
"function"==typeof this.args.toggleExpandComposeField&&this.args.toggleExpandComposeField(e)}_constructfileAttachment(e){return{assetUrn:e.id,byteSize:e.byteSize,mediaType:e.mediaType,name:e.name,url:e.reference}}_constructVideoAttachment(e){return{media:e.id,thumbnail:{artifacts:[{width:0,height:0}],rootUrl:""},trackingId:e.id,progressiveStreams:[{bitRate:0,height:0,mediaType:e.mediaType,size:e.byteSize,width:0,streamingLocations:[{url:e.reference}]}]}}_constructExternalMedia(e){var t,i
return{entityUrn:e.id,title:e.title,media:null===(t=e.media)||void 0===t?void 0:t.gif,previewMedia:null===(i=e.media)||void 0===i?void 0:i.previewMedia}}onClick(e){const t=this._getMessageTextEditor()
t.contains(e.target)&&this.AttributedTextManager.correctClickPosition(t)}onChange(){this._validateForm()}onSubmit(e){return this._onSubmit(e)}onReSubmit(e){return this._onReSubmit(e)}checkForReset(){const{oldConvoId:e}=this
if(e!==this.viewData.conversationId){var t,i
null===(t=(i=this.args).onResetGaiFlow)||void 0===t||t.call(i)
this.hasEnteredGaiFlow=!1
if(e){this._resetForm()
this.oldConvo=this.args.conversation
this.oldConvoId=this.viewData.conversationId}}this._validateForm()}willDestroy(){super.willDestroy(...arguments)
this.updateMessageComposeService.removeBaseFormSubscriber(this,this.args.isOverlay)}updateMessageComposeFromService(e){e?this._updateTextarea(e):this._resetForm(!0)}focusMessageComposeFromService(){this._focusTextarea()}shouldSubmitMessage(e){const{keyCode:t,metaKey:i,ctrlKey:n,shiftKey:s,altKey:a}=e
if(t===ot){if(this.messagingUserSettings.pressEnterToSend&&!this.args.isInMailCompose)return!(s||a||i||n)
if(i||n)return!0}return!1}_attachmentAdded(){this._validateForm()
this.renderContent.push(...this.attachments.map((e=>e.isVideo?{video:this._constructVideoAttachment(e)}:{file:this._constructfileAttachment(e)})))}_addAttachment(e){this.attachments.push(e)}_updateTextarea(e){const t=(0,A.isPresent)(this._lastCursorPosition)?this._lastCursorPosition:this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),this.interop.nileOverlayOutletOrFalse)
this.AttributedTextManager.insertText(e,t)
this.updateAttributedTextModel()
this._focusTextarea()
this._validateForm()}_playSound(e){m.Sound[e]&&this.sound.play(m.Sound[e])}_onSubmit(t){t.preventDefault()
let i=null
const{isGaiDraftGenerated:n,gaiMessageTrackingId:s}=this
if(this.formIsAnimating)return w.Promise.resolve()
if(n){var a,r
if(this.showSendConfirmationModal){this.showSendConfirmationModal=!1
this.tracking.fireInteractionEvent(`${this.gaiInteractionTrackingPrefix}_gai_compose_send_without_edit`)
i=d.aiMessageType.AI_GENERATED}else if(!this.isGaiDraftEdited){this.showSendConfirmationModal=!0
return w.Promise.reject()}null===(a=(r=this.args).onResetGaiFlow)||void 0===a||a.call(r)
this.hasEnteredGaiFlow=!1
i=i??d.aiMessageType.AI_ASSISTED}this.viewData.isGroupChatWithAddParticipantFeature&&this._handleMentionToInvite()
const o=this._constructAttributedBody(this.viewData.conversationUrn)
let l
if(this.args.isMessageEditForm)l=this.args.submitMessage(o)
else{if(!this._validateForm())return w.Promise.reject()
const t={message:o.text,conversationUrn:this.viewData.conversationUrn,contextByRecipients:this.args.contextByRecipients,attributedBody:o,attachments:(this.attachments??[]).filter((e=>!e.isError)),messageReplyType:this.viewData.messageReplyType,adapterOptions:this.args.msgAdapterOptions,isSystemClipboardUsed:this.isSystemClipboardUsed,aiMessageType:i},a=this.viewData.isReplyDisabled&&this.viewData.isInMail,r=this.viewData.isRecruiterInmail;(a||r)&&this._setupInmailResponseActionPayload(t)
this.args.isInMailCompose&&(t.subject=this.subjectDisplay)
this.args.smpContent&&(t.smpContent=this.args.smpContent)
if(this.args.update){var u
t.update={id:null===(u=this.args.update)||void 0===u?void 0:u.id,type:(0,D.classNameOf)(this.args.update)}}this.messageSendInProgress=!0
const p=!!this.args.conversation&&!!this.args.conversation.entityUrn
if(p){this.formIsAnimating=!0
this.delayedReset=(0,b.runTask)(this,(()=>{this._resetForm(!0)
this.messageSendInProgress=!1
this.formIsAnimating=!1
this._playSound(m.Sound.MessageSent)}),(0,b.getTimeoutOrTestFallback)(400))}t.attachments=this.attachments.map((e=>e.isVideo?{video:this._constructVideoAttachment(e)}:{file:this._constructfileAttachment(e)}))
this.a11yNotification.setTextInLiveRegion(this.i18n.lookupTranslation(e,"i18n_a11y_message_sending")())
l=this.args.submitMessage(t).then((e=>{if(!(0,c.isDestroying)(this)){if(e&&n){var t,i
this.tracking.fireTrackingPayload(d.PREMIUM_GAI_COMPOSE_TRACKING_KEYS.GAI_DRAFT_SUBMIT,{generatedMessageTrackingId:s,messagingMessageUrn:null===(t=e.messages)||void 0===t||null===(i=t.at(0))||void 0===i?void 0:i.backendUrn})}this.a11yNotification.setTextInLiveRegion(this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_a11y_send_successful")())
if(!p){if(!this.isDestroying){var a,r
this.messageSendInProgress=!1
null===(a=(r=this.args).cancelDraftGeneration)||void 0===a||a.call(r)}this._playSound(m.Sound.MessageSent)
this._resetForm(!0)}}}))}this.messageSendRequest=(0,v.load)(l)
return this.messageSendRequest}baseFormAfterInsert(){const e=this._getMessageTextEditor();(0,b.addEventListener)(this,this.formElement,"paste",(t=>{e&&e.contains(t.target)&&this._handlePasteEvent(t)}));(0,b.addEventListener)(this,this.formElement,"input",(t=>{e&&e.contains(t.target)&&this._onTextEditorChange(t)}))
const t=""!==this.AttributedTextManager.getModel().text.trim()
this.updateAttributedTextModel(t)
this._validateForm()}onFocusOut(e){if(e.target.classList.contains("msg-form__contenteditable")){const e=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),this.interop.nileOverlayOutletOrFalse)
this._lastCursorPosition=e
this.AttributedTextManager.updateModelCursorPosition(e.start)}}onFocusIn(e){if(e.target.classList.contains("msg-form__contenteditable")){const e=""!==this.AttributedTextManager.getModel().text.trim()
this.updateAttributedTextModel(e)}const t=this._getMessageTextEditor()
t.contains(e.target)&&this.AttributedTextManager.correctClickPosition(t)}_constructAttributedBody(e){var t
this.AttributedTextManager.removeMentionInProgress()
const i=this.AttributedTextManager.getModel()
let{attributes:n}=i
n=e?(0,p.createMentionAttributesWithAttributedKind)(i,e):i.attributes.map((e=>{delete e.entity
return e}))
let s=(i.text??"").trim()
null!==(t=this.args.mandatoryMessageAttachment)&&void 0!==t&&t.length&&(s=`${s}\n${this.args.mandatoryMessageAttachment}`)
return{text:s,attributes:n}}getMentionedMembers(){return this.AttributedTextManager.getModel().attributes.filter((e=>{var t
return e.urn&&(null===(t=this.mentionAll)||void 0===t?void 0:t.entityUrn)!==e.urn})).map((e=>this.AttributedTextManager.EntityMap[e.urn]))}onBeforeUpload(e){let{attachment:t,isPasteEvent:i}=e
this.args.beforeUpload({attachment:t,isPasteEvent:i})
this.disableForm()}updateTextarea(e){let{body:t}=e
this._updateTextarea(t)}clearAndUpdateTextArea(e){let{body:t}=e
this.AttributedTextManager.resetModel()
this._updateTextarea(t)}updateTextareaWithEmoji(e){let{body:t,triggerData:i}=e
this.updateMessageComposeService.triggerUpdateMessageCompose({bubbleId:i.bubbleId,isOverlay:this.args.isOverlay,messageText:t})
this._updateDraftMessageForConversation(this.viewData.conversationUrn,this.AttributedTextManager.getModel())}focusComposeAfterEmojiPickerClose(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.updateMessageComposeService.triggerFocusMessageCompose({bubbleId:e.bubbleId,isOverlay:this.args.isOverlay})}disableForm(){this.isValidForm=!1}handleGIFSend(e){this.messageSendRequest=(0,v.load)(this.args.sendGif(this._constructExternalMedia(e)).then((()=>{this.isDestroying||this._toggleExpandComposeField(!1)})))
return this.messageSendRequest.then((()=>{this.isDestroying||this._playSound(m.Sound.MessageSent)}))}handleAttachmentDropError(e){this.attachmentDropErrorType=e
this._toggleExpandComposeField(!1)}dismissAttachmentDropError(){this.attachmentDropErrorType=""}onValidateForm(){this._validateForm()}onAttachmentAdded(){this._attachmentAdded()}afterDragAndDropUpload(){this._attachmentAdded()
this._focusTextarea()}focusTextarea(){this._focusTextarea()}addAttachment(e){this._addAttachment(e)}removeAttachment(e,t){const i=null==t?void 0:t.target.closest(".msg-form__attachment-preview").nextElementSibling
this.attachments.splice(this.attachments.findIndex((t=>t===e)),1)
const n=this.renderContent.filter((t=>t.file.assetUrn===e.id));(0,ie.removeValue)(this.renderContent,n[0])
this._validateForm()
i?i.querySelector(".msg-attachment-preview__remove-attachment").focus():this._focusTextarea()}overridePlaceholderValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null
this._overridePlaceholder=e}onMentionsPickerKeyDown(e){if(!this.showMentionsPicker)return
e.preventDefault()
const{keyCode:t}=e
switch(t){case lt:this._closeMentionsDropdownUI()
this._focusTextarea()
e.stopPropagation()
break
case ut:this._arrowThroughDropdown(e,!1)
break
case ct:this._arrowThroughDropdown(e,!0)
break
case rt:this._arrowThroughDropdown(e,e.shiftKey)}}onTextEditorKeyDown(e){if(this.messageSendInProgress){(0,b.cancelTask)(this,this.delayedReset)
this._resetForm(!0)
this.messageSendInProgress=!1
this.formIsAnimating=!1}const{keyCode:t,shiftKey:i,ctrlKey:n,metaKey:s}=e,a=this._getMessageTextEditor(),r=this.AttributedTextManager.getCaretPosition(a,this.interop.nileOverlayOutletOrFalse)
switch(t){case mt:if(n||s){e.preventDefault()
this.AttributedTextManager.handleUndoRedo(e)
this.updateAttributedTextModel()}break
case lt:if(this.showMentionsPicker){this._closeMentionsDropdownUI()
this._focusTextarea()
e.stopPropagation()}break
case ut:this.showMentionsPicker&&this._arrowThroughDropdown(e,!1)
break
case ct:this.showMentionsPicker&&this._arrowThroughDropdown(e,!0)
break
case rt:this.showMentionsPicker&&this._arrowThroughDropdown(e,i)
break
case ot:if(this.showMentionsPicker&&this._getCurrentMentionValue()){var o,l,d,c,u
const t=this.showMentionAllOption?this.mentionAll:(null===(o=this.conversationMentions)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.editorAttribute)||(null===(d=this.viewData)||void 0===d||null===(c=d.connectionMentions)||void 0===c||null===(u=c[0])||void 0===u?void 0:u.editorAttribute)
if(t){e.stopPropagation()
e.preventDefault()
this._selectAndAddMention(t)
this._closeMentionsDropdownUI()
break}}if(e.target!==a)break
if(this.shouldSubmitMessage(e)){this._onSubmit(e)
break}e.preventDefault()
this.AttributedTextManager.insertText("\n",r)
this.updateAttributedTextModel()
this._scrollToCaretPosition()}}selectMentionWithKeyDown(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
if(t.keyCode===ot||t.keyCode===dt){t.stopPropagation()
t.preventDefault()
this._selectAndAddMention(e)}}selectMention(e){this._selectAndAddMention(e)}closeMentions(){this._closeMentionsDropdownUI()}triggerDragAndDropLayer(e){this.showDragAndDropUserEducationLayer=e}_selectAndAddMention(e){this.tracking.fireInteractionEvent(at,"SHORT_PRESS")
this.AttributedTextManager.removeMentionInProgress()
this.AttributedTextManager.insertAttribute(e)
this.updateAttributedTextModel(!0,!0)
this._closeMentionsDropdownUI()}_getMessageTextEditor(){return this.formElement.querySelector(".msg-form__contenteditable")}_getComposeScrollableArea(){return this.formElement.querySelector(".msg-form__msg-content-container--scrollable")}_focusTextarea(){const e=this._getMessageTextEditor()
""!==this.AttributedTextManager.getModel().text.trim()&&this.setCaretPosition()
e&&e.focus()}_resetForm(e){let t,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]
t=e?"":(0,n.default)(this,nt,ht).call(this)
this.isValidForm=!1
this.attachments=new l.TrackedArray([])
this.renderContent=[]
this._closeMentionsDropdownUI()
this.AttributedTextManager.resetModel()
this._lastCursorPosition=null
t&&this.AttributedTextManager.insertText(t,{start:0,end:0})
this.formElement&&this.updateAttributedTextModel()
this.attachmentDropErrorType=""
this._overridePlaceholder=null
i&&this._toggleExpandComposeField(!1)
this.isSystemClipboardUsed=!1}_validateForm(){var e
const t=this.attachments||new l.TrackedArray([]),i=t.filter((e=>{let{isUploading:t,isError:i}=e
return t||i})),n=null===(e=this.attributedTextModel)||void 0===e?void 0:e.text
if((null==n?void 0:n.length)>=8e3){this.isValidForm=!1
this.isOverCharLimit=!0
return!1}this.isOverCharLimit=!1
let s=((0,A.isPresent)(n)||!this.args.isInMailCompose&&(t.length>0||this.args.update||this.args.forwardedEvent))&&0===i.length
this.args.validateForm&&(s=s&&this.args.validateForm(n))
const a=this.args.externallyValid;(0,A.isPresent)(a)&&(s=s&&a)
this.isValidForm=s
return!this.hasNewConversationMessageInFlight&&!!s}_setupInmailResponseActionPayload(e){const{isInMail:t,inmailProductType:i}=this.viewData
e.inMailResponseAction=!t||"RECRUITER"!==i&&"SALES"!==i?"ACCEPT":"NONE"}_handlePasteEvent(e){let{clipboardData:t}=e
if(t){const{files:i}=t
this.isSystemClipboardUsed=!0
if(i&&i.length&&t.types&&t.types.length<3&&t.types.includes("Files")){e.preventDefault()
if(this.args.hasResharedContent||this.args.isMessageRequestCompose)return
const[t]=i
t.type.match(/image/)&&this.attachmentsHandler.uploadAttachment(t,!0)
return}}e.preventDefault()
t&&t.getData?t=t.getData("text/plain"):k.default&&(t=window.clipboardData.getData("Text"))
const i=t.replace(/(\r\n|\n\r|\r)/g,"\n"),n=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),this.interop.nileOverlayOutletOrFalse)
this.AttributedTextManager.insertText(i,n)
this.updateAttributedTextModel()
this._updateDraftMessageForConversation(this.viewData.conversationUrn,this.AttributedTextManager.getModel())
this._validateForm()}_onTextEditorChange(){const e=this._getMessageTextEditor()
this.AttributedTextManager.updateModelFromHTML(e,this.interop.nileOverlayOutletOrFalse)
this.updateAttributedTextModel()
if(""===this.AttributedTextManager.getModel().text.trim()){var t,i,n,s
if(null!==(t=this.args.gaiMessageAsyncData)&&void 0!==t&&t.value||this.args.gaiStreamingMessage){var a,r
null===(a=(r=this.args).onResetGaiFlow)||void 0===a||a.call(r)}null!==(i=this.args.gaiIntentsAsyncData)&&void 0!==i&&null!==(n=i.value)&&void 0!==n&&null!==(s=n.intents)&&void 0!==s&&s.length||(this.hasEnteredGaiFlow=!1)}if(this.isPrefilledFromEntryPointOrTemplate&&""===this.AttributedTextManager.getModel().text.trim()){this.isPrefilledFromEntryPointOrTemplate=!1
this.clientSensor.incrementMetricCounter({metricName:"clear-templates",groupName:"messaging"})}this._updateDraftMessageForConversation(this.viewData.conversationUrn,this.AttributedTextManager.getModel())
this._triggerMentionDropdown();(0,b.debounceTask)(this,"_validateForm",(0,b.getTimeoutOrTestFallback)(150))}updateAttributedTextModel(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
const i=this.AttributedTextManager.getModel()
this.attributedTextModel=i
t&&this._updateDraftMessageForConversation(this.viewData.conversationUrn,i)
if(this.AttributedTextManager.didAttributesChange){const t=this._getMessageTextEditor(),i=this.AttributedTextManager.createHTMLFromModel()
jSecure.setElementContent(t,i)
e&&this.setCaretPosition()}}setCaretPosition(e){const t=this.AttributedTextManager.getModel(),i=this._getMessageTextEditor()
this.AttributedTextManager.setCaretPosition(e||t.cursor,i)}_arrowThroughDropdown(e,t){e.stopPropagation()
e.preventDefault()
const i=this.formElement.querySelector("[data-mentions-picker]"),n=this.formElement.querySelectorAll("[data-mentions-picker-option]"),s=this.formElement.querySelector("[data-mentions-picker-option]:focus")
let a
if(s){a=Array.from(n).indexOf(s)
a=t?--a:++a}else a=t?n.length-1:1
if(n[a]&&a>0){n[a].focus()
this.isTabbingThroughMentions=!0}else{i.scrollTop=0
this._focusTextarea()
this.isTabbingThroughMentions=!1}}_getCurrentMentionValue(){const e=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),this.interop.nileOverlayOutletOrFalse)
return(this.AttributedTextManager.getTextBeforeCursor(e).match(pt)||[])[1]||""}_getCurrentMentionQuery(){return this._getCurrentMentionValue().substr(1).trim()}_triggerMentionDropdown(){const{start:e,end:t}=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),this.interop.nileOverlayOutletOrFalse)
if(t!==e||this.AttributedTextManager.mentionAtPosition(t))return
const i=this._getCurrentMentionValue()
if((0,A.isPresent)(i)){const e=t-i.length,n=this._getCurrentMentionQuery()
this._fetchConversationMentions(n,{start:e,end:t})
if(n){const i=O.default.testing?0:100;(0,b.debounceTask)(this,"_fetchConnectionMentions",n,{start:e,end:t},i)}else this.tracking.fireInteractionEvent(st,"KEYBOARD_SUBMIT")
this.AttributedTextManager.removeMentionInProgress()
this.AttributedTextManager.insertAttribute({mentionInProgress:!0,match:{start:e,length:i.length,text:i},tokenSelection:{start:e,end:t}})
this._setMentionsDropdownPosition()}else this._closeMentionsDropdownUI()
this.updateAttributedTextModel()}_getMentionsEntityByAttributeChunk(e){const t=this.viewData.conversationParticipants,{entityUrn:i}=e,n=t.find((e=>{var t
return(null===(t=e.entity)||void 0===t?void 0:t.entityUrn)===i}))
return(null==n?void 0:n.entity)||void 0}_fetchConversationMentions(e,t){const i=this.viewData.conversationParticipants.filter((t=>t.fullName.toLowerCase().indexOf(e.toLowerCase())>=0)).map(((e,i)=>{const{profile:n,fullName:s,entity:a}=e,r=`@${s}`
return{mentionedMemberProfile:n,editorAttribute:{index:i,tokenSelection:t,entity:a,entityUrn:a.entityUrn,match:{start:t.start,length:r.length,text:r}}}})),n=this.i18n.lookupTranslation("components/msg-ui@msg-form/base-form-feature","i18n_mention_all")()
if(this._shouldShowMentionAllOption(e,n)){const e=this._createMentionAllEntity(t,n)
this.mentionAll=e
this.showMentionAllOption=!0}else this.showMentionAllOption=!1
this.conversationMentions=i}refreshGaiMessage(e){var t,i,n
e&&"function"==typeof e.preventDefault&&e.preventDefault()
""!==(null===(t=this.AttributedTextManager)||void 0===t?void 0:t.getModel().text.trim())&&this.isGaiDraftEdited?this.isGaiOverwriteConfirmationModalOpen=!0:null===(i=(n=this.args).refreshGaiMessage)||void 0===i||i.call(n)}confirmRefetchGaiSuggestion(){var e,t
this._resetForm()
null===(e=(t=this.args).refreshGaiMessage)||void 0===e||e.call(t)
this.tracking.fireInteractionEvent(`${this.gaiInteractionTrackingPrefix}_gai_confirm_edit_draft`)
this.isGaiOverwriteConfirmationModalOpen=!1}handleSubjectUpdate(){var e,t
const i=null===(e=this.args.conversation)||void 0===e||null===(t=e.draftMessage)||void 0===t?void 0:t.subject
void 0!==i&&this.subjectDisplay!==i&&this._updateDraftMessageForConversation(this.viewData.conversationUrn,this.AttributedTextManager.getModel())}handlePrefilledMessageUpdate(){var e
if(!this.currentInputText&&null!==(e=this.args.prefilledMessage)&&void 0!==e&&e.length&&this.args.prefilledMessage!==this.currentInputText){var t,i
this._updateTextarea(this.args.prefilledMessage)
null!==(t=this.args.conversation.draftMessage)&&void 0!==t&&null!==(i=t.content)&&void 0!==i&&i.text?this.isPrefilledFromEntryPointOrTemplate=!1:this.isPrefilledFromEntryPointOrTemplate=!0}}handleGaiMessageAsyncDataUpdate(){var e,t
const{messageData:i}=(null===(e=this.args.gaiMessageAsyncData)||void 0===e||null===(t=e.value)||void 0===t?void 0:t.message)??{}
if(i){this._resetForm(!0,!1)
this.AttributedTextManager.insertText(i.body,0)
this.updateAttributedTextModel(!0,!0)
if(i.subject){var n,s
null===(n=(s=this.args).updateGeneratedSubject)||void 0===n||n.call(s,i.subject)}this._validateForm()}}handleGaiStreamingUpdate(){switch(this.args.gaiStreamingStatus){case ne.PREMIUM_GAI_STREAMING_STATUS.COMPLETED:this._performGaiStreamingUpdate()
this._focusTextarea()
break
case ne.PREMIUM_GAI_STREAMING_STATUS.STREAMING:(0,b.throttleTask)(this,"_performGaiStreamingUpdate",O.default.testing?0:100)}}_performGaiStreamingUpdate(){var e,t,i,n,s,a,r,o,l,d
const c=null===(e=this.args.gaiStreamingMessage)||void 0===e||null===(t=e.content)||void 0===t||null===(i=t.aiResponse)||void 0===i||null===(n=i.responseV2)||void 0===n||null===(s=n.streamingResponse)||void 0===s||null===(a=s.responseComponent)||void 0===a||null===(r=a[0])||void 0===r||null===(o=r.component)||void 0===o||null===(l=o.attachment)||void 0===l||null===(d=l.attachment)||void 0===d?void 0:d.premiumMagicWandGeneratedMessage
if(null!=c&&c.body){this._resetForm(!0,!1)
this.AttributedTextManager.insertText(c.body,0)
this.updateAttributedTextModel(!0,!0)
if(c.subject){var u,m
null===(u=(m=this.args).updateGeneratedSubject)||void 0===u||u.call(m,c.subject)}this._validateForm()}}_createMentionAllEntity(e,t){const i=this.viewData.conversationUrn,n={firstName:t,lastName:"",entityUrn:i}
return P.default.create({tokenSelection:e,entity:n,entityUrn:i,match:{length:t.length+1,start:e.start,text:`@${t}`}})}_shouldShowMentionAllOption(e,t){return this.viewData.isGroupChat&&t.toLowerCase().includes(e.toLowerCase())}_fetchConnectionMentions(e,t){return this.msgDataManager.fetchTypeaheadResults(e,void 0,te.VOYAGER_MESSAGING_DEGRADATION_METADATA.MENTIONS).then((i=>{this.isDestroying||e===this._getCurrentMentionQuery()&&(this.connectionMentionData={typeaheadResultsViewData:i.map((e=>new u.default({possibleRecipient:e,formatter:this.formatter}))),tokenSelection:t})}))}_closeMentionsDropdownUI(){if(this.showMentionsPicker){this.AttributedTextManager.removeMentionInProgress()
this.mentionsTopPosition=!1
this.connectionMentionData=null
this.conversationMentions=[]
this.isTabbingThroughMentions=!1}}_setMentionsDropdownPosition(){if(!k.default)return
if(!this.args.composeIsFullyExpanded){const e=this.formElement.offsetHeight
this.mentionsTopPosition=`bottom: ${e}px`
return}const e=this._getCaretParentOffsets()
if(e){const t=20,i=this.formElement.querySelector(".msg-form__footer").offsetHeight,{scrollTop:n,offsetHeight:s}=this._getMessageTextEditor(),{caretParentOffsetTop:a,caretParentOffsetHeight:r}=e
let o=Math.round(r+a+4-n)
o+=this.formElement.offsetTop
let l="auto"
if(o>130){l=`${Math.round(s-a-r+i+t+n+4)}px`
o="auto"}else o=`${o}px`
this.mentionsTopPosition=`top: ${o}; bottom: ${l};`}}_scrollToCaretPosition(){const e=this._getCaretParentOffsets()
if(e){const{caretParentOffsetTop:t,caretParentOffsetHeight:i}=e,n=t+i,s=this._getComposeScrollableArea(),{scrollTop:a,offsetHeight:r}=s
n>a+r?s.scrollTop=n-r:t<a&&(s.scrollTop=t)}}_updateDraftMessageForConversation(e,t,i){(0,n.default)(this,it,gt).call(this,e)
if(this.args.isMessagingExternalSendFlow||this.args.isMessageEditForm)return
const s=this.msgDataManager.getMailboxByConversationUrn(e),a={text:t.text,attributes:(0,p.createMentionAttributesWithAttributedKind)(t,e)}
null==s||s.updateDraftMessage(e,a,{renderContent:[],...i})}_getCaretParentOffsets(){var e,t
const i=this._getMessageTextEditor(),n=i.ownerDocument||i.document,s=(null===(e=this.interop.nileOverlayOutletOrFalse)||void 0===e||null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||n.defaultView||n.parentWindow
if(void 0!==s.getSelection){if(s.getSelection().rangeCount>0){const e=s.getSelection().getRangeAt(0),{offsetTop:t,offsetHeight:i}=e.commonAncestorContainer.parentNode
return{caretParentOffsetTop:t,caretParentOffsetHeight:i}}}}setEnterToSendSetting(e){return this.messagingUserSettings.saveEnterToSendSetting(e)}_handleMentionToInvite(){const e=this.getMentionedMembers()
if(!e||!this.args.conversation)return
const t=(0,f.getMembersToInviteByParticipants)(e,this.viewData.conversationParticipants);(0,A.isEmpty)(t)||(this.membersToInvite=t)}onMentionToInviteDismiss(){this.focusTextarea()
this.membersToInvite=null}get viewData(){return new g.default({msgDataManager:this.msgDataManager,conversation:this.args.conversation,participants:this.msgDataManager.mailboxParticipants,formatter:this.formatter,conversationMentions:this.conversationMentions,connectionMentionData:this.connectionMentionData,forwardedMessage:this.args.forwardedEvent,i18n:this.i18n,presenceAPI:this.presenceAPI,recipients:this.args.messageRecipients})}get showMentionsPicker(){return this.conversationMentions.length||this.viewData.connectionMentions.length}handleGaiModuleVisibilityChanged(e){this.isGaiModuleVisible=e}handleGaiEntryPointClick(){var e,t,i,n,s,a
if(null!==(e=this.args.gaiIntentsAsyncData)&&void 0!==e&&null!==(t=e.value)&&void 0!==t&&null!==(i=t.intents)&&void 0!==i&&i.length||null!==(n=this.args.gaiRefinementOptionsAsyncData)&&void 0!==n&&null!==(s=n.value)&&void 0!==s&&null!==(a=s.refinementOptions)&&void 0!==a&&a.length){var r,o
this.hasEnteredGaiFlow=!0
null===(r=(o=this.args).onEnterGaiFlow)||void 0===r||r.call(o)}}handleDismissGaiModule(){this.hasEnteredGaiFlow=!1}}),we=(0,s.default)(_e.prototype,"i18n",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=(0,s.default)(_e.prototype,"jet",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=(0,s.default)(_e.prototype,"lix",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=(0,s.default)(_e.prototype,"msgDataManager",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=(0,s.default)(_e.prototype,"tracking",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=(0,s.default)(_e.prototype,"formatter",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=(0,s.default)(_e.prototype,"vectorMediaUpload",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=(0,s.default)(_e.prototype,"updateMessageComposeService",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=(0,s.default)(_e.prototype,"messagingUserSettings",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=(0,s.default)(_e.prototype,"sound",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=(0,s.default)(_e.prototype,"presenceAPI",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=(0,s.default)(_e.prototype,"clientSensor",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=(0,s.default)(_e.prototype,"interop",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=(0,s.default)(_e.prototype,"a11yNotification",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=(0,s.default)(_e.prototype,"attributedTextModel",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=(0,s.default)(_e.prototype,"showSendConfirmationModal",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),je=(0,s.default)(_e.prototype,"isGaiOverwriteConfirmationModalOpen",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fe=(0,s.default)(_e.prototype,"mentionsTopPosition",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ge=(0,s.default)(_e.prototype,"messageSendRequest",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=(0,s.default)(_e.prototype,"isTabbingThroughMentions",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ze=(0,s.default)(_e.prototype,"isValidForm",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Be=(0,s.default)(_e.prototype,"isOverCharLimit",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ve=(0,s.default)(_e.prototype,"conversationMentions",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),He=(0,s.default)(_e.prototype,"connectionMentionData",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=(0,s.default)(_e.prototype,"showMentionAllOption",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),We=(0,s.default)(_e.prototype,"showDragAndDropUserEducationLayer",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ke=(0,s.default)(_e.prototype,"attachmentDropErrorType",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$e=(0,s.default)(_e.prototype,"attachments",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l.TrackedArray([])}}),Ye=(0,s.default)(_e.prototype,"messageSendInProgress",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=(0,s.default)(_e.prototype,"membersToInvite",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=(0,s.default)(_e.prototype,"mentionAll",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=(0,s.default)(_e.prototype,"isSystemClipboardUsed",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xe=(0,s.default)(_e.prototype,"isPrefilledFromEntryPointOrTemplate",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(_e.prototype,"onClick",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"onClick"),_e.prototype),(0,s.default)(_e.prototype,"onChange",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"onChange"),_e.prototype),(0,s.default)(_e.prototype,"onSubmit",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"onSubmit"),_e.prototype),(0,s.default)(_e.prototype,"onReSubmit",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"onReSubmit"),_e.prototype),(0,s.default)(_e.prototype,"checkForReset",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"checkForReset"),_e.prototype),(0,s.default)(_e.prototype,"updateMessageComposeFromService",[ve],Object.getOwnPropertyDescriptor(_e.prototype,"updateMessageComposeFromService"),_e.prototype),(0,s.default)(_e.prototype,"focusMessageComposeFromService",[ye],Object.getOwnPropertyDescriptor(_e.prototype,"focusMessageComposeFromService"),_e.prototype),(0,s.default)(_e.prototype,"baseFormAfterInsert",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"baseFormAfterInsert"),_e.prototype),(0,s.default)(_e.prototype,"onFocusOut",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"onFocusOut"),_e.prototype),(0,s.default)(_e.prototype,"onFocusIn",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"onFocusIn"),_e.prototype),(0,s.default)(_e.prototype,"onBeforeUpload",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"onBeforeUpload"),_e.prototype),(0,s.default)(_e.prototype,"updateTextarea",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"updateTextarea"),_e.prototype),(0,s.default)(_e.prototype,"clearAndUpdateTextArea",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"clearAndUpdateTextArea"),_e.prototype),(0,s.default)(_e.prototype,"updateTextareaWithEmoji",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"updateTextareaWithEmoji"),_e.prototype),(0,s.default)(_e.prototype,"focusComposeAfterEmojiPickerClose",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"focusComposeAfterEmojiPickerClose"),_e.prototype),(0,s.default)(_e.prototype,"handleGIFSend",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"handleGIFSend"),_e.prototype),(0,s.default)(_e.prototype,"handleAttachmentDropError",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"handleAttachmentDropError"),_e.prototype),(0,s.default)(_e.prototype,"dismissAttachmentDropError",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"dismissAttachmentDropError"),_e.prototype),(0,s.default)(_e.prototype,"onValidateForm",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"onValidateForm"),_e.prototype),(0,s.default)(_e.prototype,"onAttachmentAdded",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"onAttachmentAdded"),_e.prototype),(0,s.default)(_e.prototype,"afterDragAndDropUpload",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"afterDragAndDropUpload"),_e.prototype),(0,s.default)(_e.prototype,"focusTextarea",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"focusTextarea"),_e.prototype),(0,s.default)(_e.prototype,"addAttachment",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"addAttachment"),_e.prototype),(0,s.default)(_e.prototype,"removeAttachment",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"removeAttachment"),_e.prototype),(0,s.default)(_e.prototype,"overridePlaceholderValue",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"overridePlaceholderValue"),_e.prototype),(0,s.default)(_e.prototype,"onMentionsPickerKeyDown",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"onMentionsPickerKeyDown"),_e.prototype),(0,s.default)(_e.prototype,"onTextEditorKeyDown",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"onTextEditorKeyDown"),_e.prototype),(0,s.default)(_e.prototype,"selectMentionWithKeyDown",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"selectMentionWithKeyDown"),_e.prototype),(0,s.default)(_e.prototype,"selectMention",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"selectMention"),_e.prototype),(0,s.default)(_e.prototype,"closeMentions",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"closeMentions"),_e.prototype),(0,s.default)(_e.prototype,"triggerDragAndDropLayer",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"triggerDragAndDropLayer"),_e.prototype),(0,s.default)(_e.prototype,"refreshGaiMessage",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"refreshGaiMessage"),_e.prototype),(0,s.default)(_e.prototype,"confirmRefetchGaiSuggestion",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"confirmRefetchGaiSuggestion"),_e.prototype),(0,s.default)(_e.prototype,"handleSubjectUpdate",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"handleSubjectUpdate"),_e.prototype),(0,s.default)(_e.prototype,"handlePrefilledMessageUpdate",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"handlePrefilledMessageUpdate"),_e.prototype),(0,s.default)(_e.prototype,"handleGaiMessageAsyncDataUpdate",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"handleGaiMessageAsyncDataUpdate"),_e.prototype),(0,s.default)(_e.prototype,"handleGaiStreamingUpdate",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"handleGaiStreamingUpdate"),_e.prototype),(0,s.default)(_e.prototype,"_performGaiStreamingUpdate",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"_performGaiStreamingUpdate"),_e.prototype),(0,s.default)(_e.prototype,"setEnterToSendSetting",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"setEnterToSendSetting"),_e.prototype),(0,s.default)(_e.prototype,"onMentionToInviteDismiss",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"onMentionToInviteDismiss"),_e.prototype),(0,s.default)(_e.prototype,"viewData",[h.cached],Object.getOwnPropertyDescriptor(_e.prototype,"viewData"),_e.prototype),(0,s.default)(_e.prototype,"handleGaiModuleVisibilityChanged",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"handleGaiModuleVisibilityChanged"),_e.prototype),(0,s.default)(_e.prototype,"handleGaiEntryPointClick",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"handleGaiEntryPointClick"),_e.prototype),(0,s.default)(_e.prototype,"handleDismissGaiModule",[P.action],Object.getOwnPropertyDescriptor(_e.prototype,"handleDismissGaiModule"),_e.prototype),et=(0,s.default)(_e.prototype,"isGaiModuleVisible",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=(0,s.default)(_e.prototype,"hasEnteredGaiFlow",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_e))
function gt(e){const t=`${e}::${this.args.messageComposeFlowTrackingId}`
if(!this.conversationUrnsThatTriggeredMCSE.has(t)){var i
this.conversationUrnsThatTriggeredMCSE.add(t)
let s=null
if(null!==(i=this.args.messageRecipients)&&void 0!==i&&i.length){var n
s={urns:null===(n=this.args.messageRecipients)||void 0===n?void 0:n.map((e=>e.dashEntityUrn??e.entityUrn))}}const a={messageComposeFlowTrackingId:this.args.messageComposeFlowTrackingId,conversationUrn:e}
s&&(a.recipientUrns=s)
this.tracking.fireTrackingPayload("MessengerComposeStartEvent",a)}}function ht(){var e
const{conversation:t,prefilledMessage:i}=this.args
if(this.isGaiDraftGenerated)return""
if(i){this.isPrefilledFromEntryPointOrTemplate=!0
return(null==i?void 0:i.string)||i}if(t&&null!==(e=this.args.conversationTrackedAsyncData)&&void 0!==e&&e.isResolved){var n
return null===(n=t.draftMessage)||void 0===n?void 0:n.content.text}return""}}))
define("msg-ui/components/msg-form/primitives/character-limit-banner",["exports","@ember/template-factory","@ember/component/template-only","@ember/component","artdeco-inline-feedback/components/artdeco-inline-feedback","ember-cli-pemberly-i18n/helpers/t"],(function(e,t,i,n,s,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,n.setComponentTemplate)((0,t.createTemplateFactory)({id:"kV1s+vDL",block:'[[[1,"\\n"],[1,"\\n"],[1,"  "],[8,[32,0],[[16,0,[29,["msg-character-limit-banner ph1 pv2\\n      ",[52,[30,1],"msg-character-limit-banner__edit-form"]]]]],[["@message","@type"],[[28,[32,1],["i18n_character_limit_warning","msg-ui/components/msg-form/primitives/character-limit-banner"],null],"yield"]],null],[1,"\\n"]],["@isEditForm"],false,["if"]]',moduleName:"msg-ui/components/msg-form/primitives/character-limit-banner.gjs",scope:()=>[s.default,a.default],isStrictMode:!0}),(0,i.default)("character-limit-banner","CharacterLimitBanner"))
e.default=r}))
define("msg-ui/components/msg-form/primitives/message-texteditor-presenter",["exports","@ember/template-factory","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/component","ember-cli-pemberly-i18n/helpers/t","global-helpers/helpers/or","@glimmer/component","msg-ui/components/messaging-gai/gai-draft-intents-feedback-panel","msg-ui/modifiers/update-position-top-from-sibling-content","msg-ui/components/messaging-gai/gai-skeleton-loader","@ember/modifier","global-modifiers/modifiers/focus","@ember/helper","@ember/object/internals","tracked-built-ins","@ember/object","premium-gai/utils/constants"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var v
let y=(v=class extends o.default{constructor(){super(...arguments);(0,i.default)(this,"guid",(0,g.guidFor)(this));(0,i.default)(this,"gaiFeedbackTrackingIdUsed",new h.TrackedSet)}get hasGaiMessage(){var e,t,i,n,s,a,r,o,l,d,c,u,m
const{currentInputText:p,gaiMessageAsyncData:g,gaiStreamingMessage:h,gaiStreamingStatus:f}=this.args,v=null==g||null===(e=g.value)||void 0===e||null===(t=e.message)||void 0===t||null===(i=t.messageData)||void 0===i?void 0:i.body,y=f===b.PREMIUM_GAI_STREAMING_STATUS.COMPLETED&&(null==h||null===(n=h.content)||void 0===n||null===(s=n.aiResponse)||void 0===s||null===(a=s.responseV2)||void 0===a||null===(r=a.streamingResponse)||void 0===r||null===(o=r.responseComponent)||void 0===o||null===(l=o[0])||void 0===l||null===(d=l.component)||void 0===d||null===(c=d.attachment)||void 0===c||null===(u=c.attachment)||void 0===u||null===(m=u.premiumMagicWandGeneratedMessage)||void 0===m?void 0:m.body)
return(v||y)&&p}get canProvideGaiFeedback(){return this.gaiFeedbackTrackingId&&!this.gaiFeedbackTrackingIdUsed.has(this.gaiFeedbackTrackingId)}get gaiFeedbackTrackingId(){var e,t,i,n,s,a,r,o,l,d,c,u,m
const{gaiMessageAsyncData:p,gaiStreamingMessage:g,gaiStreamingStatus:h}=this.args,f=null==p||null===(e=p.value)||void 0===e||null===(t=e.message)||void 0===t||null===(i=t.messageData)||void 0===i?void 0:i.trackingId,v=h===b.PREMIUM_GAI_STREAMING_STATUS.COMPLETED?null==g||null===(n=g.content)||void 0===n||null===(s=n.aiResponse)||void 0===s||null===(a=s.responseV2)||void 0===a||null===(r=a.streamingResponse)||void 0===r||null===(o=r.responseComponent)||void 0===o||null===(l=o[0])||void 0===l||null===(d=l.component)||void 0===d||null===(c=d.attachment)||void 0===c||null===(u=c.attachment)||void 0===u||null===(m=u.premiumMagicWandGeneratedMessage)||void 0===m?void 0:m.trackingId:void 0
return f??v}handleGaiFeedbackProvided(){this.gaiFeedbackTrackingId&&this.gaiFeedbackTrackingIdUsed.add(this.gaiFeedbackTrackingId)}get shouldShowSkeletonLoader(){var e,t,i,n,s,a,r,o,l,d
const{gaiMessageAsyncData:c,gaiStreamingMessage:u,gaiStreamingStatus:m}=this.args,p=m===b.PREMIUM_GAI_STREAMING_STATUS.STREAMING&&!(null!=u&&null!==(e=u.content)&&void 0!==e&&null!==(t=e.aiResponse)&&void 0!==t&&null!==(i=t.responseV2)&&void 0!==i&&null!==(n=i.streamingResponse)&&void 0!==n&&null!==(s=n.responseComponent)&&void 0!==s&&null!==(a=s[0])&&void 0!==a&&null!==(r=a.component)&&void 0!==r&&null!==(o=r.attachment)&&void 0!==o&&null!==(l=o.attachment)&&void 0!==l&&null!==(d=l.premiumMagicWandGeneratedMessage)&&void 0!==d&&d.body)
return(null==c?void 0:c.isPending)||p}get isStreaming(){return this.args.gaiStreamingStatus===b.PREMIUM_GAI_STREAMING_STATUS.STREAMING}},(0,n.default)(v.prototype,"handleGaiFeedbackProvided",[f.action],Object.getOwnPropertyDescriptor(v.prototype,"handleGaiFeedbackProvided"),v.prototype),v);(0,s.setComponentTemplate)((0,t.createTemplateFactory)({id:"qQjnm6Ka",block:'[[[1,"\\n"],[1,"    "],[10,0],[14,0,"flex-grow-1 relative"],[12],[1,"\\n"],[41,[30,0,["shouldShowSkeletonLoader"]],[[[1,"        "],[8,[32,0],[[24,0,"mb1"]],[["@onCancel","@isInMailCompose","@promptText","@recipientName"],[[30,1],[30,2],[30,3],[30,4]]],null],[1,"\\n"]],[]],null],[1,"\\n      "],[11,0],[16,0,[29,["msg-form__contenteditable t-14 t-black--light t-normal flex-grow-1 full-height notranslate\\n          ",[52,[30,5],"msg-form__contenteditable--slide-out"],"\\n          ",[52,[30,0,["shouldShowSkeletonLoader"]],"msg-form__contenteditable--hidden"],"\\n          ",[52,[30,0,["hasGaiMessage"]],[28,[32,1],["msg-form__gai-contenteditable-",[30,0,["guid"]]],null]]]]],[16,"contenteditable",[52,[30,0,["isStreaming"]],"false","true"]],[24,"role","textbox"],[24,"dir","auto"],[24,"aria-multiline","true"],[16,"aria-placeholder",[30,6]],[16,"aria-label",[28,[32,2],["i18n_write_a_message","msg-ui/components/msg-form/primitives/message-texteditor-presenter"],null]],[4,[32,3],null,[["when"],[[28,[32,4],[[30,7],false],null]]]],[4,[32,5],["blur",[30,8]],null],[4,[32,5],["focus",[30,9]],null],[12],[1,"\\n      "],[13],[1,"\\n\\n"],[41,[30,0,["hasGaiMessage"]],[[[1,"        "],[8,[32,6],[[4,[32,7],null,[["siblingSelector","pixelOffset"],[".msg-form__contenteditable",12]]]],[["@trackingId","@canProvideFeedback","@onThumbsUpClick","@onSurveyFormSubmit","@isInMailCompose","@refreshDraft","@onUndo","@canUndo","@canRefresh","@onSubmitReturnFocusTo"],[[30,0,["gaiFeedbackTrackingId"]],[30,0,["canProvideGaiFeedback"]],[30,0,["handleGaiFeedbackProvided"]],[30,0,["handleGaiFeedbackProvided"]],[30,2],[30,10],[30,11],[30,12],[30,13],[28,[32,1],[".msg-form__gai-contenteditable-",[30,0,["guid"]]],null]]],null],[1,"\\n"]],[]],null],[1,"\\n      "],[10,0],[14,"aria-hidden","true"],[15,0,[29,[[52,[30,14],"msg-form__placeholder"],"\\n          t-14 t-black--light t-normal"]]],[15,"data-placeholder",[52,[30,15],[30,15],[28,[32,2],["i18n_write_a_message","msg-ui/components/msg-form/primitives/message-texteditor-presenter"],null]]],[12],[1,"\\n      "],[13],[1,"\\n\\n    "],[13],[1,"\\n  "]],["@onCancelGaiMessageGeneration","@isInMailCompose","@gaiLoaderPromptText","@gaiLoaderRecipientName","@messageSendInProgress","@labelText","@focusInput","@parentBlurAction","@parentFocusAction","@refreshDraft","@onUndoGaiMessage","@canUndoGaiMessage","@canRefreshGaiMessage","@showPlaceholder","@overridePlaceholder"],false,["if"]]',moduleName:"msg-ui/components/msg-form/primitives/message-texteditor-presenter.gjs",scope:()=>[c.default,p.concat,a.default,m.default,r.default,u.on,l.default,d.default],isStrictMode:!0}),y)
e.default=y}))
define("msg-ui/components/msg-form/primitives/msg-content-container-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@ember/object","ember-lifeline","@glimmer/tracking","@glimmer/component","@ember/modifier","global-helpers/helpers/optional","msg-ui/components/msg-form/primitives/message-texteditor-presenter","@ember/helper","artdeco-button/components/artdeco-button","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-tracking/modifiers/track-interaction","msg-ui/components/forwarded-message-presenter","marketplace-message-card/components/marketplace-message-card","update-components/components/mini-update-v2","msg-ui/components/messaging-gai/gai-inline-module","global-helpers/helpers/not"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var k,S
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"2Q5fxkhZ",block:'[[[1,"\\n"],[1,"    "],[11,0],[16,0,[29,["msg-form__msg-content-container\\n        ",[52,[30,1,["update"]],"msg-form__msg-content-container--has-reshare"],"\\n        ",[52,[30,0,["isActive"]],"msg-form__msg-content-container--is-active"],"\\n        ",[52,[30,2],"msg-form__msg-content-container--with-gai-perm-entry"]]]],[17,3],[4,[32,0],["keydown",[30,4]],null],[4,[32,0],["focusin",[28,[32,1],[[30,5]],null]],null],[12],[1,"\\n"],[1,"      "],[10,0],[15,0,[29,["msg-form__msg-content-container--scrollable scrollable\\n          ",[52,[30,2],"msg-form__msg-content-container--inmail"],"\\n          relative"]]],[12],[1,"\\n        "],[8,[32,2],null,[["@addTopBorder","@classNames","@overridePlaceholder","@parentBlurAction","@parentFocusAction","@showPlaceholder","@messageSendInProgress","@refreshDraft","@isInMailCompose","@gaiMessageAsyncData","@gaiStreamingStatus","@gaiStreamingMessage","@currentInputText","@gaiLoaderPromptText","@gaiLoaderRecipientName","@onUndoGaiMessage","@canUndoGaiMessage","@canRefreshGaiMessage","@focusInput"],[true,"msg-form__message-texteditor relative flex-grow-1 display-flex",[30,6],[28,[32,3],[[30,0,["setIsActive"]],false],null],[30,0,["parentFocusAction"]],[30,7],[30,8],[30,9],[30,2],[30,10],[30,11],[30,12],[30,13],[30,14],[30,15],[30,16],[30,17],[30,18],[30,19]]],null],[1,"\\n\\n"],[41,[30,20],[[[1,"          "],[8,[32,4],null,[["@viewData","@hasResharedContent"],[[30,20],[30,21]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,22],[[[1,"          "],[8,[32,5],[[24,0,"mv3 ml3 mr7"]],[["@messageCard","@isPreview"],[[30,22],true]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,23],[[[1,"          "],[8,[32,6],[[24,0,"msg-form__reshared-content artdeco-card overflow-hidden"]],[["@update","@showNestedShares","@shouldTrackImpression","@debugParentComponentName"],[[30,23],true,true,"msg-ui@msg-content-container-presenter"]],null],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n\\n"],[41,[30,24],[[[1,"        "],[10,0],[14,0,"msg-form__expand-btn-wrapper p2"],[12],[1,"\\n"],[44,[[28,[32,7],[[30,25],[52,[30,26],"close_expand","open_expand"]],null]],[[[1,"            "],[8,[32,8],[[16,"aria-expanded",[52,[30,26],"true","false"]],[4,[32,0],["click",[30,30]],null],[4,[32,10],[[30,27]],null]],[["@circle","@class","@color","@controlType","@icon","@type","@size","@text","@disabled"],[true,"msg-form__expand-btn","muted","button",[52,[30,26],"chevron-down","chevron-up"],"tertiary",[30,28],[52,[30,26],[28,[32,9],["i18n_minimize_compose","msg-ui/components/msg-form/primitives/msg-content-container-presenter"],null],[28,[32,9],["i18n_maximize_compose","msg-ui/components/msg-form/primitives/msg-content-container-presenter"],null]],[30,29]]],null],[1,"\\n"]],[27]]],[1,"        "],[13],[1,"\\n"]],[]],null],[41,[30,2],[[[41,[51,[30,31]],[[[1,"          "],[8,[32,8],null,[["@circle","@class","@controlType","@icon","@type","@size","@disabled"],[true,"msg-form__send-btn","submit","send-privately","primary",1,[28,[32,11],[[30,32]],null]]],null],[1,"\\n"]],[]],null]],[]],null],[1,"    "],[13],[1,"\\n\\n    "],[10,0],[15,0,[29,["msg-form__gai-module-container\\n        ",[52,[30,2],"msg-form__gai-module-container--inmail"],"\\n        "]]],[12],[1,"\\n      "],[8,[32,12],null,[["@intentsResponse","@refinementOptionsAsyncData","@upsellCard","@messageAsyncData","@streamingStatus","@streamingMessage","@isInMailCompose","@isInSmallBubble","@currentInputText","@isPrefilledFromEntryPointOrTemplate","@isPrefilledMessageNotEdited","@onEnterFlow","@generateGaiMessage","@onCancelGeneration","@onRefineMessage","@onCardVisibilityChanged","@onDismiss","@hasEnteredFlow"],[[30,33],[30,34],[30,35],[30,10],[30,11],[30,12],[30,2],[30,36],[30,13],[30,37],[30,38],[30,39],[30,40],[30,41],[30,42],[30,43],[30,44],[30,45]]],null],[1,"\\n    "],[13],[1,"\\n  "]],["@event","@isInMailCompose","&attrs","@handleKeyDown","@handleFocusIn","@overridePlaceholder","@showPlaceholder","@messageSendInProgress","@onGaiRefreshClick","@gaiMessageAsyncData","@gaiStreamingStatus","@gaiStreamingMessage","@currentInputText","@gaiLoaderPromptText","@gaiLoaderRecipientName","@onUndoGaiMessage","@canUndoGaiMessage","@canRefreshGaiMessage","@focusInput","@forwardedMessageViewData","@hasResharedContent","@smpContent","@update","@showExpandButton","@trackingPrefix","@composeIsFullyExpanded","controlName","@expandButtonSize","@disableExpandComposeButton","@toggleExpandComposeField","@shouldHideSendButton","@enableSend","@gaiIntents","@gaiRefinementOptionsAsyncData","@gaiUpsellCard","@isOriginalSize","@isPrefilledFromEntryPointOrTemplate","@isPrefilledMessageNotEdited","@onEnterGaiFlow","@generateGaiMessage","@onCancelGaiMessageGeneration","@onRefineGaiMessage","@onGaiCardVisibilityChanged","@onDismissGaiModule","@hasEnteredGaiFlow"],false,["if","let","unless"]]',moduleName:"msg-ui/components/msg-form/primitives/msg-content-container-presenter.gjs",scope:()=>[u.on,m.default,p.default,g.fn,v.default,y.default,_.default,g.concat,h.default,f.default,b.default,M.default,w.default],isStrictMode:!0}),(k=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"isActive",S,this)}setIsActive(e){(0,l.runTask)(this,(()=>{this.isActive=e}))}parentFocusAction(){this.setIsActive(!0)}},S=(0,n.default)(k.prototype,"isActive",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(k.prototype,"setIsActive",[o.action],Object.getOwnPropertyDescriptor(k.prototype,"setIsActive"),k.prototype),(0,n.default)(k.prototype,"parentFocusAction",[o.action],Object.getOwnPropertyDescriptor(k.prototype,"parentFocusAction"),k.prototype),k))}))
define("msg-ui/components/msg-form/primitives/send-controls-presenter",["exports","@ember/template-factory","@ember/component/template-only","@ember/component","ember-cli-pemberly-i18n/helpers/t"],(function(e,t,i,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.setComponentTemplate)((0,t.createTemplateFactory)({id:"oxVLdzVQ",block:'[[[1,"\\n"],[1,"\\n  "],[11,0],[17,1],[12],[1,"\\n"],[41,[30,2],[[[1,"      "],[10,0],[14,0,"msg-form__hint-text t-12 t-black--light t-normal"],[12],[1,"\\n        "],[1,[28,[32,0],["enter_to_send","msg-ui/components/msg-form/primitives/send-controls-presenter"],null]],[1,"\\n      "],[13],[1,"\\n"]],[]],[[[1,"      "],[10,"button"],[15,0,[29,["msg-form__send-button ",[30,3]]]],[15,"disabled",[52,[51,[30,4]],"disabled"]],[14,4,"submit"],[12],[1,"\\n"],[41,[30,5],[[[1,"          "],[1,[30,5]],[1,"\\n"]],[]],[[[1,"          "],[1,[28,[32,0],["send_message","msg-ui/components/msg-form/primitives/send-controls-presenter"],null]],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n"]],[]]],[1,"  "],[13],[1,"\\n"]],["&attrs","@isEnterToSendEnabled","@buttonClass","@enableSend","@customSendButtonText"],false,["if","unless"]]',moduleName:"msg-ui/components/msg-form/primitives/send-controls-presenter.gjs",scope:()=>[s.default],isStrictMode:!0}),(0,i.default)("send-controls-presenter","SendControlsPresenter"))
e.default=a}))
define("msg-ui/components/msg-form/primitives/send-failure-banner",["exports","@ember/template-factory","@ember/component/template-only","@ember/component","artdeco-inline-feedback/components/artdeco-inline-feedback","ember-cli-pemberly-i18n/helpers/t"],(function(e,t,i,n,s,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,n.setComponentTemplate)((0,t.createTemplateFactory)({id:"d0ZxpwRc",block:'[[[1,"\\n"],[1,"  "],[10,0],[14,0,"msg-form--message-send-failure-banner display-flex flex-row p2"],[12],[1,"\\n"],[41,[30,1],[[[1,"      "],[8,[32,0],null,[["@message","@type","@linkText","@onClick"],[[52,[30,2],[30,2],[28,[32,1],["i18n_message_failed_to_send","msg-ui/components/msg-form/primitives/send-failure-banner"],null]],"error",[52,[30,2],null,[28,[32,1],["i18n_message_send_failed_try_again","msg-ui/components/msg-form/primitives/send-failure-banner"],null]],[52,[30,2],null,[30,3]]]],null],[1,"\\n"]],[]],[[[1,"      "],[8,[32,0],null,[["@message","@type","@linkText","@onClick"],[[28,[32,1],["i18n_message_failed_to_send","msg-ui/components/msg-form/primitives/send-failure-banner"],null],"error",[28,[32,1],["i18n_message_send_failed_try_again","msg-ui/components/msg-form/primitives/send-failure-banner"],null],[30,3]]],null],[1,"\\n"]],[]]],[1,"  "],[13],[1,"\\n"]],["@isSendErrorUxInprovementEnabled","@messageSendFailedApiError","@resendMessage"],false,["if"]]',moduleName:"msg-ui/components/msg-form/primitives/send-failure-banner.gjs",scope:()=>[s.default,a.default],isStrictMode:!0}),(0,i.default)("send-failure-banner","SendFailureBanner"))
e.default=r}))
define("msg-ui/components/msg-form/primitives/subject-line-input-presenter",["exports","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/template-factory","@ember/helper","@ember/component","@ember/object","@ember/debug","msg-shared/utils/constants","@glimmer/component","@ember/render-modifiers/modifiers/did-insert","artdeco-text-input/components/artdeco-text-input","scaffold-skeleton/components/skeleton","ember-cli-pemberly-i18n/helpers/t","global-modifiers/modifiers/focus"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h
const{INMAIL_SUBJECT_MAX_CHARACTERS:f}=l.default
e.default=(0,a.setComponentTemplate)((0,n.createTemplateFactory)({id:"RsVf0sOK",block:'[[[1,"\\n"],[1,"    "],[11,0],[24,0,"msg-form__subject-line-input-presenter msg-form__subject-line-input-presenter--with-gai-perm-entry"],[17,1],[12],[1,"\\n"],[41,[30,2],[[[1,"        "],[8,[32,0],[[24,0,"msg-form__subject-skeleton"]],null,[["default"],[[[[1,"\\n          "],[8,[30,3,["Container"]],null,[["@margin"],["2"]],[["default"],[[[[1,"\\n            "],[8,[30,3,["Text"]],[[24,0,"msg-form__subject-skeleton-row"]],null,null],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[3]]]]],[1,"\\n"]],[]],[[[1,"        "],[8,[32,1],[[16,"aria-label",[28,[32,2],["i18n_write_subject","msg-ui/components/msg-form/primitives/subject-line-input-presenter"],null]],[4,[32,3],null,[["onSelector"],["input"]]],[4,[32,4],[[30,0,["handleInsert"]]],null]],[["@type","@name","@value","@onInput","@classNames","@placeholder"],["text","subject",[30,4],[30,5],"msg-form__subject",[28,[32,2],["i18n_optional_subject_placeholder","msg-ui/components/msg-form/primitives/subject-line-input-presenter"],null]]],null],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n  "]],["&attrs","@isLoading","Bones","@subject","@updateSubject"],false,["if"]]',moduleName:"msg-ui/components/msg-form/primitives/subject-line-input-presenter.gjs",scope:()=>[m.default,u.default,p.default,g.default,c.default],isStrictMode:!0}),(h=class extends d.default{constructor(){super(...arguments);(0,t.default)(this,"maxSubjectLength",f)}handleInsert(e){e.querySelector("input").setAttribute("autocomplete","off")}},(0,i.default)(h.prototype,"handleInsert",[r.action],Object.getOwnPropertyDescriptor(h.prototype,"handleInsert"),h.prototype),h))}))
define("msg-ui/components/no-messages-presenter",["exports","@ember/template-factory","@ember/helper","@ember/component/template-only","@ember/component","hue-web-icons/components/illustration","ember-cli-pemberly-i18n/helpers/t","artdeco-button/components/artdeco-button","message-button/components/entry-point","ember-cli-pemberly-tracking/modifiers/track-interaction","@ember/modifier"],(function(e,t,i,n,s,a,r,o,l,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const u=(0,s.setComponentTemplate)((0,t.createTemplateFactory)({id:"8kKtR3LT",block:'[[[1,"\\n"],[1,"  "],[10,0],[14,0,"display-flex full-height flex-grow-1 pv5 ph4"],[12],[1,"\\n    "],[10,0],[14,0,"align-items-center display-flex flex-column mvA mhA"],[12],[1,"\\n      "],[8,[32,0],null,[["@name","@size"],["empty-no-mail","small"]],null],[1,"\\n      "],[10,0],[14,0,"text-align-center pv3"],[12],[1,"\\n        "],[10,2],[14,0,"mb4 large-text"],[12],[1,"\\n          "],[1,[28,[32,1],["i18n_no_messages_yet","msg-ui/components/no-messages-presenter"],null]],[1,"\\n        "],[13],[1,"\\n        "],[10,2],[12],[1,"\\n          "],[1,[28,[32,1],["i18n_why_start_a_message","msg-ui/components/no-messages-presenter"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n"],[41,[30,1],[[[1,"        "],[8,[32,2],null,[["@controlUrn","@referringModuleKey","@target"],["msg-overlay-no-messages","messaging:overlay-no-messages","OVERLAY"]],[["default"],[[[[1,"\\n          "],[8,[32,3],[[4,[32,4],["click",[30,2]],null],[4,[32,5],["overlay.compose_message"],null]],[["@type","@text","@color"],["secondary",[28,[32,1],["i18n_send_a_message","msg-ui/components/no-messages-presenter"],null],"muted"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,1],["i18n_send_a_message","msg-ui/components/no-messages-presenter"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[2]]]]],[1,"\\n"]],[]],[[[1,"        "],[8,[32,2],null,[["@controlUrn","@referringModuleKey","@target"],["msg-pillar-no-messages","messaging:pillar-no-messages","PILLAR"]],[["default"],[[[[1,"\\n          "],[8,[32,3],[[4,[32,4],["click",[30,3]],null],[4,[32,5],["compose_message"],null]],[["@type","@text","@color"],["secondary",[28,[32,1],["i18n_send_a_message","msg-ui/components/no-messages-presenter"],null],"muted"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,1],["i18n_send_a_message","msg-ui/components/no-messages-presenter"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[3]]]]],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n  "],[13],[1,"\\n"]],["@isOverlay","openMessaging","openMessaging"],false,["if"]]',moduleName:"msg-ui/components/no-messages-presenter.gjs",scope:()=>[a.default,r.default,l.default,o.default,c.on,d.default],isStrictMode:!0}),(0,n.default)("no-messages-presenter","NoMessagesPresenter"))
e.default=u}))
define("msg-ui/components/object-bin",["exports","ember-drag-drop/components/object-bin"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=t.default}))
define.alias("ember-cloud-filepicker/components/onedrive-file-picker","msg-ui/components/onedrive-file-picker")
define("msg-ui/components/pending-message-request-footer-presenter",["exports","@ember/template-factory","@ember/helper","@ember/component","@glimmer/component","ember-cli-pemberly-i18n/helpers/t","artdeco-button/components/artdeco-button","@ember/modifier","ember-cli-pemberly-tracking/modifiers/track-interaction"],(function(e,t,i,n,s,a,r,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class d extends s.default{get declineTrackingInteractionId(){var e
return`${void 0!==(null===(e=this.args)||void 0===e?void 0:e.actionTrackingPrefix)?this.args.actionTrackingPrefix:""}decline_message_request`}get acceptTrackingInteractionId(){var e
return`${void 0!==(null===(e=this.args)||void 0===e?void 0:e.actionTrackingPrefix)?this.args.actionTrackingPrefix:""}accept_message_request`}}e.default=d;(0,n.setComponentTemplate)((0,t.createTemplateFactory)({id:"MWlgUZWc",block:'[[[1,"\\n"],[1,"\\n    "],[10,0],[14,0,"msg-pending-message-request-footer-presenter__prompts t-12 t-normal"],[12],[1,"\\n      "],[1,[52,[30,1],[28,[32,0],["i18n_allow_group_message_request_prompt","msg-ui/components/pending-message-request-footer-presenter"],null],[28,[32,0],["i18n_allow_message_request_prompt","msg-ui/components/pending-message-request-footer-presenter"],[["senderName"],[[30,2]]]]]],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"msg-pending-message-request-footer-presenter__actions display-flex"],[12],[1,"\\n      "],[8,[32,1],[[16,"aria-label",[52,[30,1],[28,[32,0],["i18n_a11y_message_request_reply_form_leave","msg-ui/components/pending-message-request-footer-presenter"],null],[28,[32,0],["i18n_a11y_message_request_reply_form_decline","msg-ui/components/pending-message-request-footer-presenter"],[["senderName"],[[30,2]]]]]],[4,[32,2],["click",[30,4]],null],[4,[32,3],[[30,0,["declineTrackingInteractionId"]]],null]],[["@text","@color","@type","@class","@disabled"],[[52,[30,1],[28,[32,0],["i18n_message_request_reply_form_leave","msg-ui/components/pending-message-request-footer-presenter"],null],[28,[32,0],["i18n_message_request_reply_form_decline","msg-ui/components/pending-message-request-footer-presenter"],null]],"muted","tertiary","msg-pending-message-request-footer-presenter__reject-button full-width",[30,3]]],[["default"],[[[[1,"\\n        "],[1,[52,[30,1],[28,[32,0],["i18n_message_request_reply_form_leave","msg-ui/components/pending-message-request-footer-presenter"],null],[28,[32,0],["i18n_message_request_reply_form_decline","msg-ui/components/pending-message-request-footer-presenter"],null]]],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[32,1],[[16,"aria-label",[28,[32,0],["i18n_a11y_message_request_reply_form_interested","msg-ui/components/pending-message-request-footer-presenter"],[["senderName"],[[30,2]]]]],[4,[32,2],["click",[30,5]],null],[4,[32,3],[[30,0,["acceptTrackingInteractionId"]]],null]],[["@text","@type","@class","@disabled"],[[28,[32,0],["i18n_message_request_reply_form_interested","msg-ui/components/pending-message-request-footer-presenter"],null],"tertiary","msg-pending-message-request-footer-presenter__accept-button full-width",[30,3]]],[["default"],[[[[1,"\\n        "],[1,[28,[32,0],["i18n_message_request_reply_form_interested","msg-ui/components/pending-message-request-footer-presenter"],null]],[1,"\\n      "]],[]]]]],[1,"\\n    "],[13],[1,"\\n  "]],["@isGroupMessageRequest","@senderName","@isMessageRequestClickReplyPending","@sendRejectReply","@sendAcceptReply"],false,["if"]]',moduleName:"msg-ui/components/pending-message-request-footer-presenter.gjs",scope:()=>[a.default,r.default,o.on,l.default],isStrictMode:!0}),d)}))
define("msg-ui/components/premium-mailboxes-card",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","graphql-queries/queries/premium/feature-access.graphql","global-utils/utils/is-browser","global-utils/utils/url","@ember/service","msg-shared/utils/constants","global-utils/utils/array/push","tracked-built-ins","@glimmer/tracking","ember-app-scheduler","@glimmer/component","@ember/utils","@ember/destroyable","global-helpers/helpers/gt","msg-shared/components/page-inboxes-entrypoint-card","ember-cli-pemberly-tracking/components/shared/external-link","ember-cli-pemberly-i18n/helpers/t","hue-web-icons/components/icon","artdeco-notification-badge/components/artdeco-notification-badge","artdeco-card/components/artdeco-card"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M,k,S,T){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var D,I,C,x,E,P,A,O,R,U,N,j,F,G,L,z
const{MAILBOX_URLS:B,CONTROL_NAMES:{MAILBOXES:V}}=u.default
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"5D8UgkrT",block:'[[[1,"\\n"],[41,[28,[32,0],[[30,0,["pageMailboxesFromTrackedMap","pageMailboxes","length"]],0],null],[[[1,"      "],[8,[32,1],null,[["@mailboxes","@pageMailboxes"],[[30,0,["mailboxes"]],[30,0,["pageMailboxesFromTrackedMap","pageMailboxes"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["mailboxes","length"]],[[[1,"        "],[8,[32,2],[[24,0,"mb6"]],null,[["default"],[[[[1,"\\n          "],[10,0],[14,0,"text-heading-medium pb2 pt4 ph4"],[12],[1,"\\n            "],[1,[28,[32,3],["more_inboxes","msg-ui/components/premium-mailboxes-card"],null]],[1,"\\n          "],[13],[1,"\\n          "],[10,"ul"],[14,0,"list-style-none"],[12],[1,"\\n"],[42,[28,[31,2],[[28,[31,2],[[30,0,["mailboxes"]]],null]],null],null,[[[1,"              "],[10,"li"],[15,0,[29,["msg-premium-mailboxes-card__mailbox msg-premium-mailboxes__mailbox--",[30,1,["controlName"]]]]],[12],[1,"\\n                "],[8,[32,4],null,[["@href","@classNames","@control-name","@target"],[[30,1,["url"]],"msg-premium-mailboxes-card__link display-flex align-items-center justify-space-between pv2 pl3 pr4 text-heading-small",[30,1,["controlName"]],"_blank"]],[["default"],[[[[1,"\\n                  "],[10,0],[14,0,"display-flex flex-direction-row align-items-center"],[12],[1,"\\n"],[41,[30,1,["isSalesNavMailbox"]],[[[1,"                      "],[8,[32,5],null,[["@type","@size","@name"],["app","medium","sales-navigator"]],null],[1,"\\n"]],[]],[[[1,"                      "],[8,[32,5],null,[["@type","@size","@name"],["app","medium","recruiter"]],null],[1,"\\n"]],[]]],[1,"                    "],[10,0],[14,0,"msg-premium-mailboxes-card__affiliated-mailbox-premium-inbox-name"],[12],[1,"\\n                      "],[1,[52,[30,1,["isRecruiterMailbox"]],[28,[32,3],["recruiter_messages","msg-ui/components/premium-mailboxes-card"],null],[52,[30,1,["isHiringManagerMailbox"]],[28,[32,3],["hiring_manager_messages","msg-ui/components/premium-mailboxes-card"],null],[52,[30,1,["isJobPostMailbox"]],[28,[32,3],["job_post_messages","msg-ui/components/premium-mailboxes-card"],null],[28,[32,3],["sales_navigator_messages","msg-ui/components/premium-mailboxes-card"],null]]]]],[1,"\\n                    "],[13],[1,"\\n                    "],[10,1],[14,0,"msg-premium-mailboxes-card__external-link-icon ml1 display-flex"],[12],[1,"\\n                      "],[8,[32,5],null,[["@a11yText","@type","@size","@name"],[[28,[32,3],["mailbox_count","msg-ui/components/premium-mailboxes-card"],[["count"],[[30,1,["count"]]]]],"system","small","link-external"]],null],[1,"\\n                    "],[13],[1,"\\n                  "],[13],[1,"\\n"],[41,[30,1,["count"]],[[[1,"                    "],[8,[32,6],[[24,0,"msg-premium-mailboxes-card__unread-count artdeco-notification-badge--new text-align-center mr2"]],[["@number","@showCount"],[[30,1,["count"]],true]],[["default"],[[[[1,"\\n"],[1,"                    "]],[]]]]],[1,"\\n"]],[]],null],[1,"                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n"]],[1]],null],[1,"          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],null]],[]]],[1,"  "]],["mailbox"],false,["if","each","-track-array"]]',moduleName:"msg-ui/components/premium-mailboxes-card.gjs",scope:()=>[y.default,_.default,T.default,M.default,w.default,k.default,S.default],isStrictMode:!0}),(D=(0,c.inject)("lix"),I=(0,c.inject)("msg-data@data-manager"),C=(0,c.inject)("global-services@store-shim"),x=(0,c.inject)("tracking"),E=(0,c.inject)("@linkedin/ember-restli-graphql@graphql"),P=(0,c.inject)("router"),A=class extends f.default{constructor(){super(...arguments);(0,t.default)(this,"lix",O,this);(0,t.default)(this,"msgDataManager",R,this);(0,t.default)(this,"storeShim",U,this);(0,t.default)(this,"tracking",N,this);(0,t.default)(this,"graphql",j,this);(0,t.default)(this,"router",F,this);(0,t.default)(this,"mailboxes",G,this);(0,t.default)(this,"pagesAffiliatedMailboxes",L,this);(0,t.default)(this,"showFif",z,this)
const e=this.lix.getTreatmentIsEnabled("voyager.infra.api.show-post-job"),i="CAN_ACCESS_RECRUITER_MAILBOX",n="CAN_ACCESS_HIRING_MANAGER_MAILBOX"
this.router.on("routeDidChange",this.routeDidTransition.bind(this));(0,h.whenRouteIdle)().then((()=>{if((0,v.isDestroying)(this))return
this.graphql.executeQuery(o.default,{featureAccessTypes:[i,n]}).then((t=>{if((0,v.isDestroying)(this))return
const s=e=>{var i,n,s
return null===(i=t.data.premiumDashFeatureAccessByFeatureAccessTypes)||void 0===i||null===(n=i.elements)||void 0===n||null===(s=n.find((t=>t.featureAccessType===e)))||void 0===s?void 0:s.hasAccess},a=s(i),r=s(n)
this.msgDataManager.fetchMailBoxUnreadCounts().then((t=>{var i,n
if(this.isDestroying)return
let s,o
const c=null==t||null===(i=t[2])||void 0===i||null===(n=i.mailbox)||void 0===n?void 0:n.pageMailbox;(null==c?void 0:c.pageMailboxes.length)>0&&this.pagesAffiliatedMailboxes.set("pageMailboxes",c)
t.forEach((e=>{var t,i
let{mailbox:n}=e
n.recruiter&&(s=n.recruiter.unreadCountTotal)
n.sales&&(o=!0);(null===(t=n.pageMailbox)||void 0===t||null===(i=t.pageMailboxes)||void 0===i?void 0:i.length)>0&&this.args.updateHasPremiumInboxes&&this.args.updateHasPremiumInboxes()
n.pageMailbox&&this.pagesAffiliatedMailboxes.set("pageMailboxes",n.pageMailbox)}))
const u=(0,b.isPresent)(s),p=e&&!a
if(u||o||r||p){const e=this.tracking,{pageUrn:t,trackingId:i}=e.getCurrentPageInstance(),n={trk:e.getCurrentPageKey(),lipi:`${encodeURIComponent(t)};${l.default?window.btoa(i):""}`}
if(r){const t=V.HIRING_MANAGER
n.licu=e.generateControlUrn(t);(0,m.pushValue)(this.mailboxes,{controlName:t,count:0,isHiringManagerMailbox:!0,url:(0,d.addQueryParamsFromSnapshot)(B.RECRUITER,{adapterOptions:{query:n}})})}else if(u&&p){const t=V.JOB_POST
n.licu=e.generateControlUrn(t);(0,m.pushValue)(this.mailboxes,{controlName:t,count:s,isJobPostMailbox:!0,url:(0,d.addQueryParamsFromSnapshot)(B.RECRUITER,{adapterOptions:{query:n}})})}else if(u){const t=V.RECRUITER
n.licu=e.generateControlUrn(t);(0,m.pushValue)(this.mailboxes,{controlName:t,count:s,isRecruiterMailbox:!0,url:(0,d.addQueryParamsFromSnapshot)(B.RECRUITER,{adapterOptions:{query:n}})})}if(o){const t=V.SALES_NAV
n.licu=e.generateControlUrn(t);(0,m.pushValue)(this.mailboxes,{controlName:t,count:0,isSalesNavMailbox:!0,url:(0,d.addQueryParamsFromSnapshot)(B.SALES_NAV,{adapterOptions:{query:n}})})}this.args.updateHasPremiumInboxes()}this.args.setPremiumMailboxRequestsLoading&&this.args.setPremiumMailboxRequestsLoading()})).catch((()=>{}))}))
this.storeShim.queryURL("/voyager/api/voyagerOrganizationDashPageMailbox/",{method:"GET",reload:!0,params:{q:"admin",count:3}}).then((e=>{var t
if((0,v.isDestroying)(this))return
const i=null==e||null===(t=e.elements)||void 0===t?void 0:t.map((e=>e.entityUrn))
if((null==i?void 0:i.length)>0){this.msgDataManager.connectToPageMailboxes(i)
this.args.updateHasPremiumInboxes&&this.args.updateHasPremiumInboxes()}})).catch((e=>{if((0,v.isDestroying)(this))throw e
if(e&&e.isAdapterError)return[]
throw e}))}))}get pageMailboxesFromTrackedMap(){return this.pagesAffiliatedMailboxes.get("pageMailboxes")}routeDidTransition(){this.msgDataManager.fetchMailBoxUnreadCounts().then((e=>{this.isDestroying||e.forEach((e=>{let{mailbox:t}=e
t.pageMailbox&&this.pagesAffiliatedMailboxes.set("pageMailboxes",t.pageMailbox)}))})).catch((e=>{if((0,v.isDestroying)(this))throw e
if(e&&e.isAdapterError)return[]
throw e}))}},O=(0,n.default)(A.prototype,"lix",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,n.default)(A.prototype,"msgDataManager",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,n.default)(A.prototype,"storeShim",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,n.default)(A.prototype,"tracking",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,n.default)(A.prototype,"graphql",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,n.default)(A.prototype,"router",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,n.default)(A.prototype,"mailboxes",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p.TrackedArray([])}}),L=(0,n.default)(A.prototype,"pagesAffiliatedMailboxes",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p.TrackedMap}}),z=(0,n.default)(A.prototype,"showFif",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A))}))
define("msg-ui/components/premium-mailboxes",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","graphql-queries/queries/premium/feature-access.graphql","global-utils/utils/is-browser","global-utils/utils/url","@ember/service","msg-shared/utils/constants","global-utils/utils/array/push","tracked-built-ins","@glimmer/tracking","ember-app-scheduler","@glimmer/component","@ember/utils","@ember/destroyable","global-helpers/helpers/gt","msg-shared/components/page-inboxes-entrypoint","global-helpers/helpers/and","global-helpers/helpers/not","ember-cli-pemberly-tracking/components/shared/external-link","ember-cli-pemberly-i18n/helpers/t","hue-web-icons/components/icon","artdeco-notification-badge/components/artdeco-notification-badge"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M,k,S,T,D){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var I,C,x,E,P,A,O,R,U,N,j,F,G,L,z
const{MAILBOX_URLS:B,CONTROL_NAMES:{MAILBOXES:V}}=u.default
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"6fgziNkg",block:'[[[1,"\\n"],[41,[28,[32,0],[[30,0,["pageMailboxesFromTrackedMap","pageMailboxes","length"]],0],null],[[[1,"      "],[8,[32,1],null,[["@mailboxes","@pageMailboxes","@aggregatedUnreadCount","@isOverlay"],[[30,0,["mailboxes"]],[30,0,["pageMailboxesFromTrackedMap","pageMailboxes"]],[30,0,["pageMailboxesFromTrackedMap","aggregatedUnreadCount"]],[30,1]]],null],[1,"\\n"]],[]],[[[41,[28,[32,2],[[30,0,["mailboxes","length"]],[28,[32,3],[[30,1]],null]],null],[[[1,"        "],[11,0],[17,2],[12],[1,"\\n          "],[10,"ul"],[12],[1,"\\n"],[42,[28,[31,2],[[28,[31,2],[[30,0,["mailboxes"]]],null]],null],null,[[[1,"              "],[10,"li"],[15,0,[29,["msg-premium-mailboxes__mailbox msg-premium-mailboxes__mailbox--",[30,3,["controlName"]]]]],[12],[1,"\\n                "],[8,[32,4],null,[["@href","@classNames","@control-name","@target"],[[30,3,["url"]],"msg-premium-mailboxes__link display-flex align-items-center pv4 ph3",[30,3,["controlName"]],"_blank"]],[["default"],[[[[1,"\\n                  "],[1,[52,[30,3,["isRecruiterMailbox"]],[28,[32,5],["recruiter_messages","msg-ui/components/premium-mailboxes"],null],[52,[30,3,["isHiringManagerMailbox"]],[28,[32,5],["hiring_manager_messages","msg-ui/components/premium-mailboxes"],null],[52,[30,3,["isJobPostMailbox"]],[28,[32,5],["job_post_messages","msg-ui/components/premium-mailboxes"],null],[28,[32,5],["sales_navigator_messages","msg-ui/components/premium-mailboxes"],null]]]]],[1,"\\n                  "],[10,1],[14,0,"msg-premium-mailboxes__external-link-icon ml1 display-flex"],[12],[1,"\\n                    "],[8,[32,6],null,[["@a11yText","@type","@size","@name"],[[28,[32,5],["mailbox_count","msg-ui/components/premium-mailboxes"],[["count"],[[30,3,["count"]]]]],"system","small","link-external"]],null],[1,"\\n                  "],[13],[1,"\\n"],[41,[30,3,["count"]],[[[1,"                    "],[8,[32,7],[[24,0,"msg-premium-mailboxes__unread-count artdeco-notification-badge--new pl2"]],[["@number","@showCount"],[[30,3,["count"]],true]],[["default"],[[[[1,"\\n"],[1,"                    "]],[]]]]],[1,"\\n"]],[]],null],[1,"                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n"]],[3]],null],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null]],[]]],[1,"  "]],["@isOverlay","&attrs","mailbox"],false,["if","each","-track-array"]]',moduleName:"msg-ui/components/premium-mailboxes.gjs",scope:()=>[y.default,_.default,w.default,M.default,k.default,S.default,T.default,D.default],isStrictMode:!0}),(I=(0,c.inject)("lix"),C=(0,c.inject)("msg-data@data-manager"),x=(0,c.inject)("global-services@store-shim"),E=(0,c.inject)("tracking"),P=(0,c.inject)("router"),A=(0,c.inject)("@linkedin/ember-restli-graphql@graphql"),O=class extends f.default{constructor(){super(...arguments);(0,t.default)(this,"lix",R,this);(0,t.default)(this,"msgDataManager",U,this);(0,t.default)(this,"storeShim",N,this);(0,t.default)(this,"tracking",j,this);(0,t.default)(this,"router",F,this);(0,t.default)(this,"graphql",G,this);(0,t.default)(this,"mailboxes",L,this);(0,t.default)(this,"pagesAffiliatedMailboxes",z,this)
const e=this.lix.getTreatmentIsEnabled("voyager.infra.api.show-post-job"),i="CAN_ACCESS_RECRUITER_MAILBOX",n="CAN_ACCESS_HIRING_MANAGER_MAILBOX"
this.router.on("routeDidChange",this.routeDidTransition.bind(this));(0,h.whenRouteIdle)().then((()=>{if((0,v.isDestroying)(this))return
this.graphql.executeQuery(o.default,{featureAccessTypes:[i,n]}).then((t=>{if((0,v.isDestroying)(this))return
const s=e=>{var i,n,s
return null===(i=t.data.premiumDashFeatureAccessByFeatureAccessTypes)||void 0===i||null===(n=i.elements)||void 0===n||null===(s=n.find((t=>t.featureAccessType===e)))||void 0===s?void 0:s.hasAccess},a=s(i),r=s(n)
this.msgDataManager.fetchMailBoxUnreadCounts().then((t=>{if(this.isDestroying)return
let i,n
t.forEach((e=>{let{mailbox:t}=e
t.recruiter&&(i=t.recruiter.unreadCountTotal)
t.sales&&(n=!0)
t.pageMailbox&&this.pagesAffiliatedMailboxes.set("pageMailboxes",t.pageMailbox)}))
const s=(0,b.isPresent)(i),o=e&&!a
if(s||n||r||o){const e=this.tracking,{pageUrn:t,trackingId:a}=e.getCurrentPageInstance(),c={trk:e.getCurrentPageKey(),lipi:`${encodeURIComponent(t)};${l.default?window.btoa(a):""}`}
if(r){const t=V.HIRING_MANAGER
c.licu=e.generateControlUrn(t);(0,m.pushValue)(this.mailboxes,{controlName:t,count:0,isHiringManagerMailbox:!0,url:(0,d.addQueryParamsFromSnapshot)(B.RECRUITER,{adapterOptions:{query:c}})})}else if(s&&o){const t=V.JOB_POST
c.licu=e.generateControlUrn(t);(0,m.pushValue)(this.mailboxes,{controlName:t,count:i,isJobPostMailbox:!0,url:(0,d.addQueryParamsFromSnapshot)(B.RECRUITER,{adapterOptions:{query:c}})})}else if(s){const t=V.RECRUITER
c.licu=e.generateControlUrn(t);(0,m.pushValue)(this.mailboxes,{controlName:t,count:i,isRecruiterMailbox:!0,url:(0,d.addQueryParamsFromSnapshot)(B.RECRUITER,{adapterOptions:{query:c}})})}if(n){const t=V.SALES_NAV
c.licu=e.generateControlUrn(t);(0,m.pushValue)(this.mailboxes,{controlName:t,count:0,isSalesNavMailbox:!0,url:(0,d.addQueryParamsFromSnapshot)(B.SALES_NAV,{adapterOptions:{query:c}})})}}})).catch((()=>{}))}))
this.storeShim.queryURL("/voyager/api/voyagerOrganizationDashPageMailbox/",{method:"GET",reload:!0,params:{q:"admin",count:3}}).then((e=>{var t
if((0,v.isDestroying)(this))return
const i=null==e||null===(t=e.elements)||void 0===t?void 0:t.map((e=>e.entityUrn));(null==i?void 0:i.length)>0&&this.msgDataManager.connectToPageMailboxes(i)})).catch((e=>{if((0,v.isDestroying)(this))throw e
if(e&&e.isAdapterError)return[]
throw e}))}))}get pageMailboxesFromTrackedMap(){return this.pagesAffiliatedMailboxes.get("pageMailboxes")}routeDidTransition(){this.msgDataManager.fetchMailBoxUnreadCounts().then((e=>{this.isDestroying||e.forEach((e=>{let{mailbox:t}=e
t.pageMailbox&&this.pagesAffiliatedMailboxes.set("pageMailboxes",t.pageMailbox)}))})).catch((e=>{if((0,v.isDestroying)(this))throw e
if(e&&e.isAdapterError)return[]
throw e}))}},R=(0,n.default)(O.prototype,"lix",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,n.default)(O.prototype,"msgDataManager",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,n.default)(O.prototype,"storeShim",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,n.default)(O.prototype,"tracking",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,n.default)(O.prototype,"router",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,n.default)(O.prototype,"graphql",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,n.default)(O.prototype,"mailboxes",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p.TrackedArray([])}}),z=(0,n.default)(O.prototype,"pagesAffiliatedMailboxes",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p.TrackedMap}}),O))}))
define("msg-ui/components/premium-upsell-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","global-utils/utils/url","urn-utils","s-upsell/utils/upsell-card-dash-helpers","@ember/service","@glimmer/tracking","@glimmer/component","s-upsell/components/upsell-templates-v2/upsell-template-container-v2","@ember/helper","artdeco-loader/components/artdeco-loader"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,b,v,y,_,w
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"mT+G0U9Z",block:'[[[1,"\\n    "],[10,0],[14,0,"msg-premium-upsell-presenter scrollable"],[12],[1,"\\n"],[41,[30,0,["upsellCard"]],[[[1,"        "],[8,[32,0],null,[["@upsellCard","@upsellStyles"],[[30,0,["upsellCard"]],[28,[32,1],null,[["upsellWrapperClass","headlineClass","subheaderClass","socialProofInsightClass","socialProofInsightTextClass","customAnchorClass"],["msg-premium-upsell-presenter__content","t-18 mb3","t-14 t-black--light mb6","display-flex align-items-center mb3","t-12 t-black--light ml2","full-width"]]]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[32,2],null,[["@size"],["small"]],null],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n  "]],[],false,["if"]]',moduleName:"msg-ui/components/premium-upsell-presenter.gjs",scope:()=>[p.default,g.hash,h.default],isStrictMode:!0}),(f=(0,c.inject)("client-sensor-web@client-sensor"),b=(0,c.inject)("@linkedin/ember-restli-graphql@graphql"),v=class extends m.default{constructor(){var e,i
super(...arguments);(0,t.default)(this,"clientSensor",y,this);(0,t.default)(this,"graphql",_,this);(0,t.default)(this,"upsellCard",w,this)
const{args:{targetUrl:n}}=this,s=(0,o.isUrl)(n)?new URL(n):null,a=null==s||null===(e=s.searchParams)||void 0===e?void 0:e.get("premiumUpsellSlotUrn"),r=a?(0,l.extractEntityInfoFromUrn)(a).id:null,c=null==s||null===(i=s.searchParams)||void 0===i?void 0:i.get("profileUrn");(0,d.queryUpsellCardDataV2)({clientSensor:this.clientSensor,graphql:this.graphql},{upsellSlot:r},{vieweeProfileUrn:c}).then((e=>{if(!this.isDestroying){var t,i,n,s
this.upsellCard=null==e||null===(t=e.data)||void 0===t||null===(i=t.premiumDashUpsellSlotContentByViewee)||void 0===i||null===(n=i.elements)||void 0===n||null===(s=n[0])||void 0===s?void 0:s.upsellCard}}))}},y=(0,n.default)(v.prototype,"clientSensor",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,n.default)(v.prototype,"graphql",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,n.default)(v.prototype,"upsellCard",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v))}))
define("msg-ui/components/primitives/bulk-actions-panel-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@glimmer/tracking","@ember/object","@glimmer/component","@ember/service","@ember/destroyable","artdeco-button/components/artdeco-button","ember-cli-pemberly-i18n/helpers/t","@ember/modifier","ember-cli-pemberly-tracking/modifiers/track-interaction","ember-set-helper/helpers/set","artdeco-modal/components/artdeco-confirmation-dialog","global-modifiers/modifiers/focus"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var _,w,M,k,S,T,D,I,C,x
e.default=(0,o.setComponentTemplate)((0,a.createTemplateFactory)({id:"g22u48Gh",block:'[[[1,"\\n"],[1,"    "],[10,0],[14,0,"msg-bulk-actions-panel-presenter ph2"],[12],[1,"\\n      "],[10,0],[14,0,"display-flex mvA"],[12],[1,"\\n        "],[8,[32,0],[[24,0,"msg-bulk-actions-close-button"],[24,1,"msg-bulk-actions-panel-presenter-close-button"],[4,[32,2],null,[["when"],[[30,2]]]],[4,[32,3],["focusout",[30,0,["resetFocusState"]]],null],[4,[32,3],["click",[30,0,["exitBulkActionsMode"]]],null],[4,[32,4],[[30,0,["exitBulkActionsTrackingControlName"]]],null]],[["@type","@text","@color","@icon","@size","@circle"],["tertiary",[28,[32,1],["a11y_go_to_inbox_v3","msg-ui/components/primitives/bulk-actions-panel-presenter"],[["selectedConversationsCount"],[[30,1,["length"]]]]],"muted","close",1,true]],null],[1,"\\n        "],[10,1],[14,0,"msg-bulk-actions-panel-presenter__selected-text t-14 t-black--light t-bold mvA"],[12],[1,"\\n          "],[1,[28,[32,1],["i18n_selected_count","msg-ui/components/primitives/bulk-actions-panel-presenter"],[["count"],[[30,1,["length"]]]]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[10,0],[14,0,"display-flex mvA"],[12],[1,"\\n        "],[8,[32,0],[[4,[32,3],["click",[30,0,["toggleRead"]]],null],[4,[32,4],[[30,0,["toggleReadTrackingControlName"]]],null]],[["@aria-label","@type","@color","@icon","@disabled","@title","@size","@circle"],[[52,[30,0,["allSelectedConversationsRead"]],[28,[32,1],["i18n_mark_unread","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[28,[32,1],["i18n_mark_read","msg-ui/components/primitives/bulk-actions-panel-presenter"],null]],"tertiary","muted",[52,[30,0,["allSelectedConversationsRead"]],"envelope","envelope-open"],[30,0,["actionButtonsDisabled"]],[52,[30,0,["allSelectedConversationsRead"]],[28,[32,1],["i18n_mark_unread","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[28,[32,1],["i18n_mark_read","msg-ui/components/primitives/bulk-actions-panel-presenter"],null]],1,true]],null],[1,"\\n\\n        "],[8,[32,0],[[4,[32,3],["click",[28,[32,5],[[30,0],"showConfirmModal",true],null]],null]],[["@aria-label","@type","@color","@icon","@disabled","@title","@size","@circle"],[[28,[32,1],["i18n_delete","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],"tertiary","muted","trash",[30,0,["actionButtonsDisabled"]],[28,[32,1],["i18n_delete","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],1,true]],null],[1,"\\n\\n        "],[8,[32,0],[[4,[32,3],["click",[30,0,["toggleArchive"]]],null],[4,[32,4],[[30,0,["toggleArchiveTrackingControlName"]]],null]],[["@aria-label","@type","@color","@icon","@disabled","@title","@size","@circle"],[[52,[30,0,["selectedConversationsAreArchived"]],[28,[32,1],["i18n_restore","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[28,[32,1],["i18n_archive","msg-ui/components/primitives/bulk-actions-panel-presenter"],null]],"tertiary","muted",[52,[30,0,["selectedConversationsAreArchived"]],"unarchive","archive-message-icon"],[30,0,["actionButtonsDisabled"]],[52,[30,0,["selectedConversationsAreArchived"]],[28,[32,1],["i18n_restore","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[28,[32,1],["i18n_archive","msg-ui/components/primitives/bulk-actions-panel-presenter"],null]],1,true]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n\\n    "],[8,[32,6],null,[["@isOpen","@title","@content","@primaryActionText","@primaryActionTextA11y","@secondaryActionText","@secondaryActionTextA11y","@onPrimary","@onSecondary","@onEscape"],[[30,0,["showConfirmModal"]],[28,[32,1],["i18n_delete_model_title","msg-ui/components/primitives/bulk-actions-panel-presenter"],[["count"],[[30,1,["length"]]]]],[28,[32,1],["i18n_deletion_subtext","msg-ui/components/primitives/bulk-actions-panel-presenter"],[["count"],[[30,1,["length"]]]]],[28,[32,1],["i18n_delete","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[28,[32,1],["a11y_confirm_delete_selected_conversations","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[28,[32,1],["i18n_cancel","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[28,[32,1],["a11y_cancel_delete_selected_conversations","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[30,0,["confirmDelete"]],[30,0,["cancelDelete"]],[30,0,["cancelDelete"]]]],null],[1,"\\n  "]],["@selectedConversationUrns","@setFocusToCloseButton"],false,["if"]]',moduleName:"msg-ui/components/primitives/bulk-actions-panel-presenter.gjs",scope:()=>[p.default,g.default,y.default,h.on,f.default,b.default,v.default],isStrictMode:!0}),(_=(0,u.inject)("msg-data@data-manager"),w=(0,u.inject)("persistent-toast-manager@persistent-toast-manager"),M=(0,u.inject)("i18n"),k=(0,u.inject)("tracking"),S=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",T,this);(0,t.default)(this,"persistentToastManager",D,this);(0,t.default)(this,"i18n",I,this);(0,t.default)(this,"tracking",C,this);(0,t.default)(this,"showConfirmModal",x,this)}get actionButtonsDisabled(){var e
return 0===(null===(e=this.args.selectedConversationUrns)||void 0===e?void 0:e.length)}get selectedUnreadConversationUrns(){return this.msgDataManager.filterUnreadConversationUrns(this.args.selectedConversationUrns)}get allSelectedConversationsRead(){return 0===this.selectedUnreadConversationUrns.length}get selectedConversationsAreArchived(){var e
return(null===(e=this.args.selectedConversationUrns)||void 0===e?void 0:e.length)>0&&this.msgDataManager.isConversationArchived(this.args.selectedConversationUrns[0])}get exitBulkActionsTrackingControlName(){return this.args.isOverlay?"overlay.exit_bulk_selection":"exit_bulk_selection"}get toggleArchiveTrackingControlName(){let e=this.selectedConversationsAreArchived?"bulk_unarchive":"bulk_archive"
this.args.isOverlay&&(e=`overlay.${e}`)
return e}get toggleReadTrackingControlName(){let e=this.allSelectedConversationsRead?"bulk_unread":"bulk_read"
this.args.isOverlay&&(e=`overlay.${e}`)
return e}_unselectConversations(e){var t,i
null===(t=(i=this.args).onExitBulkActionsMode)||void 0===t||t.call(i,e)}_showErrorToast(){const e=this.i18n.lookupTranslation("components/msg-ui@primitives/bulk-actions-panel-presenter","i18n_bulk_action_failed_message")([])
this.persistentToastManager.error({message:e})}_showInfoToast(){const e=this.i18n.lookupTranslation("components/msg-ui@primitives/bulk-actions-panel-presenter","i18n_bulk_action_info_message")([])
this.persistentToastManager.notice({message:e})}exitBulkActionsMode(e){this._unselectConversations(e)}cancelDelete(){this.showConfirmModal=!1
const e=this.args.isOverlay?"overlay.bulk_delete_cancel":"bulk_delete_cancel"
this.tracking.fireInteractionEvent(e)}confirmDelete(e){var t,i
null===(t=(i=this.args).willExecuteBulkAction)||void 0===t||t.call(i)
const n=this.args.isOverlay?"overlay.bulk_delete_confirm":"bulk_delete_confirm"
this.tracking.fireInteractionEvent(n)
this.msgDataManager.bulkDeleteConversations(this.args.selectedConversationUrns).then((()=>{var t,i
return null===(t=(i=this.args).didExecuteBulkAction)||void 0===t?void 0:t.call(i,"delete",e)})).catch((e=>{if((0,m.isDestroying)(this))throw e
this._showErrorToast()
throw e}))
this._unselectConversations()
this.showConfirmModal=!1}toggleArchive(e){var t,i
null===(t=(i=this.args).willExecuteBulkAction)||void 0===t||t.call(i)
const n=!this.selectedConversationsAreArchived
this.msgDataManager.toggleBulkConversationsArchive(this.args.selectedConversationUrns,n).then((()=>{var t,i
return null===(t=(i=this.args).didExecuteBulkAction)||void 0===t?void 0:t.call(i,"archive",e)})).catch((e=>{if((0,m.isDestroying)(this))throw e
this._showErrorToast()
throw e}))
this._unselectConversations(e)}toggleRead(e){var t,i
null===(t=(i=this.args).willExecuteBulkAction)||void 0===t||t.call(i)
const n=!this.allSelectedConversationsRead,s=n?this.selectedUnreadConversationUrns:this.args.selectedConversationUrns
this.msgDataManager.toggleBulkConversationsRead(s,n).then((()=>{var e,t
return null===(e=(t=this.args).didExecuteBulkAction)||void 0===e?void 0:e.call(t)})).catch((e=>{if((0,m.isDestroying)(this))throw e
this._showErrorToast()
throw e}))
this._unselectConversations(e)}resetFocusState(){var e,t
null===(e=(t=this.args).resetFocusState)||void 0===e||e.call(t)}},T=(0,n.default)(S.prototype,"msgDataManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,n.default)(S.prototype,"persistentToastManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,n.default)(S.prototype,"i18n",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,n.default)(S.prototype,"tracking",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,n.default)(S.prototype,"showConfirmModal",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(S.prototype,"exitBulkActionsMode",[d.action],Object.getOwnPropertyDescriptor(S.prototype,"exitBulkActionsMode"),S.prototype),(0,n.default)(S.prototype,"cancelDelete",[d.action],Object.getOwnPropertyDescriptor(S.prototype,"cancelDelete"),S.prototype),(0,n.default)(S.prototype,"confirmDelete",[d.action],Object.getOwnPropertyDescriptor(S.prototype,"confirmDelete"),S.prototype),(0,n.default)(S.prototype,"toggleArchive",[d.action],Object.getOwnPropertyDescriptor(S.prototype,"toggleArchive"),S.prototype),(0,n.default)(S.prototype,"toggleRead",[d.action],Object.getOwnPropertyDescriptor(S.prototype,"toggleRead"),S.prototype),(0,n.default)(S.prototype,"resetFocusState",[d.action],Object.getOwnPropertyDescriptor(S.prototype,"resetFocusState"),S.prototype),S))}))
define("msg-ui/components/primitives/linkedin-video-meeting-preview-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","global-utils/utils/is-browser","@ember/object","@ember/application","global-utils/utils/api-compat","@ember/service","ember","@glimmer/component","@ember/destroyable","@ember/modifier","ember-cli-pemberly-tracking/modifiers/track-interaction","hue-web-icons/components/icon","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-i18n/helpers/format-date","ember-cli-pemberly-i18n/helpers/format-time","global-helpers/helpers/format-duration"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var k,S,T,D,I,C,x,E,P
e.default=(0,o.setComponentTemplate)((0,a.createTemplateFactory)({id:"nDo4ONHa",block:'[[[1,"\\n"],[1,"    "],[11,3],[16,6,[30,0,["videoConferencePath"]]],[16,"target",[30,1]],[24,"rel","opener"],[24,0,"link-without-hover-visited msg-linkedin-video-meeting-preview-presenter"],[4,[32,0],["click",[30,0,["joinMeeting"]]],null],[4,[32,1],["virtual_meetings_click_card_linkedin"],null],[12],[1,"\\n      "],[10,0],[14,0,"artdeco-card display-flex pl3 pr4"],[12],[1,"\\n        "],[10,0],[14,0,"display-flex align-items-center pr2"],[12],[1,"\\n          "],[8,[32,2],[[24,0,"msg-ui-linkedin-video-meeting-preview-presenter-card__icon artdeco-button__icon t-black--light"]],[["@type","@size","@name"],["system","medium","video-conference"]],null],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"msg-ui-linkedin-video-meeting-preview-presenter-card__info pl1 pt3 pb3"],[12],[1,"\\n"],[41,[30,0,["isDisabledBrowser"]],[[[1,"            "],[10,2],[14,0,"t-16 t-bold pb1"],[12],[1,[28,[32,3],["i18n_unavailable_on_firefox_text","msg-ui/components/primitives/linkedin-video-meeting-preview-presenter"],null]],[13],[1,"\\n            "],[10,2],[14,0,"t-14"],[12],[1,[28,[32,3],["i18n_unavailable_on_firefox_explanation_text","msg-ui/components/primitives/linkedin-video-meeting-preview-presenter"],null]],[13],[1,"\\n"]],[]],[[[1,"            "],[10,2],[14,0,"t-14 t-bold pl2"],[12],[1,[28,[32,3],["i18n_meeting_title","msg-ui/components/primitives/linkedin-video-meeting-preview-presenter"],[["member"],[[30,2]]]]],[13],[1,"\\n"],[41,[30,0,["scheduledMeetingDuration"]],[[[1,"              "],[10,2],[14,0,"t-12 pl2 t-black--light"],[12],[1,[28,[32,3],["i18n_scheduled_meeting_time","msg-ui/components/primitives/linkedin-video-meeting-preview-presenter"],[["date","time"],[[28,[32,4],[[30,3,["start"]]],[["format","useTimeZone"],["fmt_mdy_short",true]]],[28,[32,5],[[30,3,["start"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]]],[13],[1,"\\n              "],[10,2],[14,0,"t-12 pl2 t-black--light"],[12],[1,[28,[32,3],["i18n_scheduled_meeting_duration","msg-ui/components/primitives/linkedin-video-meeting-preview-presenter"],[["duration"],[[28,[32,6],[[30,0,["scheduledMeetingDuration"]]],[["format"],["human"]]]]]]],[13],[1,"\\n"]],[]],null],[1,"            "],[10,2],[14,0,"msg-ui-linkedin-video-meeting-preview-presenter-card__join-meeting-btn t-bold artdeco-button--1 artdeco-button--tertiary"],[12],[1,"\\n              "],[1,[28,[32,3],["i18n_join_meeting","msg-ui/components/primitives/linkedin-video-meeting-preview-presenter"],null]],[1,"\\n            "],[13],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@threadId","@senderName","@virtualMeetingTimeRange"],false,["if"]]',moduleName:"msg-ui/components/primitives/linkedin-video-meeting-preview-presenter.gjs",scope:()=>[f.on,b.default,v.default,y.default,_.default,w.default,M.default],isStrictMode:!0}),(k=(0,m.inject)("i18n"),S=(0,m.inject)("persistent-toast-manager@persistent-toast-manager"),T=(0,m.inject)("router"),D=(0,m.inject)("prefetch"),I=class extends g.default{get scheduledMeetingDuration(){var e,t
const i=null===(e=this.args.virtualMeetingTimeRange)||void 0===e?void 0:e.start,n=null===(t=this.args.virtualMeetingTimeRange)||void 0===t?void 0:t.end
if(i&&n){const e=n-i
return e>0?Math.round(e/1e3):null}return null}get isDisabledBrowser(){return!l.default||/firefox/i.test(window.navigator.userAgent)}get videoConferencePath(){return this.router.urlFor("msg-video-call.index",this.args.threadId,(0,u.entityUrnToId)(this.args.conferenceUrn))}get shouldPrefetchVideoBundle(){const e=(new Date).getTime(),t=18e5
if(this.isDisabledBrowser)return!1
if(this.scheduledMeetingDuration){var i,n
const s=null===(i=this.args.virtualMeetingTimeRange)||void 0===i?void 0:i.start,a=null===(n=this.args.virtualMeetingTimeRange)||void 0===n?void 0:n.end
if(e<s-t||e>a)return!1}else{if(e>this.args.virtualMeetingCreationTime+t)return!1}return!0}constructor(){super(...arguments);(0,t.default)(this,"i18n",C,this);(0,t.default)(this,"persistentToastManager",x,this);(0,t.default)(this,"router",E,this);(0,t.default)(this,"prefetch",P,this)
this.shouldPrefetchVideoBundle&&this.prefetch.prefetchAssets("msg-video-call","d_flagship3_messaging_video_conference").then((()=>{if(!(0,h.isDestroying)(this)&&(!p.default.testing||this.args.testingPrefetchOverride)){(0,c.getOwner)(this).lookup("service:video-call@fetch-client").fetchConferenceClient()}}))}joinMeeting(e){var t
const i=(new Date).getTime(),n=null===(t=this.args.virtualMeetingTimeRange)||void 0===t?void 0:t.start
if(n&&n-i>18e5){e.preventDefault()
const t=this.i18n.lookupTranslation("components/msg-ui@primitives/linkedin-video-meeting-preview-presenter","i18n_scheduled_meeting_not_started")()
this.persistentToastManager.notice({message:t})}}},C=(0,n.default)(I.prototype,"i18n",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,n.default)(I.prototype,"persistentToastManager",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,n.default)(I.prototype,"router",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,n.default)(I.prototype,"prefetch",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(I.prototype,"joinMeeting",[d.action],Object.getOwnPropertyDescriptor(I.prototype,"joinMeeting"),I.prototype),I))}))
define("msg-ui/components/primitives/message-hover-actions-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","ember-batcher","global-utils/utils/file-size-formatter","global-utils/utils/keyboard-utils","msg-shared/utils/file-meta","ember-lifeline","@glimmer/tracking","@glimmer/component","global-utils/utils/is-browser","@ember/service","@ember/object","@ember/modifier","global-helpers/helpers/or","ember-cli-pemberly-tracking/modifiers/track-interaction","msg-reactions/components/emoji/promoted-reactions-list-presenter","ember-set-helper/helpers/set","artdeco-dropdown/components/artdeco-dropdown","ember-cli-pemberly-i18n/helpers/t","hue-web-icons/components/icon","artdeco-dropdown/components/artdeco-dropdown-item","artdeco-button/components/artdeco-button","@ember/helper","global-helpers/helpers/not","ember-cli-pemberly-tracking/utils/tracking"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M,k,S,T,D,I,C,x){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var E,P,A,O,R,U,N,j,F,G,L,z,B
const V="\r\n\r\n"
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"aIBxpovp",block:'[[[1,"\\n"],[1,"    "],[11,0],[16,0,[28,[32,0],["msg-s-event-listitem__message-bubble",[52,[30,0,["escKeyPressedFlag"]]," msg-s-event-listitem__message-bubble--escaped"],[52,[30,0,["isHoverableOpen"]]," msg-s-event-listitem__message-bubble--hoverable-open"]," ",[30,1]],null]],[24,"tabindex","0"],[17,2],[12],[1,"\\n"],[41,[30,3],[[[41,[30,4],[[[41,[30,5],[[[1,"            "],[11,0],[24,0,"msg-s-event-listitem__actions-container artdeco-card"],[4,[32,1],[[30,6]],[["interactionType"],["HOVER"]]],[4,[32,2],["keydown",[30,0,["handleKeyDown"]]],null],[12],[1,"\\n              "],[8,[32,3],null,[["@messageUrn","@messageActorUrn","@conversationUrn","@isConversationRead","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide","@hideAllActionMenus","@hideOptionsMenu"],[[30,7,["messageUrn"]],[30,7,["messageActorUrn"]],[30,7,["conversationUrn"]],[30,8,["isConversationRead"]],[30,9],[30,0,["handleEmojiHoverableShow"]],[30,10],[30,0,["hideAllActionMenus"]],[28,[32,4],[[30,0],"isOptionMenuOpen",false],null]]],null],[1,"\\n\\n"],[1,"              "],[8,[32,5],[[16,"aria-label",[28,[32,6],["a11y_message_options","msg-ui/components/primitives/message-hover-actions-presenter"],[["senderName","messageBody"],[[30,7,["senderFamiliarName"]],[30,7,["messageTextBody","text"]]]]]]],[["@class","@justification","@placement","@isOpen","@onVisibilityChange"],["msg-s-event-listitem__reactions-options-ellipsis","right",[30,0,["dropDirection"]],[30,0,["isOptionMenuOpen"]],[28,[32,4],[[30,0],"isOptionMenuOpen"],null]]],[["default"],[[[[1,"\\n                "],[8,[30,11,["dropdown-trigger"]],[[4,[32,1],["attempt_forward"],null]],[["@class","@title","@onClick","@onKeyDown"],["msg-s-event-listitem__options-trigger",[28,[32,6],["a11y_forward_message","msg-ui/components/primitives/message-hover-actions-presenter"],[["senderName"],[[30,7,["senderFamiliarName"]]]]],[30,0,["setupDropMenu"]],[30,0,["setupDropMenu"]]]],[["default"],[[[[1,"\\n                  "],[8,[32,7],[[24,0,"msg-s-event-listitem__options-trigger-icon"]],[["@a11yText","@type","@size","@name"],[[28,[32,6],["a11y_message_options","msg-ui/components/primitives/message-hover-actions-presenter"],[["senderName","messageBody"],[[30,7,["senderFamiliarName"]],[30,7,["messageTextBody","text"]]]]],"system","small","overflow-web-ios"]],null],[1,"\\n                "]],[]]]]],[1,"\\n                "],[10,0],[14,0,"msg-s-event-listitem__options-content"],[12],[1,"\\n                  "],[8,[30,11,["dropdown-content"]],[[4,[32,2],["keydown",[30,0,["optionsContentKeyDown"]]],null]],[["@arrowDir"],["right"]],[["default"],[[[[1,"\\n                    "],[10,"ul"],[12],[1,"\\n                      "],[10,"li"],[12],[1,"\\n                        "],[8,[32,8],[[4,[32,1],["forward_to_message"],null]],[["@itemSelected","@role"],[[28,[32,9],[[30,0,["forwardAttachment"]],[30,12]],null],"button"]],[["default"],[[[[1,"\\n                          "],[1,[28,[32,6],["i18n_forward_via_LI","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n                      "],[10,"li"],[12],[1,"\\n                        "],[8,[32,8],[[4,[32,1],["forward_to_email"],null]],[["@itemSelected","@role"],[[30,0,["forwardViaEmail"]],"button"]],[["default"],[[[[1,"\\n                          "],[1,[28,[32,6],["i18n_forward_via_email","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n"],[41,[30,13],[[[1,"                        "],[10,"li"],[12],[1,"\\n                          "],[8,[32,8],null,[["@itemSelected","@role","@disabled"],[[28,[32,9],[[30,14],true],null],"button",[30,15]]],[["default"],[[[[1,"\\n                            "],[1,[28,[32,6],["i18n_delete_message","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                          "]],[]]]]],[1,"\\n                        "],[13],[1,"\\n"],[41,[30,16],[[[1,"                          "],[10,"li"],[12],[1,"\\n                            "],[8,[32,8],null,[["@itemSelected","@role"],[[28,[32,9],[[30,16],[30,7,["messageTextBody"]],[30,7,["messageAPIModel"]]],null],"button"]],[["default"],[[[[1,"\\n                              "],[1,[28,[32,6],["i18n_edit_message","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                            "]],[]]]]],[1,"\\n                          "],[13],[1,"\\n"]],[]],null]],[]],null],[1,"                    "],[13],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n              "]],[11]]]]],[1,"\\n            "],[13],[1,"\\n"]],[]],[[[1,"            "],[10,0],[14,0,"msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__forward-arrow-backer"],[12],[13],[1,"\\n            "],[11,"button"],[24,0,"msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__forward-arrow artdeco-card"],[16,"title",[28,[32,6],["i18n_forward_attachment_a11y","msg-ui/components/primitives/message-hover-actions-presenter"],[["filename","senderName"],[[30,17],[30,7,["senderFamiliarName"]]]]]],[24,4,"button"],[4,[32,2],["click",[28,[32,9],[[30,0,["forwardAttachment"]],[30,12]],null]],null],[12],[1,"\\n              "],[8,[32,7],[[24,0,"msg-s-event-listitem__share-linkedin-icon"]],[["@a11yText","@type","@size","@name"],[[28,[32,6],["i18n_forward_attachment_a11y","msg-ui/components/primitives/message-hover-actions-presenter"],[["filename","senderName"],[[30,17],[30,7,["senderFamiliarName"]]]]],"system","small","share-linkedin"]],null],[1,"\\n            "],[13],[1,"\\n"]],[]]]],[]],[[[41,[28,[32,10],[[30,18]],null],[[[1,"          "],[11,"button"],[16,0,[29,["msg-s-event-listitem__forward-attachment\\n              ",[52,[30,0,["isImage"]],"msg-s-event-listitem__forward-attachment--image","msg-s-event-listitem__forward-attachment--file"],"\\n              "]]],[24,4,"button"],[4,[32,2],["click",[28,[32,9],[[30,0,["forwardAttachment"]],[30,12]],null]],null],[12],[1,"\\n            "],[8,[32,7],null,[["@a11yText","@type","@size","@name"],[[28,[32,6],["i18n_forward_attachment_a11y","msg-ui/components/primitives/message-hover-actions-presenter"],[["filename","senderName"],[[30,17],[30,7,["senderFamiliarName"]]]]],"system","small","share-linkedin"]],null],[1,"\\n          "],[13],[1,"\\n        "]],[]],null]],[]]]],[]],[[[41,[28,[32,11],[[30,0,["isReplyToWriteFlowEnabled"]],[30,5],[30,4],[30,13],[30,19]],null],[[[1,"        "],[11,0],[24,0,"msg-s-event-listitem__actions-container artdeco-card"],[4,[32,1],[[30,6]],[["interactionType"],["HOVER"]]],[4,[32,2],["keydown",[30,0,["handleKeyDown"]]],null],[12],[1,"\\n"],[41,[30,5],[[[1,"            "],[8,[32,3],null,[["@messageUrn","@messageActorUrn","@conversationUrn","@isConversationRead","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide","@hideAllActionMenus","@hideOptionsMenu"],[[30,7,["messageUrn"]],[30,7,["messageActorUrn"]],[30,7,["conversationUrn"]],[30,8,["isConversationRead"]],[30,9],[30,0,["handleEmojiHoverableShow"]],[30,10],[30,0,["hideAllActionMenus"]],[28,[32,4],[[30,0],"isOptionMenuOpen",false],null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["isReplyToWriteFlowEnabled"]],[[[1,"            "],[8,[32,12],[[24,0,"msg-s-event-listitem__hover-action-button"],[4,[32,2],["click",[30,0,["replyToMessage"]]],null],[4,[32,1],["reply_to_message"],null]],[["@type","@color","@icon","@title","@aria-label"],["tertiary","muted","reply",[28,[32,6],["a11y_reply_to_message","msg-ui/components/primitives/message-hover-actions-presenter"],null],[28,[32,6],["a11y_reply_to_message","msg-ui/components/primitives/message-hover-actions-presenter"],null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[32,11],[[30,4],[30,13],[30,19]],null],[[[1,"            "],[8,[32,5],[[16,"aria-label",[28,[32,6],["a11y_message_options","msg-ui/components/primitives/message-hover-actions-presenter"],[["senderName","messageBody"],[[30,7,["senderFamiliarName"]],[30,7,["messageTextBody","text"]]]]]]],[["@class","@justification","@placement","@isOpen","@onVisibilityChange"],["msg-s-event-listitem__reactions-options-ellipsis","right",[30,0,["dropDirection"]],[30,0,["isOptionMenuOpen"]],[28,[32,4],[[30,0],"isOptionMenuOpen"],null]]],[["default"],[[[[1,"\\n              "],[8,[30,20,["dropdown-trigger"]],[[4,[32,1],["attempt_forward"],null]],[["@class","@title","@onClick","@onKeyDown"],["msg-s-event-listitem__options-trigger",[28,[32,6],["a11y_forward_message","msg-ui/components/primitives/message-hover-actions-presenter"],[["senderName"],[[30,7,["senderFamiliarName"]]]]],[30,0,["setupDropMenu"]],[30,0,["setupDropMenu"]]]],[["default"],[[[[1,"\\n                "],[8,[32,7],[[24,0,"msg-s-event-listitem__options-trigger-icon"]],[["@a11yText","@type","@size","@name"],[[28,[32,6],["a11y_message_options","msg-ui/components/primitives/message-hover-actions-presenter"],[["senderName","messageBody"],[[30,7,["senderFamiliarName"]],[30,7,["messageTextBody","text"]]]]],"system","small","overflow-web-ios"]],null],[1,"\\n              "]],[]]]]],[1,"\\n              "],[10,0],[14,0,"msg-s-event-listitem__options-content"],[12],[1,"\\n                "],[8,[30,20,["dropdown-content"]],[[4,[32,2],["keydown",[30,0,["optionsContentKeyDown"]]],null]],[["@arrowDir"],["right"]],[["default"],[[[[1,"\\n                  "],[10,"ul"],[12],[1,"\\n"],[41,[30,4],[[[1,"                      "],[10,"li"],[12],[1,"\\n                        "],[8,[32,8],[[4,[32,1],["forward_to_message"],null]],[["@itemSelected","@role"],[[30,0,["forwardViaMessage"]],"button"]],[["default"],[[[[1,"\\n                          "],[1,[28,[32,6],["i18n_forward_via_LI","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n                      "],[10,"li"],[12],[1,"\\n                        "],[8,[32,8],[[4,[32,1],["forward_to_email"],null]],[["@itemSelected","@role"],[[30,0,["forwardViaEmail"]],"button"]],[["default"],[[[[1,"\\n                          "],[1,[28,[32,6],["i18n_forward_via_email","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n"]],[]],null],[41,[28,[32,11],[[30,19],[30,13]],null],[[[1,"                      "],[10,"li"],[12],[1,"\\n                        "],[8,[32,8],null,[["@itemSelected","@role","@disabled"],[[28,[32,9],[[30,14],true],null],"button",[30,15]]],[["default"],[[[[1,"\\n                          "],[1,[28,[32,6],["i18n_delete_message","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n"]],[]],null],[41,[30,13],[[[1,"                      "],[10,"li"],[12],[1,"\\n                        "],[8,[32,8],null,[["@itemSelected","@role"],[[28,[32,9],[[30,16],[30,7,["messageTextBody"]],[30,7,["messageAPIModel"]]],null],"button"]],[["default"],[[[[1,"\\n                          "],[1,[28,[32,6],["i18n_edit_message","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n"]],[]],null],[1,"                  "],[13],[1,"\\n                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n            "]],[20]]]]],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n      "]],[]],null]],[]]],[1,"\\n      "],[18,21,null],[1,"\\n    "],[13],[1,"\\n  "]],["@classNames","&attrs","@hasAttachment","@enableMsgFwd","@showSendReactionControls","@reactionsHoverTrackingName","@viewData","@vewData","@isOverlay","@onEmojiHoverableHide","dropdown","@attachment","@shouldShowEditDelete","@deleteMessageEventModalState","@disableDeleteAction","@showMessageEditForm","@filename","@isSponsoredConversation","@shouldShowDelete","dropdown","&default"],false,["if","yield"]]',moduleName:"msg-ui/components/primitives/message-hover-actions-presenter.gjs",scope:()=>[I.concat,y.default,b.on,_.default,w.default,M.default,k.default,S.default,T.default,I.fn,C.default,v.default,D.default],isStrictMode:!0}),(E=(0,h.inject)("msg-overlay-manager@msg-overlay-manager"),P=(0,h.inject)("i18n"),A=(0,h.inject)("global-services@window"),O=(0,h.inject)("persistent-toast-manager@persistent-toast-manager"),R=class extends p.default{constructor(){super(...arguments);(0,t.default)(this,"msgOverlayManager",U,this);(0,t.default)(this,"i18n",N,this);(0,t.default)(this,"windowService",j,this);(0,t.default)(this,"persistentToastManager",F,this);(0,t.default)(this,"isOptionMenuOpen",G,this);(0,t.default)(this,"dropDirection",L,this);(0,t.default)(this,"escKeyPressedFlag",z,this);(0,t.default)(this,"isHoverableOpen",B,this)}get isReplyToWriteFlowEnabled(){return this.args.viewData.isReplyEnabled&&this.args.enableMsgReply}handleEmojiHoverableShow(e){var t,i
this.isHoverableOpen=!0
null===(t=(i=this.args).onEmojiHoverableShow)||void 0===t||t.call(i,e)}resetEscKeyFlagAfterDelay(){if(!this.isTaskRunning){this.isTaskRunning=!0;(0,u.runTask)(this,(()=>{this.isDestroying||(this.escKeyPressedFlag=!1)
this.isTaskRunning=!1}),5e3)}}_closeOptionDropdown(){this.isOptionMenuOpen=!1}_showRecallErrorToast(){const e=this.i18n.lookupTranslation("components/msg-ui@primitives/message-hover-actions-presenter","i18n_recall_generic_error")()
this.persistentToastManager.error({message:e})}handleKeyDown(e){if((0,d.isEscapeKey)(e)&&!e.keyPressedInDropdownContent){this.escKeyPressedFlag=!0
const t=e.target.closest(".msg-s-event-listitem__message-bubble")
t&&t.focus()
this.resetEscKeyFlagAfterDelay()}}optionsContentKeyDown(e){(0,d.isEscapeKey)(e)&&(e.keyPressedInDropdownContent=!0)}setupDropMenu(e){const t=this.dropDirection,i=e.target.closest(".msg-s-message-list"),n=e.target.closest(".msg-s-event-listitem__actions-container"),s=e.target,a=.5*i.offsetHeight,r=i.getBoundingClientRect().bottom-s.getBoundingClientRect().bottom-n.offsetHeight<a?"top":"bottom"
r!==t&&(this.dropDirection=r)}forwardViaMessage(){const e=this.args.viewData.messageAPIModel,t={dispatcherEntryPointArgs:{client:{trackingData:{controlUrn:"forward_message",messageComposeFlowTrackingId:(0,x.generateBase64UUID)()},senderContext:{ui:{forwardedEvent:e}}}}}
this.msgOverlayManager.createConversationBubbleV2(t)
this._closeOptionDropdown()}replyToMessage(){var e,t
null===(e=(t=this.args).replyToMessage)||void 0===e||e.call(t,this.args.viewData.messageAPIModel)
this._closeOptionDropdown()}forwardViaEmail(){const e=jSecure.htmlUnencode(this.i18n.lookupTranslation("components/msg-ui@primitives/message-hover-actions-presenter","INMAIL"===this.args.viewData.messageSubtype?"i18n_forwarded_inmail_message_preamble":"i18n_forwarded_message_preamble")()),t=this.args.viewData.senderFullName,i=this.args.viewData.senderParticipantProfileUrl,n=jSecure.htmlUnencode(this.i18n.lookupTranslation("components/msg-ui@primitives/message-hover-actions-presenter","i18n_forwarded_message_header")([{originalSender:t,originalSenderProfileURL:i}])),s=this.args.viewData.messageSubject,a=this.args.viewData.messageTextBody.text
let r="mailto:?",o=`${e}${V}${n}${V}`
if("INMAIL"===this.args.viewData.messageSubtype&&s){r+=`subject=${encodeURIComponent(`FWD: ${s}`)}&`
o+=`${s}${V}`}o+=a
r+=`body=${encodeURIComponent(o)}`
this.windowService.open(r,"")
this._closeOptionDropdown()}forwardAttachment(e){const t={}
e.messageReference=this.args.viewData.messageUrn
const{file:i,vectorImage:n}=e
if(i){t.isImage=!1
t.id=i.assetUrn
t.reference=i.url
t.name=i.name
t.mediaType=i.mediaType
t.byteSize=i.byteSize
t.mediaTypeExtension=(0,c.mediaTypeExtension)(t.mediaType)
t.formattedSize=(0,l.default)(t.byteSize,this.i18n)}else if(n){t.isImage=!0
t.id=n.digitalmediaAsset
t.reference=n.rootUrl}Object.assign(e,t)
const s={dispatcherEntryPointArgs:{client:{trackingData:{controlUrn:"forward_attachment",messageComposeFlowTrackingId:(0,x.generateBase64UUID)()},senderContext:{ui:{initialAttachments:[e]}}}}}
this.msgOverlayManager.createConversationBubbleV2(s)}hideAllActionMenus(){g.default&&(0,o.mutateDOM)((()=>{this.isOptionMenuOpen=!1
this.isHoverableOpen=!1}))}},U=(0,n.default)(R.prototype,"msgOverlayManager",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,n.default)(R.prototype,"i18n",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,n.default)(R.prototype,"windowService",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,n.default)(R.prototype,"persistentToastManager",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,n.default)(R.prototype,"isOptionMenuOpen",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=(0,n.default)(R.prototype,"dropDirection",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"top"}}),z=(0,n.default)(R.prototype,"escKeyPressedFlag",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=(0,n.default)(R.prototype,"isHoverableOpen",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(R.prototype,"handleEmojiHoverableShow",[f.action],Object.getOwnPropertyDescriptor(R.prototype,"handleEmojiHoverableShow"),R.prototype),(0,n.default)(R.prototype,"resetEscKeyFlagAfterDelay",[f.action],Object.getOwnPropertyDescriptor(R.prototype,"resetEscKeyFlagAfterDelay"),R.prototype),(0,n.default)(R.prototype,"handleKeyDown",[f.action],Object.getOwnPropertyDescriptor(R.prototype,"handleKeyDown"),R.prototype),(0,n.default)(R.prototype,"optionsContentKeyDown",[f.action],Object.getOwnPropertyDescriptor(R.prototype,"optionsContentKeyDown"),R.prototype),(0,n.default)(R.prototype,"setupDropMenu",[f.action],Object.getOwnPropertyDescriptor(R.prototype,"setupDropMenu"),R.prototype),(0,n.default)(R.prototype,"forwardViaMessage",[f.action],Object.getOwnPropertyDescriptor(R.prototype,"forwardViaMessage"),R.prototype),(0,n.default)(R.prototype,"replyToMessage",[f.action],Object.getOwnPropertyDescriptor(R.prototype,"replyToMessage"),R.prototype),(0,n.default)(R.prototype,"forwardViaEmail",[f.action],Object.getOwnPropertyDescriptor(R.prototype,"forwardViaEmail"),R.prototype),(0,n.default)(R.prototype,"forwardAttachment",[f.action],Object.getOwnPropertyDescriptor(R.prototype,"forwardAttachment"),R.prototype),(0,n.default)(R.prototype,"hideAllActionMenus",[f.action],Object.getOwnPropertyDescriptor(R.prototype,"hideAllActionMenus"),R.prototype),R))}))
define("msg-ui/components/primitives/message-list-item-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","tracked-toolbox","msg-ui/viewdata/sdk-message-list-item-viewdata","msg-shared/utils/constants","@glimmer/component","@ember/service","@ember/object","global-helpers/helpers/and","msg-ui/helpers/date-group-heading","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-i18n/helpers/format-time","ember-cli-pemberly-tracking/modifiers/track-view","@ember/render-modifiers/modifiers/did-insert","msg-ui/components/primitives/message-sender-advertiser-entity-presenter","global-helpers/helpers/not","msg-ui/components/primitives/message-sender-entity-presenter","app-aware-link/components/app-aware-link","ember-cli-pemberly-tracking/modifiers/track-interaction","pronouns/components/pronouns","msg-ui/components/primitives/message-list-item-system-message-presenter","msg-ui/components/primitives/message-list-item-user-message-presenter","msg-ui/components/primitives/profile-badge","global-helpers/helpers/gte","@ember/modifier","@ember/helper","ember-vector-images/components/lazy-image","global-helpers/helpers/name","artdeco-hoverables/components/artdeco-hoverable-trigger","rich-text/components/attributed-text","hue-web-icons/components/icon","global-utils/utils/url"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M,k,S,T,D,I,C,x,E,P,A,O,R,U,N){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var j,F,G,L,z,B,V,H,q,W,K,$,Y,Q,J,Z,X,ee,te
const{MESSAGES_PER_PAGE:ie,PAGEVIEW_KEYS:{CONVERSATION_DETAIL_PAGEKEY:ne}}=d.default
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"gxvuWGIP",block:'[[[1,"\\n"],[41,[28,[32,0],[[30,0,["viewData","dateBoundary"]],[30,0,["isOldestUnreadMessage"]]],null],[[[1,"      "],[10,0],[14,0,"msg-s-message-list__new-message-time-heading t-12 t-bold"],[12],[1,"\\n        "],[10,"time"],[14,0,"msg-s-message-list__new-message-heading--timestamp t-black--light"],[12],[1,"\\n          "],[1,[28,[32,1],[[30,0,["viewData","dateBoundary","timestamp"]]],null]],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,"time"],[14,0,"msg-s-message-list__new-message-heading--text"],[12],[1,"\\n          "],[1,[28,[32,2],["i18n_new_message_divider_text","msg-ui/components/primitives/message-list-item-feature"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],[[[41,[30,0,["viewData","dateBoundary"]],[[[1,"      "],[10,"time"],[14,0,"msg-s-message-list__time-heading t-12 t-black--light t-bold"],[12],[1,"\\n        "],[1,[28,[32,1],[[30,0,["viewData","dateBoundary","timestamp"]]],null]],[1,"\\n      "],[13],[1,"\\n"]],[]],[[[41,[30,0,["isOldestUnreadMessage"]],[[[1,"      "],[10,"time"],[14,0,"msg-s-message-list__new-message-heading t-12 t-bold"],[12],[1,"\\n        "],[1,[28,[32,2],["i18n_new_message_divider_text","msg-ui/components/primitives/message-list-item-feature"],null]],[1,"\\n      "],[13],[1,"\\n    "]],[]],null]],[]]]],[]]],[1,"\\n"],[41,[30,0,["viewData","senderGroupMessageCount"]],[[[1,"      "],[10,1],[14,0,"msg-s-event-listitem--group-a11y-heading visually-hidden"],[12],[1,"\\n        "],[1,[28,[32,2],["i18n_a11y_pre_message_text","msg-ui/components/primitives/message-list-item-feature"],[["actorName","count","timestamp"],[[30,0,["viewData","senderName"]],[30,0,["viewData","senderGroupMessageCount"]],[28,[32,3],[[30,0,["viewData","messageCreatedAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]]],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[11,0],[16,0,[29,["msg-s-event-listitem\\n        ",[52,[30,0,["viewData","isM2MMessageFollowedByDateBoundary"]]," msg-s-event-listitem--m2m-msg-followed-by-date-boundary"],"\\n        ",[52,[30,0,["viewData","isSystemMessageFollowedByM2MMessage"]]," msg-s-event-listitem--system-followed-by-m2m-msg"],"\\n        ",[52,[30,0,["viewData","isSystemMessagePrecededByM2MMessage"]]," msg-s-event-listitem--system-preceded-by-m2m-msg"],"\\n        ",[52,[30,0,["viewData","isLastInGroup"]]," msg-s-event-listitem--last-in-group"],"\\n        ",[52,[30,0,["viewData","messageSeenReceipts","length"]]," msg-s-event-listitem--has-seen-receipts"],"\\n        ",[52,[30,0,["viewData","isSystemMessage"]]," msg-s-event-listitem--system"],"\\n        ",[52,[30,0,["viewData","isInMailFromOtherUser"]]," msg-s-event-listitem--inmail"],"\\n        ",[52,[30,0,["viewData","isMessageFromOtherUser"]]," msg-s-event-listitem--other"],"\\n        ",[52,[30,0,["viewData","footerText"]]," msg-s-event-listitem--has-footer-text"],"\\n        ",[52,[30,0,["viewData","isError"]]," msg-s-event-listitem--is-error"]]]],[16,"data-event-urn",[30,0,["viewData","messageUrn"]]],[17,1],[24,"data-view-name","message-list-item"],[4,[32,4],null,[["viewName","routeName","currentRoute"],["message-list-item",[28,[32,5],[[53,"outletState"],"render.name"],null],[28,[32,5],[[53,"outletState"],"render"],null]]]],[4,[32,6],[[30,0,["fireCustomPageViewEvent"]]],null],[12],[1,"\\n"],[41,[30,0,["viewData","showMeta"]],[[[41,[30,0,["viewData","isSponsoredMessage"]],[[[1,"          "],[8,[32,7],null,[["@viewData","@canShowSponsoredMemeberSenderProfileTooltip"],[[30,0,["viewData","messageSenderAdvertiserEntityViewData"]],[30,0,["canShowSponsoredMemeberSenderProfileTooltip"]]]],null],[1,"\\n"]],[]],[[[41,[28,[32,8],[[30,0,["viewData","isSystemMessage"]]],null],[[[1,"          "],[8,[32,9],null,[["@viewData","@showPresence","@size","@profileRoute"],[[30,0,["viewData","messageSenderEntityViewData"]],[30,2,["groupChat"]],2,"profile.common.profile"]],null],[1,"\\n        "]],[]],null]],[]]],[1,"\\n        "],[10,0],[14,0,"msg-s-message-group__meta"],[12],[1,"\\n\\n"],[41,[30,0,["viewData","conversationPreviewData"]],[[[1,"            "],[8,[32,10],[[24,0,"inline-block"]],[["@on","@placement"],["click","bottom"]],[["default"],[[[[1,"\\n              "],[10,"button"],[14,0,"msg-s-message-group__profile-link msg-s-message-group__name t-14 t-black t-bold"],[15,"aria-controls",[30,3,["ariaId"]]],[15,"aria-expanded",[30,3,["ariaExpanded"]]],[14,4,"button"],[12],[1,"\\n                "],[1,[28,[32,2],["i18n_default_listitem_actor_full_name","msg-ui/components/primitives/message-list-item-feature"],[["actorName"],[[30,0,["viewData","senderName"]]]]]],[1,"\\n              "],[13],[1,"\\n              "],[8,[30,3,["artdeco-hoverable-content"]],null,[["@theme","@contentClass"],["inverse","msg-s-message-group__preview-content"]],[["default"],[[[[1,"\\n"],[41,[30,0,["isLihaScreeningAgentIdentityLixEnabled"]],[[[1,"                  "],[10,0],[14,0,"msg-s-event-listitem__preview-title"],[12],[1,"\\n                    "],[8,[32,11],[[24,0,"text-body-small-bold"]],[["@attributedText"],[[30,0,["viewData","conversationPreviewData","previewTitle"]]]],null],[1,"\\n                  "],[13],[1,"\\n"]],[]],null],[1,"                "],[8,[32,11],null,[["@attributedText"],[[30,0,["viewData","conversationPreviewData","descriptionText"]]]],null],[1,"\\n              "]],[]]]]],[1,"\\n            "]],[3]]]]],[1,"\\n"]],[]],[[[41,[30,0,["viewData","senderProfileUrl"]],[[[44,[[52,[30,0,["viewData","isMessageSentByCompany"]],"view_page","view_profile"]],[[[41,[30,0,["profileNavigationEnabled"]],[[[1,"                  "],[10,1],[12],[1,"\\n                    "],[8,[32,12],[[24,0,"inline-block v-align-middle"],[4,[32,13],[[30,4]],null]],[["@href"],[[30,0,["viewData","senderProfileUrl"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["viewData","senderName"]],[[[1,"                        "],[10,1],[14,0,"msg-s-message-group__profile-link msg-s-message-group__name t-14 t-black t-bold hoverable-link-text"],[12],[1,"\\n"],[41,[30,0,["viewData","isMessageSentByCompany"]],[[[1,"                            "],[1,[28,[32,2],["i18n_default_listitem_page_name","msg-ui/components/primitives/message-list-item-feature"],[["pageName"],[[30,0,["viewData","senderName"]]]]]],[1,"\\n"]],[]],[[[1,"\\n                            "],[1,[28,[32,2],["i18n_default_listitem_actor_full_name","msg-ui/components/primitives/message-list-item-feature"],[["actorName"],[[30,0,["viewData","senderName"]]]]]],[1,"\\n"]],[]]],[1,"                        "],[13],[1,"\\n"]],[]],null],[1,"                    "]],[]]]]],[1,"\\n"],[41,[30,0,["msgDataManager","profileBadgeLixEnabled"]],[[[1,"                      "],[8,[32,14],null,[["@memberBadgeType"],[[30,0,["memberBadgeType"]]]],null],[1,"\\n"]],[]],[[[41,[28,[30,0,["showPremiumInBug"]],[[30,5],[30,2]],null],[[[1,"                        "],[8,[32,15],[[24,0,"inline-block v-align-middle"]],[["@name","@type","@size"],["linkedin-bug-premium-v2","logo","xxsmall"]],null],[1,"\\n"]],[]],null]],[]]],[1,"                  "],[13],[1,"\\n"]],[]],[[[41,[30,0,["viewData","senderName"]],[[[1,"                    "],[10,1],[12],[1,"\\n                      "],[10,1],[14,0,"msg-s-message-group__profile-link msg-s-message-group__name t-14 t-black t-bold inline-block v-align-middle"],[12],[1,"\\n"],[41,[30,0,["viewData","isMessageSentByCompany"]],[[[1,"                          "],[1,[28,[32,2],["i18n_default_listitem_page_name","msg-ui/components/primitives/message-list-item-feature"],[["pageName"],[[30,0,["viewData","senderName"]]]]]],[1,"\\n"]],[]],[[[41,[30,0,["canShowSponsoredMemeberSenderProfileTooltip"]],[[[1,"                          "],[8,[32,10],[[24,0,"inline-block"]],[["@on","@placement"],["click","bottom"]],[["default"],[[[[1,"\\n                            "],[10,"button"],[14,0,"msg-s-message-group__profile-link msg-s-message-group__name t-14 t-black t-bold"],[15,"aria-controls",[30,6,["ariaId"]]],[15,"aria-expanded",[30,6,["ariaExpanded"]]],[14,4,"button"],[12],[1,"\\n                              "],[1,[28,[32,2],["i18n_default_listitem_actor_full_name","msg-ui/components/primitives/message-list-item-feature"],[["actorName"],[[30,0,["viewData","senderName"]]]]]],[1,"\\n                            "],[13],[1,"\\n                            "],[8,[30,6,["artdeco-hoverable-content"]],null,[["@theme","@contentClass"],["inverse","msg-s-message-group__preview-content"]],[["default"],[[[[1,"\\n                              "],[10,0],[14,0,"text-body-small-bold"],[12],[1,"\\n                                "],[1,[28,[32,2],["i18n_member_sender_header_tooltip","msg-ui/components/primitives/message-list-item-feature"],null]],[1,"\\n                              "],[13],[1,"\\n                              "],[10,"br"],[12],[13],[1,"\\n                              "],[10,0],[12],[1,"\\n                                "],[1,[28,[32,2],["i18n_member_sender_tooltip","msg-ui/components/primitives/message-list-item-feature"],null]],[1,"\\n                                "],[11,3],[16,6,[30,0,["sponsoredMemberSenderLearnMoreLink"]]],[24,"target","_blank"],[24,0,"link-without-visited-state"],[24,"rel","noopener noreferrer"],[4,[32,16],["click",[30,0,["fireSponosredMessagingInteractionEvent"]]],null],[12],[1,[28,[32,2],["i18n_tooltip_learn_more","msg-ui/components/primitives/message-list-item-feature"],null]],[1," "],[13],[1,"\\n                              "],[13],[1,"\\n                            "]],[]]]]],[1,"\\n                          "]],[6]]]]],[1,"\\n"]],[]],[[[1,"                          "],[1,[28,[32,2],["i18n_default_listitem_actor_full_name","msg-ui/components/primitives/message-list-item-feature"],[["actorName"],[[30,0,["viewData","senderName"]]]]]],[1,"\\n                        "]],[]]]],[]]],[1,"                      "],[13],[1,"\\n"],[41,[30,0,["msgDataManager","profileBadgeLixEnabled"]],[[[1,"                        "],[8,[32,14],null,[["@memberBadgeType"],[[30,0,["memberBadgeType"]]]],null],[1,"\\n"]],[]],[[[41,[28,[30,0,["showPremiumInBug"]],[[30,5],[30,2]],null],[[[1,"                          "],[8,[32,15],[[24,0,"inline-block v-align-middle"]],[["@name","@type","@size"],["linkedin-bug-premium-v2","logo","xxsmall"]],null],[1,"\\n"]],[]],null]],[]]],[1,"                    "],[13],[1,"\\n"]],[]],null]],[]]]],[4]]]],[]],[[[1,"              "],[10,1],[12],[1,"\\n                "],[10,1],[14,0,"msg-s-message-group__name t-14 t-black t-bold inline-block v-align-middle"],[12],[1,"\\n                  "],[1,[30,0,["viewData","senderAnonymousName"]]],[1,"\\n                "],[13],[1,"\\n"],[41,[28,[30,0,["showPremiumInBug"]],[[30,5],[30,2]],null],[[[1,"                  "],[8,[32,15],[[24,0,"inline-block v-align-middle"]],[["@name","@type","@size"],["linkedin-bug-premium-v2","logo","xxsmall"]],null],[1,"\\n"]],[]],null],[1,"              "],[13],[1,"\\n"]],[]]]],[]]],[1,"          "],[8,[32,17],[[24,0,"t-12 t-black--light t-normal"]],[["@pronounsObject"],[[30,0,["viewData","senderPronouns"]]]],null],[1,"\\n          "],[10,"time"],[14,0,"msg-s-message-group__timestamp white-space-nowrap t-12 t-black--light t-normal"],[12],[1,"\\n            "],[1,[28,[32,3],[[30,0,["viewData","messageCreatedAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[41,[30,0,["viewData","isSystemMessage"]],[[[1,"        "],[8,[32,18],null,[["@viewData","@handleSuccessfulDiscardRequest"],[[30,0,["viewData","messageListItemSystemMessageViewData"]],[30,7]]],null],[1,"\\n"]],[]],[[[1,"        "],[8,[32,19],null,[["@viewData","@msgFormId","@isMsgSeenByNone","@redirectToActiveConversation","@showMessageEditForm","@shouldShowMessageEditForm","@showImageAttachment","@onEmojiHoverableShow","@onEmojiHoverableHide","@replyToMessage","@blockedByNoResponse","@isOverlay","@trackingPrefix","@isOriginalSize"],[[30,0,["viewData","messageListItemUserMessageViewData"]],[30,8],[28,[32,20],[[30,9],[30,10]],null],[30,11],[30,12],[30,13],[30,14],[30,0,["onEmojiHoverableShow"]],[30,0,["onEmojiHoverableHide"]],[30,15],[30,16],[30,17],[52,[30,17],"overlay.",""],[30,18]]],null],[1,"\\n"]],[]]],[1,"\\n      "],[18,21,[[30,0,["viewData"]]]],[1,"\\n\\n"],[41,[30,0,["viewData","showMessageSendFailedError"]],[[[41,[30,0,["viewData","messageSendFailedApiError"]],[[[1,"          "],[10,2],[14,0,"msg-s-event-listitem__error-message t-12 t-black t-bold"],[12],[1,"\\n            "],[1,[30,0,["viewData","messageSendFailedApiError"]]],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[1,"          "],[11,2],[24,0,"msg-s-event-listitem__error-message t-12 t-black t-bold"],[4,[32,16],["click",[28,[32,21],[[30,0,["resendFailedMessage"]],[30,0,["viewData","messageUrn"]]],null]],null],[12],[1,"\\n            "],[1,[28,[32,2],["i18n_message_retry","msg-ui/components/primitives/message-list-item-feature"],null]],[1,"\\n          "],[13],[1,"\\n"]],[]]]],[]],null],[1,"    "],[13],[1,"\\n\\n"],[41,[52,[30,19],[28,[32,5],[[30,0,["viewData","messageSeenReceipts"]],"length"],null]],[[[1,"      "],[10,0],[14,0,"msg-s-event-listitem__seen-receipts t-12 t-black--light t-normal"],[12],[1,"\\n"],[42,[28,[31,5],[[28,[31,5],[[30,0,["viewData","messageSeenReceipts"]]],null]],null],"id",[[[41,[30,20,["profile"]],[[[1,"            "],[8,[32,22],null,[["@image","@alt","@title","@class","@desiredWidth","@desiredHeight","@ghostType"],[[30,20,["profile","picture"]],[28,[32,2],["i18n_seen_receipt_alt_and_title_text","msg-ui/components/primitives/message-list-item-feature"],[["senderName","seenAt"],[[28,[32,23],[[30,20,["profile"]]],null],[28,[32,3],[[30,20,["seenAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]],[28,[32,2],["i18n_seen_receipt_alt_and_title_text","msg-ui/components/primitives/message-list-item-feature"],[["senderName","seenAt"],[[28,[32,23],[[30,20,["profile"]]],null],[28,[32,3],[[30,20,["seenAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]],"msg-s-event-listitem__seen-receipt-photo EntityPhoto-circle-1",100,100,"person"]],null],[1,"\\n"]],[]],null]],[20]],null],[1,"      "],[13],[1,"\\n"]],[]],null],[1,"  "]],["&attrs","@conversation","trigger","controlName","@message","trigger","@handleSuccessfulDiscardRequest","@msgFormId","@index","@indexOfLatestMessageSeenByNone","@redirectToActiveConversation","@showMessageEditForm","@shouldShowMessageEditForm","@showImageAttachment","@replyToMessage","@blockedByNoResponse","@isOverlay","@isOriginalSize","@showSeenReceipts","receipt","&default"],false,["if","-get-dynamic-var","let","yield","each","-track-array"]]',moduleName:"msg-ui/components/primitives/message-list-item-feature.gjs",scope:()=>[p.default,g.default,h.default,f.default,b.default,E.get,v.default,y.default,_.default,w.default,O.default,R.default,M.default,k.default,I.default,U.default,x.on,S.default,T.default,D.default,C.default,E.fn,P.default,A.default],isStrictMode:!0}),(j=(0,u.inject)("i18n"),F=(0,u.inject)("jet"),G=(0,u.inject)("lix"),L=(0,u.inject)("msg-data@data-manager"),z=(0,u.inject)("authentication@authenticated-user"),B=(0,u.inject)("tracking"),V=(0,u.inject)("formatter"),H=(0,u.inject)("presence@presence-api-dash"),q=(0,u.inject)("msg-spinmail-data@sponsored-action-tracking"),W=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",K,this);(0,t.default)(this,"jet",$,this);(0,t.default)(this,"lix",Y,this);(0,t.default)(this,"msgDataManager",Q,this);(0,t.default)(this,"authenticatedUser",J,this);(0,t.default)(this,"tracking",Z,this);(0,t.default)(this,"formatter",X,this);(0,t.default)(this,"presenceAPI",ee,this);(0,t.default)(this,"sponsoredActionTracking",te,this);(0,i.default)(this,"sponsoredMemberSenderLearnMoreLink",`${N.default.getDomainUrl()}/help/linkedin/answer/a426517`)}get viewData(){const{conversation:e,index:t}=this.args,{messages:i}=e
let n=null,s=null
try{t>0&&(n=i.at(t-1))
t<i.length-1&&(s=i.at(t+1))}catch(n){this.jet.error(new Error("Unexpected SDK Index out of bounds error"),[`index: ${t}`,`conversation URN: ${e.entityUrn}`,`conversation URN from message: ${this.args.message.backendConversationUrn}`,`messages length: ${i.length}`],{shouldRethrow:!1})}const{mailboxParticipants:a}=this.msgDataManager
return new l.default({message:this.args.message,sender:a[this.args.message.senderUrn],conversation:e,mailboxParticipants:a,authenticatedUser:this.authenticatedUser,formatter:this.formatter,i18n:this.i18n,previousMessage:n,nextMessage:s,presenceAPI:this.presenceAPI,lix:this.lix,msgDataManager:this.msgDataManager,jet:this.jet})}get isOldestUnreadMessage(){return this.args.index===this.args.messageIndexToBeAnchored}get profileNavigationEnabled(){return!(!this.viewData.isSponsoredMessage||!this.viewData.isMessageSentByCompany)||!this.viewData.isSponsoredMessage&&this.viewData.creatorProfileViewEnabled}showPremiumInBug(e,t){if(t){const{senderUrn:i}=e
return t.decoratedParticipants.find((e=>e.hostIdentityUrn===i&&e.showPremiumInBug))}return!1}get memberBadgeType(){const{senderUrn:e}=this.args.message,{decoratedParticipants:t}=this.args.conversation,i=t.find((t=>t.hostIdentityUrn===e))
return null==i?void 0:i.memberBadgeType}get isMemberSenderProfileViewLixEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.spessaging-member-sender-profile-preview")}get isLihaScreeningAgentIdentityLixEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-liha-screening-agent-identity")}get canShowSponsoredMemeberSenderProfileTooltip(){return this.isMemberSenderProfileViewLixEnabled&&this.viewData.isConversationAdMemberSender&&this.viewData.isSponsoredConversation&&this.args.message.senderUrn!==this.authenticatedUser.miniProfile.dashEntityUrn}fireSponosredMessagingInteractionEvent(){this.sponsoredActionTracking.fireSponosredMessagingInteractionEvent()}fireCustomPageViewEvent(){this.args.messageIndex>0&&this.args.messageIndex%ie==0&&this.tracking.firePageViewEvent(ne)}resendFailedMessage(e){const{isMessageFromOtherUser:t,isSystemMessage:i,conversationUrn:n}=this.viewData
t||i||this.args.resendMessage(n,e)}},K=(0,n.default)(W.prototype,"i18n",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,n.default)(W.prototype,"jet",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,n.default)(W.prototype,"lix",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,n.default)(W.prototype,"msgDataManager",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,n.default)(W.prototype,"authenticatedUser",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,n.default)(W.prototype,"tracking",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,n.default)(W.prototype,"formatter",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=(0,n.default)(W.prototype,"presenceAPI",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,n.default)(W.prototype,"sponsoredActionTracking",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(W.prototype,"viewData",[o.cached],Object.getOwnPropertyDescriptor(W.prototype,"viewData"),W.prototype),(0,n.default)(W.prototype,"fireSponosredMessagingInteractionEvent",[m.action],Object.getOwnPropertyDescriptor(W.prototype,"fireSponosredMessagingInteractionEvent"),W.prototype),(0,n.default)(W.prototype,"fireCustomPageViewEvent",[m.action],Object.getOwnPropertyDescriptor(W.prototype,"fireCustomPageViewEvent"),W.prototype),(0,n.default)(W.prototype,"resendFailedMessage",[m.action],Object.getOwnPropertyDescriptor(W.prototype,"resendFailedMessage"),W.prototype),W))}))
define("msg-ui/components/primitives/message-list-item-system-message-presenter",["exports","@ember/template-factory","@ember/component/template-only","@ember/component","global-helpers/helpers/attributed-text-html"],(function(e,t,i,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.setComponentTemplate)((0,t.createTemplateFactory)({id:"8VHAFZAl",block:'[[[1,"\\n  "],[10,2],[14,0,"msg-system-message-presenter t-12 t-black--light t-normal"],[12],[1,"\\n"],[41,[30,1,["hasSystemMessageBodyRenderFormat"]],[[[1,"      "],[10,1],[14,0,"msg-system-message-presenter__attributed-text--system"],[12],[1,"\\n        "],[1,[28,[32,0],[[30,1,["messageTextBody"]]],null]],[1,"\\n      "],[13],[1,"\\n"]],[]],[[[41,[30,1,["isParticipantChangeSystemMessage"]],[[[1,"      "],[1,[30,1,["participantChangeSummary"]]],[1,"\\n    "]],[]],null]],[]]],[1,"  "],[13],[1,"\\n"]],["@viewData"],false,["if"]]',moduleName:"msg-ui/components/primitives/message-list-item-system-message-presenter.gjs",scope:()=>[s.default],isStrictMode:!0}),(0,i.default)("message-list-item-system-message-presenter","MessageListItemSystemMessagePresenter"))
e.default=a}))
define("msg-ui/components/primitives/message-list-item-user-message-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","graphql-queries/queries/sharing/contentcreation-dash-update-url-preview-by-url.graphql","graphql-queries/queries/service-marketplace/marketplaces-dash-project-message-cards-by-id.graphql","scaffold-sound/services/sound","msg-ui/utils/marketplace-project-card-constants","@glimmer/tracking","msg-shared/utils/decorate-attributed-body","msg-cross-pillar/utils/virtual-meeting-constants","msg-shared/utils/constants","@ember/service","@glimmer/component","@ember/object","@ember/destroyable","@ember/render-modifiers/modifiers/did-insert","ember-cli-pemberly-i18n/helpers/t","msg-ui/components/primitives/message-hover-actions-presenter","ember-set-helper/helpers/set","msg-ui/components/primitives/message-with-sending-indicator-presenter","tenor-gif/components/gif-image-presenter","msg-reactions/components/emoji/reaction-summary-presenter","ember-vector-images/components/custom-image","ember-cli-pemberly-tracking/components/shared/external-link","ember-cli-pemberly-tracking/modifiers/track-interaction","global-helpers/helpers/css-style","@ember/modifier","global-helpers/helpers/and","msg-ui/components/rich-media/story-presenter","global-helpers/helpers/or","global-helpers/helpers/eq","global-helpers/helpers/not","ember-cli-pemberly-i18n/helpers/bidi-dir","emoji-picker/helpers/is-emoji-only-content","hue-web-icons/components/icon","artdeco-button/components/artdeco-button","msg-ui/components/forwarded-message-presenter","global-helpers/helpers/attributed-text-html","msg-cross-pillar/components/inline-warning-presenter","artdeco-card/components/artdeco-card","ember-engines/components/link-to-external","global-helpers/helpers/urn-to-id","ember-vector-images/components/lazy-image","msg-cross-pillar/components/video-conference-card-presenter","update-components/components/mini-update-v2","marketplace-message-card/components/marketplace-message-card","msg-ui/components/rich-media/feed-update-presenter","msg-ui/components/rich-media/file-attachment-presenter","msg-ui/components/primitives/linkedin-video-meeting-preview-presenter","msg-ui/components/rich-media/audio-message-presenter","msg-ui/components/rich-media/video-message-presenter","@ember/helper","msg-cross-pillar/components/delete-message-modal-presenter","text-view-model/components/text-view-model-v2","global-utils/utils/urn-converter","@ember/render-modifiers/modifiers/did-update","global-utils/utils/is-browser","ember-lifeline","hue-web-icons/components/illustration"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M,k,S,T,D,I,C,x,E,P,A,O,R,U,N,j,F,G,L,z,B,V,H,q,W,K,$,Y,Q,J,Z,X,ee,te,ie,ne,se,ae,re,oe,le){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var de,ce,ue,me,pe,ge,he,fe,be,ve,ye,_e,we,Me,ke,Se,Te,De,Ie,Ce,xe,Ee,Pe,Ae,Oe,Re,Ue
const{SPONSORED_TRACKING:{ACTIONS:Ne},MESSAGE_STATUS:je,CONTENTEDITABLE_SELECTOR:Fe}=g.default
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"fpfIwXWs",block:'[[[1,"\\n"],[41,[30,1,["groupName"]],[[[1,"      "],[10,2],[14,0,"msg-s-event-listitem--system t-12 t-black--light t-normal"],[12],[1,"\\n        "],[1,[28,[32,0],["i18n_users_of_linkedin_group","msg-ui/components/primitives/message-list-item-user-message-presenter"],[["group"],[[30,1,["groupName"]]]]]],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["isRecalled"]],[[[1,"      "],[10,2],[14,0,"msg-s-event-listitem__body--recalled msg-s-event-listitem__body t-14 t-black--light t-normal"],[12],[1,"\\n        "],[1,[28,[32,0],["i18n_message_deleted","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]],[1,"\\n      "],[13],[1,"\\n"]],[]],[[[41,[30,1,["gif"]],[[[1,"      "],[8,[32,1],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName","@shouldShowDelete"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[28,[32,2],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],false,false,[30,1,["allowReactions"]],[30,0,["reactionsHoverTrackingName"]],[30,0,["enableDeleteMessage"]]]],[["default"],[[[[1,"\\n        "],[8,[32,3],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n          "],[8,[32,4],[[24,0,"msg-s-event-listitem__gif"]],[["@imgClass","@maxWidth","@mediaObject"],["msg-s-event-listitem__gif-img-class",220,[30,1,["gif"]]]],null],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["showReactionSummaries"]],[[[1,"        "],[8,[32,5],null,[["@viewData","@isOverlay","@hideEmojiPicker"],[[30,1,["reactionSummaryViewData"]],[30,2],[30,0,["hideEmojiPicker"]]]],null],[1,"\\n"]],[]],null]],[]],[[[41,[30,1,["stickerImage"]],[[[1,"      "],[8,[32,6],null,[["@image","@class","@alt","@desiredWidth"],[[30,1,["stickerImage"]],"msg-s-event-listitem__sticker",[28,[32,0],["i18n_sticker","msg-ui/components/primitives/message-list-item-user-message-presenter"],[["senderName"],[[30,1,["senderFamiliarName"]]]]],150]],null],[1,"\\n"]],[]],[[[41,[30,1,["locationSharePreview"]],[[[1,"      "],[8,[32,1],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[28,[32,2],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],false,false,[30,1,["allowReactions"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n        "],[8,[32,3],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n          "],[10,0],[14,0,"msg-s-event-listitem__url-preview-wrapper mv1"],[12],[1,"\\n            "],[8,[32,7],[[4,[32,8],["open_sent_location"],null]],[["@href","@target","@class"],[[30,1,["urlToUnroll"]],"_blank","msg-s-event-listitem__url-preview display-flex flex-column"]],[["default"],[[[[1,"\\n              "],[10,0],[14,0,"msg-s-event-listitem__url-preview-img-wrapper"],[12],[1,"\\n                "],[8,[32,9],[[24,0,"msg-s-event-listitem__url-preview-img-wrapper--location"]],[["@type","@name","@size"],["microspot","location-marker","small"]],null],[1,"\\n"],[1,"                "],[10,0],[14,0,"msg-s-event-listitem__url-preview-img"],[15,5,[28,[32,10],null,[["background-image"],[[28,[32,11],["url(",[30,1,["locationSharePreview","imageUrl"]],")"],null]]]]],[12],[13],[1,"\\n                "],[10,1],[14,0,"a11y-text"],[12],[1,"\\n                  "],[1,[28,[32,0],["i18n_bing_maps","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n              "],[10,"article"],[14,0,"msg-s-event-listitem__url-preview-description p2"],[12],[1,"\\n                "],[10,"h2"],[14,0,"msg-s-event-listitem__url-preview-headline t-14 t-black t-bold"],[12],[1,"\\n                  "],[1,[30,1,["locationSharePreview","title"]]],[1,"\\n                "],[13],[1,"\\n                "],[10,"h3"],[14,0,"msg-s-event-listitem__url-preview-byline t-14 t-black--light t-normal"],[12],[1,"\\n                  "],[1,[28,[32,0],["i18n_bing_maps","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n            "]],[]]]]],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["showReactionSummaries"]],[[[1,"        "],[8,[32,5],null,[["@viewData","@isOverlay","@hideEmojiPicker"],[[30,1,["reactionSummaryViewData"]],[30,2],[30,0,["hideEmojiPicker"]]]],null],[1,"\\n"]],[]],null]],[]],[[[41,[30,0,["shouldObfuscateMessage"]],[[[1,"        "],[8,[32,1],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showMessageEditForm","@showSendReactionControls","@shouldShowEditDelete","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[28,[32,2],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],false,[30,1,["allowReactions"]],false,[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n          "],[10,0],[14,0,"msg-s-event-listitem__obfuscated-message-card mt2 mr2 mb1 pv2 ph3 t-14"],[12],[1,"\\n            "],[1,[30,1,["obfuscatedMessage","warning"]]],[1,"\\n\\n            "],[11,"button"],[24,0,"t-14 t-black t-bold"],[16,"aria-label",[30,1,["obfuscatedMessage","ctaText"]]],[24,4,"button"],[4,[32,8],["inline_warning_show"],null],[4,[32,12],["click",[30,0,["showObfuscatedMessage"]]],null],[12],[1,"\\n              "],[1,[30,1,["obfuscatedMessage","ctaText"]]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["showReactionSummaries"]],[[[1,"          "],[8,[32,5],null,[["@viewData","@isOverlay","@hideEmojiPicker"],[[30,1,["reactionSummaryViewData"]],[30,2],[30,0,["hideEmojiPicker"]]]],null],[1,"\\n"]],[]],null]],[]],[[[41,[28,[32,13],[[30,1,["storyItemUrn"]],[30,0,["displayMessagingStoryBeforeTextBody"]]],null],[[[1,"          "],[8,[32,14],null,[["@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@showMessageEditForm","@shouldShowEditDelete","@trackingPrefix","@reactionsHoverTrackingName","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["storyViewData"]],[28,[32,2],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],[30,1,["allowReactions"]],false,false,[30,6],[30,0,["reactionsHoverTrackingName"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["repliedMessageContentDisplayText"]],[[[1,"          "],[10,0],[14,0,"msg-s-event-listitem__replied-message-container t-12 t-black--light"],[12],[1,"\\n            "],[11,1],[16,0,[29,["msg-s-event-listitem__replied-message-body-text\\n                ",[52,[51,[30,0,["shouldTruncateRepliedMessageText"]]],"msg-s-event-listitem__replied-message-body-text--expanded"]]]],[4,[32,15],[[30,0,["checkIfRepliedMessageIsTruncated"]]],null],[12],[1,[30,1,["repliedMessageContentDisplayText"]]],[13],[1,"\\n"],[41,[30,0,["shouldTruncateRepliedMessageText"]],[[[1,"              "],[11,"button"],[24,0,"msg-s-event-listitem__replied-message-see-more-button"],[24,4,"button"],[4,[32,12],["click",[28,[32,2],[[30,0],"shouldTruncateRepliedMessageText",false],null]],null],[12],[1,[28,[32,0],["i18n_replied_message_see_more","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]],[13],[1,"\\n"]],[]],null],[1,"          "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[32,16],[[30,1,["isSponsoredConversation"]],[30,0,["attributedContent"]],[30,0,["decoratedContent"]]],null],[[[1,"          "],[8,[32,1],[[4,[32,17],[[30,0,["updateUrlPreview"]],[30,0,["attributedContent","text"]]],null]],[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@enableMsgReply","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName","@disableDeleteAction","@replyToMessage"],["msg-s-event-listitem__message-bubble--msg-fwd-enabled",[30,1,["messageHoverActionsViewData"]],[28,[32,2],[[30,0],"isDeleteMessageModalOpen"],null],[30,1,["allowMessageForward"]],true,[30,2],[30,3],[30,4],[30,5],[30,0,["enableModifyMessage"]],[30,7],[30,1,["allowReactions"]],[30,0,["reactionsHoverTrackingName"]],[30,0,["isInmail"]],[30,8]]],[["default"],[[[[1,"\\n"],[41,[28,[32,18],[[30,1,["messageSubType"]],"INMAIL"],null],[[[41,[28,[32,13],[[30,1,["subject"]],[28,[32,19],[[30,0,["referralRequestCardUrl"]]],null]],null],[[[1,"                "],[10,"h3"],[14,0,"msg-s-event-listitem__subject t-14 t-black--light t-bold"],[12],[1,"\\n                  "],[1,[30,1,["subject"]]],[1,"\\n                "],[13],[1,"\\n"]],[]],null]],[]],null],[1,"            "],[8,[32,3],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus","@dir"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]],[28,[32,20],[[30,1,["messageAttributedBody","text"]]],null]]],[["default"],[[[[1,"\\n"],[41,[30,1,["isSponsoredConversation"]],[[[1,"\\n"],[1,"                "],[11,0],[4,[32,12],["click",[30,0,["fireBodyLinkTracking"]]],null],[12],[1,"\\n                  "],[10,2],[15,0,[29,["msg-s-event-listitem__body msg-spinmail-thread-presenter__message-body t-14 t-black t-normal msg-sdk-spinmail-quill-editor--no-margin-bottom\\n                      ",[52,[30,1,["isRichText"]]," msg-spinmail-thread-presenter__rich-text"]]]],[12],[1,"\\n                    "],[8,[32,21],null,[["@tvm"],[[30,1,["spinmailContent"]]]],null],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n"]],[]],[[[1,"                "],[11,2],[16,0,[29,["msg-s-event-listitem__body t-14 t-black--light t-normal\\n                    ",[52,[28,[32,22],[[30,1,["messageAttributedBody"]]],null]," t-32"]]]],[4,[32,12],["click",[30,0,["fireBodyLinkTracking"]]],null],[12],[8,[32,21],null,[["@tvm"],[[30,0,["attributedContent"]]]],null],[41,[30,1,["hasBeenEdited"]],[[[10,1],[14,0,"t-14 t-black--light t-normal pl1"],[12],[1,[28,[32,0],["i18n_message_edited","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]],[13]],[]],null],[13]],[]]]],[]]]]],[1,"\\n\\n"],[41,[30,0,["referralRequestCardUrl"]],[[[1,"              "],[10,0],[14,0,"msg-s-event__referral-request-card display-flex flex-column mt4 mr3 mb4"],[12],[1,"\\n                "],[10,0],[14,0,"card-info display-flex align-items-center"],[12],[1,"\\n                  "],[8,[32,23],[[24,0,"msg-s-event__referral-request-card-logo"]],[["@name","@type","@size"],["linkedin-bug","logo","xxsmall"]],null],[1,"\\n                  "],[10,1],[14,0,"t-12 t-bold t-black--light ml1"],[12],[1,[28,[32,0],["i18n_referral_request_header","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[14,0,"display-flex mt3 mb1"],[12],[1,"\\n                  "],[10,0],[14,0,"banner-icon"],[12],[13],[1,"\\n                  "],[10,0],[14,0,"display-flex flex-column ml2"],[12],[1,"\\n                    "],[10,1],[14,0,"t-14 mb1 t-bold"],[12],[1,"\\n                      "],[1,[52,[30,1,["isSentByCurrentUser"]],[28,[32,0],["i18n_referral_request_title","msg-ui/components/primitives/message-list-item-user-message-presenter"],null],[28,[32,0],["i18n_referral_request_title_referrer_side","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]]],[1,"\\n                    "],[13],[1,"\\n                    "],[10,1],[14,0,"t-12 mb0 t-black--light t-normal"],[12],[1,"\\n                      "],[1,[52,[30,1,["isSentByCurrentUser"]],[28,[32,0],["i18n_referral_request_description","msg-ui/components/primitives/message-list-item-user-message-presenter"],null],[28,[32,0],["i18n_referral_request_description_referrer_side","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]]],[1,"\\n                    "],[13],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n                "],[8,[32,7],[[24,0,"referral-request-link"],[4,[32,8],[[52,[30,1,["isSentByCurrentUser"]],"job_seeker_referral_request_card_view_detail","referral_request_card_view_detail"]],null]],[["@href","@target"],[[30,0,["referralRequestCardUrl"]],"_blank"]],[["default"],[[[[1,"\\n                  "],[8,[32,24],null,[["@type","@size","@text","@class"],["primary","1",[28,[32,0],["i18n_referral_request_cta","msg-ui/components/primitives/message-list-item-user-message-presenter"],null],"full-width full-height"]],null],[1,"\\n                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n"]],[]],null],[1,"          "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[32,13],[[30,1,["storyItemUrn"]],[30,0,["displayMessagingStoryAfterTextBody"]]],null],[[[1,"          "],[8,[32,14],null,[["@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@showMessageEditForm","@shouldShowEditDelete","@trackingPrefix","@reactionsHoverTrackingName","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["storyViewData"]],[28,[32,2],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],[30,1,["allowReactions"]],false,false,[30,6],[30,0,["reactionsHoverTrackingName"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["hasForwardedContent"]],[[[1,"          "],[8,[32,1],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[28,[32,2],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],false,false,[30,1,["allowReactions"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n            "],[8,[32,3],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n              "],[8,[32,25],null,[["@viewData"],[[30,1,["forwardedMessageViewData"]]]],null],[1,"\\n            "]],[]]]]],[1,"\\n          "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["footerTextViewModel"]],[[[1,"          "],[10,1],[14,0,"msg-s-event-listitem__footer-text t-12 t-bold"],[12],[1,"\\n            "],[1,[28,[32,26],[[30,1,["footerTextViewModel"]]],null]],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showInlineWarning"]],[[[1,"          "],[8,[32,27],null,[["@viewData","@reportOptions","@handleSuccessfulDiscardRequest","@redirectToActiveConversation","@focusOnMsgReportCta","@dismissWarning","@addSpamCategoryToConversations","@reportCIE","@dismissCIE"],[[30,1,["inlineWarningViewData"]],[30,0,["reportOptions"]],[30,9],[30,10],[30,0,["focusOnMsgReportCta"]],[30,0,["dismissInlineWarningPresenter"]],[30,0,["addSpamCategoryToConversations"]],"inline_warning_report","inline_warning_notspam"]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["referral","isHiringPlatformSupported"]],[[[1,"          "],[8,[32,28],null,[["@class"],["msg-s-event-listitem__job-card mt3 mb4"]],[["default"],[[[[1,"\\n            "],[8,[32,29],[[24,0,"display-flex flex-column"],[4,[32,8],["view_job_card"],null]],[["@route","@model"],["job-details-engine",[28,[32,30],[[30,1,["referral","jobPosting"]]],null]]],[["default"],[[[[1,"\\n              "],[10,0],[14,0,"inline-flex Elevation-0dp p2"],[12],[1,"\\n                "],[8,[32,31],null,[["@image","@class","@alt","@ghostType","@width"],[[30,1,["referral","companyLogo"]],"msg-s-event-listitem__company-logo EntityPhoto-square-3",[28,[32,0],["i18n_company_logo_a11y","msg-ui/components/primitives/message-list-item-user-message-presenter"],null],"company",64]],null],[1,"\\n                "],[10,0],[14,0,"ml2"],[12],[1,"\\n                  "],[10,2],[14,0,"t-16 t-bold"],[12],[1,"\\n                    "],[1,[30,1,["referral","jobTitle"]]],[1,"\\n                  "],[13],[1,"\\n                  "],[10,2],[14,0,"t-14 t-black--light"],[12],[1,"\\n                    "],[1,[30,1,["referral","companyName"]]],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n            "]],[]]]]],[1,"\\n          "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["virtualMeetingData"]],[[[1,"          "],[8,[32,1],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[28,[32,2],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],false,false,[30,1,["allowReactions"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n            "],[8,[32,3],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n              "],[8,[32,32],null,[["@class","@virtualMeetingData"],["msg-s-event-listitem__unrolled-virtual-meeting artdeco-card",[30,0,["virtualMeetingData"]]]],null],[1,"\\n            "]],[]]]]],[1,"\\n          "]],[]]]]],[1,"\\n"]],[]],[[[41,[30,0,["unrolledUpdateV2"]],[[[1,"          "],[8,[32,1],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[28,[32,2],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],false,false,[30,1,["allowReactions"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n            "],[8,[32,3],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n              "],[8,[32,33],[[24,0,"msg-s-event-listitem__unrolled-update-v2 artdeco-card overflow-hidden"],[16,"onClick",[52,[28,[32,18],[[30,1,["messageSubType"]],"SPONSORED_MESSAGE"],null],[30,0,["fireBodyLinkTracking"]]]]],[["@update","@isDashEnabled","@shouldHideCtaButton","@showNestedShares","@stretchContentToEdge","@shouldTrackImpression","@debugParentComponentName"],[[30,0,["unrolledUpdateV2"]],true,[30,2],true,true,true,"msg-ui@message-list-item-user-message-presenter"]],null],[1,"\\n            "]],[]]]]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[]],null]],[]]],[1,"\\n"],[41,[30,0,["smpContent"]],[[[1,"          "],[8,[32,1],null,[["@classNames","@viewData","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@shouldShowEditDelete","@showMessageEditForm","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],false,[30,2],[30,3],[30,4],[30,5],[30,1,["allowReactions"]],false,false,[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n            "],[8,[32,34],[[24,0,"msg-s-event-listitem__unrolled-update-v2"]],[["@messageCard","@isPreview"],[[30,0,["smpContent"]],false]],null],[1,"\\n          "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["hasArticleOrUpdate"]],[[[1,"          "],[8,[32,35],null,[["@viewData","@showNestedShares","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@showMessageEditForm","@shouldShowEditDelete","@reactionsHoverTrackingName","@shouldShowMessageSendingIndicator","@messageStatus","@isOriginalSize","@shouldShowDelete"],[[30,1,["feedUpdateViewData"]],true,[28,[32,2],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],[30,1,["allowReactions"]],false,false,[30,0,["reactionsHoverTrackingName"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]],[30,11],[30,0,["enableDeleteMessage"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["fileAttachmentViewDataItems","length"]],[[[42,[28,[31,3],[[28,[31,3],[[30,1,["fileAttachmentViewDataItems"]]],null]],null],"uniqueIdentifier",[[[1,"            "],[8,[32,3],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus","@classNames"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]],[29,["\\n          ",[52,[30,1,["allowMessageForward"]],"msg-s-event-listitem__attachment-item--msg-fwd-enabled"],"\\n          "]]]],[["default"],[[[[1,"\\n              "],[8,[32,36],null,[["@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@showImageAttachment","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@shouldShowEditDelete","@reactionsHoverTrackingName","@isSponsoredConversation"],[[30,12],[28,[32,2],[[30,0],"isDeleteMessageModalOpen"],null],[30,1,["allowMessageForward"]],[30,2],[30,13],[30,3],[30,4],[30,5],[30,1,["allowReactions"]],[30,0,["enableModifyMessage"]],[30,0,["reactionsHoverTrackingName"]],[30,0,["isSponsoredConversation"]]]],null],[1,"\\n            "]],[]]]]],[1,"\\n"]],[12]],null]],[]],null],[1,"\\n"],[41,[30,1,["digitalMediaConferenceUrn"]],[[[1,"          "],[8,[32,1],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[28,[32,2],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],[30,0,["enableModifyMessage"]],false,[30,1,["allowReactions"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n            "],[8,[32,3],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n              "],[10,0],[14,0,"msg-s-event-listitem__linkedin-meeting-container"],[12],[1,"\\n                "],[8,[32,37],null,[["@conferenceUrn","@threadId","@senderName","@virtualMeetingTimeRange","@virtualMeetingCreationTime"],[[30,1,["digitalMediaConferenceUrn"]],[30,1,["conversationId"]],[30,1,["senderName"]],[30,1,["virtualMeetingTimeRange"]],[30,1,["messageCreatedAt"]]]],null],[1,"\\n              "],[13],[1,"\\n            "]],[]]]]],[1,"\\n          "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["mediaAttachments","length"]],[[[1,"          "],[8,[32,1],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName","@shouldShowDelete"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[28,[32,2],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],false,false,[30,1,["allowReactions"]],[30,0,["reactionsHoverTrackingName"]],[30,0,["enableDeleteMessage"]]]],[["default"],[[[[1,"\\n"],[42,[28,[31,3],[[28,[31,3],[[30,1,["mediaAttachments"]]],null]],null],null,[[[41,[28,[32,18],[[30,14,["mediaType"]],"AUDIO"],null],[[[1,"                "],[10,0],[14,0,"msg-s-event-listitem__audio-container"],[12],[1,"\\n                  "],[8,[32,3],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n                    "],[8,[32,38],null,[["@duration","@url","@trackingPrefix"],[[30,14,["audioDuration"]],[30,14,["audioUrl"]],[30,6]]],null],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n"]],[]],[[[41,[28,[32,18],[[30,14,["mediaType"]],"VIDEO"],null],[[[1,"                "],[8,[32,3],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n                  "],[10,0],[14,0,"msg-s-event-listitem__video-container"],[12],[1,"\\n                    "],[8,[32,39],null,[["@videoPlayMetadata"],[[30,14,["videoPlayMetadata"]]]],null],[1,"\\n                  "],[13],[1,"\\n                "]],[]]]]],[1,"\\n              "]],[]],null]],[]]]],[14]],null],[1,"          "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showReactionSummaries"]],[[[1,"          "],[8,[32,5],null,[["@viewData","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide","@hideEmojiPicker"],[[30,1,["reactionSummaryViewData"]],[30,2],[30,4],[30,3],[30,0,["hideEmojiPicker"]]]],null],[1,"\\n"]],[]],null]],[]]],[1,"    "]],[]]]],[]]]],[]]]],[]]],[1,"\\n"],[41,[30,0,["isDeleteMessageModalOpen"]],[[[1,"      "],[8,[32,40],null,[["@isOpen","@dismissModal","@deleteMessageAndCloseModal","@deleteEventControlName"],[true,[28,[32,2],[[30,0],"isDeleteMessageModalOpen",false],null],[30,0,["deleteMessageAndCloseModal"]],[28,[32,11],[[30,6],"delete_message"],null]]],null],[1,"\\n"]],[]],null],[1,"  "]],["@viewData","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@trackingPrefix","@showMessageEditForm","@replyToMessage","@handleSuccessfulDiscardRequest","@redirectToActiveConversation","@isOriginalSize","fileAttachmentViewData","@showImageAttachment","mediaAttachment"],false,["if","unless","each","-track-array"]]',moduleName:"msg-ui/components/primitives/message-list-item-user-message-presenter.gjs",scope:()=>[_.default,w.default,M.default,k.default,S.default,T.default,D.default,I.default,C.default,le.default,x.default,te.concat,E.on,P.default,A.default,y.default,O.default,ae.default,R.default,U.default,N.default,ne.default,j.default,F.default,G.default,L.default,z.default,B.default,V.default,H.default,q.default,W.default,K.default,$.default,Y.default,Q.default,J.default,Z.default,X.default,ee.default,ie.default],isStrictMode:!0}),(de=(0,h.inject)("lix"),ce=(0,h.inject)("i18n"),ue=(0,h.inject)("jet"),me=(0,h.inject)("@linkedin/ember-restli-graphql@graphql"),pe=(0,h.inject)("msg-data@data-manager"),ge=(0,h.inject)("persistent-toast-manager@persistent-toast-manager"),he=(0,h.inject)("msg-spinmail-data@sponsored-action-tracking"),fe=(0,h.inject)("scaffold-sound@sound"),be=(0,h.inject)("global-services@a11y-notification"),ve=class e extends f.default{get shouldShowMessageSendingIndicator(){const{args:{viewData:{isSentByCurrentUser:e,isError:t,messageSubType:i,messageStatus:n}}}=this
return"INMAIL"!==i&&e&&(0,b.get)(this.args,"isMsgSeenByNone")&&!t&&n!==je.ERROR}get isSponsoredConversation(){return"SPONSORED_MESSAGE"===this.args.viewData.messageSubType}get referralButtonControlName(){return this.args.trackingPrefix?`${this.args.trackingPrefix}start_referral`:"start_referral"}get virtualMeetingData(){var e,t,i,n
const s=null===(e=this.unrolledUpdateV2)||void 0===e||null===(t=e.content)||void 0===t||null===(i=t.articleComponent)||void 0===i||null===(n=i.navigationContext)||void 0===n?void 0:n.actionTarget
if(s){const e=Object.values(p.MEETING_PROVIDERS).find((e=>e.regex.test(s)))
return e?{class:e.class,controlName:e.controlName,name:e.name,url:s}:void 0}}get decoratedContent(){const{viewData:{messageAttributedBody:e,isJobSeekerRequestReferral:t}}=this.args,i=e&&(0,b.get)(e,"text"),n=(0,m.default)(e,i,this.linkifyOpts),s=(0,b.get)(n,n.length-1+".url")
if(t&&s){this.referralRequestCardUrl=s
n.pop()}return n}get attributedContent(){const{viewData:{messageAttributedBody:e}}=this.args
return"string"==typeof(null==e?void 0:e.text)&&""!==e.text&&(0,m.convertToAttributedTextV2)(e,this.jet,this.args.viewData.isSponsoredConversation)}get showInlineWarning(){return!this.isInlineWarningDismissed&&this.args.viewData.hasInlineWarning}get hideEmojiPicker(){var e,t
return this.lix.getTreatmentIsEnabled("voyager.web.organization-pages-messaging-ai-agent-reactions")&&(null===(e=this.args.viewData.reactionSummaryViewData)||void 0===e||null===(t=e.messageActorUrn)||void 0===t?void 0:t.includes("pageMailbox"))}get showReactionSummaries(){var e,t
return!(null===(e=this.args.viewData.reactionSummaryViewData)||void 0===e||null===(t=e.reactionSummaryItems)||void 0===t||!t.length)}get displayMessagingStoryAfterTextBody(){return!this.args.viewData.replyToContent}get displayMessagingStoryBeforeTextBody(){return this.args.viewData.replyToContent}get shouldObfuscateMessage(){var e
return(null===(e=this.args.viewData.obfuscatedMessage)||void 0===e?void 0:e.warning)&&!this.obfuscatedMessageIsRevealed}get enableModifyMessage(){return this.args.viewData.allowMessageEdit&&this._isEditDeleteTimeboxExpired()&&!this.args.shouldShowMessageEditForm}get enableDeleteMessage(){return this._isEditDeleteTimeboxExpired()}get isInmail(){return"INMAIL"===this.args.viewData.messageSubType}get reactionsHoverTrackingName(){return this.args.isOverlay?"overlay.show_reactions_entrypoint":"show_reactions_entrypoint"}get reportOptions(){return{participantIdToReport:(0,se.fromUrn)(this.args.viewData.inlineWarningViewData.messageSenderProfileUrn).id,authorUrn:this.args.viewData.inlineWarningViewData.messageSenderProfileUrn,entityUrn:this.args.viewData.inlineWarningViewData.messageBackendUrn,contentSource:"INBOX_REPORT_SPAM"}}constructor(){super(...arguments);(0,t.default)(this,"lix",ye,this);(0,t.default)(this,"i18n",_e,this);(0,t.default)(this,"jet",we,this);(0,t.default)(this,"graphql",Me,this);(0,t.default)(this,"msgDataManager",ke,this);(0,t.default)(this,"persistentToastManager",Se,this);(0,t.default)(this,"sponsoredActionTracking",Te,this);(0,t.default)(this,"sound",De,this);(0,t.default)(this,"a11yNotification",Ie,this);(0,t.default)(this,"unrolledUpdateV2",Ce,this);(0,t.default)(this,"isDeleteMessageModalOpen",xe,this);(0,t.default)(this,"obfuscatedMessageIsRevealed",Ee,this);(0,t.default)(this,"focusOnMsgReportCta",Pe,this);(0,t.default)(this,"smpContent",Ae,this);(0,t.default)(this,"isInlineWarningDismissed",Oe,this);(0,t.default)(this,"prefilledIntroGroupChatBody",Re,this);(0,t.default)(this,"shouldTruncateRepliedMessageText",Ue,this)
this.linkifyOpts={url:!0,email:!0,hashtag:!0,goLink:this.lix.getTreatmentIsEnabled("voyager.client.staff")}
const e=this.args.viewData.smpContent
if(e){this.graphql.executeQuery(l.default,{marketplaceProjectMessageCardUrn:e},{adapterOptions:{degradations:[c.MARKETPLACE_PROJECT_DEGRADATION_METADATA.MARKETPLACE_PROJECT_MESSAGE_CARD],degradedEntityIDsToRemove:[e]}}).then((e=>{this.isDestroying||(this.smpContent=(0,b.get)(e,"data.marketplacesDashProjectMessageCardsById"))})).catch((t=>{if((0,v.isDestroying)(this))throw t
this.jet.error(t,["msg-ui/message-list-item-user-message-presenter","business-inquiry-fetch-message-card-failure",`urn: ${e}`])}))}this.updateUrlPreview()}_isEditDeleteTimeboxExpired(){return Date.now()-this.args.viewData.messageCreatedAt<3585e3}_showRecallErrorToast(){const e=this.i18n.lookupTranslation("components/msg-ui@primitives/message-list-item-user-message-presenter","i18n_recall_generic_error")()
this.persistentToastManager.error({message:e})}dismissInlineWarningPresenter(){this.msgDataManager.dismissInlineWarning(this.args.viewData.inlineWarningViewData.conversationUrn,this.args.viewData.inlineWarningViewData.messageUrn).then((()=>{this.isDestroying||(this.isInlineWarningDismissed=!0)}))}addSpamCategoryToConversations(){const{conversationUrn:e}=this.args.viewData.inlineWarningViewData.conversationSemaphoreViewData,t=this.msgDataManager.getMailboxByConversationUrn(e)
null==t||t.addCategoryToConversations([e],"SPAM")}fireBodyLinkTracking(e){if(!e.target.closest("a")||"SPONSORED_MESSAGE"!==this.args.viewData.messageSubType)return
const t=this.args.viewData.sponsoredData.metadata,i=(0,b.get)(t,"sponsoredTracking"),{sponsoredMessageContentUrn:n,sponsoredMessageTrackingId:s}=this.args.viewData.sponsoredData,a={action:Ne.BODY_CLICK,sponsoredConvoId:(0,b.get)(t,"sponsoredConversationTrackingId"),sponsoredMessageContentId:s,sponsoredMetadata:i,sponsoredMessageContentUrn:n}
this.sponsoredActionTracking.fireNodeLevelAdvertiserTracking(this.jet,(0,b.get)(t,"clickTrackingUrl")??"","cta_button",a)}deleteMessageAndCloseModal(){this.isDeleteMessageModalOpen=!1
const{conversationUrn:t,messageUrn:i}=this.args.viewData
t&&i||this._showRecallErrorToast()
this.a11yNotification.setTextInLiveRegion(this.i18n.lookupTranslation(e,"i18n_a11y_deleting_message")())
this.msgDataManager.recallMessage(t,i).then((()=>{if(!(0,v.isDestroying)(this)){this.sound.play(d.Sound.MessageDeleted);(0,oe.runTask)(this,(()=>{this.a11yNotification.setTextInLiveRegion(this.i18n.lookupTranslation(e,"i18n_a11y_delete_successful")())}),1e3)
if(re.default){var t
const e=`#${this.args.msgFormId} ${Fe}`
null===(t=document.querySelector(e))||void 0===t||t.focus()}}})).catch((e=>{var i
if((0,v.isDestroying)(this))throw e
null!==(i=e.message)&&void 0!==i&&i.indexOf("DISALLOW_EDIT_OF_DELETED_CONTENT")&&this.msgDataManager.syncConversationMessages(t)
this._showRecallErrorToast()
throw e}))}showObfuscatedMessage(){this.obfuscatedMessageIsRevealed=!0
this.focusOnMsgReportCta=!0}checkIfRepliedMessageIsTruncated(e){e.offsetHeight>=e.scrollHeight&&(this.shouldTruncateRepliedMessageText=!1)}updateUrlPreview(){const{urlToUnroll:e,locationSharePreview:t}=this.args.viewData
e&&!t?this.graphql.executeQuery(o.default,{url:e}).then((e=>{var t,i
this.isDestroying||(this.unrolledUpdateV2=null===(t=e.data.contentcreationDashUpdateUrlPreviewByUrl)||void 0===t||null===(i=t.elements[0])||void 0===i?void 0:i.update)})).catch((()=>{this.unrolledUpdateV2&&(this.unrolledUpdateV2=void 0)})):this.unrolledUpdateV2&&(this.unrolledUpdateV2=void 0)}},ye=(0,n.default)(ve.prototype,"lix",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=(0,n.default)(ve.prototype,"i18n",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=(0,n.default)(ve.prototype,"jet",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=(0,n.default)(ve.prototype,"graphql",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=(0,n.default)(ve.prototype,"msgDataManager",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=(0,n.default)(ve.prototype,"persistentToastManager",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=(0,n.default)(ve.prototype,"sponsoredActionTracking",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=(0,n.default)(ve.prototype,"sound",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=(0,n.default)(ve.prototype,"a11yNotification",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=(0,n.default)(ve.prototype,"unrolledUpdateV2",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=(0,n.default)(ve.prototype,"isDeleteMessageModalOpen",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=(0,n.default)(ve.prototype,"obfuscatedMessageIsRevealed",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=(0,n.default)(ve.prototype,"focusOnMsgReportCta",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=(0,n.default)(ve.prototype,"smpContent",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=(0,n.default)(ve.prototype,"isInlineWarningDismissed",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=(0,n.default)(ve.prototype,"prefilledIntroGroupChatBody",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=(0,n.default)(ve.prototype,"shouldTruncateRepliedMessageText",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),(0,n.default)(ve.prototype,"dismissInlineWarningPresenter",[b.action],Object.getOwnPropertyDescriptor(ve.prototype,"dismissInlineWarningPresenter"),ve.prototype),(0,n.default)(ve.prototype,"addSpamCategoryToConversations",[b.action],Object.getOwnPropertyDescriptor(ve.prototype,"addSpamCategoryToConversations"),ve.prototype),(0,n.default)(ve.prototype,"fireBodyLinkTracking",[b.action],Object.getOwnPropertyDescriptor(ve.prototype,"fireBodyLinkTracking"),ve.prototype),(0,n.default)(ve.prototype,"deleteMessageAndCloseModal",[b.action],Object.getOwnPropertyDescriptor(ve.prototype,"deleteMessageAndCloseModal"),ve.prototype),(0,n.default)(ve.prototype,"showObfuscatedMessage",[b.action],Object.getOwnPropertyDescriptor(ve.prototype,"showObfuscatedMessage"),ve.prototype),(0,n.default)(ve.prototype,"checkIfRepliedMessageIsTruncated",[b.action],Object.getOwnPropertyDescriptor(ve.prototype,"checkIfRepliedMessageIsTruncated"),ve.prototype),(0,n.default)(ve.prototype,"updateUrlPreview",[b.action],Object.getOwnPropertyDescriptor(ve.prototype,"updateUrlPreview"),ve.prototype),ve))}))
define("msg-ui/components/primitives/message-sender-advertiser-entity-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","global-helpers/helpers/and","app-aware-link/components/app-aware-link","ember-vector-images/components/lazy-background","ember-vector-images/components/lazy-image","artdeco-hoverables/components/artdeco-hoverable-trigger","@ember/modifier","ember-cli-pemberly-i18n/helpers/t","@glimmer/component","@ember/service","global-utils/utils/url","@ember/object"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,_,w
e.default=(0,o.setComponentTemplate)((0,a.createTemplateFactory)({id:"y8tjCKzG",block:'[[[1,"\\n"],[1,"    "],[11,0],[17,1],[12],[1,"\\n"],[41,[28,[32,0],[[30,2,["isMessageSentByCompany"]],[30,2,["companyUrl"]]],null],[[[1,"        "],[8,[32,1],null,[["@href"],[[30,2,["companyUrl"]]]],[["default"],[[[[1,"\\n          "],[8,[32,2],null,[["@image","@alt","@title","@class","@ghostType","@desiredWidth"],[[30,2,["profileImage"]],[30,2,["fullName"]],[30,2,["fullName"]],"msg-sender__advertiser-profile-picture EntityPhoto-square-2",[30,2,["ghostType"]],40]],null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],[[[41,[30,3],[[[1,"        "],[8,[32,3],[[24,0,"inline-block"]],[["@on","@placement"],["click","bottom"]],[["default"],[[[[1,"\\n          "],[10,"button"],[14,0,"t-14 t-black t-bold"],[15,"aria-controls",[30,4,["ariaId"]]],[15,"aria-expanded",[30,4,["ariaExpanded"]]],[14,4,"button"],[12],[1,"\\n            "],[8,[32,4],null,[["@image","@alt","@title","@class","@ghostType","@desiredWidth"],[[30,2,["profileImage"]],[30,2,["fullName"]],[30,2,["fullName"]],"msg-sender__advertiser-profile-picture EntityPhoto-circle-2",[30,2,["ghostType"]],40]],null],[1,"\\n          "],[13],[1,"\\n          "],[8,[30,4,["artdeco-hoverable-content"]],null,[["@theme","@contentClass"],["inverse","msg-s-message-group__preview-content"]],[["default"],[[[[1,"\\n            "],[10,0],[14,0,"text-body-small-bold"],[12],[1,"\\n              "],[1,[28,[32,5],["i18n_member_sender_header_tooltip","msg-ui/components/primitives/message-sender-advertiser-entity-presenter"],null]],[1,"\\n            "],[13],[1,"\\n            "],[10,"br"],[12],[13],[1,"\\n            "],[10,0],[12],[1,"\\n              "],[1,[28,[32,5],["i18n_member_sender_tooltip","msg-ui/components/primitives/message-sender-advertiser-entity-presenter"],null]],[1,"\\n              "],[11,3],[16,6,[30,0,["sponsoredMemberSenderLearnMoreLink"]]],[24,"target","_blank"],[24,0,"link-without-visited-state"],[24,"rel","noopener noreferrer"],[4,[32,6],["click",[30,0,["fireSponosredMessagingInteractionEvent"]]],null],[12],[1,[28,[32,5],["i18n_tooltip_learn_more","msg-ui/components/primitives/message-sender-advertiser-entity-presenter"],null]],[1," "],[13],[1,"\\n            "],[13],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[4]]]]],[1,"\\n\\n"]],[]],[[[1,"        "],[8,[32,4],null,[["@image","@alt","@title","@class","@ghostType","@desiredWidth"],[[30,2,["profileImage"]],[30,2,["fullName"]],[30,2,["fullName"]],"msg-sender__advertiser-profile-picture EntityPhoto-circle-2",[30,2,["ghostType"]],40]],null],[1,"\\n      "]],[]]]],[]]],[1,"    "],[13],[1,"\\n  "]],["&attrs","@viewData","@canShowSponsoredMemeberSenderProfileTooltip","trigger"],false,["if"]]',moduleName:"msg-ui/components/primitives/message-sender-advertiser-entity-presenter.gjs",scope:()=>[l.default,d.default,c.default,m.default,u.default,g.default,p.on],isStrictMode:!0}),(y=(0,f.inject)("msg-spinmail-data@sponsored-action-tracking"),_=class extends h.default{constructor(){super(...arguments);(0,t.default)(this,"sponsoredActionTracking",w,this);(0,i.default)(this,"sponsoredMemberSenderLearnMoreLink",`${b.default.getDomainUrl()}/help/linkedin/answer/a426517`)}fireSponosredMessagingInteractionEvent(){this.sponsoredActionTracking.fireSponosredMessagingInteractionEvent()}},w=(0,n.default)(_.prototype,"sponsoredActionTracking",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(_.prototype,"fireSponosredMessagingInteractionEvent",[v.action],Object.getOwnPropertyDescriptor(_.prototype,"fireSponosredMessagingInteractionEvent"),_.prototype),_))}))
define("msg-ui/components/primitives/message-sender-entity-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/component","ember-cli-pemberly-i18n/helpers/t","ember-vector-images/components/lazy-image","@ember/helper","@ember/service","ember-cli-pemberly-tracking/components/shared/external-link","ember-cli-pemberly-tracking/modifiers/track-interaction","presence/components/entity-with-presence-presenter","artdeco-hoverables/components/artdeco-hoverable-trigger","rich-text/components/attributed-text"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,v,y
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"/SVqOnl8",block:'[[[1,"\\n"],[41,[30,1,["recipientProfileUrl"]],[[[44,[[52,[30,1,["isOrganization"]],"view_page","view_profile"]],[[[41,[30,0,["profileNavigationEnabled"]],[[[1,"          "],[8,[32,0],[[24,0,"msg-s-event-listitem__link"],[4,[32,1],[[30,2]],null]],[["@href"],[[30,1,["recipientProfileUrl"]]]],[["default"],[[[[1,"\\n            "],[10,1],[14,0,"a11y-text"],[12],[1,"\\n              "],[1,[28,[32,2],["i18n_view_profile_a11y","msg-ui/components/primitives/message-sender-entity-presenter"],[["firstName"],[[30,1,["familiarName"]]]]]],[1,"\\n            "],[13],[1,"\\n"],[41,[30,3],[[[1,"              "],[8,[32,3],[[24,0,"msg-s-event-listitem__profile-picture"]],[["@viewData","@size"],[[30,1,["entityWithPresenceViewData"]],[30,4]]],null],[1,"\\n"]],[]],[[[1,"              "],[8,[32,4],null,[["@image","@alt","@title","@class","@desiredWidth","@desiredHeight","@ghostType"],[[30,1,["profileImage"]],[30,1,["entityWithPresenceViewData","altText"]],[30,1,["fullName"]],[29,["msg-s-event-listitem__profile-picture ",[28,[32,5],[[52,[30,1,["isOrganization"]],"msg-s-event-listitem__company-profile-picture EntityPhoto-square-","EntityPhoto-circle-"],[30,4]],null]]],100,100,[30,1,["ghostType"]]]],null],[1,"\\n"]],[]]],[1,"          "]],[]]]]],[1,"\\n"]],[]],[[[41,[30,1,["preview"]],[[[1,"            "],[8,[32,6],null,[["@on","@placement"],["click","bottom"]],[["default"],[[[[1,"\\n              "],[10,"button"],[14,0,"msg-s-message-group__profile-link msg-s-message-group__name t-14 t-black t-bold"],[15,"aria-controls",[30,5,["ariaId"]]],[15,"aria-expanded",[30,5,["ariaExpanded"]]],[14,4,"button"],[12],[1,"\\n"],[41,[30,3],[[[1,"                  "],[8,[32,3],[[24,0,"msg-sender__advertiser-profile-picture"]],[["@viewData","@size"],[[30,1,["entityWithPresenceViewData"]],[30,4]]],null],[1,"\\n"]],[]],[[[41,[30,0,["isLihaScreeningAgentIdentityLixEnabled"]],[[[1,"                  "],[10,0],[14,0,"msg-sender__advertiser-profile-picture"],[12],[1,"\\n"],[1,"                    "],[8,[32,4],null,[["@image","@alt","@title","@class","@desiredWidth","@desiredHeight","@ghostType"],[[30,1,["profileImage"]],[30,1,["fullName"]],[30,1,["fullName"]],[29,["msg-s-event-listitem__preview-image ",[28,[32,5],["EntityPhoto-circle-",[30,4]],null]]],100,100,[30,1,["ghostType"]]]],null],[1,"\\n"],[1,"                    "],[10,1],[14,0,"msg-s-event-listitem__agent-icon msg-s-event-listitem__hiring-assistant-icon"],[12],[13],[1,"\\n                  "],[13],[1,"\\n"]],[]],[[[1,"                  "],[8,[32,4],null,[["@image","@alt","@title","@class","@desiredWidth","@desiredHeight","@ghostType"],[[30,1,["profileImage"]],[30,1,["fullName"]],[30,1,["fullName"]],[29,["msg-sender__advertiser-profile-picture ",[28,[32,5],[[52,[30,1,["isOrganization"]],"msg-s-event-listitem__company-profile-picture EntityPhoto-square-","EntityPhoto-circle-"],[30,4]],null]]],100,100,[30,1,["ghostType"]]]],null],[1,"\\n                "]],[]]]],[]]],[1,"              "],[13],[1,"\\n              "],[8,[30,5,["artdeco-hoverable-content"]],null,[["@theme","@contentClass"],["inverse","msg-s-message-group__preview-content display-flex"]],[["default"],[[[[1,"\\n"],[41,[30,0,["isLihaScreeningAgentIdentityLixEnabled"]],[[[1,"                  "],[10,0],[14,0,"msg-s-event-listitem__preview-title"],[12],[1,"\\n                    "],[8,[32,7],[[24,0,"text-body-small-bold"]],[["@attributedText"],[[30,1,["preview","previewTitle"]]]],null],[1,"\\n                  "],[13],[1,"\\n"]],[]],null],[1,"                "],[8,[32,7],null,[["@attributedText"],[[30,1,["preview","descriptionText"]]]],null],[1,"\\n              "]],[]]]]],[1,"\\n            "]],[5]]]]],[1,"\\n"]],[]],[[[1,"            "],[10,1],[14,0,"a11y-text"],[12],[1,"\\n              "],[1,[28,[32,2],["i18n_view_profile_a11y","msg-ui/components/primitives/message-sender-entity-presenter"],[["firstName"],[[30,1,["familiarName"]]]]]],[1,"\\n            "],[13],[1,"\\n"],[41,[30,3],[[[1,"              "],[8,[32,3],[[24,0,"msg-sender__advertiser-profile-picture"]],[["@viewData","@size"],[[30,1,["entityWithPresenceViewData"]],[30,4]]],null],[1,"\\n"]],[]],[[[1,"              "],[8,[32,4],null,[["@image","@alt","@title","@class","@desiredWidth","@desiredHeight","@ghostType"],[[30,1,["profileImage"]],[30,1,["fullName"]],[30,1,["fullName"]],[29,["msg-sender__advertiser-profile-picture ",[28,[32,5],[[52,[30,1,["isOrganization"]],"msg-s-event-listitem__company-profile-picture EntityPhoto-square-","EntityPhoto-circle-"],[30,4]],null]]],100,100,[30,1,["ghostType"]]]],null],[1,"\\n"]],[]]]],[]]]],[]]]],[2]]]],[]],[[[1,"      "],[10,0],[14,0,"msg-s-event-listitem__unknown-avatar"],[12],[1,"\\n        "],[10,1],[14,0,"a11y-text"],[12],[1,"\\n          "],[1,[28,[32,2],["i18n_view_profile_a11y","msg-ui/components/primitives/message-sender-entity-presenter"],[["firstName"],[[30,1,["familiarName"]]]]]],[1,"\\n        "],[13],[1,"\\n        "],[8,[32,4],null,[["@image","@alt","@title","@class","@desiredWidth","@desiredHeight","@ghostType"],[[30,1,["profileImage"]],[30,1,["fullName"]],[30,1,["fullName"]],[28,[32,5],["msg-s-event-listitem__profile-picture EntityPhoto-circle-",[30,4]],null],100,100,[30,1,["ghostType"]]]],null],[1,"\\n      "],[13],[1,"\\n"]],[]]],[1,"  "]],["@viewData","controlName","@showPresence","@size","trigger"],false,["if","let"]]',moduleName:"msg-ui/components/primitives/message-sender-entity-presenter.gjs",scope:()=>[m.default,p.default,l.default,g.default,d.default,c.concat,h.default,f.default],isStrictMode:!0}),(b=(0,u.inject)("lix"),v=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"lix",y,this)}get profileNavigationEnabled(){const{viewData:e}=this.args
return!!this.args.hasResharedContent||!e.preview&&e.creatorProfileViewEnabled}get isLihaScreeningAgentIdentityLixEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-liha-screening-agent-identity")}},y=(0,n.default)(v.prototype,"lix",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v))}))
define("msg-ui/components/primitives/message-star-outline",["exports","@ember/template-factory","@ember/component/template-only","@ember/component"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.setComponentTemplate)((0,t.createTemplateFactory)({id:"8jtNg9t3",block:'[[[1,"\\n"],[1,"  "],[10,"svg"],[14,"aria-hidden","true"],[14,"focusable","false"],[14,1,"Layer_1"],[14,"data-name","Layer 1"],[14,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[15,"width",[30,1]],[15,"height",[30,1]],[14,"viewBox","0 0 16 16"],[14,"fill","currentColor"],[12],[1,"\\n    "],[10,"path"],[14,"d","M8,2.77,9.6,6l3.59.53-2.6,2.54.61,3.58L8,11,4.8,12.67l.61-3.58L2.81,6.55,6.4,6,8,2.77M8,.5,5.73,5.11.67,5.85,4.33,9.43,3.47,14.5,8,12.11l4.53,2.39-.86-5.07,3.66-3.58-5.06-.74L8,.5Z"],[12],[13],[1,"\\n  "],[13],[1,"\\n"]],["@iconSize"],false,[]]',moduleName:"msg-ui/components/primitives/message-star-outline.gjs",isStrictMode:!0}),(0,i.default)("message-star-outline","MessageStarOutline"))
e.default=s}))
define("msg-ui/components/primitives/message-with-sending-indicator-presenter",["exports","@ember/template-factory","@ember/component/template-only","@ember/component","msg-cross-pillar/components/message-sending-indicator-presenter"],(function(e,t,i,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.setComponentTemplate)((0,t.createTemplateFactory)({id:"tv+AOGPL",block:'[[[1,"\\n"],[1,"  "],[10,0],[15,0,[29,["msg-s-event-with-indicator display-flex ",[30,1]]]],[12],[1,"\\n    "],[10,0],[14,0,"msg-s-event__content"],[15,"dir",[30,2]],[12],[1,"\\n      "],[18,6,null],[1,"\\n    "],[13],[1,"\\n"],[41,[30,3],[[[1,"      "],[8,[32,0],null,[["@messageStatus","@createdAt"],[[30,4],[30,5]]],null],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n"]],["@classNames","@dir","@shouldShowMessageSendingIndicator","@messageStatus","@createdAt","&default"],false,["yield","if"]]',moduleName:"msg-ui/components/primitives/message-with-sending-indicator-presenter.gjs",scope:()=>[s.default],isStrictMode:!0}),(0,i.default)("message-with-sending-indicator-presenter","MessageWithSendingIndicatorPresenter"))
e.default=a}))
define("msg-ui/components/primitives/profile-badge",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/component","hue-web-icons/components/icon","@ember/helper","@ember/service"],(function(e,t,i,n,s,a,r,o,l,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,m,p
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"kUOBw/Ei",block:'[[[1,"\\n"],[41,[30,0,["displayBadgeIcon"]],[[[1,"      "],[8,[32,0],[[16,0,[28,[32,1],[[30,0,["displayBadgeIcon","class"]]," ",[30,1]],null]]],[["@name","@type","@size","@a11yText"],[[30,0,["displayBadgeIcon","name"]],[30,0,["displayBadgeIcon","type"]],[30,0,["displayBadgeIcon","size"]],[30,0,["displayBadgeIcon","a11yText"]]]],null],[1,"\\n"]],[]],null],[1,"  "]],["@classNames"],false,["if"]]',moduleName:"msg-ui/components/primitives/profile-badge.gjs",scope:()=>[l.default,d.concat],isStrictMode:!0}),(u=(0,c.inject)("i18n"),m=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",p,this)}get displayBadgeIcon(){switch(this.args.memberBadgeType){case"EXECUTIVE_TOP_VOICE":return{name:"linkedin-bug-influencer-color",type:"system",size:"small",class:"inline-block v-align-middle flex-shrink-zero",a11yText:this.i18n.lookupTranslation(this.constructor,"a11y_linkedin_executive_top_voice")()}
case"PREMIUM_PROFILE":return{name:"linkedin-bug-premium-v2",type:"logo",size:"xxsmall",class:"inline-block v-align-middle flex-shrink-zero",a11yText:this.i18n.lookupTranslation(this.constructor,"a11y_linkedin_premium")()}
case"VERIFIED_PROFILE":return{name:"verified",type:"system",size:"small",class:"inline-block flex-shrink-zero v-align-middle msg-ui-profile__badge-icon",a11yText:this.i18n.lookupTranslation(this.constructor,"a11y_linkedin_verified")()}
default:return}}},p=(0,n.default)(m.prototype,"i18n",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m))}))
define("msg-ui/components/primitives/verification-badge",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/component","hue-web-icons/components/icon","@ember/service","ember-cli-pemberly-i18n/helpers/t"],(function(e,t,i,n,s,a,r,o,l,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,m,p
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"+lWjB/SX",block:'[[[1,"\\n"],[41,[30,0,["showVerificationBadge"]],[[[1,"      "],[8,[32,0],[[16,0,[29,["msg-ui__verifications-badge v-align-middle t-black--light\\n          ",[30,1]]]]],[["@name","@type","@size","@a11yText"],["verified","system","small",[28,[32,1],["a11y_linkedin_verified","msg-ui/components/primitives/verification-badge"],null]]],null],[1,"\\n"]],[]],null],[1,"  "]],["@classNames"],false,["if"]]',moduleName:"msg-ui/components/primitives/verification-badge.gts",scope:()=>[l.default,c.default],isStrictMode:!0}),(u=(0,d.inject)("msg-data@data-manager"),m=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",p,this)}get showVerificationBadge(){const{conversation:e,participant:t,enabled:i=!1}=this.args
if(t)return("MEMBER"===t.kind||"CUSTOM"===t.kind)&&t.showVerificationBadge
if(e){const t=this.msgDataManager.getTrackedConversation(e.entityUrn),i=this.msgDataManager.getNonSelfParticipantsFromConversationRecord(t)
if(1===i.length){const[e]=i
return("MEMBER"===(null==e?void 0:e.kind)||"CUSTOM"===(null==e?void 0:e.kind))&&(null==e?void 0:e.showVerificationBadge)}}return i}},p=(0,n.default)(m.prototype,"msgDataManager",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m))}))
define("msg-ui/components/quick-replies-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@ember/service","@glimmer/component","@glimmer/tracking","@ember/object","ember-lifeline","ember-batcher","global-utils/utils/is-browser","msg-shared/utils/constants","@ember/object/internals","scaffold-sound/services/sound","ember-cli-pemberly-i18n/helpers/t","@ember/modifier","@ember/helper","artdeco-button/components/artdeco-button","msg-ui/components/quick-reply-presenter","@ember/render-modifiers/modifiers/did-update","ember-cli-pemberly-tracking/modifiers/track-render","global-helpers/helpers/eq","@ember/destroyable"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M,k,S,T){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var D,I,C,x,E,P,A,O,R,U
const{IMPRESSION_KEYS:{CONTEXTUAL_RECOMMENDATION_IMPRESSION:N},ACTION_KEYS:{MEBC_QUICK_REPLY_ACTION:j},KEYCODES:{TAB:F}}=g.default
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"NnxaDG1H",block:'[[[1,"\\n"],[1,"    "],[11,0],[16,1,[30,0,["quickRepliesId"]]],[24,0,"conversations-quick-replies justify-center display-flex align-items-center"],[17,1],[4,[32,0],["keyup",[30,0,["onKeyUp"]]],null],[4,[32,1],[[30,0,["onDidUpdate"]],[30,2]],null],[12],[1,"\\n"],[41,[30,0,["hasOverflow"]],[[[1,"        "],[8,[32,2],[[4,[32,0],["click",[28,[32,4],[[30,0,["scrollHandler"]],"LEFT"],null]],null]],[["@class","@circle","@size","@icon","@text","@color","@type","@disabled"],["flex-shrink-zero mr2",true,1,"chevron-left",[28,[32,3],["i18n_scroll_quick_replies_left","msg-ui/components/quick-replies-presenter"],null],"muted","tertiary",[30,0,["disableScrollLeft"]]]],null],[1,"\\n"]],[]],null],[1,"\\n      "],[11,"ul"],[16,0,[29,["conversations-quick-replies__container relative list-style-none display-flex justify-flex-start overflow-hidden pv2",[52,[30,0,["animateIn"]]," conversations-quick-replies__container--animate-in"]]]],[4,[32,5],null,[["onRender","routeName","currentRoute"],[[30,0,["createQuickReplyImpressionTracking"]],[28,[32,6],[[53,"outletState"],"render.name"],null],[28,[32,6],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[42,[28,[31,3],[[28,[31,3],[[30,0,["filteredQuickReplies"]]],null]],null],null,[[[1,"          "],[10,"li"],[14,0,"conversations-quick-replies__reply"],[12],[1,"\\n"],[41,[28,[32,7],[[30,3,["replyType"]],"GIF"],null],[[[1,"              "],[8,[32,8],null,[["@controlNamePrefix","@reply","@replyAction","@trackingPrefix","@customInteractionPayload"],[[30,4,["controlNamePrefix"]],[30,3],[28,[32,4],[[30,5],[30,3,["quickActionPrefillText"]]],null],[30,6],[28,[32,4],[[30,0,["createSendQuickReplyInteractionPayload"]],[30,3,["trackingId"]]],null]]],null],[1,"\\n"]],[]],[[[41,[28,[32,7],[[30,3,["replyType"]],"INMAIL_ACCEPT"],null],[[[1,"              "],[8,[32,8],null,[["@controlNamePrefix","@reply","@replyAction","@trackingPrefix","@customInteractionPayload"],[[30,4,["controlNamePrefix"]],[30,3],[28,[32,4],[[30,7],[30,3]],null],[30,6],[28,[32,4],[[30,0,["createSendQuickReplyInteractionPayload"]],[30,3,["trackingId"]]],null]]],null],[1,"\\n"]],[]],[[[41,[28,[32,7],[[30,3,["replyType"]],"INMAIL_DECLINE"],null],[[[1,"              "],[8,[32,8],null,[["@controlNamePrefix","@reply","@replyAction","@trackingPrefix","@customInteractionPayload"],[[30,4,["controlNamePrefix"]],[30,3],[28,[32,4],[[30,7],[30,3]],null],[30,6],[28,[32,4],[[30,0,["createSendQuickReplyInteractionPayload"]],[30,3,["trackingId"]]],null]]],null],[1,"\\n"]],[]],[[[41,[28,[32,7],[[30,3,["replyType"]],"VIDEO_MEETING"],null],[[[41,[51,[30,8]],[[[1,"                "],[8,[32,8],null,[["@controlNamePrefix","@reply","@replyAction","@trackingPrefix","@customInteractionPayload"],[[30,4,["controlNamePrefix"]],[30,3],[30,9],[30,6],[28,[32,4],[[30,0,["createSendQuickReplyInteractionPayload"]],[30,3,["trackingId"]]],null]]],null],[1,"\\n"]],[]],null]],[]],[[[1,"              "],[8,[32,8],null,[["@controlNamePrefix","@reply","@replyAction","@controlActionEventName","@emojiSkintone","@customInteractionPayload"],[[30,4,["controlNamePrefix"]],[30,3],[28,[32,4],[[30,0,["sendQuickReply"]],[30,3],[30,4,["replyConversationUrn"]]],null],[30,10],[30,0,["emojiSkintoneManager","selectedSkintone"]],[28,[32,4],[[30,0,["createSendQuickReplyInteractionPayload"]],[30,3,["trackingId"]]],null]]],null],[1,"\\n            "]],[]]]],[]]]],[]]]],[]]],[1,"          "],[13],[1,"\\n"]],[3]],null],[1,"      "],[13],[1,"\\n\\n"],[41,[30,0,["hasOverflow"]],[[[1,"        "],[8,[32,2],[[4,[32,0],["click",[28,[32,4],[[30,0,["scrollHandler"]],"RIGHT"],null]],null]],[["@class","@circle","@size","@icon","@text","@color","@type","@disabled"],["flex-shrink-zero ml2",true,1,"chevron-right",[28,[32,3],["i18n_scroll_quick_replies_right","msg-ui/components/quick-replies-presenter"],null],"muted","tertiary",[30,0,["disableScrollRight"]]]],null],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],["&attrs","@contextWidth","reply","@viewData","@openGIFPopover","@trackingPrefix","@handleInMailReplySmartAction","@isConversationWithPage","@openVirtualMeetingModal","@controlActionEventName"],false,["if","-get-dynamic-var","each","-track-array","unless"]]',moduleName:"msg-ui/components/quick-replies-presenter.gjs",scope:()=>[v.on,M.default,_.default,b.default,y.fn,k.default,y.get,S.default,w.default],isStrictMode:!0}),(D=(0,o.inject)("client-sensor-web@client-sensor"),I=(0,o.inject)("msg-shared@emoji-skintone"),C=(0,o.inject)("scaffold-sound@sound"),x=class extends l.default{constructor(){super(...arguments);(0,i.default)(this,"quickRepliesId",`quick-replies-${(0,h.guidFor)(this)}`);(0,t.default)(this,"clientSensor",E,this);(0,t.default)(this,"emojiSkintoneManager",P,this);(0,t.default)(this,"sound",A,this);(0,t.default)(this,"disableScrollLeft",O,this);(0,t.default)(this,"disableScrollRight",R,this);(0,t.default)(this,"hasOverflow",U,this)}get filteredQuickReplies(){const e={TEXT:this.args.saveReply,GIF:this.args.openGIFPopover,INMAIL_ACCEPT:this.args.handleInMailReplySmartAction,INMAIL_DECLINE:this.args.handleInMailReplySmartAction,VIDEO_MEETING:this.args.openVirtualMeetingModal},t=this.args.quickReplies.filter((t=>{const{replyType:i}=t
return!i||e[i]}))
this._updateHasOverflow()
return t}get animateIn(){const{latestMessageUrn:e}=this.args.viewData,t=!e||e!==this.lastQRId
this.lastQRId=e
return!t}get scrollingElement(){if(p.default)return document.getElementById(this.quickRepliesId).querySelector(".conversations-quick-replies__container")}_updateHasOverflow(){(0,m.mutateDOM)((()=>{(0,T.isDestroying)(this)||(0,u.runTask)(this,(()=>{this.hasOverflow=this.scrollingElement.scrollWidth>this.scrollingElement.clientWidth}))}))}onKeyUp(e){p.default&&this.hasOverflow&&e.keyCode===F&&this._updateScrollButtons(this.scrollingElement.scrollLeft)}onDidUpdate(){this._updateHasOverflow()}createQuickReplyImpressionTracking(){return this.args.useCase?this.args.quickReplies.map((e=>({name:N,body:{recommendedEntity:{recommendedEntityUrn:e.objectUrn,recommendationTrackingId:e.trackingId,usecase:this.args.useCase,visibleTime:0,duration:0,listPosition:{index:0}}}}))):[]}_updateScrollButtons(e){const t=this.scrollingElement.scrollWidth-this.scrollingElement.clientWidth
if(e<=0){this.disableScrollLeft=!0
this.disableScrollRight=!1}else if(e>=t){this.disableScrollLeft=!1
this.disableScrollRight=!0}}createSendQuickReplyInteractionPayload(e,t){let{controlUrn:i}=t
return{name:j,body:{controlUrn:i,recommendationTrackingId:e,actionCategory:"SELECT",usecase:this.args.useCase}}}sendQuickReply(e,t,i){const n=i.target.querySelector(".conversations-quick-replies__reply-content").innerText
this.args.saveReply(n,e.objectUrn,t)
this.sound.play(f.Sound.MessageSent)
this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"smart-reply-action-event"})}scrollHandler(e){(0,m.mutateDOM)((()=>{if((0,T.isDestroying)(this))return
const{clientWidth:t,scrollLeft:i}=this.scrollingElement,n="LEFT"===e?i-t:i+t
"scrollBehavior"in document.documentElement.style?this.scrollingElement.scrollTo(n,0):this.scrollingElement.scrollTo(i,0)
this._updateScrollButtons(n)}))}},E=(0,n.default)(x.prototype,"clientSensor",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,n.default)(x.prototype,"emojiSkintoneManager",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,n.default)(x.prototype,"sound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,n.default)(x.prototype,"disableScrollLeft",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=(0,n.default)(x.prototype,"disableScrollRight",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=(0,n.default)(x.prototype,"hasOverflow",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(x.prototype,"onKeyUp",[c.action],Object.getOwnPropertyDescriptor(x.prototype,"onKeyUp"),x.prototype),(0,n.default)(x.prototype,"onDidUpdate",[c.action],Object.getOwnPropertyDescriptor(x.prototype,"onDidUpdate"),x.prototype),(0,n.default)(x.prototype,"createQuickReplyImpressionTracking",[c.action],Object.getOwnPropertyDescriptor(x.prototype,"createQuickReplyImpressionTracking"),x.prototype),(0,n.default)(x.prototype,"createSendQuickReplyInteractionPayload",[c.action],Object.getOwnPropertyDescriptor(x.prototype,"createSendQuickReplyInteractionPayload"),x.prototype),(0,n.default)(x.prototype,"sendQuickReply",[c.action],Object.getOwnPropertyDescriptor(x.prototype,"sendQuickReply"),x.prototype),(0,n.default)(x.prototype,"scrollHandler",[c.action],Object.getOwnPropertyDescriptor(x.prototype,"scrollHandler"),x.prototype),x))}))
define("msg-ui/components/quick-reply-presenter",["exports","@ember/template-factory","@ember/helper","@babel/runtime/helpers/esm/defineProperty","@ember/component","@glimmer/component","@ember/debug","emoji-picker/helpers/emoji-skintone-modifier","@ember/modifier","ember-cli-pemberly-i18n/helpers/t","hue-web-icons/components/icon","ember-cli-pemberly-tracking/modifiers/track-interaction"],(function(e,t,i,n,s,a,r,o,l,d,c,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const m={TEXT:{typeName:"text",isSmartAction:!1,controlName:"mebc_quick_reply",icon:void 0},GIF:{typeName:"gif",isSmartAction:!0,controlName:"smart_action_gif",icon:"gif"},INMAIL_ACCEPT:{typeName:"inmail-accept",isSmartAction:!0,controlName:"inmail_yes",icon:"edit"},INMAIL_DECLINE:{typeName:"inmail-decline",isSmartAction:!0,controlName:"inmail_no",icon:"edit"},VIDEO_MEETING:{typeName:"video-meeting",isSmartAction:!0,controlName:"create_video_meeting_smart_action",icon:"video-conference"}}
class p extends a.default{constructor(){super(...arguments);(0,n.default)(this,"emojiWithModifier",void 0)
this.replyType=this.args.reply.replyType||"TEXT"
this.canRender=this.replyType in m
this.args.emojiSkintone&&(this.emojiWithModifier=(0,o.modifyEmojisInStringWithSkintone)(this.args.reply.text,this.args.emojiSkintone))
if(this.canRender){Object.assign(this,m[this.replyType])
this.args.controlActionEventName?this.controlName=this.args.controlActionEventName:this.controlName=`${this.args.trackingPrefix||""}${this.args.controlNamePrefix}${this.controlName}`}}}e.default=p;(0,s.setComponentTemplate)((0,t.createTemplateFactory)({id:"3vghkb6i",block:'[[[1,"\\n"],[41,[30,0,["canRender"]],[[[41,[30,0,["isSmartAction"]],[[[1,"        "],[11,"button"],[24,0,"conversations-quick-replies__reply-button artdeco-button artdeco-button--2 artdeco-button--secondary p0"],[24,4,"button"],[4,[32,0],[[30,0,["controlName"]]],[["onInteract"],[[30,1]]]],[4,[32,1],["click",[30,2]],null],[12],[1,"\\n          "],[8,[32,2],[[24,0,"conversations-quick-replies__rich-props-icon"]],[["@type","@name","@size"],["system",[30,0,["icon"]],"small"]],null],[1,"\\n          "],[10,"hr"],[14,0,"conversations-quick-replies__rich-props-vertical-divider"],[12],[13],[1,"\\n          "],[10,1],[14,0,"a11y-text"],[12],[1,[28,[32,3],["i18n_a11y_reply_context","msg-ui/components/quick-reply-presenter"],[["contentText"],[[30,3,["text"]]]]]],[13],[1,"\\n          "],[10,1],[14,"aria-hidden","true"],[14,0,"ml2 mr3"],[12],[1,"\\n            "],[1,[30,3,["text"]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[1,"        "],[11,"button"],[24,0,"conversations-quick-replies__reply-button artdeco-button artdeco-button--2 artdeco-button--secondary"],[24,4,"button"],[4,[32,0],[[30,0,["controlName"]]],[["onInteract"],[[30,1]]]],[4,[32,1],["click",[30,2]],null],[12],[1,"\\n          "],[10,1],[14,0,"a11y-text"],[12],[1,"\\n            "],[1,[28,[32,3],["i18n_a11y_reply_context","msg-ui/components/quick-reply-presenter"],[["contentText"],[[30,3,["text"]]]]]],[1,"\\n          "],[13],[1,"\\n          "],[10,1],[14,0,"conversations-quick-replies__reply-content"],[14,"aria-hidden","true"],[12],[1,"\\n"],[41,[30,4],[[[1,"              "],[1,[30,0,["emojiWithModifier"]]],[1,"\\n"]],[]],[[[1,"              "],[1,[30,3,["text"]]],[1,"\\n"]],[]]],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]]]],[]],null],[1,"  "]],["@customInteractionPayload","@replyAction","@reply","@emojiSkintone"],false,["if"]]',moduleName:"msg-ui/components/quick-reply-presenter.gjs",scope:()=>[u.default,l.on,c.default,d.default],isStrictMode:!0}),p)}))
define("msg-ui/components/rich-media/attachment-drag-and-drop-error-presenter",["exports","@ember/template-factory","@ember/helper","@ember/component/template-only","@ember/component","global-helpers/helpers/eq","ember-cli-pemberly-i18n/helpers/t","@ember/modifier","hue-web-icons/components/icon"],(function(e,t,i,n,s,a,r,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const d=(0,s.setComponentTemplate)((0,t.createTemplateFactory)({id:"T7iWkLXM",block:'[[[1,"\\n"],[1,"  "],[10,0],[14,0,"msg-form__attachment-drag-and-drop-error-display pv2 ph4 display-flex"],[12],[1,"\\n    "],[10,2],[14,0,"msg-form__attachment-drag-and-drop-error-text flex-1 t-12 t-bold"],[12],[1,"\\n"],[41,[28,[32,0],[[30,1],"MULTIPLE_FILES"],null],[[[1,"        "],[1,[28,[32,1],["i18n_error_multiple_files","msg-ui/components/rich-media/attachment-drag-and-drop-error-presenter"],null]],[1,"\\n"]],[]],[[[1,"        "],[1,[28,[32,1],["i18n_error_invalid_file_type","msg-ui/components/rich-media/attachment-drag-and-drop-error-presenter"],null]],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n\\n    "],[11,"button"],[24,0,"msg-form__attachment-drag-and-drop-error-dismiss-button"],[24,4,"button"],[4,[32,2],["click",[30,2]],null],[12],[1,"\\n      "],[8,[32,3],null,[["@a11yText","@type","@size","@name"],[[28,[32,1],["i18n_dismiss_error","msg-ui/components/rich-media/attachment-drag-and-drop-error-presenter"],null],"system","small","close"]],null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],["@errorType","@dismissError"],false,["if"]]',moduleName:"msg-ui/components/rich-media/attachment-drag-and-drop-error-presenter.gjs",scope:()=>[a.default,r.default,o.on,l.default],isStrictMode:!0}),(0,n.default)("attachment-drag-and-drop-error-presenter","AttachmentDragAndDropErrorPresenter"))
e.default=d}))
define("msg-ui/components/rich-media/attachment-drag-and-drop-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","msg-shared/utils/attachments-handler","ember-lifeline","@glimmer/tracking","@glimmer/component","@ember/service","@ember/object","@ember/helper","@ember/render-modifiers/modifiers/did-insert","@ember/modifier","ember-cli-pemberly-i18n/helpers/t","hue-web-icons/components/illustration"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var v,y,_,w,M,k,S,T,D,I,C
const x="MULTIPLE_FILES",E="INVALID_FILE_TYPE",P=/^image\/*/,A=["ai","psd","pdf","doc","docx","csv","ppt","pptx","pps","ppsx","xls","xlsx","txt","eml","mov","mp4"]
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"xpfUE1gp",block:'[[[1,"\\n"],[1,"    "],[11,0],[16,0,[28,[32,0],["msg-form__attachment-drag-and-drop",[52,[30,0,["isDraggingOverWindow"]]," msg-form__attachment-drag-and-drop--over-window"],[52,[30,0,["isDraggingOverLayer"]]," msg-form__attachment-drag-and-drop--over-layer"],[52,[30,0,["showUserEducationLayer"]]," msg-form__attachment-drag-and-drop--user-education"]],null]],[4,[32,1],[[30,0,["setupWindowDragAndDropListeners"]]],null],[4,[32,2],["dragenter",[30,0,["onDragEnter"]]],null],[4,[32,2],["dragleave",[30,0,["onDragLeave"]]],null],[4,[32,2],["dragover",[30,0,["onDragOver"]]],null],[4,[32,2],["drop",[30,0,["onDrop"]]],null],[12],[1,"\\n      "],[10,0],[14,0,"msg-form__attachment-drag-and-drop-content display-flex flex-column align-items-center justify-center"],[12],[1,"\\n        "],[8,[32,3],[[24,0,"msg-form__attachment-drag-and-drop-state-illustration"]],[["@type","@name","@size"],["spot","main-person","small"]],null],[1,"\\n        "],[10,0],[14,0,"msg-form__attachment-drag-and-drop-text display-flex flex-column align-items-center justify-center"],[12],[1,"\\n          "],[10,0],[14,0,"msg-form__attachment-drag-and-drop-state-text t-16 t-bold"],[12],[1,"\\n            "],[1,[52,[30,0,["isDraggingOverLayer"]],[28,[32,4],["i18n_drop_file","msg-ui/components/rich-media/attachment-drag-and-drop-presenter"],null],[28,[32,4],["i18n_drag_file","msg-ui/components/rich-media/attachment-drag-and-drop-presenter"],null]]],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"msg-form__attachment-drag-and-drop-discoverability-text text-align-center"],[12],[1,"\\n            "],[10,0],[14,0,"t-16 t-bold"],[12],[1,"\\n              "],[1,[28,[32,4],["i18n_select_file","msg-ui/components/rich-media/attachment-drag-and-drop-presenter"],null]],[1,"\\n            "],[13],[1,"\\n            "],[10,0],[14,0,"t-14"],[12],[1,"\\n              "],[1,[28,[32,4],["i18n_or_drag_and_drop","msg-ui/components/rich-media/attachment-drag-and-drop-presenter"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[],false,["if"]]',moduleName:"msg-ui/components/rich-media/attachment-drag-and-drop-presenter.gjs",scope:()=>[p.concat,g.default,h.on,b.default,f.default],isStrictMode:!0}),(v=(0,u.inject)("jet"),y=(0,u.inject)("tracking"),_=(0,u.inject)("vector@vector-media-upload"),w=(0,u.inject)("client-sensor-web@client-sensor"),M=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"jet",k,this);(0,t.default)(this,"tracking",S,this);(0,t.default)(this,"vectorMediaUpload",T,this);(0,t.default)(this,"clientSensor",D,this);(0,t.default)(this,"isDraggingOverWindow",I,this);(0,t.default)(this,"isDraggingOverLayer",C,this)
this.windowDragCounter=0
this.layerDragCounter=0
this.attachmentsHandler=new o.default({vectorMediaUpload:this.vectorMediaUpload,tracking:this.tracking,jet:this.jet,updateUI:this.args.addAttachment,beforeUpload:this.args.beforeUpload,afterUpload:this.afterDropUpload.bind(this),clientSensor:this.clientSensor})}setupWindowDragAndDropListeners(){(0,l.addEventListener)(this,window,"dragenter",(e=>{if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){this.windowDragCounter+=1
if(1===this.windowDragCounter){this.isDraggingOverWindow=!0
this.tracking.firePageViewEvent(this.args.trackingKeys.PAGE_VIEW.DRAG)}}}));(0,l.addEventListener)(this,window,"dragleave",(e=>{if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){e.preventDefault()
this.windowDragCounter-=1
0===this.windowDragCounter&&(this.isDraggingOverWindow=!1)}}));(0,l.addEventListener)(this,window,"drop",(e=>{if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){this.windowDragCounter=0
this.isDraggingOverWindow=!1
this.showUserEducationLayer=!1}}))}onDragEnter(e){if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){this.layerDragCounter+=1
if(1===this.layerDragCounter){this.isDraggingOverLayer=!0
this.tracking.firePageViewEvent(this.args.trackingKeys.PAGE_VIEW.DROP)}}}onDragLeave(e){if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){e.preventDefault()
this.layerDragCounter-=1
0===this.layerDragCounter&&(this.isDraggingOverLayer=!1)}}onDrop(e){if(this.isDestroying&&!this._isFileDragAndDropEvent(e))return
e.preventDefault()
this.layerDragCounter=0
this.isDraggingOverLayer=!1
const{files:t}=e.dataTransfer
if(0===t.length)return
if(t.length>1){this.args.onError(x)
return}const i=t[0]
if(this._isAcceptedFileType(i)){this.tracking.fireInteractionEvent(this.args.trackingKeys.INTERACTION.DROPPED)
this.attachmentsHandler.uploadAttachment(i)}else this.args.onError(E)}onDragOver(e){e.preventDefault()}_isFileDragAndDropEvent(e){return-1!==Array.prototype.indexOf.call(e.dataTransfer.types,"Files")}_isAcceptedFileType(e){if(!e.type)return!1
if(P.test(e.type))return!0
const t=this._getFileExtension(e.name)
return-1!==A.indexOf(t)}_getFileExtension(e){return e.includes(".")?e.split(".").pop().toLowerCase():""}afterDropUpload(){this.tracking.fireInteractionEvent(this.args.trackingKeys.INTERACTION.UPLOADED)
this.args.afterUpload()}},k=(0,n.default)(M.prototype,"jet",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,n.default)(M.prototype,"tracking",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,n.default)(M.prototype,"vectorMediaUpload",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,n.default)(M.prototype,"clientSensor",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,n.default)(M.prototype,"isDraggingOverWindow",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=(0,n.default)(M.prototype,"isDraggingOverLayer",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(M.prototype,"setupWindowDragAndDropListeners",[m.action],Object.getOwnPropertyDescriptor(M.prototype,"setupWindowDragAndDropListeners"),M.prototype),(0,n.default)(M.prototype,"onDragEnter",[m.action],Object.getOwnPropertyDescriptor(M.prototype,"onDragEnter"),M.prototype),(0,n.default)(M.prototype,"onDragLeave",[m.action],Object.getOwnPropertyDescriptor(M.prototype,"onDragLeave"),M.prototype),(0,n.default)(M.prototype,"onDrop",[m.action],Object.getOwnPropertyDescriptor(M.prototype,"onDrop"),M.prototype),(0,n.default)(M.prototype,"onDragOver",[m.action],Object.getOwnPropertyDescriptor(M.prototype,"onDragOver"),M.prototype),M))}))
define("msg-ui/components/rich-media/audio-message-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","global-utils/utils/trusted-html-safe","global-utils/utils/is-browser","@glimmer/tracking","@glimmer/component","@ember/service","@ember/object","ember","@ember/modifier","hue-web-icons/components/icon","ember-cli-pemberly-i18n/helpers/t","global-helpers/helpers/format-duration"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,_,w,M,k
e.default=(0,o.setComponentTemplate)((0,a.createTemplateFactory)({id:"SiT0iNk3",block:'[[[1,"\\n"],[1,"    "],[11,"button"],[24,0,"msg-s-event-listitem__audio"],[16,5,[30,0,["buttonStyle"]]],[24,4,"button"],[4,[32,0],["click",[30,0,["onClick"]]],null],[12],[1,"\\n      "],[10,"progress"],[14,0,"msg-s-event-listitem__audio-progress-bar"],[15,2,[30,0,["currentTime"]]],[15,"max",[30,0,["duration"]]],[12],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,0],[14,0,"msg-s-event-listitem__audio-icon-container relative"],[12],[1,"\\n"],[41,[30,0,["isPlaying"]],[[[1,"          "],[8,[32,1],[[24,0,"mh2"]],[["@a11yText","@type","@size","@name"],[[28,[32,2],["i18n_pause","msg-ui/components/rich-media/audio-message-presenter"],null],"system","small","pause"]],null],[1,"\\n"]],[]],[[[1,"          "],[8,[32,1],[[24,0,"mh2"]],[["@a11yText","@type","@size","@name"],[[28,[32,2],["i18n_play","msg-ui/components/rich-media/audio-message-presenter"],null],"system","small","play"]],null],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n\\n      "],[10,1],[14,0,"msg-s-event-listitem__audio-time t-12 t-white t-normal"],[12],[1,"\\n        "],[1,[28,[32,3],[[30,0,["roundedRemainingTime"]]],[["customPrefixFormat"],[[30,0,["customPrefixFormat"]]]]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[],false,["if"]]',moduleName:"msg-ui/components/rich-media/audio-message-presenter.gjs",scope:()=>[h.on,f.default,b.default,v.default],isStrictMode:!0}),(y=(0,m.inject)("tracking"),_=class extends u.default{get customPrefixFormat(){return{prefixInsignificants:!1,prefixSeconds:!0}}get duration(){return this.args.duration/1e3}get roundedRemainingTime(){return Math.round(this.duration-this.currentTime)}get buttonStyle(){return(0,l.default)(`width: calc(75px + ${this.widthRatio} * (100% - 75px));`)}get widthRatio(){return Math.max(0,Math.min(this.duration/60,1))}constructor(){super(...arguments);(0,t.default)(this,"tracking",w,this);(0,t.default)(this,"currentTime",M,this);(0,t.default)(this,"isPlaying",k,this);(0,i.default)(this,"trackingPrefix","")
d.default&&(this.audio=new window.Audio)
const e=document.createElement("source")
e.src=jSecure.sanitizeUrl(this.args.url)
e.type="audio/mp4"
this.audio.appendChild(e)
this.audio.addEventListener("playing",this._handlePlaybackStarted.bind(this))
this.audio.addEventListener("ended",this._handlePlaybackEnded.bind(this))}onClick(){this.isPlaying?this._pauseAudio():this._playAudio()}_handlePlaybackStarted(){this.tracking.fireInteractionEvent(`${this.args.trackingPrefix||""}play_successful_voice_message`)
this._updateProgress()}_updateProgress(){g.default.testing?this.currentTime=this.audio.currentTime:d.default&&window.requestAnimationFrame((()=>{if(this.isPlaying){this.currentTime=this.audio.currentTime
this._updateProgress()}}))}_handlePlaybackEnded(){this.isPlaying=!1
this.currentTime=0}_playAudio(){this.isPlaying=!0
this.audio.play()
this.tracking.fireInteractionEvent(`${this.args.trackingPrefix||""}play_voice_message`)}_pauseAudio(){this.isPlaying=!1
this.audio.pause()
this.tracking.fireInteractionEvent(`${this.args.trackingPrefix||""}pause_voice_message`)}},w=(0,n.default)(_.prototype,"tracking",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,n.default)(_.prototype,"currentTime",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=(0,n.default)(_.prototype,"isPlaying",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(_.prototype,"onClick",[p.action],Object.getOwnPropertyDescriptor(_.prototype,"onClick"),_.prototype),_))}))
define("msg-ui/components/rich-media/feed-update-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@glimmer/component","@ember/service","@ember/destroyable","msg-ui/components/primitives/message-hover-actions-presenter","msg-ui/components/primitives/message-with-sending-indicator-presenter","update-components/components/mini-update-v2","artdeco-loader/components/artdeco-loader","graphql-queries/queries/feed/single-update.graphql","ember-cli-pemberly-i18n/helpers/t","@ember/object","@glimmer/tracking","@ember/modifier"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var _,w,M,k,S,T,D,I,C,x,E,P
e.default=(0,o.setComponentTemplate)((0,a.createTemplateFactory)({id:"FF8CfhAU",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],null,[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@viewData","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName","@shouldShowDelete"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1],false,[30,2,["messageHoverActionsViewData"]],[30,3],[30,4],[30,5],[30,6],false,false,[30,7],[30,8],[30,9]]],[["default"],[[[[1,"\\n      "],[8,[32,1],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,2,["eventCreatedAt"]],[30,10],[30,11]]],[["default"],[[[[1,"\\n        "],[10,0],[14,0,"msg-s-event-listitem__content-preview-container"],[12],[1,"\\n          "],[11,0],[16,0,[29,["msg-content-preview\\n              ",[52,[51,[30,0,["feedUpdateFailed"]]],"artdeco-card"]]]],[17,12],[12],[1,"\\n"],[41,[30,0,["feedUpdateIsLoading"]],[[[1,"              "],[8,[32,2],null,[["@size"],["small"]],null],[1,"\\n"]],[]],[[[41,[30,0,["feedUpdateFailed"]],[[[1,"              "],[11,2],[24,0,"msg-content-preview__error text-body-small"],[4,[32,3],["click",[30,0,["retryFeedUpdateFetch"]]],null],[12],[1,[28,[32,4],["i18n_cannot_display_post","msg-ui/components/rich-media/feed-update-presenter"],null]],[13],[1,"\\n"]],[]],[[[1,"              "],[8,[32,5],null,[["@debugParentComponentName","@isDashEnabled","@stretchContentToEdge","@shouldTrackImpression","@showFollowButton","@showNestedShares","@update"],["msg-ui@feed-update-presenter",true,true,true,false,[30,13],[30,0,["feedUpdateAsyncData"]]]],null],[1,"\\n            "]],[]]]],[]]],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[]]]]],[1,"\\n  "]],["@deleteMessageEventModalState","@viewData","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@reactionsHoverTrackingName","@shouldShowDelete","@shouldShowMessageSendingIndicator","@messageStatus","&attrs","@showNestedShares"],false,["unless","if"]]',moduleName:"msg-ui/components/rich-media/feed-update-presenter.gjs",scope:()=>[u.default,m.default,g.default,y.on,f.default,p.default],isStrictMode:!0}),(_=(0,d.inject)("jet"),w=(0,d.inject)("@linkedin/ember-restli-graphql@graphql"),M=(0,d.inject)("client-sensor-web@client-sensor"),k=(0,d.inject)("router"),S=class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"jet",T,this);(0,t.default)(this,"graphql",D,this);(0,t.default)(this,"clientSensor",I,this);(0,t.default)(this,"router",C,this);(0,i.default)(this,"pageKey","flagship3_messaging_feed_update_presenter");(0,t.default)(this,"feedUpdateIsLoading",x,this);(0,t.default)(this,"feedUpdateAsyncData",E,this);(0,t.default)(this,"feedUpdateFailed",P,this)
this.getFeedUpdateAsyncData()}goToFeedDetailsPage(){var e
this.router.transitionTo("feed.update",null===(e=this.feedUpdateAsyncData.value)||void 0===e?void 0:e.metadata.backendUrn)}getFeedUpdateAsyncData(){this.graphql.executeQuery(h.default,{updateUrn:this.args.viewData.feedUpdateUrn}).then((e=>{(0,c.isDestroying)(this)||(this.feedUpdateAsyncData=e.data.feedDashUpdatesById)})).catch((e=>{if((0,c.isDestroying)(this))throw e
this.jet.error(e,["MSG-74303","messaging-feed-update-failed"],{shouldRethrow:!1})
this.clientSensor.incrementMetricCounter({metricName:"messaging-feed-update-failed",groupName:"messaging"})
this.feedUpdateFailed=!0
throw e})).finally((()=>{(0,c.isDestroying)(this)||(this.feedUpdateIsLoading=!1)}))}retryFeedUpdateFetch(){this.feedUpdateFailed=!1
this.feedUpdateIsLoading=!0
this.getFeedUpdateAsyncData()}get isShareArticle(){var e,t
return null===(e=this.args.viewData)||void 0===e||null===(t=e.feedUpdateUrn)||void 0===t?void 0:t.includes("article")}},T=(0,n.default)(S.prototype,"jet",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,n.default)(S.prototype,"graphql",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,n.default)(S.prototype,"clientSensor",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,n.default)(S.prototype,"router",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,n.default)(S.prototype,"feedUpdateIsLoading",[v.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),E=(0,n.default)(S.prototype,"feedUpdateAsyncData",[v.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=(0,n.default)(S.prototype,"feedUpdateFailed",[v.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.default)(S.prototype,"goToFeedDetailsPage",[b.action],Object.getOwnPropertyDescriptor(S.prototype,"goToFeedDetailsPage"),S.prototype),(0,n.default)(S.prototype,"retryFeedUpdateFetch",[b.action],Object.getOwnPropertyDescriptor(S.prototype,"retryFeedUpdateFetch"),S.prototype),S))}))
define("msg-ui/components/rich-media/file-attachment-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/tracking","global-utils/utils/is-browser","@glimmer/component","@ember/object","ember","msg-ui/components/primitives/message-hover-actions-presenter","ember-set-helper/helpers/set","@ember/modifier","@ember/helper","ember-cli-pemberly-tracking/modifiers/track-interaction","ember-cli-pemberly-i18n/helpers/t","ember-vector-images/components/custom-image","hue-web-icons/components/icon"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var _,w
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"1cAyPAbc",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],null,[["@classNames","@viewData","@attachment","@hasAttachment","@enableMsgFwd","@deleteMessageEventModalState","@filename","@isImage","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@setMessageFocus","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName","@isSponsoredConversation"],[[29,["\\n    msg-s-event-listitem__attachment-item\\n    ",[52,[30,0,["downloaded"]],"msg-s-event-listitem__attachment-item--downloaded"],"\\n  "]],[30,1,["messageHoverActionsViewData"]],[30,1,["attachmentAPIModel"]],true,[30,2],[30,3],[30,1,["filename"]],[30,1,["isImage"]],[30,4],[30,5],[30,6],[30,7],[28,[32,1],[[30,0],"messageFocused"],null],[30,8],false,[30,9],[30,10],[30,11]]],[["default"],[[[[1,"\\n"],[41,[30,1,["isImage"]],[[[1,"        "],[10,0],[14,0,"msg-s-event-listitem__image-container"],[12],[1,"\\n          "],[11,"button"],[24,0,"full-height full-width"],[24,4,"button"],[4,[32,2],["click",[28,[32,3],[[30,12],[30,1,["downloadUrl"]]],null]],null],[4,[32,2],["click",[28,[32,1],[[30,0],"previewModalIsOpen",true],null]],null],[4,[32,4],["photo_viewer"],null],[12],[1,"\\n            "],[10,1],[14,0,"visually-hidden"],[12],[1,"\\n              "],[1,[28,[32,5],["i18n_file_preview_v2","msg-ui/components/rich-media/file-attachment-presenter"],null]],[1,"\\n            "],[13],[1,"\\n"],[1,"            "],[8,[32,6],null,[["@image","@class","@alt","@ghostType","@desiredWidth","@tracking","@trackPerformance"],[[28,[31,1],[[30,1,["vectorImage"]]],null],"msg-s-event-listitem__image block",[30,1,["filename"]],"image",1000,[30,0,["tracking"]],[30,0,["trackPerformance"]]]],null],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[1,"        "],[11,"button"],[24,0,"msg-s-event-listitem__download-attachment-button t-14 t-black--light t-normal"],[24,4,"button"],[4,[32,2],["click",[30,0,["downloadAttachment"]]],null],[4,[32,4],["view_attachment"],null],[12],[1,"\\n          "],[10,0],[15,0,[29,["msg-s-event-listitem__attachment-type ui-attachment ui-attachment--",[30,1,["mediaTypeExtension"]],"\\n              display-flex m0"]]],[12],[1,"\\n            "],[10,0],[14,0,"flex-grow-1 truncate text-align-left"],[12],[1,"\\n              "],[10,2],[14,0,"ui-attachment__filename"],[12],[1,"\\n                "],[1,[30,1,["filename"]]],[1,"\\n              "],[13],[1,"\\n              "],[10,2],[14,0,"ui-attachment__filesize flex-shrink-zero"],[12],[1,"\\n                "],[1,[30,1,["formattedSize"]]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n            "],[10,0],[14,0,"msg-s-event-listitem__download-attachment-icon display-flex align-items-center justify-center flex-shrink-zero"],[12],[1,"\\n              "],[8,[32,7],null,[["@type","@size","@name"],["system","small","download"]],null],[1,"\\n              "],[10,2],[14,0,"t-14 t-black--light t-bold"],[12],[1,"\\n                "],[1,[28,[32,5],["i18n_download_attachment","msg-ui/components/rich-media/file-attachment-presenter"],null]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]]],[1,"    "]],[]]]]],[1,"\\n  "]],["@viewData","@enableMsgFwd","@deleteMessageEventModalState","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showSendReactionControls","@reactionsHoverTrackingName","@isSponsoredConversation","@showImageAttachment"],false,["if","unbound"]]',moduleName:"msg-ui/components/rich-media/file-attachment-presenter.gjs",scope:()=>[m.default,p.default,g.on,h.fn,f.default,b.default,v.default,y.default],isStrictMode:!0}),(_=class extends d.default{constructor(){super(...arguments);(0,t.default)(this,"downloaded",w,this)}downloadAttachment(e){e.preventDefault()
if(!u.default.testing&&l.default){var t,i,n
const e=document.createElement("a")
e.setAttribute("href",null===(t=this.args.viewData)||void 0===t?void 0:t.downloadUrl)
e.setAttribute("download",null===(i=this.args.viewData)||void 0===i?void 0:i.filename)
e.setAttribute("rel","noopener noreferrer")
e.style.display="none"
"pdf"===(null===(n=this.args.viewData)||void 0===n?void 0:n.mediaTypeExtension)&&e.setAttribute("target","_blank")
document.body.appendChild(e)
e.click()
document.body.removeChild(e)}this.downloaded=!0}get tracking(){var e
if(null!==(e=this.args.viewData)&&void 0!==e&&e.mediaAssetUrn)return{mediaUrn:this.args.viewData.mediaAssetUrn}}get trackPerformance(){var e
return!u.default.testing&&!(null===(e=this.args.viewData)||void 0===e||!e.mediaAssetUrn)}},w=(0,n.default)(_.prototype,"downloaded",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(_.prototype,"downloadAttachment",[c.action],Object.getOwnPropertyDescriptor(_.prototype,"downloadAttachment"),_.prototype),_))}))
define("msg-ui/components/rich-media/story-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/tracking","@ember/service","image-view-model/utils/hue-icon","@ember/object","@glimmer/component","msg-ui/components/primitives/message-hover-actions-presenter","ember-set-helper/helpers/set","msg-ui/components/primitives/message-with-sending-indicator-presenter","text-view-model/helpers/text-view-model","ember-cli-pemberly-i18n/helpers/t","artdeco-loader/components/artdeco-loader","@ember/helper","artdeco-button/components/artdeco-button","@ember/modifier","ember-cli-pemberly-tracking/modifiers/track-interaction","app-aware-link/components/app-aware-link","image-view-model/components/image-view-model","hue-web-icons/components/icon"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M,k,S){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var T,D,I,C,x,E,P
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"a9YZYbvo",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@setMessageFocus","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[30,2],[30,3],[30,4],[30,5],[30,6],[30,7],[28,[32,1],[[30,0],"messageFocused"],null],[30,8],[30,9],[30,10],[30,11]]],[["default"],[[[[1,"\\n      "],[8,[32,2],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["createdAt"]],[30,12],[30,13]]],[["default"],[[[[1,"\\n        "],[10,0],[14,0,"msg-story-item"],[12],[1,"\\n"],[41,[30,1,["contentCaption"]],[[[1,"            "],[10,0],[14,0,"t-14 t-black--light pl2 pb2"],[12],[1,"\\n              "],[1,[28,[32,3],[[30,1,["contentCaption"]]],null]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"          "],[10,0],[14,0,"pl2 display-flex"],[12],[1,"\\n"],[41,[30,0,["showThumbnailContainer"]],[[[1,"              "],[10,0],[14,"role","link"],[14,"tabindex","0"],[15,"aria-label",[52,[30,0,["messagingStory","url"]],[28,[32,4],["a11y_click_to_view_story","msg-ui/components/rich-media/story-presenter"],null],[28,[32,4],["a11y_cant_view_expired_story","msg-ui/components/rich-media/story-presenter"],null]]],[14,0,"msg-story-item__thumbnail"],[12],[1,"\\n"],[41,[30,0,["messagingStoryLoading"]],[[[1,"                  "],[8,[32,5],null,[["@size"],["small"]],null],[1,"\\n"]],[]],[[[41,[30,0,["messagingStoryFailedToLoad"]],[[[44,[[28,[32,6],[[30,14],"reload_story_thumbnail"],null]],[[[1,"                    "],[8,[32,7],[[16,"aria-label",[28,[32,4],["a11y_retry_loading_story","msg-ui/components/rich-media/story-presenter"],null]],[4,[32,8],["click",[30,0,["fetchMessagingStory"]]],null],[4,[32,9],[[30,15]],null]],[["@type","@icon","@circle","@size","@color"],["tertiary","refresh",true,2,"muted"]],null],[1,"\\n"]],[15]]]],[]],[[[41,[30,0,["messagingStory","url"]],[[[44,[[28,[32,6],[[30,14],"expand_story_thumbnail"],null]],[[[1,"                    "],[8,[32,10],[[24,0,"msg-story-item__link"],[24,"tabindex","-1"],[4,[32,9],[[30,16]],null]],[["@href"],[[30,0,["messagingStory","url"]]]],null],[1,"\\n"]],[16]]],[1,"                  "],[8,[32,11],null,[["@imgClasses","@images","@desiredWidth"],["msg-story-item__thumbnail-image",[30,0,["messagingStory","thumbnail"]],72]],null],[1,"\\n                "]],[]],null]],[]]]],[]]],[1,"              "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showExpiredState"]],[[[1,"              "],[10,0],[15,0,[28,[32,6],["t-12 t-black--light display-flex justify-center",[52,[30,0,["showThumbnailContainer"]]," flex-column"]],null]],[12],[1,"\\n                "],[8,[32,12],[[24,0,"msg-story-item__expired-view-icon"]],[["@a11yText","@type","@size","@name"],[[30,0,["messagingStory","expiredText"]],[30,0,["expiredTextIcon","type"]],[30,0,["expiredTextIcon","size"]],[30,0,["expiredTextIcon","name"]]]],null],[1,"\\n                "],[1,[30,0,["messagingStory","expiredText"]]],[1,"\\n              "],[13],[1,"\\n"]],[]],null],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[]]]]],[1,"\\n  "]],["@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName","@shouldShowMessageSendingIndicator","@messageStatus","@trackingPrefix","controlName","controlName"],false,["if","let"]]',moduleName:"msg-ui/components/rich-media/story-presenter.gjs",scope:()=>[m.default,p.default,g.default,h.default,f.default,b.default,v.concat,y.default,_.on,w.default,M.default,k.default,S.default],isStrictMode:!0}),(T=(0,l.inject)("msg-data@data-manager"),D=class extends u.default{get showThumbnailContainer(){var e
return(null===(e=this.messagingStory)||void 0===e?void 0:e.thumbnail)||this.messagingStoryLoading||this.messagingStoryFailedToLoad}get showExpiredState(){var e
return this.messagingStory&&!(null!==(e=this.messagingStory)&&void 0!==e&&e.url)&&!this.messagingStoryFailedToLoad&&!this.messagingStoryLoading}constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",I,this);(0,t.default)(this,"messagingStory",C,this);(0,t.default)(this,"messagingStoryLoading",x,this);(0,t.default)(this,"messagingStoryFailedToLoad",E,this);(0,t.default)(this,"expiredTextIcon",P,this)
this.args.viewData.storyItemUrn&&this.fetchMessagingStory()}fetchMessagingStory(){this.messagingStoryLoading=!0
const{storyItemUrn:e}=this.args.viewData
this.msgDataManager.fetchMessagingStory(e).then((e=>{if(!this.isDestroying){this.expiredTextIcon=(0,d.getHueIcon)(e.expiredTextIcon)
this.messagingStoryFailedToLoad=!1
this.messagingStoryLoading=!1
this.messagingStory=e}})).catch((e=>{if(!this.isDestroying){this.messagingStoryLoading=!1
this.messagingStoryFailedToLoad=!0
throw e}}))}},I=(0,n.default)(D.prototype,"msgDataManager",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,n.default)(D.prototype,"messagingStory",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,n.default)(D.prototype,"messagingStoryLoading",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,n.default)(D.prototype,"messagingStoryFailedToLoad",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,n.default)(D.prototype,"expiredTextIcon",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(D.prototype,"fetchMessagingStory",[c.action],Object.getOwnPropertyDescriptor(D.prototype,"fetchMessagingStory"),D.prototype),D))}))
define("msg-ui/components/rich-media/video-message-presenter",["exports","@ember/template-factory","@ember/component","@glimmer/component","video/components/video-loader-switch"],(function(e,t,i,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class a extends n.default{constructor(){super(...arguments)
this.videoPlayMetadata=JSON.parse(JSON.stringify(this.args.videoPlayMetadata))
this.videoPlayMetadata.progressiveStreams[0].mediaType="video/mp4"}}e.default=a;(0,i.setComponentTemplate)((0,t.createTemplateFactory)({id:"I40qmjlG",block:'[[[1,"\\n    "],[10,0],[14,0,"msg-s-event-listitem__video"],[12],[1,"\\n      "],[10,0],[14,0,"msg-s-event-listitem__video-aspect-ratio-container"],[12],[1,"\\n        "],[8,[32,0],null,[["@videoPlayMetadata","@iconSize","@onPlayerReady"],[[30,0,["videoPlayMetadata"]],[30,1],[30,2]]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@iconSize","@onPlayerReady"],false,[]]',moduleName:"msg-ui/components/rich-media/video-message-presenter.gjs",scope:()=>[s.default],isStrictMode:!0}),a)}))
define.alias("helpcenter-in-product-ember/components/search-bar","msg-ui/components/search-bar")
define.alias("helpcenter-in-product-ember/components/search-results-list","msg-ui/components/search-results-list")
define("msg-ui/components/selectable-entity-presenter",["exports","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/template-factory","msg-shared/utils/constants","@ember/debug","@ember/object","@ember/object/internals","@glimmer/component","@ember/modifier","presence/components/entity-with-presence-presenter","ember-vector-images/components/lazy-background","msg-facepile-grid/components/facepile-presenter","@ember/component","@ember/helper","global-helpers/helpers/eq","ember-cli-pemberly-i18n/helpers/t","global-helpers/helpers/not","global-helpers/helpers/and"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y
const{KEYCODES:{ENTER:_}}=s.default
e.default=(0,p.setComponentTemplate)((0,n.createTemplateFactory)({id:"1sskaf5Q",block:'[[[1,"\\n"],[1,"    "],[11,0],[16,0,[29,["msg-selectable-entity\\n        ",[52,[30,1],"msg-selectable-entity__checkbox-only"],"\\n        msg-selectable-entity--",[30,2]]]],[17,3],[4,[32,0],["keyup",[30,0,["onKeyUp"]]],null],[4,[32,0],["click",[30,0,["handleClick"]]],null],[12],[1,"\\n"],[41,[28,[32,1],[[30,4,["hasParticipants"]],[28,[32,2],[[30,1]],null]],null],[[[41,[30,4,["hasPresenceInformation"]],[[[1,"          "],[8,[32,3],[[24,0,"msg-selectable-entity__entity"]],[["@viewData","@size"],[[30,4,["entityWithPresenceViewData"]],[30,2]]],null],[1,"\\n"]],[]],[[[41,[30,4,["isConversationWithCustomSender"]],[[[1,"          "],[10,0],[15,0,[29,["msg-selectable-entity__entity msg-facepile-grid msg-facepile-grid--no-facepile msg-facepile-grid--",[30,2]]]],[12],[1,"\\n            "],[8,[32,4],null,[["@image","@alt","@class","@ghostType","@desiredWidth","@desiredHeight"],[[30,4,["customSender","image"]],[30,4,["customSender","name","text"]],"msg-facepile-grid__img msg-facepile-grid__img--person","person",100,100]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[1,"          "],[8,[32,5],[[24,0,"msg-selectable-entity__entity"]],[["@viewData","@entitySize","@iconSize","@isConversationAdMemberSender","@isConversationWithAdvertiser"],[[30,4,["facepileViewData"]],[30,2],[30,5],[30,4,["isConversationAdMemberSender"]],[30,4,["isConversationWithAdvertiser"]]]],null],[1,"\\n        "]],[]]]],[]]]],[]],null],[1,"      "],[10,0],[14,0,"msg-selectable-entity__checkbox-container"],[12],[1,"\\n        "],[8,[32,6],[[16,0,[28,[32,7],["msg-selectable-entity__input",[52,[28,[32,8],[[30,2],2],null]," small-input"," simple-form"]],null]],[16,1,[28,[32,7],["checkbox-",[30,0,["inputId"]]],null]]],[["@type","@checked"],["checkbox",[30,6]]],null],[1,"\\n        "],[10,"label"],[14,0,"msg-selectable-entity__checkbox-label ml2"],[15,"aria-label",[52,[30,6],[28,[32,9],["i18n_unselect_conversation_a11y_v2","msg-ui/components/selectable-entity-presenter"],[["title"],[[30,7]]]],[28,[32,9],["i18n_select_conversation_a11y_v2","msg-ui/components/selectable-entity-presenter"],[["title"],[[30,7]]]]]],[15,"for",[28,[32,7],["checkbox-",[30,0,["inputId"]]],null]],[12],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"msg-selectable-entity__checkbox-circle-container"],[12],[1,"\\n          "],[10,0],[14,0,"msg-selectable-entity__checkbox-circle"],[12],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@checkboxOnly","@entitySize","&attrs","@viewData","@iconSize","@checked","@title"],false,["if"]]',moduleName:"msg-ui/components/selectable-entity-presenter.gjs",scope:()=>[d.on,v.default,b.default,c.default,u.default,m.default,p.Input,g.concat,h.default,f.default],isStrictMode:!0}),(y=class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"inputId",`msg-selectable-entity__checkbox-${(0,o.guidFor)(this)}`)
const{entitySize:e}=this.args}handleClick(e){if(!this.args.disableBulkActions){e.stopPropagation()
e.preventDefault()
this.args.onCheckboxClick()}}onKeyUp(e){e.keyCode===_&&this.handleClick(e)}},(0,i.default)(y.prototype,"handleClick",[r.action],Object.getOwnPropertyDescriptor(y.prototype,"handleClick"),y.prototype),(0,i.default)(y.prototype,"onKeyUp",[r.action],Object.getOwnPropertyDescriptor(y.prototype,"onKeyUp"),y.prototype),y))}))
define.alias("ember-finite-scroll/components/sentinel","msg-ui/components/sentinel")
define.alias("ember-cloud-filepicker/components/slideshare-file-picker","msg-ui/components/slideshare-file-picker")
define("msg-ui/components/sortable-objects",["exports","ember-drag-drop/components/sortable-objects"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=t.default}))
define("msg-ui/components/thread-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@ember/debug","graphql-queries/queries/messaging/get-confirmed-contact-info.graphql","msg-data/utils/sdk-view-data-helpers","scaffold-sound/services/sound","msg-ui/viewdata/sdk-thread-viewdata","tracked-toolbox","@glimmer/tracking","ember-lifeline","msg-shared/utils/user-visible-exception-helper","@ember/object/internals","@ember/utils","global-utils/utils/is-browser","@ember/service","rsvp","msg-shared/utils/constants","gdpr-notice/utils/notice-constants","@ember/object","@glimmer/component","@ember/destroyable","@ember/render-modifiers/modifiers/did-insert","@ember/render-modifiers/modifiers/did-update","msg-conversation-ui/components/thread-top-card-feature","msg-conversation-ui/components/thread-bottom-card-feature","@ember/helper","msg-ui/components/message-list-scroller","msg-ui/components/message-list-feature","artdeco-button/components/artdeco-button","ember-cli-pemberly-i18n/helpers/t","@ember/modifier","msg-ui/components/thread-footer-feature","ember-set-helper/helpers/set","ember-async-data/tracked-async-data","@linkedin/ember-restli-graphql","s-upsell/utils/upsell-card-dash-helpers","global-helpers/helpers/name","tracked-built-ins","global-utils/utils/tracking-id","premium-gai/utils/constants","premium-gai/utils/guide-helpers","graphql-queries/mutations/coach/message-v2-guide-dash-message.graphql","coach-shared/services/overlay-manager"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M,k,S,T,D,I,C,x,E,P,A,O,R,U,N,j,F,G,L,z,B,V,H,q,W,K){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var $,Y,Q,J,Z,X,ee,te,ie,ne,se,ae,re,oe,le,de,ce,ue,me,pe,ge,he,fe,be,ve,ye,_e,we,Me,ke,Se,Te,De,Ie,Ce,xe,Ee,Pe,Ae,Oe,Re,Ue,Ne,je,Fe,Ge,Le,ze,Be,Ve,He,qe,We,Ke,$e,Ye,Qe,Je,Ze,Xe,et,tt,it,nt,st,at,rt,ot,lt,dt,ct
const ut="i18n_conversation_send_error",{INMAIL_ACTION:mt,INMAIL_MAX_CHARACTERS:pt}=w.default
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"UpOkdtfW",block:'[[[1,"\\n"],[1,"    "],[11,0],[4,[32,0],[[30,0,["didUpdateArgs"]]],null],[4,[32,1],[[30,0,["didUpdateArgs"]],[30,1]],null],[12],[1,"\\n      "],[8,[32,2],null,[["@actionTrackingPrefix","@conversation","@contextText","@isOriginalSize","@recipientProfile","@noticeTypes","@renamePageKey","@showRenameConversationForm","@showRecipientDetailOneToOne","@toggleShowRenameConversation","@composeViewContext"],[[30,2],[30,1],[30,3,["value","contextText"]],[30,4],[28,[32,3],[[30,5],"0"],null],[30,0,["gdprNoticeType"]],[30,6],[30,7],[30,0,["showOneToOneProfileCard"]],[30,8],[30,3]]],null],[1,"\\n    "],[13],[1,"\\n\\n"],[41,[30,0,["showMessageList"]],[[[1,"      "],[8,[32,4],null,[["@composeIsFullyExpanded","@conversation","@latestEvent"],[[30,0,["shouldExpandComposeSection"]],[30,1],[30,1,["latestEvent"]]]],[["default"],[[[[1,"\\n"],[41,[30,9,["props","scrollingPastThreshold"]],[[[1,"          "],[10,0],[14,0,"msg-s-message-list__latest-messages-pill msg-animation__indicator"],[12],[1,"\\n            "],[8,[32,5],[[4,[32,7],["click",[30,9,["actions","scrollToNewMessages"]]],null]],[["@aria-label","@icon","@size","@type","@circle"],[[28,[32,6],["a11y_new_messages","msg-ui/components/thread-feature"],null],"arrow-down",1,"primary",true]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"        "],[8,[32,8],[[16,1,[30,10]]],[["@msgListIdToScroll","@msgFormId","@blockedByNoResponse","@isOverlay","@isLoading","@conversation","@handleSuccessfulDiscardRequest","@resendMessage","@isOriginalSize","@addParticipantsPageKey","@actionTrackingPrefix","@showMessageEditForm","@shouldShowMessageEditForm","@toggleShowRenameConversation","@showQuickReplies","@quickRepliesList","@quickRepliesUseCase","@sendQuickReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@replyToMessage","@openVirtualMeetingModal","@messageIndexToBeAnchored","@contextWidth","@hasMoreMessagesToLoad"],[[30,9,["props","msgListIdToScroll"]],[30,0,["msgFormId"]],[30,0,["blockedByNoResponse"]],[30,11],[30,9,["props","isLoading"]],[30,1],[30,12],[30,0,["resendMessage"]],[30,4],[30,13],[30,2],[30,0,["showMessageEditForm"]],[30,0,["shouldShowMessageEditForm"]],[30,8],[30,0,["showQuickReplies"]],[30,0,["viewData","quickRepliesList"]],[30,14],[30,0,["sendQuickReply"]],[30,0,["openGIFPopover"]],[30,0,["openInMailReplyPanel"]],[30,0,["showInmailDeclineReasonModal"]],[30,0,["replyToMessage"]],[30,0,["openVirtualMeetingModal"]],[30,9,["props","messageIndexToBeAnchored"]],[30,15],[30,9,["props","hasMoreMessagesToLoad"]]]],null],[1,"\\n      "]],[9]]]]],[1,"\\n"]],[]],[[[1,"      "],[10,0],[15,0,[29,["msg-compose-container__spacer mtA\\n          ",[52,[30,0,["composeIsFullyExpanded"]]," msg-compose-container__spacer--compose-is-expanded"]]]],[12],[13],[1,"\\n"]],[]]],[41,[30,0,["shouldRenderThreadBottomCard"]],[[[1,"      "],[8,[32,9],null,[["@composeViewContext","@conversation"],[[30,3],[30,1]]],null],[1,"\\n"]],[]],null],[1,"    "],[8,[32,10],null,[["@composeViewContext","@messageComposeFlowTrackingId","@conversation","@conversationTrackedAsyncData","@invitationUrn","@selectedInMailReplySmartAction","@cancelQuickAction","@sendQuickAction","@actionTrackingPrefix","@messageEventToEdit","@messageToEdit","@shouldShowMessageEditForm","@onDismissEditForm","@composeIsFullyExpanded","@blockedByNoResponse","@isMessageRequestClickReplyPending","@isOverlay","@subject","@loadingConvoHistory","@messageRecipients","@msgAdapterOptions","@prefilledMessage","@messageToReplyTo","@submitMessage","@sendPremiumInMail","@sendGif","@beforeUpload","@dragAndDropTrackingKeys","@smpContent","@msgFormId","@bubbleId","@isMessageRequestCompose","@contextByRecipients","@hasResharedContent","@isNew","@forwardedEvent","@isInMailCompose","@customPlaceholderText","@prefilledAttachments","@update","@validateForm","@shouldShowMessageComposeFailedBanner","@isSendErrorUxInprovementEnabled","@messageSendFailedApiError","@enableAttachmentDragAndDrop","@closeVirtualMeetingContainer","@markConversationAsRead","@showExpandButton","@toggleExpandComposeField","@openGIFPopover","@isGifSearchPopoverOpen","@closeGIFPopover","@prefilledGIFSearchTerm","@declineInmailReasonModalIsOpen","@dismissInmailFeedbackModal","@profileContactInfo","@shareInfoModalIsOpen","@onShareContactInfoAccept","@onShareContactInfoDecline","@closeShareProfileInfoModal","@shouldShowComposeRetryLoader","@hasValidRecipients","@isVirtualMeetingModalOpen","@handleSuccessfulDiscardRequest","@removeReplyMessage","@isOriginalSize","@gaiIntentsAsyncData","@gaiRefinementOptionsAsyncData","@gaiUpsellAsyncData","@gaiMessageAsyncData","@gaiStreamingStatus","@gaiStreamingMessage","@generateGaiMessage","@refreshGaiMessage","@onEnterGaiFlow","@onResetGaiFlow","@onCancelGaiMessageGeneration","@onRefineGaiMessage","@onUndoGaiMessage","@canUndoGaiMessage","@gaiLoaderPromptText","@gaiLoaderRecipientName","@focusInput","@disableExpandComposeButton"],[[30,3],[30,16,["messageComposeFlowTrackingId"]],[30,1],[30,17],[30,18],[30,0,["inMailReplySmartAction"]],[28,[32,11],[[30,0],"selectedInMailReplySmartAction",[27]],null],[30,0,["onSendCustomInmailReply"]],[30,2],[30,0,["messageEventToEdit"]],[30,0,["messageToEdit"]],[30,0,["shouldShowMessageEditForm"]],[28,[32,11],[[30,0],"shouldShowMessageEditForm",false],null],[30,0,["composeIsFullyExpanded"]],[30,0,["blockedByNoResponse"]],[30,0,["isMessageRequestClickReplyPending"]],[30,11],[30,19],[30,20],[30,5],[30,21],[30,22],[30,0,["messageToReplyTo"]],[30,0,["submitMessage"]],[30,0,["sendPremiumInMail"]],[30,0,["sendGif"]],[30,0,["beforeUpload"]],[30,23],[30,24],[30,0,["msgFormId"]],[30,25],[30,26],[30,27],[30,0,["hasResharedContent"]],[30,28],[30,29],[30,30],[30,31],[30,32],[30,33],[30,0,["validateForm"]],[30,0,["shouldShowMessageComposeFailedBanner"]],[30,0,["isSendErrorUxInprovementEnabled"]],[30,0,["messageSendFailedApiErrorMessage"]],[30,0,["enableAttachmentDragAndDrop"]],[28,[32,11],[[30,0],"isVirtualMeetingModalOpen",false],null],[30,0,["markConversationAsRead"]],[30,0,["showExpandButton"]],[30,0,["toggleExpandComposeField"]],[30,0,["openGIFPopover"]],[30,0,["isGifSearchPopoverOpen"]],[30,0,["closeGIFPopover"]],[30,0,["prefilledGIFSearchTerm"]],[30,34],[28,[32,11],[[30,0],"declineInmailReasonModalIsOpen",false],null],[30,0,["profileContactInfo"]],[30,0,["shareInfoModalIsOpen"]],[30,0,["onShareContactInfoAccept"]],[30,0,["onShareContactInfoDecline"]],[28,[32,11],[[30,0],"shareInfoModalIsOpen",false],null],[30,0,["shouldShowComposeRetryLoader"]],[30,0,["hasValidRecipients"]],[30,0,["isVirtualMeetingModalOpen"]],[30,12],[28,[32,11],[[30,0],"messageToReplyTo",[27]],null],[30,4],[30,0,["gaiIntentsAsyncData"]],[30,0,["gaiRefinementOptionsAsyncData"]],[30,0,["gaiUpsellAsyncData"]],[30,0,["gaiMessageAsyncData"]],[30,0,["gaiStreamingStatus"]],[30,0,["gaiStreamingMessage"]],[30,0,["generateGaiMessage"]],[30,0,["refreshGaiMessage"]],[30,0,["onEnterGaiFlow"]],[30,0,["resetGaiFlow"]],[30,0,["cancelGaiMessageGeneration"]],[30,0,["refineGaiMessage"]],[30,0,["undoGaiMessage"]],[30,0,["canUndoGaiMessage"]],[30,0,["gaiLoaderPromptText"]],[30,0,["gaiLoaderRecipientName"]],[30,35],[30,0,["disableExpandComposeButton"]]]],null],[1,"\\n  "]],["@conversation","@actionTrackingPrefix","@composeViewContext","@isOriginalSize","@messageRecipients","@renamePageKey","@showRenameConversationForm","@toggleShowRenameConversation","scroller","@messageListId","@isOverlay","@handleSuccessfulDiscardRequest","@addParticipantsPageKey","@quickRepliesUseCase","@contextWidth","@entryPointData","@conversationTrackedAsyncData","@invitationUrn","@subject","@loadingConvoHistory","@msgAdapterOptions","@prefilledMessage","@dragAndDropTrackingKeys","@smpContent","@bubbleId","@isMessageRequestCompose","@contextByRecipients","@isNew","@forwardedEvent","@isInMailCompose","@customPlaceholderText","@prefilledAttachments","@update","@declineInmailReasonModalIsOpen","@focusInput"],false,["if"]]',moduleName:"msg-ui/components/thread-feature.gjs",scope:()=>[D.default,I.default,C.default,E.get,P.default,O.default,R.default,U.on,A.default,x.default,N.default,j.default],isStrictMode:!0}),($=(0,y.inject)("msg-data@data-manager"),Y=(0,y.inject)("premium-gai@data-manager"),Q=(0,y.inject)("coach-shared@guide-non-conversational-manager"),J=(0,y.inject)("@linkedin/ember-restli-graphql@graphql"),Z=(0,y.inject)("tracking"),X=(0,y.inject)("authentication@authenticated-user"),ee=(0,y.inject)("jet"),te=(0,y.inject)("global-services@a11y-notification"),ie=(0,y.inject)("i18n"),ne=(0,y.inject)("formatter"),se=(0,y.inject)("persistent-toast-manager@persistent-toast-manager"),ae=(0,y.inject)("scaffold-sound@sound"),re=(0,y.inject)("presence@presence-api-dash"),oe=(0,y.inject)("msg-ui@update-message-compose"),le=(0,y.inject)("lix"),de=(0,y.inject)("locale"),ce=(0,y.inject)("lego@tracking"),ue=(0,y.inject)("interop"),me=class extends S.default{constructor(){super(...arguments);(0,i.default)(this,"msgFormId",`msg-form-${(0,f.guidFor)(this)}`);(0,i.default)(this,"gdprNoticeType",[M.GDPR_NOTICE_POLICY_TYPE.MESSAGE_CONTROL]);(0,t.default)(this,"msgDataManager",pe,this);(0,t.default)(this,"gaiDataManager",ge,this);(0,t.default)(this,"guideNonConversationalManager",he,this);(0,t.default)(this,"graphql",fe,this);(0,t.default)(this,"tracking",be,this);(0,t.default)(this,"authenticatedUser",ve,this);(0,t.default)(this,"jet",ye,this);(0,t.default)(this,"a11yNotification",_e,this);(0,t.default)(this,"i18n",we,this);(0,t.default)(this,"formatter",Me,this);(0,t.default)(this,"persistentToastManager",ke,this);(0,t.default)(this,"sound",Se,this);(0,t.default)(this,"presenceAPI",Te,this);(0,t.default)(this,"updateMessageComposeService",De,this);(0,t.default)(this,"lix",Ie,this);(0,t.default)(this,"locale",Ce,this);(0,t.default)(this,"legoTracking",xe,this);(0,t.default)(this,"interop",Ee,this);(0,t.default)(this,"profileContactInfo",Pe,this);(0,t.default)(this,"shareInfoModalIsOpen",Ae,this);(0,t.default)(this,"selectedInMailReplySmartAction",Oe,this);(0,t.default)(this,"declineInmailReasonModalIsOpen",Re,this);(0,t.default)(this,"isGifSearchPopoverOpen",Ue,this);(0,t.default)(this,"isVirtualMeetingModalOpen",Ne,this);(0,t.default)(this,"prefilledGIFSearchTerm",je,this);(0,t.default)(this,"messageToEdit",Fe,this);(0,t.default)(this,"messageEventToEdit",Ge,this);(0,t.default)(this,"shouldShowMessageEditForm",Le,this);(0,t.default)(this,"messageToReplyTo",ze,this);(0,t.default)(this,"inMailTooLong",Be,this);(0,t.default)(this,"longMessageLength",Ve,this);(0,t.default)(this,"isMessageRequestClickReplyPending",He,this);(0,t.default)(this,"blockDialogOpen",qe,this);(0,t.default)(this,"_composeIsFullyExpanded",We,this);(0,t.default)(this,"composeIsSending",Ke,this);(0,t.default)(this,"messageComposeFailed",$e,this);(0,t.default)(this,"bottomCardDismissed",Ye,this);(0,t.default)(this,"messageSendFailedApiErrorMessage",Qe,this);(0,i.default)(this,"blockedInmailReplyHelpCenterLink","/help/linkedin/answer/124531");(0,t.default)(this,"gaiIntentsAsyncData",Je,this);(0,t.default)(this,"gaiRefinementOptionsAsyncData",Ze,this);(0,t.default)(this,"gaiUpsellAsyncData",Xe,this);(0,t.default)(this,"gaiMessageAsyncData",et,this);(0,t.default)(this,"refreshGaiMessage",tt,this);(0,t.default)(this,"gaiLoaderPromptText",it,this);(0,t.default)(this,"gaiLoaderRecipientName",nt,this);(0,i.default)(this,"gaiMessageResponseStack",new B.TrackedArray);(0,t.default)(this,"canUseGaiStreaming",st,this);(0,t.default)(this,"gaiStreamingMessage",at,this);(0,t.default)(this,"gaiStreamingStatus",rt,this);(0,t.default)(this,"gaiGuideSessionId",ot,this);(0,t.default)(this,"gaiGuideInteractionId",lt,this);(0,t.default)(this,"gaiStreamingFinalMessageStack",dt,this);(0,t.default)(this,"gaiCancelStreamingQueryVariables",ct,this);(0,i.default)(this,"cancelledGaiAsyncData",new WeakSet)
this._originalRecipients=this.args.messageRecipients
this.maybeFetchGaiEntryPointData()
const{gaiContext:e}=this.args.entryPointData??this.args
"en_US"===this.locale.interfaceLocale&&e&&(0,g.runTask)(this,(()=>{this.onEnterGaiFlow()
this.generateGaiMessage(e)}))}get composeIsFullyExpanded(){return this.args.isInMailCompose||this.hasResharedContent||this._composeIsFullyExpanded||this.args.noConvoHistoryInNewConvo}get disableExpandComposeButton(){return this.args.isInMailCompose||this.hasResharedContent||this.args.noConvoHistoryInNewConvo}get shouldExpandComposeSection(){return!this.viewData.isInMail&&this.composeIsFullyExpanded&&!this.showBlockedFooter}get showOneToOneProfileCard(){return!this.showMessageList&&this.args.showOneToOneProfileCard}didUpdateArgs(){this.selectedInMailReplySmartAction=void 0
this.maybeFetchGaiEntryPointData()}get showMessageList(){const{conversationUrn:e,isDraftState:t}=this.viewData
return!this.args.noConvoHistoryInNewConvo&&e&&!t}get showQuickReplies(){const{isViewerCurrentParticipant:e,isPendingOrDeclinedMessageRequest:t,quickRepliesList:i,showBlockedFooter:n}=this.viewData
return!this.composeIsFullyExpanded&&e&&!t&&i.length&&!n}get inMailReplySmartActionFromDeeplink(){if(this.viewData.latestMessage&&this.args.inmailReplyDeepLink&&this.viewData.isInMail&&"DECLINED"!==this.viewData.latestMessageActionType){let e
this.args.inmailReplyDeepLink.endsWith("sent_accepted")?e="INMAIL_ACCEPT":this.args.inmailReplyDeepLink.endsWith("sent_rejected")&&(e="INMAIL_DECLINE")
return this.viewData.quickRepliesList.find((t=>t.replyType===e))}}get inMailReplySmartAction(){return this.selectedInMailReplySmartAction??this.inMailReplySmartActionFromDeeplink}get blockedByNoResponse(){var e,t
const{isInMail:i,currentUser:n,isReplyDisabled:s}=this.viewData,{composeViewContext:a}=this.args
if(!(null!=a&&a.isPending||null==a||!a.value||null!=a&&null!==(e=a.value)&&void 0!==e&&e.footer||null!=a&&null!==(t=a.value)&&void 0!==t&&t.showBlockedFooter))return i&&n&&s}get enableAttachmentDragAndDrop(){return!this.hasResharedContent&&!this.args.isMessageRequestCompose}get hasResharedContent(){return this.args.forwardedEvent||this.args.update}get showExpandButton(){return!this.args.isInMailCompose}get inMailRequestContactInfo(){return this.viewData.inMailRequestContactInfo}get shouldShowComposeRetryLoader(){return this.args.isNew&&this.composeIsSending}get shouldShowMessageComposeFailedBanner(){return this.args.isNew&&this.messageComposeFailed}get messageComposeFlowTrackingId(){var e,t
return(null===(e=this.args.entryPointData)||void 0===e?void 0:e.messageComposeFlowTrackingId)??(null===(t=this.args.trackingData)||void 0===t?void 0:t.messageComposeFlowTrackingId)}_messageSendFailedApiError(e){if(this.isSendErrorUxInprovementEnabled&&e){if("com.linkedin.messenger.common.errorhandling.MessengerUserVisibleException"===(null==e?void 0:e.exceptionClass)){this.jet.info(new Error(e.message),[`[apiResponseError - full][userVisible]: ${JSON.stringify(e)}`],{shouldRethrow:!1})
return e.message}this.jet.info(new Error(e.message),[`[apiResponseError - full][non-userVisible]: ${JSON.stringify(e)}`],{shouldRethrow:!1})}}_onMessageSendSuccess(e){var t,i,n
null===(t=(i=this.args).didSubmitMessage)||void 0===t||t.call(i,e)
this._composeIsFullyExpanded=!1
this.messageToReplyTo=void 0
if(null!==(n=this.args.messageActions)&&void 0!==n&&n.afterSend){this.args.messageActions.afterSend()
delete this.args.messageActions.afterSend}this._focusMessageInput()
return e}_onMessageSendFail(e){var t
let i=this._messageSendFailedApiError(null===(t=e.cause)||void 0===t?void 0:t.apiResponseError)||(0,h.default)(e)
if(!i){const e=this.args.isInMailCompose?"i18n_inmail_send_error":ut
i=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)()}this.messageSendFailedApiErrorMessage=i
this.persistentToastManager.error({message:i})
throw e}_focusMessageInput(){var e,t
if(v.default&&((null===(e=this.interop.nileOverlayOutletOrFalse)||void 0===e||null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||window).getSelection().toString())return
const i=document.querySelector(`#${this.msgFormId} .msg-form__contenteditable`)
i&&i.focus()}_fetchContactInfo(){return this.graphql.executeQuery(l.default).then((e=>{if(this.isDestroying)return
const t={confirmedEmailAddresses:[],confirmedPhoneNumbers:[]}
e.data.onboardingDashMemberHandlesByCriteria.elements.forEach((e=>{var i,n,s,a,r
const o=null===(i=e.handleDetail)||void 0===i||null===(n=i.emailAddress)||void 0===n?void 0:n.emailAddress,l=null===(s=e.handleDetail)||void 0===s||null===(a=s.phoneNumber)||void 0===a||null===(r=a.phoneNumber)||void 0===r?void 0:r.number
o&&t.confirmedEmailAddresses.push({email:o})
l&&t.confirmedPhoneNumbers.push({number:l})}))
this.profileContactInfo=t
this.shareInfoModalIsOpen=!0}))}_clickReplyToRecruiterInMail(e){return this.msgDataManager.updateInMailStateWithoutSendingMessage(this.viewData.conversationUrn,e).then((()=>{(0,T.isDestroying)(this)||this.a11yNotify("i18n_a11y_send_successful")})).catch((e=>{if((0,T.isDestroying)(this))throw e
const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",ut)()
this.persistentToastManager.error({message:t})
throw e}))}a11yNotify(e){const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(t([]))}_sendCustomInMailReplyMessage(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}
const n={renderContent:[]}
this.viewData.isRecruiterInmailReply&&(n.hostMessageCreateContent={"com.linkedin.voyager.dash.messaging.MessageCreateContent":{messageCreateContentUnion:{recruiterInMailCandidateReply:i}}})
let s
if("ACCEPT"===t){s="INMAIL_ACCEPT"
n.conversationState="ACCEPTED"}else if("DECLINE"===t){s="INMAIL_DECLINE"
n.conversationState="DECLINED"}this.selectedInMailReplySmartAction=void 0
return this.msgDataManager.sendMessage(this.args.conversation.entityUrn,{text:e,attributes:[]},n,this.args.isOverlay,this.messageComposeFlowTrackingId,void 0,void 0,s)}_handleSocialNudgeDismiss(){this.args.composeViewContext.value.footer.legoTrackingId&&this.legoTracking.sendLegoAction(this.args.composeViewContext.value.footer.legoTrackingId,this.legoTracking.LEGO_ACTION_DISMISS)
this.bottomCardDismissed=!0}openInMailReplyPanel(e){this.selectedInMailReplySmartAction=e}showInmailDeclineReasonModal(){this.declineInmailReasonModalIsOpen=!0}replyToMessage(e){this.messageToReplyTo=e
this.updateMessageComposeService.triggerFocusMessageCompose({isOverlay:this.args.isOverlay,bubbleId:this.args.bubbleId})}openGIFPopover(e){const t="string"==typeof e?e:""
this.isGifSearchPopoverOpen=!0
this.prefilledGIFSearchTerm=t}closeGIFPopover(){this.isGifSearchPopoverOpen=!1
this.prefilledGIFSearchTerm=""
document.querySelector(".tenor-gif__button button").focus()}openVirtualMeetingModal(){this.isVirtualMeetingModalOpen=!0}beforeUpload(e){let t,{attachment:i,isPasteEvent:n}=e
t=i.isImage?n?this.args.imagePasteControlName:this.args.imageUploadControlName:this.args.fileUploadControlName
this.tracking.fireInteractionEvent(t)}resendMessage(e,t){return this.msgDataManager.retrySaveMessage(e,t,this.args.isOverlay,this.messageComposeFlowTrackingId).then((e=>{if(!(0,T.isDestroying)(this)){this.sound.play(c.Sound.MessageSent)
return e}}))}sendQuickReply(e,t,i){return this.msgDataManager.sendMessage(i,{text:e,attributes:[]},{quickActionContextUrn:t},this.args.isOverlay,this.messageComposeFlowTrackingId).then((e=>{let{conversation:t}=e;(0,T.isDestroying)(this)||this.args.isNew&&t&&this._onMessageSendSuccess(t)})).catch((e=>{if((0,T.isDestroying)(this))throw e
this.jet.error(e,[`originalMessage: ${e}`],{shouldRethrow:!1})}))}sendGif(e){return this.msgDataManager.sendMessage(this.viewData.conversationUrn,{text:"",attributes:[]},{renderContent:[{externalMedia:e}]},this.args.isOverlay,this.messageComposeFlowTrackingId).then((e=>{let{conversation:t}=e
if(!this.isDestroying){this.toggleExpandComposeField(!1)
this.args.isNew&&t&&this._onMessageSendSuccess(t)}}))}sendPremiumInMail(e){var t
this._focusMessageInput()
this.messageComposeFailed=!1
this.composeIsSending=!0
this.tracking.fireInteractionEvent(this.args.sendMessageControlName)
return(null!==(t=this.args.messageActions)&&void 0!==t&&t.willSendAsync?this.args.messageActions.willSendAsync(e):_.default.Promise.resolve()).then((()=>{if((0,T.isDestroying)(this))return
const t={hostMessageCreateContent:{"com.linkedin.voyager.dash.messaging.MessageCreateContent":{messageCreateContentUnion:{premiumInMail:{}}}},hostRecipientUrns:this.viewData.recipientIDs,renderContent:[]}
e.attachments&&(t.renderContent=[...e.attachments])
e.update&&t.renderContent.push({hostUrnData:{hostUrn:this.args.update.dashEntityUrn||this.args.update.entityUrn,type:"FEED_UPDATE"}})
if(this.args.forwardedEvent){t.forwardedMessageUrn=this.args.forwardedEvent.entityUrn
t.renderContent=[{forwardedMessageContent:(0,d.mungeMessageStateIntoForwardedMessageContent)(this.args.forwardedEvent,this.msgDataManager.mailboxParticipants,this.i18n,this.formatter)}]}e.subject&&(t.messageSubject=e.subject)
return this.msgDataManager.sendMessage(this.args.conversation.clientId,e.attributedBody,t,this.args.isOverlay,this.messageComposeFlowTrackingId,e.isSystemClipboardUsed,e.aiMessageType)})).then((e=>{let{conversation:t}=e
if((0,T.isDestroying)(this))return
const{entityUrn:i}=t
return this.msgDataManager.fetchMailboxConversation(i)})).then((e=>{if(!(0,T.isDestroying)(this))return e?this._onMessageSendSuccess(e):e})).catch((e=>{if(!this.isDestroying){this.messageComposeFailed=!0
this._onMessageSendFail(e)}})).finally((()=>{(0,T.isDestroying)(this)||(this.composeIsSending=!1)}))}submitMessage(e){var t,i=this
const n=this.messageComposeFailed&&this.args.isNew
this.args.isNew&&(this.messageComposeFailed=!1)
this.composeIsSending=!0
this._focusMessageInput()
this.tracking.fireInteractionEvent(this.args.sendMessageControlName)
this.hasSocialNudgeFooter&&this._handleSocialNudgeDismiss()
let s
return(null!==(t=this.args.messageActions)&&void 0!==t&&t.willSendAsync?this.args.messageActions.willSendAsync(e):_.default.Promise.resolve()).then((()=>{var t,a,r,o,l,c,u,m,p,g,h,f,b,v,y,w,M,k,S,D,I,C,x,E,P
if(this.isDestroying)return(0,_.reject)()
const A={renderContent:[]}
this.args.conversationName&&(A.conversationTitle=this.args.conversationName)
e.attachments&&A.renderContent.push(...e.attachments)
e.update&&A.renderContent.push({hostUrnData:{hostUrn:this.args.update.dashEntityUrn||this.args.update.entityUrn,type:"FEED_UPDATE"}})
if(null!==(t=this.args.msgAdapterOptions)&&void 0!==t&&t.marketplaceProjectProposalUrn){const{marketplaceProjectProposalUrn:t}=this.args.msgAdapterOptions,i=(0,d.getMarketplaceProjectUrn)(t)
A.hostMessageCreateContent={"com.linkedin.voyager.dash.messaging.MessageCreateContent":{messageCreateContentUnion:{marketplacePlatform:{marketplaceProjectProposalUrn:t,marketplaceProjectUrn:i}}}}
if(e.smpContent){const t=e.smpContent.entityUrn
A.renderContent.push({hostUrnData:{hostUrn:t,type:"SMP_MESSAGE_CARD"}})}}else if(this.viewData.isRecruiterInmailReply){A.hostMessageCreateContent={"com.linkedin.voyager.dash.messaging.MessageCreateContent":{messageCreateContentUnion:{recruiterInMailCandidateReply:{}}}}
if("ACCEPT"===e.inMailResponseAction){s="INMAIL_ACCEPT"
A.conversationState="ACCEPTED"}else if("DECLINE"===e.inMailResponseAction){s="INMAIL_DECLINE"
A.conversationState="DECLINED"}}else if(null!==(a=e.adapterOptions)&&void 0!==a&&a.jobApplication||null!==(r=this.args.messageContext)&&void 0!==r&&null!==(o=(l=r.contextEntityUrn).includes)&&void 0!==o&&o.call(l,"applicant")){const{jobApplication:t,careersValidationToken:i}=e.adapterOptions
A.hostMessageCreateContent={"com.linkedin.voyager.dash.messaging.MessageCreateContent":{messageCreateContentUnion:{freeJobPosterToApplicant:{jobApplicationUrn:t.replace("fs_","fsd_"),validationToken:i}}}}}else if(null!==(c=e.adapterOptions)&&void 0!==c&&c.prop||null!==(u=this.args.messageContext)&&void 0!==u&&null!==(m=(p=u.contextEntityUrn).includes)&&void 0!==m&&m.call(p,"prop")||null!==(g=this.args.messageContext)&&void 0!==g&&null!==(h=(f=g.contextEntityUrn).includes)&&void 0!==h&&h.call(f,"activity")){var O,R
A.hostMessageCreateContent={"com.linkedin.voyager.dash.messaging.MessageCreateContent":{messageCreateContentUnion:{propMessage:(null===(O=e.adapterOptions)||void 0===O?void 0:O.prop)??(null===(R=this.args.messageContext)||void 0===R?void 0:R.contextEntityUrn)}}}}else null!==(b=this.args.contextByRecipients)&&void 0!==b&&b.length?A.messageRequestContextByRecipient=this.args.contextByRecipients.map((e=>({hostRecipientUrn:`urn:li:fsd_profile:${e.recipient}`,contextEntityUrn:e.contextEntityUrn}))):!this.args.messageContext||"REPLY"===(null===(v=this.args.messageContext)||void 0===v?void 0:v.composeOptionType)||this.args.invitationUrn||null!==(y=this.args.msgAdapterOptions)&&void 0!==y&&y.marketplaceProjectProposalUrn||null!==(w=this.args.msgAdapterOptions)&&void 0!==w&&w.jobApplication||null!==(M=this.args.messageContext.contextEntityUrn)&&void 0!==M&&null!==(k=M.includes)&&void 0!==k&&k.call(M,"applicant")||null!==(S=this.args.msgAdapterOptions)&&void 0!==S&&S.prop||null!==(D=this.args.messageContext.contextEntityUrn)&&void 0!==D&&null!==(I=D.includes)&&void 0!==I&&I.call(D,"prop")||null!==(C=this.args.messageContext.contextEntityUrn)&&void 0!==C&&null!==(x=C.includes)&&void 0!==x&&x.call(C,"activity")||null!==(E=this.args.messageContext.contextEntityUrn)&&void 0!==E&&null!==(P=E.includes)&&void 0!==P&&P.call(E,"endorsement")||(A.messageRequestContextByRecipient=[{contextEntityUrn:this.args.messageContext.contextEntityUrn.replace("fs_","fsd_"),hostRecipientUrn:this.viewData.recipientIDs[0]}])
if(this.args.forwardedEvent){A.forwardedMessageUrn=this.args.forwardedEvent.entityUrn
A.renderContent=[{forwardedMessageContent:(0,d.mungeMessageStateIntoForwardedMessageContent)(this.args.forwardedEvent,this.msgDataManager.mailboxParticipants,this.i18n,this.formatter)}]}if(this.messageToReplyTo){const e=this.msgDataManager.mailboxParticipants[this.messageToReplyTo.senderUrn].entityUrn
A.renderContent.push({repliedMessageContent:{originalSenderUrn:e,originalSendAt:this.messageToReplyTo.deliveredAt.valueOf(),originalMessageUrn:this.messageToReplyTo.entityUrn,messageBody:this.messageToReplyTo.content}})}this.args.invitationUrn&&(A.invitationUrn=this.args.invitationUrn.replace("urn:li:fs_relInvitation","urn:li:invitation"))
const U=this.args.conversation.entityUrn??this.args.conversation.clientId
if(this.viewData.isRecruiterInmailReply&&this.inMailRequestContactInfo){this.inMailContactInfoRequestCallback=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
i.inMailContactInfoRequestCallback=null
A.hostMessageCreateContent["com.linkedin.voyager.dash.messaging.MessageCreateContent"].messageCreateContentUnion.recruiterInMailCandidateReply=t
return i._sendMessageAndHandleResponse(U,e.attributedBody,A,n)}
return this._fetchContactInfo().catch((e=>{if((0,T.isDestroying)(this))throw e
this.inMailContactInfoRequestCallback()
throw e}))}return this._sendMessageAndHandleResponse(U,e.attributedBody,A,n,e.isSystemClipboardUsed,e.aiMessageType,s)}))}_sendMessageAndHandleResponse(e,t,i,n){let s,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0
if(n){var l,d,c
const t=null===(l=this.msgDataManager.getMailboxByConversationUrn(e).state.draftConversations.get(e))||void 0===l||null===(d=l.messages)||void 0===d||null===(c=d.first())||void 0===c?void 0:c.clientId
s=this.resendMessage(e,t)}else s=this.msgDataManager.sendMessage(e,t,i,this.args.isOverlay,this.messageComposeFlowTrackingId,a,r,o)
return s.then((e=>{let{conversation:t}=e
if((0,T.isDestroying)(this))return
const{entityUrn:i}=t
return this.msgDataManager.fetchMailboxConversation(i)})).then((e=>{if(!(0,T.isDestroying)(this))return e?this._onMessageSendSuccess(e):e})).catch((t=>{var n
if((0,T.isDestroying)(this))throw t
this.args.isNew&&(this.messageComposeFailed=!0)
const s=this.msgDataManager.getMailboxByConversationUrn(e)
this.jet.error(new Error("Failed to send message through SDK"),[`is from compose UI: ${!!this.args.isNew}`,`is new conversation: ${!e.startsWith("urn:li:msg_conversation")}`,`is message request: ${!(null===(n=i.messageRequestContextByRecipient)||void 0===n||!n.length)}`,`conversation exists locally: ${!!this.msgDataManager.getTrackedConversation(e)}`,`conversation identifier: ${e}`,`draft conversations in mailbox: ${Array.from(s.state.draftConversations.keys()).join(" ")}`,`persisted conversations in mailbox: ${s.state.conversations._conversations.map((e=>`${e.entityUrn} & ${e.clientId}`)).join(" ")}`],{shouldRethrow:!1})
this.isDestroying||this._onMessageSendFail(t)})).finally((()=>{(0,T.isDestroying)(this)||(this.composeIsSending=!1)}))}toggleExpandComposeField(e){const t="boolean"==typeof e?e:!this.composeIsFullyExpanded
this._composeIsFullyExpanded=t}showMessageEditForm(e,t){this.messageToEdit=e
this.messageEventToEdit=t
this.shouldShowMessageEditForm=!0}validateForm(e){if(this.args.isNew){var t
let i=!1
if(this.args.isInMailCompose){const t=this.inMailTooLong
i=e.length>pt
if(i){t||this.a11yNotify("i18n_inmail_too_long")
this.longMessageLength=e.length}else t&&this.a11yNotify("i18n_inmail_not_too_long_any_more")
this.inMailTooLong=i}return(null===(t=this.args.messageRecipients)||void 0===t?void 0:t.length)&&(!this.args.isInMailCompose||(0,b.isPresent)(e)&&!i)}return!0}onSendCustomInmailReply(e,t){var i=this
const n=e?mt.DECLINE:mt.ACCEPT
if(!e&&this.inMailRequestContactInfo){this.inMailContactInfoRequestCallback=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
i.inMailContactInfoRequestCallback=null
return i._sendCustomInMailReplyMessage(t,n,e)}
return this._fetchContactInfo().catch((e=>{if((0,T.isDestroying)(this))throw e
this.inMailContactInfoRequestCallback()
throw e}))}return e&&!t?this._clickReplyToRecruiterInMail(!1).then((()=>{this.isDestroying||(this.selectedInMailReplySmartAction=void 0)})):this._sendCustomInMailReplyMessage(t,n).catch((e=>{if((0,T.isDestroying)(this))throw e
this.jet.error(e,[`originalMessage: ${e}`],{shouldRethrow:!1})}))}onShareContactInfoAccept(e,t){var i
return null===(i=this.inMailContactInfoRequestCallback)||void 0===i?void 0:i.call(this,{emailAddressString:e,phoneNumber:{number:t}})}onShareContactInfoDecline(){var e
null===(e=this.inMailContactInfoRequestCallback)||void 0===e||e.call(this)}markConversationAsRead(e){(0,g.runTask)(this,(()=>{if(!this.isDestroying&&e&&!e.isDraft&&!e.read){this.msgDataManager.markConversationAsRead(e.entityUrn)
this.msgDataManager.clearUnseenBadge()}}))}get viewData(){const{conversation:e,messageRecipients:t,composeViewContext:i}=this.args
return new u.default({conversation:e,composeViewContext:i,authenticatedUser:this.authenticatedUser,messageRecipients:t,msgDataManager:this.msgDataManager,presenceAPI:this.presenceAPI})}get isSendErrorUxInprovementEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-send-error-ux-improvement")}get hasSocialNudgeFooter(){var e,t,i
return"PROFILE_SOCIAL_NUDGE_VERIFICATION_FOOTER"===(null===(e=this.args.composeViewContext)||void 0===e||null===(t=e.value)||void 0===t||null===(i=t.footer)||void 0===i?void 0:i.type)}get isRefinementFreeformEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.premium-magic-wand-refinement-freeform")}get isGaiStreamingLixEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.premium-messaging-magic-wand-streaming")}get isGaiStreamingEnabled(){return this.canUseGaiStreaming&&this.lix.getTreatmentIsEnabled("voyager.web.premium-messaging-magic-wand-streaming")}get nonSelfParticipants(){const{conversation:e}=this.args,t=this.msgDataManager.getTrackedConversation(null==e?void 0:e.entityUrn)
return t?this.msgDataManager.getNonSelfParticipantsFromConversationRecord(t):[]}get gaiRecipientProfileUrn(){var e,t,i
return(null===(e=this.args.messageRecipients)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.entityUrn)??(null===(i=this.nonSelfParticipants[0])||void 0===i?void 0:i.hostIdentityUrn)}get gaiRecipientName(){var e
const t=null===(e=this.args.messageRecipients)||void 0===e?void 0:e[0]
return t?this.formatter.formatName((0,z.getName)(t),"full"):this.nonSelfParticipants[0]?(0,d.getParticipantNameByKind)(this.nonSelfParticipants[0],this.formatter,"full"):void 0}get isConversationEligibleForGai(){var e,t,i
const n=1===(null===(e=this.args.messageRecipients)||void 0===e?void 0:e.length)||1===(null===(t=this.nonSelfParticipants)||void 0===t?void 0:t.length)
return"en_US"===this.locale.interfaceLocale&&n&&!this.args.forwardedEvent&&((null===(i=this.args.conversation)||void 0===i?void 0:i.isDraft)||this.args.isInMailCompose)}get shouldRenderThreadBottomCard(){return!this.bottomCardDismissed}get canUndoGaiMessage(){return this.isGaiStreamingEnabled?this.gaiStreamingFinalMessageStack.length>1:this.gaiMessageResponseStack.length>1}maybeFetchGaiEntryPointData(){this.gaiIntentsAsyncData=void 0
this.gaiRefinementOptionsAsyncData=void 0
this.refreshGaiMessage=void 0
this.gaiUpsellAsyncData=void 0
this.isConversationEligibleForGai&&this.gaiDataManager.fetchFeatureAccess("CAN_ACCESS_GENERATED_MESSAGES",{targetViewNames:[H.PREMIUM_GAI_TRACKING_VIEW_NAMES.ENTRY_POINT_BUTTON]}).then((e=>{if(!(0,T.isDestroying)(this))if(e){var t
if(null!==(t=this.args.conversation)&&void 0!==t&&t.isDraft){const{jobPostingUrn:e}=this.args,t=e??(this.args.isInMailCompose?void 0:this.gaiRecipientProfileUrn),i=this.gaiDataManager.fetchIntents(t,this.gaiRecipientProfileUrn,{targetViewNames:[H.PREMIUM_GAI_TRACKING_VIEW_NAMES.ENTRY_POINT_BUTTON]})
this.gaiIntentsAsyncData=new F.default(i)}if(this.args.isInMailCompose){const e=this.isRefinementFreeformEnabled?[H.PREMIUM_GAI_TRACKING_VIEW_NAMES.REFINEMENT_BUTTON,H.PREMIUM_GAI_TRACKING_VIEW_NAMES.REFINEMENT_INPUT]:[H.PREMIUM_GAI_TRACKING_VIEW_NAMES.REFINEMENT_BUTTON],t=this.gaiDataManager.fetchRefinementOptions(this.gaiRecipientProfileUrn,"MESSAGE",{targetViewNames:e})
this.gaiRefinementOptionsAsyncData=new F.default(t)}}else{if(!this.args.isInMailCompose)return
const e=(0,L.queryUpsellCardDataV2)({graphql:this.graphql},{upsellSlot:w.default.UPSELL_SLOT.GAI_COMPOSE_INMAIL}).then((e=>{var t
if(!(0,T.isDestroying)(this))return null===(t=e.data.premiumDashUpsellSlotContentBySlotType.elements[0])||void 0===t?void 0:t.upsellCard}))
this.gaiUpsellAsyncData=new F.default(e)}})).catch((e=>{if(!(0,T.isDestroying)(this)){if(!(e instanceof G.GraphQLQueryError))throw e
this.jet.error(e,[w.default.JET_TAG.MW_MESSAGING],{shouldRethrow:!1})}}))}handleGaiStreamingMessage(e){var t,i,n,s,a,r,o,l,d,c,u,m,p,g,h
const f=null==e?void 0:e.entity
if(this.gaiStreamingStatus!==H.PREMIUM_GAI_STREAMING_STATUS.STREAMING||!f||f.isCancelled)return
if((null===(t=f.content)||void 0===t||null===(i=t.aiResponse)||void 0===i?void 0:i.id)!==this.gaiGuideInteractionId)return
if(null!==(n=f.content)&&void 0!==n&&null!==(s=n.aiResponse)&&void 0!==s&&null!==(a=s.responseV2)&&void 0!==a&&a.errorResponse){var b,v,y,_,w
this.gaiStreamingStatus=H.PREMIUM_GAI_STREAMING_STATUS.ERRORED
const e=null===(b=f.content)||void 0===b||null===(v=b.aiResponse)||void 0===v||null===(y=v.responseV2)||void 0===y||null===(_=y.errorResponse)||void 0===_||null===(w=_.errorText)||void 0===w?void 0:w.text
this.showGaiErrorToast(e)
return}this.gaiStreamingMessage=f
if(null===(r=f.content)||void 0===r||null===(o=r.aiResponse)||void 0===o||null===(l=o.responseV2)||void 0===l||null===(d=l.streamingResponse)||void 0===d||null===(c=d.responseComponent)||void 0===c||null===(u=c[0])||void 0===u||null===(m=u.component)||void 0===m||null===(p=m.attachment)||void 0===p||null===(g=p.attachment)||void 0===g||null===(h=g.premiumMagicWandGeneratedMessage)||void 0===h?void 0:h.isFinal){this.gaiStreamingFinalMessageStack.push(f)
this.gaiStreamingStatus=H.PREMIUM_GAI_STREAMING_STATUS.COMPLETED}}generateGaiMessage(e,t){this.canUseGaiStreaming=e.premiumGAIMessageIntentType!==H.PREMIUM_GAI_MESSAGE_INTENT_TYPE.SALES_OUTREACH
const i={recipientProfileUrn:this.gaiRecipientProfileUrn,...e}
i.premiumGAIMessageIntentType===H.PREMIUM_GAI_MESSAGE_INTENT_TYPE.SEEK_WORK&&(i.contextUrn=this.args.jobPostingUrn)
this.isGaiStreamingEnabled?this.generateGaiMessageWithStreaming(i,t):this.generateGaiMessageSync(i,t)}async generateGaiMessageWithStreaming(e,t){if(this.gaiStreamingStatus!==H.PREMIUM_GAI_STREAMING_STATUS.STREAMING){this.gaiLoaderPromptText=t
this.gaiLoaderRecipientName=this.gaiRecipientName
this.gaiStreamingMessage=void 0
this.gaiStreamingStatus=H.PREMIUM_GAI_STREAMING_STATUS.STREAMING
this.gaiCancelStreamingQueryVariables=void 0
try{var i
await this.guideNonConversationalManager.subscribe(H.PREMIUM_GAI_GUIDE_INTENT.PREMIUM_MAGIC_WAND_MESSAGING_AGENT)
if((0,T.isDestroying)(this)||this.gaiStreamingStatus!==H.PREMIUM_GAI_STREAMING_STATUS.STREAMING)return
this.gaiGuideSessionId=(0,K.generateUUID)()
const n=`urn:li:guide:${(0,V.getByteStringAsBase64)(this.gaiGuideSessionId)}`
this.gaiGuideInteractionId=(0,K.generateUUID)()
const s=(0,q.buildGuideQueryContext)(e,n),a=await this.graphql.executeMutation(W.default,{guideInteractionId:this.gaiGuideInteractionId,guideSessionId:this.gaiGuideSessionId,query:e.queryText??e.premiumGAIMessageIntentType,guideQueryContext:s})
if((0,T.isDestroying)(this)||this.gaiStreamingStatus!==H.PREMIUM_GAI_STREAMING_STATUS.STREAMING)return
this.refreshGaiMessage=()=>this.generateGaiMessageWithStreaming(e,t)
const r=(null===(i=a.data.doMessageV2GuideDashMessage)||void 0===i?void 0:i.result)??{},{conversationMetadata:o,conversationV2Urn:l}=r
if(!l)throw new Error("conversationV2Urn does not exist")
this.gaiCancelStreamingQueryVariables={guideConversationMetadata:null==o?void 0:o.serialize(),guideSessionId:this.gaiGuideSessionId,guideInteractionId:this.gaiGuideInteractionId,guideQueryContext:s}
this.handleGaiStreamingMessage({entity:r})
await this.guideNonConversationalManager.subscribeToConversationWithCustomHandler({conversationUrn:r.conversationV2Urn,handler:this.handleGaiStreamingMessage.bind(this),originalIntent:H.PREMIUM_GAI_GUIDE_INTENT.PREMIUM_MAGIC_WAND_MESSAGING_AGENT})}catch(e){if((0,T.isDestroying)(this))throw e
this.gaiStreamingStatus=H.PREMIUM_GAI_STREAMING_STATUS.ERRORED
this.showGaiErrorToast()
this.jet.error(e,[w.default.JET_TAG.MW_MESSAGING],{shouldRethrow:!0})}}}generateGaiMessageSync(e,t){this.gaiLoaderPromptText=t
this.gaiLoaderRecipientName=this.gaiRecipientName
const i=this.isRefinementFreeformEnabled?[H.PREMIUM_GAI_TRACKING_VIEW_NAMES.REFINEMENT_BUTTON,H.PREMIUM_GAI_TRACKING_VIEW_NAMES.REFINEMENT_INPUT]:[H.PREMIUM_GAI_TRACKING_VIEW_NAMES.REFINEMENT_BUTTON],n=this.gaiDataManager.fetchFeatureAccess("CAN_ACCESS_GENERATED_MESSAGES",{targetViewNames:i}).then((n=>{if(!(0,T.isDestroying)(this)&&n){this.refreshGaiMessage=()=>this.generateGaiMessageSync(e,t)
return this.gaiDataManager.generateMessage(e,{targetViewNames:i})}}))
this.handleGaiMessagePromise(n)}refineGaiMessage(e,t,i,n){this.isGaiStreamingEnabled?this.refineGaiMessageWithStreaming(e,t,i,n):this.refineGaiMessageSync(e,t,i,n)}async refineGaiMessageWithStreaming(e,t,i,n){this.gaiStreamingMessage=void 0
this.gaiStreamingStatus=H.PREMIUM_GAI_STREAMING_STATUS.STREAMING
this.gaiCancelStreamingQueryVariables=void 0
this.gaiLoaderPromptText=i
const s=!this.gaiGuideSessionId
try{var a
if(s){await this.guideNonConversationalManager.subscribe(H.PREMIUM_GAI_GUIDE_INTENT.PREMIUM_MAGIC_WAND_MESSAGING_AGENT)
if((0,T.isDestroying)(this)||this.gaiStreamingStatus!==H.PREMIUM_GAI_STREAMING_STATUS.STREAMING)return
this.gaiGuideSessionId=(0,K.generateUUID)()}this.gaiStreamingFinalMessageStack.length?(0,q.overwriteGuideMessage)(this.gaiStreamingFinalMessageStack[this.gaiStreamingFinalMessageStack.length-1],{body:e}):this.gaiStreamingFinalMessageStack.push((0,q.buildGuideMessage)({body:e,isFinal:!0}))
const i=`urn:li:guide:${(0,V.getByteStringAsBase64)(this.gaiGuideSessionId)}`,r=(0,q.buildGuideQueryContextForRefinement)(t,n,this.gaiRecipientProfileUrn,i)
this.gaiGuideInteractionId=(0,K.generateUUID)()
const o=await this.graphql.executeMutation(W.default,{query:e,guideSessionId:this.gaiGuideSessionId,guideInteractionId:this.gaiGuideInteractionId,guideQueryContext:r})
if((0,T.isDestroying)(this)||this.gaiStreamingStatus!==H.PREMIUM_GAI_STREAMING_STATUS.STREAMING)return
const l=(null===(a=o.data.doMessageV2GuideDashMessage)||void 0===a?void 0:a.result)??{},{conversationMetadata:d,conversationV2Urn:c}=l
if(!c)throw new Error("conversationV2Urn does not exist")
this.gaiCancelStreamingQueryVariables={guideConversationMetadata:null==d?void 0:d.serialize(),guideSessionId:this.gaiGuideSessionId,guideInteractionId:this.gaiGuideInteractionId,guideQueryContext:r}
this.handleGaiStreamingMessage({entity:l})
if(s){await this.guideNonConversationalManager.subscribeToConversationWithCustomHandler({conversationUrn:l.conversationV2Urn,handler:this.handleGaiStreamingMessage.bind(this),originalIntent:H.PREMIUM_GAI_GUIDE_INTENT.PREMIUM_MAGIC_WAND_MESSAGING_AGENT})
if((0,T.isDestroying)(this)||this.gaiStreamingStatus!==H.PREMIUM_GAI_STREAMING_STATUS.STREAMING)return}}catch(e){if((0,T.isDestroying)(this))throw e
this.gaiStreamingStatus=H.PREMIUM_GAI_STREAMING_STATUS.ERRORED
this.showGaiErrorToast(e)
this.jet.error(e,[w.default.JET_TAG.MW_MESSAGING],{shouldRethrow:!0})}}refineGaiMessageSync(e,t,i,n){if(this.gaiMessageResponseStack.length){var s,a
const t=this.gaiMessageResponseStack[this.gaiMessageResponseStack.length-1]
null!==(s=t.message)&&void 0!==s&&null!==(a=s.messageData)&&void 0!==a&&a.body&&(t.message.messageData.body=e)}else this.args.isInMailCompose&&this.gaiMessageResponseStack.push({message:{messageData:{body:e}}})
const r=this.isRefinementFreeformEnabled?[H.PREMIUM_GAI_TRACKING_VIEW_NAMES.REFINEMENT_BUTTON,H.PREMIUM_GAI_TRACKING_VIEW_NAMES.REFINEMENT_INPUT]:[H.PREMIUM_GAI_TRACKING_VIEW_NAMES.REFINEMENT_BUTTON],o=this.gaiDataManager.refineMessage(e,this.gaiRecipientProfileUrn,t,n,{targetViewNames:r})
this.handleGaiMessagePromise(o)
this.gaiLoaderPromptText=i}undoGaiMessage(){if(this.isGaiStreamingEnabled){this.gaiStreamingFinalMessageStack.pop()
this.revertToLastStreamedMessage()}else{this.gaiMessageResponseStack.pop()
this.revertToLastGaiMessage()}}showGaiErrorToast(e){this.persistentToastManager.error({message:e??this.i18n.lookupTranslation("components/msg-ui@thread-feature","i18n_gai_text_failure")()})}revertToLastGaiMessage(){this.gaiMessageAsyncData=this.gaiMessageResponseStack.length?new F.default(this.gaiMessageResponseStack[this.gaiMessageResponseStack.length-1]):void 0}revertToLastStreamedMessage(){this.isGaiStreamingEnabled&&(this.gaiStreamingMessage=this.gaiStreamingFinalMessageStack.length?this.gaiStreamingFinalMessageStack[this.gaiStreamingFinalMessageStack.length-1]:void 0)}handleGaiMessagePromise(e){this.gaiMessageAsyncData=new F.default(e)
const t=this.gaiMessageAsyncData
e.then((e=>{if((0,T.isDestroying)(this))return
if(this.cancelledGaiAsyncData.has(t)){this.cancelledGaiAsyncData.delete(t)
return}const{messageData:i,messageError:n}=(null==e?void 0:e.message)??{}
if(i)this.gaiMessageResponseStack.push(e)
else{this.revertToLastGaiMessage()
this.showGaiErrorToast(null==n?void 0:n.header.text)}return e})).catch((e=>{if(!(0,T.isDestroying)(this)){if(!this.cancelledGaiAsyncData.has(t)){this.revertToLastGaiMessage()
this.showGaiErrorToast()
this.jet.error(e,[w.default.JET_TAG.MW_MESSAGING],{shouldRethrow:!1})
throw e}this.cancelledGaiAsyncData.delete(t)}}))}async cancelGaiMessageGeneration(){if(this.isGaiStreamingEnabled)await this.cancelGaiStreaming()
else if(this.gaiMessageAsyncData){this.cancelledGaiAsyncData.add(this.gaiMessageAsyncData)
this.revertToLastGaiMessage()}}async cancelGaiStreaming(){this.gaiStreamingStatus=H.PREMIUM_GAI_STREAMING_STATUS.CANCELLED
this.gaiStreamingMessage=void 0
this.revertToLastStreamedMessage()
if(this.gaiCancelStreamingQueryVariables)try{await this.gaiDataManager.cancelGuideMessageFetching(this.gaiCancelStreamingQueryVariables)
if((0,T.isDestroying)(this))return
this.gaiCancelStreamingQueryVariables=void 0}catch(e){this.jet.error(e,[w.default.JET_TAG.MW_MESSAGING],{shouldRethrow:!1})
throw e}}onEnterGaiFlow(){var e,t
this.toggleExpandComposeField(!0)
null===(e=(t=this.args).onEnterGaiFlow)||void 0===e||e.call(t)}resetGaiFlow(){this.gaiMessageAsyncData=void 0
this.refreshGaiMessage=void 0
this.gaiMessageResponseStack=new B.TrackedArray
this.gaiStreamingFinalMessageStack=new B.TrackedArray
this.gaiStreamingStatus=void 0
this.gaiStreamingMessage=void 0
this.gaiGuideSessionId=void 0
this.gaiCancelStreamingQueryVariables=void 0}},pe=(0,n.default)(me.prototype,"msgDataManager",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=(0,n.default)(me.prototype,"gaiDataManager",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=(0,n.default)(me.prototype,"guideNonConversationalManager",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=(0,n.default)(me.prototype,"graphql",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=(0,n.default)(me.prototype,"tracking",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=(0,n.default)(me.prototype,"authenticatedUser",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=(0,n.default)(me.prototype,"jet",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=(0,n.default)(me.prototype,"a11yNotification",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=(0,n.default)(me.prototype,"i18n",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=(0,n.default)(me.prototype,"formatter",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=(0,n.default)(me.prototype,"persistentToastManager",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=(0,n.default)(me.prototype,"sound",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=(0,n.default)(me.prototype,"presenceAPI",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=(0,n.default)(me.prototype,"updateMessageComposeService",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=(0,n.default)(me.prototype,"lix",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=(0,n.default)(me.prototype,"locale",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=(0,n.default)(me.prototype,"legoTracking",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=(0,n.default)(me.prototype,"interop",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=(0,n.default)(me.prototype,"profileContactInfo",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=(0,n.default)(me.prototype,"shareInfoModalIsOpen",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=(0,n.default)(me.prototype,"selectedInMailReplySmartAction",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=(0,n.default)(me.prototype,"declineInmailReasonModalIsOpen",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=(0,n.default)(me.prototype,"isGifSearchPopoverOpen",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=(0,n.default)(me.prototype,"isVirtualMeetingModalOpen",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=(0,n.default)(me.prototype,"prefilledGIFSearchTerm",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=(0,n.default)(me.prototype,"messageToEdit",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=(0,n.default)(me.prototype,"messageEventToEdit",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=(0,n.default)(me.prototype,"shouldShowMessageEditForm",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=(0,n.default)(me.prototype,"messageToReplyTo",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=(0,n.default)(me.prototype,"inMailTooLong",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=(0,n.default)(me.prototype,"longMessageLength",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=(0,n.default)(me.prototype,"isMessageRequestClickReplyPending",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=(0,n.default)(me.prototype,"blockDialogOpen",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=(0,n.default)(me.prototype,"_composeIsFullyExpanded",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=(0,n.default)(me.prototype,"composeIsSending",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=(0,n.default)(me.prototype,"messageComposeFailed",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=(0,n.default)(me.prototype,"bottomCardDismissed",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=(0,n.default)(me.prototype,"messageSendFailedApiErrorMessage",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(me.prototype,"didUpdateArgs",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"didUpdateArgs"),me.prototype),(0,n.default)(me.prototype,"openInMailReplyPanel",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"openInMailReplyPanel"),me.prototype),(0,n.default)(me.prototype,"showInmailDeclineReasonModal",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"showInmailDeclineReasonModal"),me.prototype),(0,n.default)(me.prototype,"replyToMessage",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"replyToMessage"),me.prototype),(0,n.default)(me.prototype,"openGIFPopover",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"openGIFPopover"),me.prototype),(0,n.default)(me.prototype,"closeGIFPopover",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"closeGIFPopover"),me.prototype),(0,n.default)(me.prototype,"openVirtualMeetingModal",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"openVirtualMeetingModal"),me.prototype),(0,n.default)(me.prototype,"beforeUpload",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"beforeUpload"),me.prototype),(0,n.default)(me.prototype,"resendMessage",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"resendMessage"),me.prototype),(0,n.default)(me.prototype,"sendQuickReply",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"sendQuickReply"),me.prototype),(0,n.default)(me.prototype,"sendGif",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"sendGif"),me.prototype),(0,n.default)(me.prototype,"sendPremiumInMail",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"sendPremiumInMail"),me.prototype),(0,n.default)(me.prototype,"submitMessage",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"submitMessage"),me.prototype),(0,n.default)(me.prototype,"toggleExpandComposeField",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"toggleExpandComposeField"),me.prototype),(0,n.default)(me.prototype,"showMessageEditForm",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"showMessageEditForm"),me.prototype),(0,n.default)(me.prototype,"validateForm",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"validateForm"),me.prototype),(0,n.default)(me.prototype,"onSendCustomInmailReply",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"onSendCustomInmailReply"),me.prototype),(0,n.default)(me.prototype,"onShareContactInfoAccept",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"onShareContactInfoAccept"),me.prototype),(0,n.default)(me.prototype,"onShareContactInfoDecline",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"onShareContactInfoDecline"),me.prototype),(0,n.default)(me.prototype,"markConversationAsRead",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"markConversationAsRead"),me.prototype),(0,n.default)(me.prototype,"viewData",[m.cached],Object.getOwnPropertyDescriptor(me.prototype,"viewData"),me.prototype),Je=(0,n.default)(me.prototype,"gaiIntentsAsyncData",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Ze=(0,n.default)(me.prototype,"gaiRefinementOptionsAsyncData",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Xe=(0,n.default)(me.prototype,"gaiUpsellAsyncData",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),et=(0,n.default)(me.prototype,"gaiMessageAsyncData",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),tt=(0,n.default)(me.prototype,"refreshGaiMessage",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),it=(0,n.default)(me.prototype,"gaiLoaderPromptText",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),nt=(0,n.default)(me.prototype,"gaiLoaderRecipientName",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),st=(0,n.default)(me.prototype,"canUseGaiStreaming",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),at=(0,n.default)(me.prototype,"gaiStreamingMessage",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),rt=(0,n.default)(me.prototype,"gaiStreamingStatus",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),ot=(0,n.default)(me.prototype,"gaiGuideSessionId",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),lt=(0,n.default)(me.prototype,"gaiGuideInteractionId",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),dt=(0,n.default)(me.prototype,"gaiStreamingFinalMessageStack",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new B.TrackedArray}}),ct=(0,n.default)(me.prototype,"gaiCancelStreamingQueryVariables",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),(0,n.default)(me.prototype,"maybeFetchGaiEntryPointData",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"maybeFetchGaiEntryPointData"),me.prototype),(0,n.default)(me.prototype,"handleGaiStreamingMessage",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"handleGaiStreamingMessage"),me.prototype),(0,n.default)(me.prototype,"generateGaiMessage",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"generateGaiMessage"),me.prototype),(0,n.default)(me.prototype,"generateGaiMessageWithStreaming",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"generateGaiMessageWithStreaming"),me.prototype),(0,n.default)(me.prototype,"generateGaiMessageSync",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"generateGaiMessageSync"),me.prototype),(0,n.default)(me.prototype,"refineGaiMessage",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"refineGaiMessage"),me.prototype),(0,n.default)(me.prototype,"refineGaiMessageWithStreaming",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"refineGaiMessageWithStreaming"),me.prototype),(0,n.default)(me.prototype,"refineGaiMessageSync",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"refineGaiMessageSync"),me.prototype),(0,n.default)(me.prototype,"undoGaiMessage",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"undoGaiMessage"),me.prototype),(0,n.default)(me.prototype,"showGaiErrorToast",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"showGaiErrorToast"),me.prototype),(0,n.default)(me.prototype,"revertToLastGaiMessage",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"revertToLastGaiMessage"),me.prototype),(0,n.default)(me.prototype,"revertToLastStreamedMessage",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"revertToLastStreamedMessage"),me.prototype),(0,n.default)(me.prototype,"handleGaiMessagePromise",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"handleGaiMessagePromise"),me.prototype),(0,n.default)(me.prototype,"cancelGaiMessageGeneration",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"cancelGaiMessageGeneration"),me.prototype),(0,n.default)(me.prototype,"cancelGaiStreaming",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"cancelGaiStreaming"),me.prototype),(0,n.default)(me.prototype,"onEnterGaiFlow",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"onEnterGaiFlow"),me.prototype),(0,n.default)(me.prototype,"resetGaiFlow",[k.action],Object.getOwnPropertyDescriptor(me.prototype,"resetGaiFlow"),me.prototype),me))}))
define("msg-ui/components/thread-footer-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@glimmer/tracking","msg-ui/viewdata/sdk-thread-footer-viewdata","@ember/service","@ember/object","@glimmer/component","@ember/destroyable","@ember/modifier","global-helpers/helpers/attributed-text-html","msg-shared-modals/components/block-lss-modal-presenter","ember-set-helper/helpers/set","artdeco-inline-feedback/components/artdeco-inline-feedback","msg-cross-pillar/components/unspam-footer-presenter","msg-ui/components/blocked-conversation-footer-presenter","msg-ui/components/inmail-quick-action-footer-presenter","msg-ui/components/msg-edit-form/edit-message-footer-presenter","ember-cli-pemberly-i18n/helpers/t","global-helpers/helpers/eq","global-helpers/helpers/or","global-helpers/helpers/and","msg-ui/components/pending-message-request-footer-presenter","@ember/helper","msg-ui/components/declined-message-request-footer-presenter","msg-ui/components/inmail-compose-form-presenter","msg-ui/components/msg-form/base-form-feature","msg-ui/components/msg-form/primitives/character-limit-banner","msg-ui/components/msg-form/primitives/send-failure-banner","msg-shared-modals/components/virtual-meeting-modal-presenter","tenor-gif/components/gif-button-presenter","tenor-gif/components/tenor-search-presenter","emoji-picker/components/emoji-hoverable","msg-shared-modals/components/inmail-feedback-modal-presenter","msg-shared-modals/components/share-profile-info-modal-presenter","msg-shared-modals/components/compose-retry-loader-presenter","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction","text-view-model/components/text-view-model-v2","premium-gai/utils/constants"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w,M,k,S,T,D,I,C,x,E,P,A,O,R,U,N,j,F,G,L,z,B,V){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var H,q,W,K,$,Y,Q,J,Z,X,ee,te,ie,ne,se,ae,re,oe,le,de,ce
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"jHBchof0",block:'[[[1,"\\n"],[41,[30,0,["viewData","customLssFooter"]],[[[1,"      "],[10,0],[14,0,"pt3 ph5 pb2"],[12],[1,"\\n        "],[10,2],[14,0,"t-12 t-black--light mb3"],[12],[1,"\\n"],[1,"          "],[11,0],[4,[32,0],["click",[30,0,["handleLssFooterClick"]]],null],[12],[1,[28,[32,1],[[30,0,["viewData","customLssFooter"]]],null]],[13],[1,"\\n"],[1,"        "],[13],[1,"\\n\\n"],[41,[30,0,["blockDialogOpen"]],[[[1,"          "],[8,[32,2],null,[["@modalIsOpen","@convoId","@participantNames","@closeModal"],[true,[30,0,["viewData","conversationId"]],[30,0,["viewData","participantNames"]],[28,[32,3],[[30,0],"blockDialogOpen",false],null]]],null],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["shouldShowBlockedFooter"]],[[[41,[30,1,["value","footerText"]],[[[1,"        "],[10,0],[14,0,"align-items-flex-end display-flex artdeco-divider"],[12],[1,"\\n          "],[10,0],[14,0,"msg-s-conversation-blocked-footer"],[12],[1,"\\n            "],[8,[32,4],null,[["@type"],["note"]],[["default"],[[[[1,"\\n"],[1,"              "],[8,[32,5],null,[["@tvm"],[[30,1,["value","footerText"]]]],null],[1,"\\n            "]],[]]]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null]],[]],[[[41,[30,0,["viewData","isBlocked"]],[[[1,"      "],[8,[32,6],null,[["@viewData"],[[30,0,["viewData","unspamFooterViewData"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["conversationWithBlockedMember"]],[[[1,"      "],[8,[32,7],null,null,null],[1,"\\n"]],[]],[[[41,[30,2],[[[1,"      "],[8,[32,8],null,[["@viewData","@quickReply","@cancel","@send","@trackingPrefix"],[[30,0,["viewData","inmailQuickActionFooterViewData"]],[30,2],[30,3],[30,4],[30,5]]],null],[1,"\\n"]],[]],[[[41,[30,6],[[[1,"        "],[8,[32,9],null,[["@trackingPrefix","@saveEditControlName","@viewData","@prefilledMessage","@onDismissEditForm","@conversation"],[[30,5],[28,[32,10],[[30,5],"save_edit"],null],[30,0,["viewData","editMessageFooterViewData"]],[30,7],[30,8],[30,9]]],null],[1,"\\n"]],[]],[[[41,[30,10],[[[1,"        "],[10,2],[14,0,"msg-thread__blocked-compose p4 t-12 t-black--light t-normal"],[12],[1,"\\n          "],[1,[28,[32,11],["i18n_no_response_yet","msg-ui/components/thread-footer-feature"],[["linkInfo"],[[28,[32,12],null,[["target","href","rel","class","aria-label","data-control-name","data-test-msg-ui-thread-footer-feature__awaiting-inmail-response-learn-more"],["_blank",[30,0,["blockedInmailReplyHelpCenterLink"]],"noopener noreferrer","link",[28,[32,11],["i18n_learn_more_a11y","msg-ui/components/thread-footer-feature"],null],"awaiting_inmail_response_learn_more","true"]]]]]]],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[41,[30,0,["blockedByDecline"]],[[[1,"        "],[10,2],[14,0,"msg-thread__blocked-compose p4 t-12 t-black--light t-normal"],[12],[1,"\\n          "],[1,[28,[32,11],["i18n_recipient_declined_inmail","msg-ui/components/thread-footer-feature"],[["linkInfo"],[[28,[32,12],null,[["target","href","rel","class","aria-label","data-control-name","data-test-msg-ui-thread-footer-feature__inmail-declined-learn-more"],["_blank",[30,0,["blockedInmailReplyHelpCenterLink"]],"noopener noreferrer","link",[28,[32,11],["i18n_learn_more_a11y","msg-ui/components/thread-footer-feature"],null],"inmail_declined_learn_more","true"]]]]]]],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[41,[28,[32,13],[[30,0,["viewData","messageRequestState"]],"PENDING"],null],[[[1,"        "],[8,[32,14],null,[["@isMessageRequestClickReplyPending","@isGroupMessageRequest","@senderName","@actionTrackingPrefix","@sendAcceptReply","@sendRejectReply"],[[30,0,["isMessageRequestClickReplyPending"]],[30,0,["isGroupMessageRequest"]],[30,0,["viewData","participantName"]],[30,5],[28,[32,15],[[30,0,["oneClickReplyToMessageRequest"]],true],null],[28,[32,15],[[30,0,["oneClickReplyToMessageRequest"]],false],null]]],null],[1,"\\n"]],[]],[[[41,[30,0,["showDeclinedMessageRequestAccept"]],[[[1,"        "],[8,[32,16],null,[["@senderName","@acceptMessageRequest"],[[30,0,["viewData","participantName"]],[28,[32,15],[[30,0,["oneClickReplyToMessageRequest"]],true],null]]],null],[1,"\\n"]],[]],[[[41,[30,11],[[[1,"        "],[8,[32,17],null,[["@beforeUpload","@bubbleId","@canUndoGaiMessage","@conversation","@conversationTrackedAsyncData","@dragAndDropTrackingKeys","@gaiIntentsAsyncData","@gaiLoaderPromptText","@gaiLoaderRecipientName","@gaiMessageAsyncData","@gaiStreamingStatus","@gaiStreamingMessage","@gaiRefinementOptionsAsyncData","@gaiUpsellAsyncData","@generateGaiMessage","@isOriginalSize","@isOverlay","@messageRecipients","@msgAdapterOptions","@onCancelGaiMessageGeneration","@onEnterGaiFlow","@onRefineGaiMessage","@onResetGaiFlow","@onUndoGaiMessage","@prefilledMessage","@refreshGaiMessage","@smpContent","@subject","@submitMessage","@triggerData","@update","@viewData"],[[30,12],[30,13],[30,14],[30,9],[30,15],[30,16],[30,17],[30,18],[30,19],[30,20],[30,21],[30,22],[30,23],[30,24],[30,25],[30,26],[30,27],[30,28],[30,29],[30,30],[30,31],[30,32],[30,33],[30,34],[30,35],[30,36],[30,37],[30,38],[30,39],[30,0,["triggerData"]],[30,40],[30,0,["viewData","inmailComposeFormViewData"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["showMessageForm"]],[[[1,"        "],[8,[32,18],[[16,0,[52,[51,[30,41]],"msg-form--thread-footer-feature"]]],[["@id","@beforeUpload","@bubbleId","@composeIsFullyExpanded","@invitationUrn","@isMessageRequestCompose","@contextByRecipients","@conversation","@conversationTrackedAsyncData","@hasResharedContent","@isOverlay","@externallyValid","@forwardedEvent","@isInMailCompose","@loadingConvoHistory","@msgAdapterOptions","@overridePlaceholder","@prefilledAttachments","@prefilledMessage","@subject","@submitMessage","@sendGif","@toggleExpandComposeField","@update","@smpContent","@validateForm","@isOriginalSize","@messageRecipients","@messageComposeFlowTrackingId","@gaiIntentsAsyncData","@gaiRefinementOptionsAsyncData","@gaiUpsellAsyncData","@gaiMessageAsyncData","@gaiStreamingStatus","@gaiStreamingMessage","@generateGaiMessage","@refreshGaiMessage","@onResetGaiFlow","@onEnterGaiFlow","@onCancelGaiMessageGeneration","@onRefineGaiMessage","@onUndoGaiMessage","@canUndoGaiMessage","@gaiLoaderPromptText","@gaiLoaderRecipientName"],[[30,42],[30,12],[30,13],[30,43],[30,44],[30,45],[30,46],[30,9],[30,15],[30,47],[30,27],[52,[30,48],[30,49],true],[30,50],[30,11],[30,51],[30,29],[52,[30,52],[30,52],[28,[32,11],["i18n_write_a_message","msg-ui/components/thread-footer-feature"],null]],[30,53],[30,35],[30,38],[30,54],[30,55],[30,56],[30,40],[30,37],[30,57],[30,26],[30,28],[30,58],[30,17],[30,23],[30,24],[30,20],[30,21],[30,22],[30,25],[30,36],[30,33],[30,31],[30,30],[30,32],[30,34],[30,14],[30,18],[30,19]]],[["default"],[[[[1,"\\n"],[41,[30,61,["isOverCharLimit"]],[[[1,"            "],[8,[32,19],null,null,null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,62],[[[1,"            "],[8,[32,20],null,[["@resendMessage","@messageSendFailedApiError","@isSendErrorUxInprovementEnabled"],[[30,60,["onSubmit"]],[30,63],[30,64]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,65],[[[1,"            "],[8,[30,59,["attachmentDragAndDropPresenter"]],null,[["@composeIsFullyExpanded","@trackingKeys"],[[30,43],[30,16]]],null],[1,"\\n"],[41,[51,[30,61,["showMiniAttachmentPreviews"]]],[[[1,"              "],[8,[30,59,["uploadedAttachmentListPresenter"]],null,null,null],[1,"\\n"],[41,[30,61,["attachmentDropErrorType"]],[[[1,"                "],[8,[30,59,["attachmentDragAndDropErrorPresenter"]],null,null,null],[1,"\\n"]],[]],null]],[]],null]],[]],null],[1,"\\n"],[41,[30,61,["showMentionsPicker"]],[[[1,"            "],[8,[30,59,["mentionsPickerPresenter"]],null,null,null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,66],[[[1,"            "],[8,[32,21],null,[["@viewData","@refocusElement","@closeVirtualMeetingContainer","@filloutMeetingInvite"],[[30,0,["viewData","virtualMeetingModalViewData"]],[28,[32,10],["#",[30,42]," .msg-form__contenteditable"],null],[30,67],[30,60,["updateTextarea"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["viewData","messageToReplyToContent"]],[[[1,"            "],[10,0],[14,0,"msg-ui-thread-footer-feature__reply-to-message-container t-12"],[12],[1,"\\n              "],[10,0],[14,0,"msg-ui-thread-footer-feature__reply-to-message-text"],[12],[1,"\\n                "],[1,[30,0,["viewData","messageToReplyToContent"]]],[1,"\\n              "],[13],[1,"\\n              "],[8,[32,22],[[16,"aria-label",[28,[32,11],["i18n_remove_replied_message","msg-ui/components/thread-footer-feature"],null]],[24,0,"flex-shrink-zero mlA"],[4,[32,0],["click",[30,68]],null],[4,[32,23],["cancel_reply_to_message"],null]],[["@circle","@color","@icon","@size","@type"],[true,"muted","clear",1,"tertiary"]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[1,"          "],[8,[30,59,["messageContentContainerPresenter"]],[[24,0,"msg-form__message-texteditor relative flex-grow-1 display-flex"]],[["@composeIsFullyExpanded","@disableExpandComposeButton","@expandButtonSize","@handleFocusIn","@focusInput","@labelText","@showExpandButton","@toggleExpandComposeField","@trackingPrefix","@update","@smpContent"],[[30,43],[30,69],1,[28,[32,15],[[30,70],[30,9]],null],[30,71],[28,[32,11],[[52,[30,48],"a11y_compose_new","a11y_compose"],"msg-ui/components/thread-footer-feature"],[["names"],[[52,[30,0,["viewData","isGroupChat"]],[52,[30,0,["viewData","conversationName"]],[30,0,["viewData","conversationName"]],[28,[32,11],["i18n_participants_full_names","msg-ui/components/thread-footer-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[28,[32,11],["i18n_participants_full_names","msg-ui/components/thread-footer-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]]]]],[30,72],[30,56],[30,5],[30,40],[30,37]]],null],[1,"\\n"],[41,[51,[28,[32,24],[[30,11],[30,61,["isGaiModuleVisible"]]],null]],[[[41,[30,61,["showMiniAttachmentPreviews"]],[[[41,[30,61,["attachments","length"]],[[[1,"                "],[11,"button"],[24,0,"msg-form__mini-attachment-preview t-12 t-black--light t-bold pv1"],[24,4,"button"],[4,[32,0],["click",[30,56]],null],[12],[1,"\\n                  "],[1,[28,[32,11],["i18n_num_files_attached","msg-ui/components/thread-footer-feature"],[["numberOfAttachments"],[[30,61,["attachments","length"]]]]]],[1,"\\n                "],[13],[1,"\\n"]],[]],null]],[]],null],[1,"            "],[10,"footer"],[15,0,[29,["msg-form__footer flex-shrink-zero\\n                ",[52,[30,27],"","pb7"]]]],[12],[1,"\\n"],[41,[30,11],[[[1,"                "],[10,0],[14,0,"msg-form__left-actions"],[12],[1,"\\n"],[41,[30,61,["shouldShowGaiPermEntryPoint"]],[[[1,"                    "],[8,[30,59,["gaiSmartAction"]],null,null,null],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n"]],[]],null],[41,[28,[32,24],[[30,0,["msgDataManager","hackweekMessengerReadInLixEnabled"]],[30,61,["currentInputText"]]],null],[[[1,"                "],[8,[30,59,["gaiSuggestions"]],null,null,null],[1,"\\n"]],[]],null],[1,"              "],[10,0],[15,0,[29,[[52,[30,11],"msg-form__right-actions align-items-center","msg-form__left-actions"],"\\n                  display-flex"]]],[12],[1,"\\n"],[41,[51,[30,47]],[[[1,"                  "],[8,[30,59,["uploadAttachmentPresenter"]],null,[["@buttonClasses","@iconName","@iconSize","@labelText","@acceptTypes","@disabled","@trackingPrefix"],[[29,["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0 ",[52,[30,27],"artdeco-button--1","artdeco-button--2"]]],"image",[52,[30,27],1,2],[28,[32,11],[[52,[30,48],"a11y_attach_image_new","a11y_attach_image"],"msg-ui/components/thread-footer-feature"],[["names"],[[52,[30,0,["viewData","isGroupChat"]],[52,[30,0,["viewData","conversationName"]],[30,0,["viewData","conversationName"]],[28,[32,11],["i18n_participants_full_names","msg-ui/components/thread-footer-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[28,[32,11],["i18n_participants_full_names","msg-ui/components/thread-footer-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]]]]],[30,61,["supportedImageAttachmentTypes"]],[28,[32,25],[[30,45],[30,0,["isLoadingGaiMessage"]]],null],[28,[32,10],[[30,5],"image"],null]]],null],[1,"\\n                  "],[8,[30,59,["uploadAttachmentPresenter"]],null,[["@buttonClasses","@iconName","@iconSize","@labelText","@acceptTypes","@disabled","@trackingPrefix"],[[29,["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0 ",[52,[30,27],"artdeco-button--1","artdeco-button--2"]]],"attachment",[52,[30,27],1,2],[28,[32,11],[[52,[30,48],"a11y_attach_file_new","a11y_attach_file"],"msg-ui/components/thread-footer-feature"],[["names"],[[52,[30,0,["viewData","isGroupChat"]],[52,[30,0,["viewData","conversationName"]],[30,0,["viewData","conversationName"]],[28,[32,11],["i18n_participants_full_names","msg-ui/components/thread-footer-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[28,[32,11],["i18n_participants_full_names","msg-ui/components/thread-footer-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]]]]],[30,61,["supportedFileAttachmentTypes"]],[28,[32,25],[[30,45],[30,0,["isLoadingGaiMessage"]]],null],[28,[32,10],[[30,5],"file"],null]]],null],[1,"\\n"]],[]],null],[41,[30,0,["enableGifButton"]],[[[1,"                  "],[8,[32,26],null,[["@size","@trackingPrefix","@conversation","@openGIFPopover","@closeGIFPopover","@disabled","@isGifSearchPopoverOpen"],[[52,[30,27],1,2],[30,5],[30,9],[30,73],[30,74],[28,[32,25],[[30,45],[30,0,["isLoadingGaiMessage"]]],null],[52,[30,75],"true","false"]]],null],[1,"\\n"],[41,[30,75],[[[1,"                    "],[8,[32,27],null,[["@trackingPrefix","@closeHovercard","@handleGIFSend","@afterSend","@prefilledSearchTerm","@isOverlay"],[[30,5],[30,74],[30,60,["handleGIFSend"]],[30,60,["focusTextarea"]],[30,76],[30,27]]],null],[1,"\\n"]],[]],null]],[]],null],[1,"                "],[8,[32,28],null,[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@hoverableOutletId","@size","@onHoverableHide","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses","@triggerData","@disabled"],[true,[30,60,["updateTextareaWithEmoji"]],[52,[30,27],"msg_overlay_emoji","msg_pillar_emoji"],[52,[30,27],"msg-overlay__emoji-hoverable-outlet"],[52,[30,27],1,2],[30,60,["focusComposeAfterEmojiPickerClose"]],[52,[30,27],"overlay.close_emoji_picker","msg.close_emoji_picker"],[52,[30,27],"overlay.open_emoji_picker","msg.open_emoji_picker"],[52,[30,27],"overlay.select_emoji","msg.select_emoji"],[52,[30,27],"overlay.select_searched_emoji","msg.select_searched_emoji"],"msg-form__footer-action",[30,0,["triggerData"]],[30,0,["isLoadingGaiMessage"]]]],null],[1,"\\n"],[41,[30,11],[[[1,"                  "],[8,[30,59,["sendModeTogglePresenter"]],null,[["@isEnterToSendEnabled","@setEnterToSendSetting","@triggerButtonSize","@isOverlay"],[[30,61,["pressEnterToSend"]],[30,60,["setEnterToSendSetting"]],[52,[30,27],1,2],[30,27]]],null],[1,"\\n"]],[]],null],[1,"              "],[13],[1,"\\n"],[41,[51,[30,11]],[[[1,"                "],[10,0],[14,0,"msg-form__right-actions display-flex align-items-center"],[12],[1,"\\n                  "],[8,[30,59,["sendControlsPresenter"]],null,[["@buttonClass","@isEnterToSendEnabled"],["artdeco-button artdeco-button--1",[30,61,["pressEnterToSend"]]]],null],[1,"\\n                  "],[8,[30,59,["sendModeTogglePresenter"]],null,[["@isEnterToSendEnabled","@setEnterToSendSetting","@triggerButtonSize","@isOverlay"],[[30,61,["pressEnterToSend"]],[30,60,["setEnterToSendSetting"]],[52,[30,27],1,2],[30,27]]],null],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n"]],[]],null],[1,"          "],[8,[30,59,["mentionToInviteToastPresenter"]],null,[["@actionTrackingPrefix"],[[30,5]]],null],[1,"\\n        "]],[59,60,61]]]]],[1,"\\n      "]],[]],null]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]],[1,"    "]],[]]]],[]]]],[]]]],[]]],[1,"\\n"],[41,[30,77],[[[1,"      "],[8,[32,29],null,[["@trackingPrefix","@dismissModal"],[[30,5],[30,78]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,79],[[[1,"      "],[8,[32,30],null,[["@viewData","@isOpen","@onShareContactInfoAccept","@sendInMailReply","@closeModal"],[[30,0,["viewData","shareProfileInfoModalViewData"]],[30,79],[30,80],[30,81],[30,82]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,83],[[[1,"      "],[8,[32,31],null,null,null],[1,"\\n"]],[]],null],[1,"  "]],["@composeViewContext","@selectedInMailReplySmartAction","@cancelQuickAction","@sendQuickAction","@actionTrackingPrefix","@shouldShowMessageEditForm","@messageToEdit","@onDismissEditForm","@conversation","@blockedByNoResponse","@isInMailCompose","@beforeUpload","@bubbleId","@canUndoGaiMessage","@conversationTrackedAsyncData","@dragAndDropTrackingKeys","@gaiIntentsAsyncData","@gaiLoaderPromptText","@gaiLoaderRecipientName","@gaiMessageAsyncData","@gaiStreamingStatus","@gaiStreamingMessage","@gaiRefinementOptionsAsyncData","@gaiUpsellAsyncData","@generateGaiMessage","@isOriginalSize","@isOverlay","@messageRecipients","@msgAdapterOptions","@onCancelGaiMessageGeneration","@onEnterGaiFlow","@onRefineGaiMessage","@onResetGaiFlow","@onUndoGaiMessage","@prefilledMessage","@refreshGaiMessage","@smpContent","@subject","@sendPremiumInMail","@update","@overlay","@msgFormId","@composeIsFullyExpanded","@invitationUrn","@isMessageRequestCompose","@contextByRecipients","@hasResharedContent","@isNew","@hasValidRecipients","@forwardedEvent","@loadingConvoHistory","@customPlaceholderText","@prefilledAttachments","@submitMessage","@sendGif","@toggleExpandComposeField","@validateForm","@messageComposeFlowTrackingId","components","actions","props","@shouldShowMessageComposeFailedBanner","@messageSendFailedApiError","@isSendErrorUxInprovementEnabled","@enableAttachmentDragAndDrop","@isVirtualMeetingModalOpen","@closeVirtualMeetingContainer","@removeReplyMessage","@disableExpandComposeButton","@markConversationAsRead","@focusInput","@showExpandButton","@openGIFPopover","@closeGIFPopover","@isGifSearchPopoverOpen","@prefilledGIFSearchTerm","@declineInmailReasonModalIsOpen","@dismissInmailFeedbackModal","@shareInfoModalIsOpen","@onShareContactInfoAccept","@onShareContactInfoDecline","@closeShareProfileInfoModal","@shouldShowComposeRetryLoader"],false,["if","unless"]]',moduleName:"msg-ui/components/thread-footer-feature.gjs",scope:()=>[p.on,g.default,h.default,f.default,b.default,B.default,v.default,y.default,_.default,w.default,I.concat,M.default,I.hash,k.default,D.default,I.fn,C.default,x.default,E.default,P.default,A.default,O.default,L.default,z.default,T.default,S.default,R.default,U.default,N.default,j.default,F.default,G.default],isStrictMode:!0}),(H=(0,d.inject)("authentication@authenticated-user"),q=(0,d.inject)("profile-services@identity-store"),W=(0,d.inject)("formatter"),K=(0,d.inject)("msg-data@data-manager"),$=(0,d.inject)("persistent-toast-manager@persistent-toast-manager"),Y=(0,d.inject)("i18n"),Q=(0,d.inject)("global-services@a11y-notification"),J=(0,d.inject)("router"),Z=(0,d.inject)("presence@presence-api-dash"),X=class extends u.default{constructor(){super(...arguments);(0,i.default)(this,"blockedInmailReplyHelpCenterLink","/help/linkedin/answer/124531");(0,t.default)(this,"authenticatedUser",ee,this);(0,t.default)(this,"identityStore",te,this);(0,t.default)(this,"formatter",ie,this);(0,t.default)(this,"msgDataManager",ne,this);(0,t.default)(this,"persistentToastManager",se,this);(0,t.default)(this,"i18n",ae,this);(0,t.default)(this,"a11yNotification",re,this);(0,t.default)(this,"router",oe,this);(0,t.default)(this,"presenceAPI",le,this);(0,t.default)(this,"isMessageRequestClickReplyPending",de,this);(0,t.default)(this,"blockDialogOpen",ce,this)}get conversationWithBlockedMember(){const{participants:e,isRestrictedProfile:t}=this.viewData
return t&&1===e.length}get blockedByDecline(){const{inmailReplyAction:e,currentUser:t,isReplyDisabled:i}=this.viewData
return"DECLINED"===e&&!t&&i}get showDeclinedMessageRequestAccept(){const{messageRequestState:e,isGroupChat:t}=this.viewData
return"DECLINED"===e&&!t}get showMessageForm(){return this.viewData.isUserRepliesEnabled}get isGroupMessageRequest(){const{messageRequestState:e,isGroupChat:t}=this.viewData
return"PENDING"===e&&t}get isSmpNewConvo(){var e
return!(null===(e=this.args.msgAdapterOptions)||void 0===e||!e.marketplaceProjectProposalUrn||this.args.conversation)}get enableGifButton(){return!(this.args.isInMailCompose||this.viewData.isInMail||this.args.hasResharedContent||this.isSmpNewConvo)}get shouldShowBlockedFooter(){return this.viewData.showBlockedFooter&&!this.args.shouldShowMessageEditForm}get viewData(){const{composeViewContext:e,messageRecipients:t,conversation:i,messageEventToEdit:n,messageToReplyTo:s,profileContactInfo:a}=this.args
return new l.default({composeViewContext:e,recipients:t,conversation:i,messageEventToEdit:n,messageToReplyTo:s,profileContactInfo:a,msgDataManager:this.msgDataManager,authenticatedUser:this.authenticatedUser,i18n:this.i18n,participants:this.msgDataManager.mailboxParticipants,router:this.router,presenceAPI:this.presenceAPI,formatName:this.formatter.formatName.bind(this.formatter),getIdentityRecord:this.identityStore.findRecord.bind(this.identityStore)})}get triggerData(){return{bubbleId:this.args.bubbleId,conversationUrn:this.viewData.conversationUrn}}a11yNotify(e){const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(t([]))}oneClickReplyToMessageRequest(e){const{conversationUrn:t}=this.viewData
this.isMessageRequestClickReplyPending=!0
return this.msgDataManager.clickReplyToMessageRequest(t,e).then((()=>{if(!(0,m.isDestroying)(this)){if(!e){var i,n
null===(i=(n=this.args).handleSuccessfulDiscardRequest)||void 0===i||i.call(n,t)}this.a11yNotify("i18n_a11y_send_successful")}})).catch((e=>{if((0,m.isDestroying)(this))throw e
const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_conversation_send_error")()
this.persistentToastManager.error({message:t})
throw e})).finally((()=>{(0,m.isDestroying)(this)||(this.isMessageRequestClickReplyPending=!1)}))}handleLssFooterClick(e){var t
const i=null==e||null===(t=e.target)||void 0===t?void 0:t.closest("a")
if(i&&i.getAttribute("href").includes("lss/inmail/unsubscribe")){e.preventDefault()
this.blockDialogOpen=!0}}get isLoadingGaiMessage(){var e
return this.args.gaiStreamingStatus===V.PREMIUM_GAI_STREAMING_STATUS.STREAMING||(null===(e=this.args.gaiMessageAsyncData)||void 0===e?void 0:e.isPending)}},ee=(0,n.default)(X.prototype,"authenticatedUser",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,n.default)(X.prototype,"identityStore",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,n.default)(X.prototype,"formatter",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,n.default)(X.prototype,"msgDataManager",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,n.default)(X.prototype,"persistentToastManager",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=(0,n.default)(X.prototype,"i18n",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=(0,n.default)(X.prototype,"a11yNotification",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=(0,n.default)(X.prototype,"router",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,n.default)(X.prototype,"presenceAPI",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=(0,n.default)(X.prototype,"isMessageRequestClickReplyPending",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=(0,n.default)(X.prototype,"blockDialogOpen",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(X.prototype,"oneClickReplyToMessageRequest",[c.action],Object.getOwnPropertyDescriptor(X.prototype,"oneClickReplyToMessageRequest"),X.prototype),(0,n.default)(X.prototype,"handleLssFooterClick",[c.action],Object.getOwnPropertyDescriptor(X.prototype,"handleLssFooterClick"),X.prototype),X))}))
define("msg-ui/components/virtual-meeting-cta-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","@ember/object","@glimmer/tracking","@ember/application","@ember/service","ember","@glimmer/component","@ember/destroyable","product-education/components/coachmark","artdeco-button/components/artdeco-button","ember-cli-pemberly-i18n/helpers/t","@ember/modifier","ember-cli-pemberly-tracking/modifiers/track-interaction","msg-shared-modals/components/virtual-meeting-modal-presenter","@ember/helper","ember-set-helper/helpers/set"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v,y,_,w){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var M,k,S,T,D,I,C
e.default=(0,r.setComponentTemplate)((0,a.createTemplateFactory)({id:"3iNBYVdR",block:'[[[1,"\\n"],[1,"    "],[8,[32,0],null,[["@isVisible"],[[30,0,["showOnboardingNotification"]]]],[["default"],[[[[1,"\\n      "],[8,[32,1],[[4,[32,3],["click",[30,0,["openVirtualMeetingModal"]]],null],[4,[32,4],["virtual_meeting_entrypoint"],null]],[["@aria-label","@class","@type","@color","@circle","@conversationUrn","@controlType","@icon","@size"],[[28,[32,2],["i18n_open_virtual_meeting_dialog","msg-ui/components/virtual-meeting-cta-presenter"],null],"msg-form__footer-action flex-shrink-zero",[52,[30,1],"primary","tertiary"],[52,[30,1],"default","muted"],true,[30,2,["conversationUrn"]],"button","video-conference",[30,3]]],null],[1,"\\n    "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["isVirtualMeetingContainerOpen"]],[[[1,"      "],[8,[32,5],null,[["@viewData","@refocusElement","@closeVirtualMeetingContainer","@filloutMeetingInvite"],[[30,2,["virtualMeetingModalViewData"]],[28,[32,6],[[30,4]," .msg-form__contenteditable"],null],[28,[32,7],[[30,0],"isVirtualMeetingContainerOpen",false],null],[30,5]]],null],[1,"\\n"]],[]],null],[1,"  "]],["@invertColor","@viewData","@ctaSize","@parentRefocusElement","@updateTextarea"],false,["if"]]',moduleName:"msg-ui/components/virtual-meeting-cta-presenter.gjs",scope:()=>[g.default,h.default,f.default,b.on,v.default,y.default,_.concat,w.default],isStrictMode:!0}),(M=(0,c.inject)("msg-shared-modals@virtual-meeting-onboarding"),k=(0,c.inject)("prefetch"),S=class extends m.default{constructor(){super(...arguments);(0,t.default)(this,"isVirtualMeetingContainerOpen",T,this);(0,t.default)(this,"showOnboardingNotification",D,this);(0,t.default)(this,"vmOnboardingService",I,this);(0,t.default)(this,"prefetch",C,this)
this.vmOnboardingService.fetchOnboardingNotification().then((e=>{this.isDestroying||(this.showOnboardingNotification=e)}))}openVirtualMeetingModal(){this.isVirtualMeetingContainerOpen=!0
this.showOnboardingNotification=!1
this.vmOnboardingService.dismissOnboardingNotification()
this.prefetch.prefetchAssets("msg-video-call","d_flagship3_messaging_video_conference").then((()=>{if(!(0,p.isDestroying)(this)&&(!u.default.testing||this.args.testingPrefetchOverride)){(0,d.getOwner)(this).lookup("service:video-call@fetch-client").fetchConferenceClient()}}))}},T=(0,n.default)(S.prototype,"isVirtualMeetingContainerOpen",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=(0,n.default)(S.prototype,"showOnboardingNotification",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=(0,n.default)(S.prototype,"vmOnboardingService",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,n.default)(S.prototype,"prefetch",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(S.prototype,"openVirtualMeetingModal",[o.action],Object.getOwnPropertyDescriptor(S.prototype,"openVirtualMeetingModal"),S.prototype),S))}))
define("msg-ui/config/environment",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
let t
try{const e="msg-ui/config/environment",i=document.querySelector('meta[name="'+e+'"]').getAttribute("content")
t=JSON.parse(unescape(i))}catch(e){t={sparkPlaceholders:{includeHashes:["assets/media-player.amd.js"]}}}e.default=t}))
define.alias("ember-truth-helpers/helpers/and","msg-ui/helpers/and")
define.alias("artdeco-datepicker/helpers/artdeco-adjust-date-for-timezone","msg-ui/helpers/artdeco-adjust-date-for-timezone")
define.alias("artdeco-datepicker/helpers/artdeco-is-between-dates","msg-ui/helpers/artdeco-is-between-dates")
define.alias("ember-media-player/helpers/autoplay-media","msg-ui/helpers/autoplay-media")
define.alias("artdeco-datepicker/helpers/cal-dates-equal","msg-ui/helpers/cal-dates-equal")
define("msg-ui/helpers/date-group-heading",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/service","@ember/component/helper","msg-ui/helpers/is-current-year"],(function(e,t,i,n,s,a,r,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,d,c,u,m,p,g
e.default=(l=(0,a.inject)("i18n"),d=(0,a.inject)("formatter"),c=(0,a.inject)("date"),u=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",m,this);(0,t.default)(this,"formatter",p,this);(0,t.default)(this,"date",g,this)}compute(e){const t=e[0],i=this.date.now(),n=i-t
let s
if(t>=new Date(i).setHours(0,0,0,0))return this.i18n.lookupTranslation("components/msg-ui@message-list-feature","i18n_today")()
s=n<6048e5?"fmt_d":(0,o.isCurrentYear)(t,this.date)?"fmt_md_medium":"fmt_mdy_medium"
return this.formatter.formatDate(t,s,!0)}},m=(0,n.default)(u.prototype,"i18n",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=(0,n.default)(u.prototype,"formatter",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,n.default)(u.prototype,"date",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)}))
define.alias("ember-element-helper/helpers/element","msg-ui/helpers/element")
define.alias("ember-holy-futuristic-template-namespacing-batman/helpers/-translate-dynamic-2","msg-ui/helpers/ember-holy-futuristic-template-namespacing-batman-translate-dynamic-2")
define("msg-ui/helpers/ensure-safe-component",["exports","@embroider/util"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.EnsureSafeComponentHelper}})}))
define.alias("ember-truth-helpers/helpers/eq","msg-ui/helpers/eq")
define("msg-ui/helpers/extract-participant-names",["exports","@ember/component/helper","global-helpers/helpers/name"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.extractParticipantNames=n
function n(e){return null==e?void 0:e.map((e=>(0,i.getName)(e.miniProfile)))}class s extends t.default{compute(e){let[t]=e
return n(t)}}e.default=s}))
define.alias("ember-media-player/helpers/format-autoplay","msg-ui/helpers/format-autoplay")
define.alias("ember-cli-pemberly-i18n/helpers/format-number","msg-ui/helpers/format-number")
define.alias("ember-semaphore/helpers/format-title","msg-ui/helpers/format-title")
define.alias("ember-truth-helpers/helpers/gt","msg-ui/helpers/gt")
define.alias("ember-truth-helpers/helpers/gte","msg-ui/helpers/gte")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/helpers/convert-to-icon-name","msg-ui/helpers/hue-web-artdeco-icon-migration-runtime")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/helpers/convert-to-icon-v2","msg-ui/helpers/hue-web-artdeco-li-icon-migration-runtime-v2")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/helpers/convert-to-icon-path","msg-ui/helpers/hue-web-artdeco-li-icon-migration-runtime")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/helpers/convert-argument","msg-ui/helpers/hue-web-artdeco-migration-runtime")
define.alias("helpcenter-in-product-ember/helpers/includes","msg-ui/helpers/includes")
define.alias("ember-truth-helpers/helpers/is-array","msg-ui/helpers/is-array")
define("msg-ui/helpers/is-current-year",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/service","@ember/component/helper"],(function(e,t,i,n,s,a,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.isCurrentYear=function(e,t){const i=t.now()
return new Date(i).getFullYear()===new Date(e).getFullYear()}
e.isCurrentYearWithNowTimestamp=c
var o,l,d
function c(e,t){return new Date(t).getFullYear()===new Date(e).getFullYear()}e.default=(o=(0,a.inject)("date"),l=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"dateService",d,this)}compute(e){let[t]=e
return c(t,this.dateService.now())}},d=(0,n.default)(l.prototype,"dateService",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)}))
define.alias("ember-truth-helpers/helpers/is-empty","msg-ui/helpers/is-empty")
define.alias("ember-truth-helpers/helpers/is-equal","msg-ui/helpers/is-equal")
define.alias("artdeco-icons-web/helpers/li-icon","msg-ui/helpers/li-icon")
define.alias("ember-async-data/helpers/load","msg-ui/helpers/load")
define.alias("ember-truth-helpers/helpers/lt","msg-ui/helpers/lt")
define.alias("ember-truth-helpers/helpers/lte","msg-ui/helpers/lte")
define.alias("ember-truth-helpers/helpers/not-eq","msg-ui/helpers/not-eq")
define.alias("ember-truth-helpers/helpers/not","msg-ui/helpers/not")
define.alias("ember-truth-helpers/helpers/or","msg-ui/helpers/or")
define("msg-ui/helpers/ref-to",["exports","ember-ref-bucket/helpers/ref-to"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"refTo",{enumerable:!0,get:function(){return t.default}})}))
define.alias("ember-app-scheduler/helpers/route-idle","msg-ui/helpers/route-idle")
define.alias("ember-media-player/helpers/seek-media","msg-ui/helpers/seek-media")
define.alias("ember-set-helper/helpers/set","msg-ui/helpers/set")
define.alias("ember-cli-pemberly-i18n/helpers/t","msg-ui/helpers/t")
define.alias("ember-truth-helpers/helpers/xor","msg-ui/helpers/xor")
define.alias("ember-uuid","msg-ui/index")
define("msg-ui/initializers/coordinator-setup",["exports","msg-ui/models/coordinator"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default={name:"setup coordinator",initialize:function(){(arguments[1]||arguments[0]).register("drag:coordinator",t.default)}}}))
define("msg-ui/initializers/icons",["exports","artdeco-icons-web/src/icons","msg-ui/config/environment"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function n(e){throw e}e.default={name:"icons",initialize:function(){const{environment:e,APP:s}=i.default
let a,r
s&&({artdecoCustomSpriteUrl:a,artdecoCustomSpriteName:r}=s)
const o="test"!==e
t.default.load(o,a,r).catch(n)}}}))
define.alias("ember-cli-pemberly-lix/initializers/lix","msg-ui/initializers/lix")
define.alias("ember-m3/initializers/m3-store","msg-ui/initializers/m3-store")
define("msg-ui/instance-initializers/artdeco",["exports","artdeco-eyeglass"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.initialize=s
const i=[t.default.contextClasses,t.default.floatingLabel,t.default.focusOutline]
function n(e,t){const n=e[t]
e[t]=function(){i.forEach((e=>e&&"function"==typeof e.teardown&&e.teardown()))
n&&"function"==typeof n&&n.call(e)}}function s(e){if("undefined"!=typeof document){i.forEach((e=>e.install()))
"function"==typeof e.willDestroy?n(e,"willDestroy"):"function"==typeof e.destroy&&n(e,"destroy")}}e.default={name:"artdeco",initialize:s}}))
define.alias("ember-ref-bucket/instance-initializers/global-ref-cleanup","msg-ui/instance-initializers/global-ref-cleanup")
define.alias("video/instance-initializers/media-plugins","msg-ui/instance-initializers/media-plugins")
define.alias("tracking-overlay-service/instance-initializers/tracking-overlay","msg-ui/instance-initializers/tracking-overlay")
define("msg-ui/models/coordinator",["exports","@ember/object","@ember/object/evented","msg-ui/models/obj-hash","ember-drag-drop/utils/proxy-unproxy-objects"],(function(e,t,i,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=t.default.extend(i.default,{objectMap:(0,t.computed)((function(){return n.default.create()})),getObject:function(e,t){t=t||{}
var i=this.get("objectMap").getObj(e)
if(i.ops.source&&!i.ops.source.isDestroying&&!i.ops.source.isDestroyed){const e=i.ops.source.action
"function"==typeof e&&e(i.obj)
"string"==typeof e&&"function"==typeof i.ops.source.target[e]&&i.ops.source.target[e](i.obj)}if(i.ops.target&&!i.ops.target.isDestroying&&!i.ops.target.isDestroyed){const e=i.ops.target.action
"function"==typeof e&&e(i.obj)
"string"==typeof e&&"function"==typeof i.ops.target.source[e]&&i.ops.target.source[e](i.obj)}this.trigger("objectMoved",{obj:(0,s.unwrapper)(i.obj),source:i.ops.source,target:t.target})
return(0,s.unwrapper)(i.obj)},setObject:function(e,t){t=t||{}
return this.get("objectMap").add({obj:e,ops:t})}})}))
define("msg-ui/models/obj-hash",["exports","@ember/object","@ember/object/computed","@ember/array"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=t.default.extend({contentLength:0,length:(0,i.alias)("contentLength"),init:function(){this._super()
this.content={}},add:function(e){var t=this.generateId()
this.get("content")[t]=e
this.incrementProperty("contentLength")
return t},getObj:function(e){var t=this.get("content")[e]
if(!t)throw new Error("no obj for key "+e)
return t},generateId:function(){var e=1e12*Math.random()
return e=""+(e=parseInt(e))},keys:function(){var e=[]
for(var t in this.get("content"))e.push(t)
return(0,n.A)(e)}})}))
define.alias("artdeco-datepicker/modifiers/artdeco-calendar-click-watcher","msg-ui/modifiers/artdeco-calendar-click-watcher")
define.alias("ember-ref-bucket/modifiers/create-ref","msg-ui/modifiers/create-ref")
define.alias("ember-css-transitions/modifiers/css-transition","msg-ui/modifiers/css-transition")
define.alias("@ember/render-modifiers/modifiers/did-insert","msg-ui/modifiers/did-insert")
define.alias("ember-scroll-modifiers/modifiers/did-intersect","msg-ui/modifiers/did-intersect")
define.alias("ember-resize-modifier/modifiers/did-resize","msg-ui/modifiers/did-resize")
define.alias("@ember/render-modifiers/modifiers/did-update","msg-ui/modifiers/did-update")
define.alias("ember-finite-scroll/modifiers/ember-finite-scroll/focus","msg-ui/modifiers/ember-finite-scroll/focus")
define.alias("image-editor/modifiers/fabric","msg-ui/modifiers/fabric")
define("msg-ui/modifiers/on-dom-insert",["exports","ember-modifier"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=(0,t.modifier)((function(e,t){let[i]=t
i(e)
return()=>{}}))}))
define.alias("ember-prop-modifier","msg-ui/modifiers/prop")
define.alias("ember-scroll-modifiers/modifiers/scroll-into-view","msg-ui/modifiers/scroll-into-view")
define.alias("ember-sortable/modifiers/sortable-group","msg-ui/modifiers/sortable-group")
define.alias("ember-sortable/modifiers/sortable-handle","msg-ui/modifiers/sortable-handle")
define.alias("ember-sortable/modifiers/sortable-item","msg-ui/modifiers/sortable-item")
define("msg-ui/modifiers/update-position-top-from-sibling-content",["exports","@babel/runtime/helpers/esm/defineProperty","ember-lifeline","ember-batcher","@ember/destroyable","ember-modifier"],(function(e,t,i,n,s,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class r extends a.default{modify(e,t,s){let{siblingSelector:a,pixelOffset:r}=s
if(!this.didSetUp){this.pixelOffset=r;(0,n.readDOM)((()=>{var t
const s=null===(t=e.parentElement)||void 0===t?void 0:t.querySelector(a)
if(!(s instanceof HTMLElement))return
this.ele=e
this.siblingEle=s
const r=s.lastChild instanceof HTMLElement?s.lastChild:s,o=r.offsetTop+r.offsetHeight+(this.pixelOffset??0)
if(!isNaN(o)){(0,n.mutateDOM)((()=>{this.ele&&this.ele.style.setProperty("top",`${o}px`,"important")}))
this.mutationObserver=new MutationObserver((()=>{(0,i.debounceTask)(this,"handleResize",(0,i.getTimeoutOrTestFallback)(100))}))
this.mutationObserver.observe(s,{childList:!0,subtree:!0,characterData:!0})
this.resizeObserver=new ResizeObserver((()=>{(0,i.debounceTask)(this,"handleResize",(0,i.getTimeoutOrTestFallback)(100))}))
this.resizeObserver.observe(s)
this.didSetUp=!0}}))}}handleResize(){(0,n.readDOM)((()=>{if(!this.ele||!this.siblingEle)return
const e=this.siblingEle.lastChild instanceof HTMLElement?this.siblingEle.lastChild:this.siblingEle,t=e.offsetTop+e.offsetHeight+(this.pixelOffset??0)
isNaN(t)||(0,n.mutateDOM)((()=>{this.ele&&this.ele.style.setProperty("top",`${t}px`,"important")}))}))}constructor(e,i){super(e,i);(0,t.default)(this,"ele",void 0);(0,t.default)(this,"siblingEle",void 0);(0,t.default)(this,"pixelOffset",void 0);(0,t.default)(this,"mutationObserver",void 0);(0,t.default)(this,"resizeObserver",void 0);(0,t.default)(this,"didSetUp",!1);(0,s.registerDestructor)(this,(()=>{var e,t
null===(e=this.mutationObserver)||void 0===e||e.disconnect()
null===(t=this.resizeObserver)||void 0===t||t.disconnect()}))}}e.default=r}))
define.alias("@ember/render-modifiers/modifiers/will-destroy","msg-ui/modifiers/will-destroy")
define.alias("ember-cloud-filepicker/providers/base-provider","msg-ui/providers/base-provider")
define.alias("ember-cloud-filepicker/providers/dropbox-provider","msg-ui/providers/dropbox-provider")
define.alias("ember-cloud-filepicker/providers/onedrive-provider","msg-ui/providers/onedrive-provider")
define("msg-ui/providers/slideshare-provider",["exports","ember-cloud-filepicker/providers/slideshare-provider"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(i,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}))
define.alias("@embroider/util/services/ensure-registered","msg-ui/services/-ensure-registered")
define.alias("artdeco-hoverables/services/artdeco-hoverable","msg-ui/services/artdeco-hoverable")
define.alias("artdeco-modal/services/artdeco-modal","msg-ui/services/artdeco-modal")
define.alias("artdeco-toast/services/artdeco-toast","msg-ui/services/artdeco-toast")
define.alias("client-sensor-web/services/client-sensor","msg-ui/services/client-sensor")
define.alias("ember-date-service/services/date","msg-ui/services/date")
define("msg-ui/services/drag-coordinator",["exports","ember-drag-drop/services/drag-coordinator"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=t.default}))
define.alias("ember-sortable/services/ember-sortable-internal-state","msg-ui/services/ember-sortable-internal-state")
define.alias("@linkedin/ember-restli-graphql/services/graphql","msg-ui/services/graphql")
define.alias("image-editor/services/image-editor-loader","msg-ui/services/image-editor-loader")
define.alias("@linkedin/ember-pem/services/internal-event-utils","msg-ui/services/internal-event-utils")
define.alias("@linkedin/ember-pem/services/internal-pem-tracking","msg-ui/services/internal-pem-tracking")
define.alias("helpcenter-in-product-ember/services/iph-service","msg-ui/services/iph-service")
define.alias("ember-cli-pemberly-lix/services/lix","msg-ui/services/lix")
define.alias("ember-m3/services/m3-schema-manager","msg-ui/services/m3-schema-manager")
define.alias("ember-media-player/services/media-player","msg-ui/services/media-player")
define("msg-ui/services/messaging-gai/gai-tooltip-manager",["exports","@babel/runtime/helpers/esm/classPrivateFieldGet","@ember/debug","@ember/service"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var s=new WeakMap
class a extends n.default{constructor(){super(...arguments)
s.set(this,{writable:!0,value:new Set})}canShowTooltip(e){let{widgetId:i}=e
if((0,t.default)(this,s).has(i))return!1;(0,t.default)(this,s).add(i)
return!0}}e.default=a}))
define.alias("@linkedin/ember-pem/services/pem-response-metadata","msg-ui/services/pem-response-metadata")
define.alias("@linkedin/ember-pem/services/pem-tracking","msg-ui/services/pem-tracking")
define.alias("persistent-toast-manager/services/persistent-toast-manager","msg-ui/services/persistent-toast-manager")
define.alias("@linkedin/ember-qualtrics/services/qualtrics-surveys","msg-ui/services/qualtrics-surveys")
define.alias("ember-media-player/services/static-asset-loader","msg-ui/services/static-asset-loader")
define.alias("ember-cli-pemberly-m3/services/store","msg-ui/services/store")
define.alias("ember-cli-pemberly-litms/services/tag-manager","msg-ui/services/tag-manager")
define.alias("@linkedin/ember-pem/services/tracer","msg-ui/services/tracer")
define.alias("ember-cli-pemberly-litms/services/tracking-adapter-for-tag-manager","msg-ui/services/tracking-adapter-for-tag-manager")
define("msg-ui/services/update-message-compose",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/object/events","@ember/service"],(function(e,t,i,n,s,a,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o,l,d
e.default=(o=(0,r.inject)("jet"),l=class extends r.default{constructor(){super(...arguments);(0,i.default)(this,"overlayBaseFormSubscriberList",[]);(0,t.default)(this,"jet",d,this)}setBaseFormSubscriber(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.overlayBaseFormSubscriberList.push(e):this.pillarBaseForm=e}removeBaseFormSubscriber(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.overlayBaseFormSubscriberList.splice(this.overlayBaseFormSubscriberList.indexOf(e),1):e===this.pillarBaseForm&&(this.pillarBaseForm=null)}_getBaseFormSubscriber(e,t){return t?this.overlayBaseFormSubscriberList.find((t=>t.bubbleId===e)):this.pillarBaseForm}triggerFocusMessageCompose(e){let{bubbleId:t,isOverlay:i}=e
const n=this._getBaseFormSubscriber(t,i)
n?(0,a.sendEvent)(n,"focusMessageCompose"):this.logErrorForNoBaseFormFound("triggerFocusMessageCompose",t)}triggerUpdateMessageCompose(e){let{bubbleId:t,isOverlay:i,messageText:n}=e
const s=this._getBaseFormSubscriber(t,i)
s?(0,a.sendEvent)(s,"updateMessageCompose",[n]):this.logErrorForNoBaseFormFound("triggerUpdateMessageCompose",t)}logErrorForNoBaseFormFound(e,t,i){const n=this.overlayBaseFormSubscriberList.map((e=>{var t
return null===(t=e.conversation)||void 0===t?void 0:t.entityUrn})),s=[`${e}()`]
t&&s.push(`bubbleId: ${t}`)
i&&s.push(`conversationUrn: ${i}`)
s.push(`baseFormConversationUrns: ${n.join(", ")}`)
this.jet.error(new Error("No baseFormSubscriber was found from conversation entityUrn"),s)}},d=(0,n.default)(l.prototype,"jet",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)}))
define("msg-ui/template-registry",[],(function(){}))
define.alias("ember-async-data/tracked-async-data","msg-ui/tracked-async-data")
define("msg-ui/utils/asset-utils",["exports","ember-cloud-filepicker/utils/asset-utils"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(i,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}))
define("msg-ui/utils/attributed-text-helpers",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.createMentionAttributesWithAttributedKind=function(e,t){const i=[]
null==e||e.attributes.forEach((e=>{const n=function(e){const{entity:t}=e
if(t){var i
return-1!==(null===(i=t.entityUrn)||void 0===i?void 0:i.indexOf("urn:li:msg_conversation"))}return!1}(e)
let s
s=n?t:e.urn.replace("fs_miniProfile","fsd_profile")
const a={attributeKindUnion:{entity:{urn:s}},length:e.length,start:e.start,type:{"com.linkedin.pemberly.text.Entity":{urn:s}},attributeKind:{entity:{urn:s}}}
i.push(a)}))
return i}}))
define("msg-ui/utils/attributed-text-manager",["exports","ember","@ember/utils","global-utils/utils/get-ie-version","global-utils/utils/is-browser","rich-text/utils/mentions-texteditor-helpers"],(function(e,t,i,n,s,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r={mention:"STRONG",wrapper:"P",newLine:"BR",nonVisual:["STYLE","#comment"],grammarly:"G",text:"#text"},o="msg-form__mention-highlight",l="data-id"
function d(e){return-1!==r.nonVisual.indexOf(e.nodeName)}e.default=class{constructor(){this.resetModel()
s.default?this.needsBlankChar=window.navigator.userAgent.indexOf("Firefox")>-1||this._isIEOrEdgeBrowser():this.needsBlankChar=!1}resetModel(){this.Model={text:"",attributes:[],cursor:0}
this.isBrowser=s.default
this.didAttributesChange=!0
this.EntityMap={}
this.History=new a.History}getModel(){return this.Model}setModel(e){this.History.addToUndo(e)
this.Model=e
return this}updateModelCursorPosition(e){this.History.addToUndo(this.Model)
this.Model={text:this.Model.text,attributes:this.Model.attributes,cursor:e}
return this.Model}updateModelFromHTML(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
const i=e.childNodes
this.History.clearRedo()
this.didAttributesChange=!1
if(""===e.textContent){this.resetModel()
return}let n=0
const s={text:"",attributes:[]}
if(this.needsBlankChar&&1===e.textContent.length){s.text=e.textContent
s.position=1
s.cursor=1
this.setModel(s)
this.didAttributesChange=!0
return}for(let e=0;e<i.length;e+=1){const t=i[e]
if(t.nodeName===r.wrapper){const e=t.childNodes
for(let t=0;t<e.length;t+=1){const i=e[t]
if(this.isMentionNode(i)){const e=i.getAttribute(l),t=this.EntityMap[e]
if(t){const a={start:n,length:i.textContent.length,entity:t,urn:e}
s.attributes.push(a)}}if(!d(i)){s.text+=i.textContent
n+=i.textContent.length}}}if(this._shouldInsertReturn(i,t,e)){s.text+="\n"
n+=1}else if(1===i.length&&1===t.childNodes.length&&t.childNodes[0]===r.newLine){s.text+="\n"
n+=1
s.cursor=1}}if(!s.cursor){const{end:i}=this.getCaretPosition(e,t)
s.cursor=i}const a=s.text.length<this.Model.text.length
this.cleanModel(s,a)}getCaretPosition(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
return(0,a.getCaretPosition)(e,this.isBrowser,t)}setCaretPosition(e,t){if(!this.isBrowser)return
const i=t.getRootNode()
let n
n=i===window.document?window.document.getSelection():(0,a.shadowRootGetNativeSelection)(i)
const s=t.ownerDocument.createRange()
let o,l,d=e,c=!1
const u=t.childNodes
for(let e=0;e<u.length;e+=1){let t=!1
const i=u[e].textContent.length
if(d-i>0){d-=i
e<u.length-1&&(d-=1)}else{l=u[e].childNodes
for(o=0;o<l.length;o+=1){const e=l[o].textContent.length
if(!(d-e>0)){l[o].nodeName===r.mention&&(c=!0)
t=!0
break}d-=e}if(t)break}}if(l&&l.length&&o>-1){c?s.setStart(l[o].childNodes[0],d):s.setStart(l[o],d)
s.collapse(!0)
n.removeAllRanges()
n.setBaseAndExtent(s.startContainer,s.startOffset,s.endContainer,s.endOffset)
t.focus()}}correctClickPosition(e){if(!this.needsBlankChar)return
const{text:t}=this.getModel()
t.length||this.setCaretPosition(0,e)}cleanModel(e,t){const i={text:e.text,attributes:[],cursor:e.cursor}
let n=0
e.attributes.sort(((e,t)=>e.start-t.start))
e.attributes.forEach((s=>{var a
const r=e.text.substr(s.start,s.length)
if(s.mentionInProgress||!this.isMentionEntity(null===(a=s.entity)||void 0===a?void 0:a.entityUrn)){i.attributes.push(s)
return}const o=this.EntityMap[s.urn]
let{firstName:l="",lastName:d=""}=o
r.indexOf(`@${l}`)>-1?l=`@${l}`:r.indexOf(`@${d}`)>-1&&(d=`@${d}`)
const c=r.split(" ")
if(c.length>1&&""===c[c.length-1]){c.splice(c.length-1,1)
c[c.length-1]+=" "
this.didAttributesChange=!0}const u=l.split(" ").concat(d.split(" "))
l.match(/[\u3400-\u9FBF]/)&&d.length&&d.match(/[\u3400-\u9FBF]/)&&u.unshift(d+l)
let m=0
for(let e=0;e<u.length;e+=1)if(c[m]&&c[m]===u[e]){if(m===c.length-1){const{start:e,length:t,entity:a,urn:r}=s
i.attributes.push({start:e+n,length:t,entity:a,urn:r})
return}m+=1}else if(!t){this.didAttributesChange=!0
if(m===c.length-1&&c[m]&&0===c[m].indexOf(u[e])){const t=c[m].length-u[e].length,{start:n,length:a,entity:r,urn:o}=s
i.attributes.push({start:n,length:a-t,entity:r,urn:o})
return}if(0===m){const t=c[m].indexOf(u[e])
if(t>0){const{start:e,length:n,entity:a,urn:r}=s
i.attributes.push({start:e+t,length:n-t,entity:a,urn:r})
return}}}if(t){const t=this.generateRemainingMentionText(c,u),{diffPosition:a}=t
let{finalMentionText:r}=t
r=r.indexOf("@")>-1?r:`@${r}`
const o=this.updateModelWithNewMentionText(r,s,e.text,a),{cursor:l,diff:d,mention:m,text:p}=o
n+=d
m&&i.attributes.push(m)
i.text=p
i.cursor=l
this.didAttributesChange=!0}}))
const s=0!==this.getModel().attributes.length,a=0===i.attributes.length
s&&a&&(this.didAttributesChange=!0)
this.setModel(i)}generateRemainingMentionText(e,t){let i,n="",s=0,a=0,r=!1
const o=e
for(let e=0;e<t.length&&s<o.length;e+=1){const l=t[e],d=o[s]
if(d.trim()===l){n+=`${d} `
a=e
s<o.length-1&&(s+=1)}else if(0===d.indexOf(l)){i=n.trim().length
r=!0
const e=d.replace(l,"")
o[s]=e}else if(e===t.length-1&&s<o.length-1){e=a
s+=1
i=n.trim().length
r=!0}else i||r||(i=n.trim().length)}return{finalMentionText:n,diffPosition:i}}updateModelWithNewMentionText(e,t,i,n){if(e&&"@"!==e){const s=e.trim(),a=s.length-t.length,r=i.substr(0,t.start)+s+i.substr(t.start+t.length),o=t.start+n
t.length=s.length
return{text:r,cursor:o,diff:a,mention:t}}delete this.EntityMap[t.urn]
return{text:i.substr(0,t.start)+i.substr(t.start+t.length),cursor:t.start,diff:-t.length}}createHTMLFromModel(){let e="",t=0
const{text:n}=this.Model
if(!n)return jSecure.sanitizeHTML(this._carriageReturnHandler(this.needsBlankChar))
this.Model.attributes.sort(((e,t)=>e.start-t.start)).forEach((i=>{const{start:s,length:a}=i
e=`${e}${jSecure.htmlEncode(n.substring(t,s))}${this.createHTMLForAttribute(i)}`
t=s+a}))
e+=jSecure.htmlEncode(n.substring(t))
return jSecure.sanitizeHTML(e.split("\n").map((e=>(0,i.isPresent)(e)?jSecure.mk`<${r.wrapper}>${new jSecure.UnsafeString(jSecure.sanitizeHTML(e))}</${r.wrapper}>`:this._carriageReturnHandler(this.needsBlankChar))).join(""))}createHTMLForAttribute(e){let{entity:t,start:i,length:n,mentionInProgress:s}=e
const a=jSecure.htmlEncode(this.Model.text.substring(i,i+n))
return s?a:`<strong class="${o}" ${l}="${jSecure.htmlEncode(null==t?void 0:t.entityUrn)}">${a}</strong>`}insertText(e,t){let{start:i,end:n}=t
if(!e)return
const{text:s,attributes:a}=this.Model,r=this._calcOffset(e,s,i),o={attributes:a.reduce(((t,s)=>{if(s.start+s.length<=i)return t.concat(s)
if(s.start>=n){const a={start:i+e.length+(s.start-n),length:s.length,entity:s.entity,urn:s.urn}
return t.concat(a)}return t}),[]),cursor:i+e.length+r,text:`${s.slice(0,i)}${e}${s.slice(n)}`}
this.didAttributesChange=!0
this.setModel(o)
return this}_calcOffset(e,t){let i=0
if(this.needsBlankChar)if("\n"===e){const{length:e}=t,n=" "===t[e-1]?t.slice(0,-1):t
"\n"===n[n.length-1]&&(i=1)}else i=(e.match(/\n\n/g)||[]).length
return i}insertAttribute(e){const t={match:e.match,entity:e.entity,entityUrn:e.entityUrn,mentionInProgress:e.mentionInProgress},i=this.getModel(),{text:n}=i,{start:s,end:a}=e.tokenSelection,r=e.match.text.length-(a-s),o={text:`${n.substring(0,s)}${e.match.text}${n.substring(a)}`,attributes:i.attributes.reduce(((e,t)=>{if(t.start>=a){const{start:i,length:n,entity:s,urn:a}=t
e.push({urn:a,length:n,entity:s,start:i+r})}else e.push(t)
return e}),[]),cursor:s+e.match.text.length}
this.didAttributesChange=!0
const{entity:l}=t,d=null==l?void 0:l.entityUrn,c={urn:d,entity:l,start:s,length:t.match.length}
t.mentionInProgress&&(c.mentionInProgress=!0)
o.attributes.push(c)
this.EntityMap[d]=l
this.setModel(o)
return this}removeMentionInProgress(){const e=this.getModel()
e.attributes=e.attributes.filter((e=>!e.mentionInProgress))
this.setModel(e)
this.didAttributesChange=!0}handleUndoRedo(e){let t
t=e.shiftKey?this.History.redo():this.History.undo()
if(t&&t.model){this.setModel(t.model)
this.didAttributesChange=!0}return this}getTextBeforeCursor(e){const{text:t}=this.Model,i=this.Model.attributes.sort(((e,t)=>t.start-e.start)).find((t=>{var i
return t.entity&&t.start+t.length<=e.start&&this.isMentionEntity(null===(i=t.entity)||void 0===i?void 0:i.entityUrn)}))
if(i){const n=i.start+i.length
return t.substring(n,e.end)}return t.substring(0,e.end)}isMentionNode(e){return e.className===o&&e.getAttribute(l)}isMentionEntity(e){return e&&e.includes("urn:li:member")||e.includes("miniProfile")||e.includes("urn:li:fs_conversation")||e.includes("urn:li:fsd_profile")}mentionAtPosition(e){return this.getModel().attributes.find((t=>{let{start:i,length:n}=t
return e>=i&&e<=i+n-1}))}_isGrammarly(e){return e.nodeName===r.grammarly&&e.classList.contains("gr_")}_shouldInsertReturn(e,t,i){const{nodeName:n}=t
return i<e.length-1&&!this._isGrammarly(t)&&n!==r.mention&&(n===r.newLine||n!==r.text)}_isIEOrEdgeBrowser(){return!(t.default.testing||!s.default)&&!!(0,n.default)(window.navigator.userAgent)}_carriageReturnHandler(e){return e?jSecure.mk`<${r.wrapper}>&nbsp;<br /></${r.wrapper}>`:jSecure.mk`<${r.wrapper}><br /></${r.wrapper}>`}}}))
define.alias("ember-highcharts/utils/build-options","msg-ui/utils/build-options")
define("msg-ui/utils/dispatcher-states/_state",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/tracking"],(function(e,t,i,n,s,a,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o,l,d,c,u
e.default=(o=(c=new WeakSet,u=new WeakSet,d=class{setInternalDispatcherState(e){const{courierAPIArgs:t,courierAPIResults:i,client:s}=(0,n.default)(this,c,m).call(this,e)
this.courierAPIArgs=t??{}
this.courierAPIResults=i??{}
this.client=s??(0,n.default)(this,u,p).call(this)}getInternalDispatcherState(){return(0,n.default)(this,c,m).call(this,{courierAPIArgs:this.courierAPIArgs,courierAPIResults:this.courierAPIResults,client:this.client})}fetchCourierData(e){throw new Error(`fetchCourierData must be overriden called from ${this.constructor.name}`)}didSubmitMessage(e){}setUIState(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
Object.assign(this.client.senderContext.ui,e)}setPayload(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.client.senderContext.payload=e}constructor(e){u.add(this)
c.add(this);(0,t.default)(this,"loaded",l,this);(0,i.default)(this,"dispatcher",void 0);(0,i.default)(this,"courierAPIArgs",{});(0,i.default)(this,"courierAPIResults",{});(0,i.default)(this,"client",{trackingData:{},senderContext:{ui:{},payload:{}}})
this.dispatcher=e}},(0,i.default)(d,"DEFAULT_COMPOSE_OPTION_RESULT",{composeOptionType:"CONNECTION_MESSAGE"}),d),l=(0,s.default)(o.prototype,"loaded",[r.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o)
function m(e){return JSON.parse(JSON.stringify(e))}function p(){return{trackingData:{},senderContext:{ui:{},payload:{}}}}}))
define("msg-ui/utils/dispatcher-states/auto-close",["exports","msg-ui/utils/dispatcher-states/_state"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{async fetchCourierData(e){this.setUIState({autoclose:!0,conversation:{clientId:`${Date.now()}`}})
this.dispatcher.stateUpdated()}}e.default=i}))
define("msg-ui/utils/dispatcher-states/composing",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/tracking","msg-ui/utils/dispatcher-states/_state","msg-ui/utils/dispatcher-states/replying","msg-ui/utils/dispatcher-states/intervention"],(function(e,t,i,n,s,a,r,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,c
e.default=(d=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"loaded",c,this)}async fetchCourierData(e){const{courierAPIArgs:{composeOptionArgs:t={},cVCArgs:i}={},courierAPIResults:{composeOptionResult:n=r.default.DEFAULT_COMPOSE_OPTION_RESULT}={},client:s}=e,{recipientUrns:a=[]}=t
let o,d
if(0===(null==a?void 0:a.length))o=r.default.DEFAULT_COMPOSE_OPTION_RESULT.composeOptionType
else if(1===(null==a?void 0:a.length)){var c
o=n.composeOptionType
null!=i&&i.invitation?d=i.invitation:null!==(c=n.composeNavigationContext)&&void 0!==c&&c.messageRequestContextUrn?d=n.composeNavigationContext.messageRequestContextUrn:t.contextEntityUrn?d=t.contextEntityUrn:null!=i&&i.marketplaceProjectProposalUrn&&(d=i.marketplaceProjectProposalUrn)}const u=await this.dispatcher.fetchLatestConversationByRecipients(a),m=this.dispatcher.fetchRecipients(a)
this.courierAPIArgs={cVCArgs:{recipientUrns:a,composeOptionType:n.composeOptionType,contextEntityUrn:d}}
let p
const g=this.dispatcher.asyncFetchComposeViewContext({recipientUrns:a,composeOptionType:o,contextEntityUrn:d}).then((e=>{this.courierAPIResults.cVCResult=e
this.isInterventionEnabled()&&(p=null==e?void 0:e.trustInterventionPage)})),[h]=await Promise.all([m,g]),f={isNew:!0,messageRecipients:h,focusTypeahead:!(null!=h&&h.length),focusInput:!(null==h||!h.length),focusHeader:!1,isInMailCompose:"PREMIUM_INMAIL"===o,isJumbo:!0}
if(s&&s.senderContext){const{initialBody:e,initialSubject:t,initialAttachments:i,forwardedEvent:n,update:a,smpContent:r,jobPostingUrn:o}=s.senderContext.ui
f.initialBody=e
f.initialSubject=t
f.initialAttachments=i
f.forwardedEvent=n
f.update=a
f.smpContent=r
f.jobPostingUrn=o}if(u){f.conversation=u
f.conversationUrn="entityUrn"in u?u.entityUrn:u.clientId}if(p){e.courierAPIResults={...this.courierAPIResults,interventionPage:p}
const t=new l.default(this.dispatcher)
this.dispatcher.changeState(t)
await t.fetchCourierData(e)}else{var b
this.setUIState(f)
this.setPayload(null===(b=e.client)||void 0===b?void 0:b.senderContext.payload)
this.dispatcher.stateUpdated()
this.loaded=!0}}async didSubmitMessage(e){const t=new o.default(this.dispatcher),i=this.getInternalDispatcherState()
i.client.senderContext.ui.initialBody=""
i.client.senderContext.ui.initialSubject=""
i.client.senderContext.ui.conversation=e
i.client.senderContext.ui.conversationUrn=e.entityUrn
t.loaded=!1
this.dispatcher.changeState(t)
await t.fetchCourierData(i)}isInterventionEnabled(){const{lix:e}=this.dispatcher.dispatcherStateServices
return null==e?void 0:e.getTreatmentIsEnabled("voyager.web.tsx-enable-intervention-page-for-messages")}},c=(0,n.default)(d.prototype,"loaded",[a.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d)}))
define("msg-ui/utils/dispatcher-states/intervention",["exports","@babel/runtime/helpers/esm/classPrivateMethodGet","msg-ui/utils/dispatcher-states/_state","msg-ui/utils/dispatcher-states/composing","msg-ui/utils/dispatcher-states/auto-close"],(function(e,t,i,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a=new WeakSet
class r extends i.default{constructor(){super(...arguments)
a.add(this)}async fetchCourierData(e){let i
const{courierAPIResults:r}=e,l=null==r?void 0:r.interventionPage
if(l){(0,t.default)(this,a,o).call(this,l,e)
i=new s.default(this.dispatcher)}else i=new n.default(this.dispatcher)
this.dispatcher.changeState(i)
await i.fetchCourierData(e)}onCloseInterventionModal(){this.dispatcher.resetCourierData()}onAcknowledgeInterventionModal(e){const t=new n.default(this.dispatcher)
this.dispatcher.changeState(t)
t.fetchCourierData(e)}}e.default=r
function o(e,t){const{interventionService:i}=this.dispatcher.dispatcherStateServices
if(i){i.interventionModal=e
i.openIntervention((()=>{this.onCloseInterventionModal()}),(()=>{this.onAcknowledgeInterventionModal(t)}))}}}))
define("msg-ui/utils/dispatcher-states/redirect",["exports","@linkedin/jsecure","msg-ui/utils/dispatcher-states/auto-close","msg-ui/utils/dispatcher-states/_state"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class s extends n.default{async fetchCourierData(e){var n,s
const{windowService:a}=this.dispatcher.dispatcherStateServices,{courierAPIResults:r}=e,o=(null==r||null===(n=r.composeOptionResult)||void 0===n||null===(s=n.composeNavigationContext)||void 0===s?void 0:s.targetUrl)??""
o&&(null==a||a.open(t.default.sanitizeUrl(o),"_blank"))
const l=new i.default(this.dispatcher)
this.dispatcher.changeState(l)
await l.fetchCourierData(e)}}e.default=s}))
define("msg-ui/utils/dispatcher-states/replying",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/tracking","msg-ui/utils/dispatcher-states/_state","msg-data/utils/sdk-view-data-helpers","msg-ui/utils/dispatcher-states/auto-close"],(function(e,t,i,n,s,a,r,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,c
e.default=(d=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"loaded",c,this)}refetchCourierData(){var e
const{conversation:t}=this.getInternalDispatcherState().client.senderContext.ui,i=null===(e=this.courierAPIArgs.cVCArgs)||void 0===e?void 0:e.recipientUrns
!t||!i||null!=t&&t.isDraft||this.fetchComposeViewContext(t,i)}fetchComposeViewContext(e,t){this.dispatcher.asyncFetchComposeViewContext({recipientUrns:t,composeOptionType:"REPLY",contextEntityUrn:e.entityUrn}).then((e=>{this.courierAPIResults||(this.courierAPIResults={})
this.courierAPIResults.cVCResult=e
this.dispatcher.stateUpdated()}))}async fetchCourierData(e){var t,i,n,s,a
if(null!==(t=e.client)&&void 0!==t&&null!==(i=t.senderContext)&&void 0!==i&&i.ui&&null!==(n=e.client)&&void 0!==n&&null!==(s=n.senderContext)&&void 0!==s&&null!==(a=s.ui)&&void 0!==a&&a.conversationUrn){const{client:{senderContext:{ui:{conversationUrn:t,isTriggeredByRealtime:i,isMinimized:n,hasUnseenMessages:s,inmailReplyDeepLink:a}}}}=e,g=await this.dispatcher.fetchConversationByUrn(t).catch((e=>{}))
if(g){var r,d,c,u,m,p
const t=this.dispatcher.msgDataManager.getNonSelfParticipantsFromConversationRecord(g),l=t.map((e=>e.hostIdentityUrn))
this.courierAPIArgs={cVCArgs:{recipientUrns:l,composeOptionType:"REPLY",contextEntityUrn:g.entityUrn}}
this.fetchComposeViewContext(g,l)
let h
h=!i||(g.groupChat||(0,o.isInMailConversation)(g)||(0,o.isSponsoredConversation)(g)||(0,o.isSponsoredInMail)(g))
const f=!(i||n||null!=g&&null!==(r=g.disabledFeatures)&&void 0!==r&&r.some((e=>"REPLY"===e.disabledFeature))||(0,o.isSponsoredConversation)(g)||(0,o.isSponsoredInMail)(g)||null!==(d=this.courierAPIResults.cVCResult)&&void 0!==d&&d.showBlockedFooter)
this.setUIState({isNew:!1,conversation:g,conversationUrn:g.entityUrn,hasUnseenMessages:s,inmailReplyDeepLink:a,isMinimized:n,focusInput:f,focusHeader:!i&&!f,isJumbo:h,messageRecipients:t,initialBody:null===(c=e.client)||void 0===c||null===(u=c.senderContext)||void 0===u?void 0:u.ui.initialBody,initialSubject:null===(m=e.client)||void 0===m||null===(p=m.senderContext)||void 0===p?void 0:p.ui.initialSubject})
this.setPayload(e.client.senderContext.payload)
this.dispatcher.stateUpdated()
this.loaded=!0}else{const t=new l.default(this.dispatcher)
this.dispatcher.changeState(t)
await t.fetchCourierData(e)}}}async didSubmitMessage(e){var t,i,n
const s=this.getInternalDispatcherState()
s.client.senderContext.ui.conversation=e
s.client.senderContext.ui.conversationUrn=e.entityUrn
"PREMIUM_INMAIL_FOLLOW_UP_FOOTER"===(null==s||null===(t=s.courierAPIResults)||void 0===t||null===(i=t.cVCResult)||void 0===i||null===(n=i.footer)||void 0===n?void 0:n.type)&&(this.dispatcher.msgDataManager.isRefetchCourierDataOnRealtimeUpdateEnabled?this.refetchCourierData():await this.fetchCourierData(s))}},c=(0,n.default)(d.prototype,"loaded",[a.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d)}))
define("msg-ui/utils/dispatcher-states/undecided",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/tracking","msg-ui/utils/dispatcher-states/_state","msg-ui/utils/dispatcher-states/replying","msg-ui/utils/dispatcher-states/composing","msg-ui/utils/dispatcher-states/upsell","msg-ui/utils/dispatcher-states/redirect"],(function(e,t,i,n,s,a,r,o,l,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,m
e.default=(u=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"loaded",m,this)}async fetchCourierData(e){var t
const i=r.default.DEFAULT_COMPOSE_OPTION_RESULT
let n,s
n=null!=e&&null!==(t=e.courierAPIArgs)&&void 0!==t&&t.composeOptionArgs?await this.dispatcher.fetchComposeOptions(e.courierAPIArgs.composeOptionArgs)??i:i
this.setInternalDispatcherState(e)
this.courierAPIResults={composeOptionResult:n}
const a=this.getInternalDispatcherState(),{composeNavigationContext:u,composeOptionType:m}=n,p=null==u?void 0:u.existingConversationUrn
if(p){a.client.senderContext.ui.conversationUrn=p
s=new o.default(this.dispatcher)}else s="UPSELL"===m?new d.default(this.dispatcher):"REDIRECT"===m?new c.default(this.dispatcher):new l.default(this.dispatcher)
this.dispatcher.changeState(s)
await s.fetchCourierData(a)}},m=(0,n.default)(u.prototype,"loaded",[a.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u)}))
define("msg-ui/utils/dispatcher-states/upsell",["exports","@babel/runtime/helpers/esm/classPrivateMethodGet","global-utils/utils/url","urn-utils","s-upsell/utils/upsell-card-dash-helpers","msg-ui/utils/dispatcher-states/_state","msg-ui/utils/dispatcher-states/auto-close","msg-ui/utils/dispatcher-states/redirect","msg-ui/utils/dispatcher-states/composing"],(function(e,t,i,n,s,a,r,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d=new WeakSet,c=new WeakSet
class u extends a.default{constructor(){super(...arguments)
c.add(this)
d.add(this)}async fetchCourierData(e){var i,n,s
let a
const u=await(0,t.default)(this,c,p).call(this,e)
if(u){(0,t.default)(this,d,m).call(this,u)
a=new r.default(this.dispatcher)}else a=null!==(i=e.courierAPIResults)&&void 0!==i&&null!==(n=i.composeOptionResult)&&void 0!==n&&null!==(s=n.composeNavigationContext)&&void 0!==s&&s.targetUrl?new o.default(this.dispatcher):new l.default(this.dispatcher)
this.dispatcher.changeState(a)
await a.fetchCourierData(e)}}e.default=u
function m(e){const{detachedUpsellModal:t}=this.dispatcher.dispatcherStateServices
if(t){t.upsellCard=e
t.showUpsellModal(null)}}async function p(e){var t,a,r,o,l
let{courierAPIArgs:d,courierAPIResults:c}=e
const u=(null==c||null===(t=c.composeOptionResult)||void 0===t||null===(a=t.composeNavigationContext)||void 0===a?void 0:a.targetUrl)??"",m=(0,i.isUrl)(u)?new URL(u):null,p=null==m?void 0:m.searchParams
let g=!1,h=null==p?void 0:p.get("premiumUpsellSlotUrn")
if(!h){g=!0
h="urn:li:fsd_premiumUpsellSlot:MESSAGE_COMPOSE_TYPEAHEAD"}const f=(null==p?void 0:p.get("profileUrn"))??(null==d||null===(r=d.composeOptionArgs)||void 0===r||null===(o=r.recipientUrns)||void 0===o?void 0:o.pop()),b=h?null===(l=(0,n.extractEntityInfoFromUrn)(h))||void 0===l?void 0:l.id:null,{clientSensor:v,graphql:y,lix:_}=this.dispatcher.dispatcherStateServices
try{var w,M,k,S
const e=await(0,s.queryUpsellCardDataV2)({clientSensor:v,graphql:y,lix:_},{upsellSlot:b},{vieweeProfileUrn:f},!0),t=null==e||null===(w=e.data)||void 0===w||null===(M=w.premiumDashUpsellSlotContentByViewee)||void 0===M||null===(k=M.elements)||void 0===k||null===(S=k[0])||void 0===S?void 0:S.upsellCard
g&&t&&(t.layoutStyle="MODAL")
return t}catch(e){return}}}))
define("msg-ui/utils/file-error",["exports","ember-cloud-filepicker/utils/file-error"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(i,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}))
define("msg-ui/utils/file-result",["exports","ember-cloud-filepicker/utils/file-result"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(i,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}))
define("msg-ui/utils/fix-hoverable-position",["exports","global-utils/utils/is-browser","@ember/debug","ember-batcher"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.fixHoverablePosition=function(e){t.default&&(0,n.readDOM)((()=>{const t=document.querySelector(e)
if(!(t instanceof HTMLElement)){(0,i.debug)("Hoverable element not found")
return}const s=parseInt(getComputedStyle(t).getPropertyValue("top"),10),a=parseInt(getComputedStyle(t).getPropertyValue("left"),10)
isNaN(s)||isNaN(a)?(0,i.debug)("Hoverable element missing top or left property"):(0,n.mutateDOM)((()=>{t.style.position="fixed"
t.style.top=s-window.scrollY+"px"
t.style.left=a-window.scrollX+"px"}))}))}}))
define("msg-ui/utils/get-app-config",["exports","ember-cloud-filepicker/utils/get-app-config"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(i,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}))
define.alias("ember-cli-artdeco-tabs/utils/get-box-model-width","msg-ui/utils/get-box-model-width")
define.alias("client-sensor-web/utils/helpers","msg-ui/utils/helpers")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/utils/mapping-data","msg-ui/utils/mapping-data")
define("msg-ui/utils/marketplace-project-card-constants",["exports","@linkedin/ember-pem/utils/degradation-tracking-metadata"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.MARKETPLACE_PROJECT_DEGRADATION_METADATA=void 0
e.MARKETPLACE_PROJECT_DEGRADATION_METADATA={MARKETPLACE_PROJECT_MESSAGE_CARD:new t.default("marketplace-project-message-card","failed-marketplace-project-message-card",{productName:"Voyager - Services Marketplace_Tier_2",clientSensorGroupName:"service-marketplace",nonDegradedResponseCodes:[]})}}))
define("msg-ui/utils/mentions-helper",["exports","@ember/debug"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){const i=t.participants.reduce(((e,t)=>{var i
e.set(null===(i=t.miniProfile)||void 0===i?void 0:i.entityUrn,!0)
return e}),new Map)
return e.filter((e=>!i.has(e.entityUrn)))}
e.getMembersToInviteByParticipants=function(e,t){const i=t.reduce(((e,t)=>{e.set(t.entity.entityUrn,!0)
return e}),new Map)
return e.filter((e=>!i.has(e.entityUrn)))}}))
define("msg-ui/utils/message-grouper",["exports","@ember/utils"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.dateBoundary=n
e.findNewestMessageSeenByNone=function(e,t){if(t)for(let i=e.length-1;i>=0;i--){const n=t[e.at(i).entityUrn]
if(n&&n.length>0)return i+1}return-1}
e.isDifferentGroup=function(e,t){if(!e||!t)return!0
const n=i(e,t),s=t.deliveredAt-e.deliveredAt>6e4
return n||s}
e.isDifferentSender=i
e.isM2MMessageImmediatelyFollowedByDateBoundary=function(e,t){if(!t)return!0
if("SYSTEM"!==e.messageBodyRenderFormat&&n(e,t))return!0
return!1}
e.isSystemMessageImmediatelyFollowedByM2MMessage=function(e,t){if("SYSTEM"===e.messageBodyRenderFormat&&(!t||"SYSTEM"!==t.messageBodyRenderFormat&&!n(e,t)))return!0
return!1}
e.isSystemMessageImmediatelyPrecededByM2MMessage=function(e,t){if(!e)return!1
if("SYSTEM"===t.messageBodyRenderFormat&&"SYSTEM"!==e.messageBodyRenderFormat&&!n(e,t))return!0
return!1}
e.senderGroupMessageCountHeader=function(e,n,s){let a=!1
const r=i(e,n)
if("SYSTEM"!==n.messageBodyRenderFormat&&r){a=(0,t.isEmpty)(s)||!i(n,s)?2:1}return a}
function i(e,t){return!e||!t||("SYSTEM"===t.messageBodyRenderFormat||"SYSTEM"===e.messageBodyRenderFormat||e.senderUrn!==t.senderUrn)}function n(e,t){const i=new Date(Number(t.deliveredAt)).setHours(0,0,0,0),n=Number(i)
if(!e)return{timestamp:n}
return new Date(Number(e.deliveredAt)).setHours(0,0,0,0)!==n&&{timestamp:n}}}))
define("msg-ui/utils/messaging-gai/messaging-gai-constants",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.feedbackFormType=e.feedbackChoice=e.aiMessageType=e.PREMIUM_GENERATIVE_AI_FEEDBACK_TYPE=e.PREMIUM_GAI_COMPOSE_TRACKING_KEYS=void 0
e.PREMIUM_GENERATIVE_AI_FEEDBACK_TYPE={SEEK_WORK_MESSAGE:"SEEK_WORK_MESSAGE"},e.PREMIUM_GAI_COMPOSE_TRACKING_KEYS={GAI_DRAFT_SUBMIT:"PremiumGeneratedMessageSubmitEvent",GAI_GENERAL_FEEDBACK_SUBMIT:"PremiumGenerativeAIGeneralFeedbackSubmitEvent",GAI_SURVEY_IMPRESSION:"PremiumGenerativeAISurveyImpressionEvent",GAI_SURVEY_SUBMIT:"PremiumGenerativeAISurveySubmitEvent"},e.feedbackFormType={PROFILE:"PROFILE",MESSAGING:"MESSAGING"},e.feedbackChoice={SATISFIED:"SATISFIED",UNSATISFIED:"UNSATISFIED"},e.aiMessageType={AI_GENERATED:"AI_GENERATED",AI_ASSISTED:"AI_ASSISTED",AI_INSIGHT_DRIVEN:"AI_INSIGHT_DRIVEN"}}))
define("msg-ui/utils/mime-type-utils",["exports","ember-cloud-filepicker/utils/mime-type-utils"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(i,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}))
define("msg-ui/utils/msg-anchoring-helpers",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.getMessageIndexToBeAnchoredFromSDKMessages=function(e,t,i){var n
const s=null===(n=i.miniProfile)||void 0===n?void 0:n.dashEntityUrn
for(let i=0;i<t.length;i++){const n=t.at(i),a=i>0?t.at(i-1):void 0,r=a&&e>=a.deliveredAt,o=a&&a.senderUrn===s
if((!a||r||o)&&e<n.deliveredAt&&n.senderUrn!==s)return i}return}}))
define("msg-ui/utils/notification-sounds",["exports","ember","global-utils/utils/is-browser"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.soundPlaybackUtils=e.notificationSounds=void 0
const n="https://media.licdn.com/media/",s=e.notificationSounds=i.default&&window.Audio?{TYPING:new window.Audio(`${n}AAMB_wQiAAgAAQAAAAAAAA0WAAAAJGY1ZGY1NGUxLTY2MzUtNDY0OC1hNGYxLWMwYjRiZDdmMWE4Ng.bin`),SEND:new window.Audio(`${n}AAMB_wQiAAgAAQAAAAAAAAukAAAAJDE2NTM5ZDVkLTU0ZWItNDU0ZS1hMTFlLThlNmM3MjFhMGEyNQ.bin`),RECEIVE:new window.Audio(`${n}AAMBAQQiAAgAAQAAAAAAAAriAAAAJDg2ZWY0MzhjLWQ5YTUtNDgyMy1hZjQ3LWYzM2RlOWRjZmZkYg.bin`)}:{}
e.soundPlaybackUtils={prevTypingSound:null,playSound(e){e===s.TYPING&&(this.prevTypingSound=e)
if(!t.default.testing){var i,n,a
null===(i=e.play)||void 0===i||null===(n=(a=i.call(e)).catch)||void 0===n||n.call(a,(()=>{}))}},stopTypingSound(){t.default.testing||!this.prevTypingSound||this.prevTypingSound.paused||this.prevTypingSound.pause()}}}))
define("msg-ui/utils/realtime-onboarding",["exports","rsvp","global-utils/utils/get-csrf-token"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e,t,i,n,s,a){this.legoResolver=e
this.legoTracking=t
this.msgUserSettings=i
this.storeShim=n
this.tracking=s
this.lix=a
this._legoWidgetTrackingToken=void 0}run(){this._fetchLegoWidget().then((()=>this.msgUserSettings.getRealtimeSettingExplicitlyChosen())).then((e=>{if(!e){this.tracking.firePageViewEvent("flagship3_messaging_realtime_onboarding")
return this._enableRealtimeSettings()}})).then((()=>this._dismissLegoWidget()))}_fetchLegoWidget(){return this.legoResolver.fireLegoCall({pageKey:"messaging_realtime",slotId:"onboarding",groupId:"onboarding_group",widgetId:"realtime_onboarding"},!0,!0).then((e=>{if(!e)return(0,t.reject)()
this._legoWidgetTrackingToken=e.trackingToken
return e}))}_dismissLegoWidget(){this.legoTracking.sendLegoAction(this._legoWidgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)}_enableRealtimeSettings(){return this.storeShim.adapterFor("-ember-m3").ajax("/psettings/seen-receipts","post",{data:{seenReceiptsEnabled:!0,csrfToken:(0,i.default)()},headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{var t
const i=null===(t=e.result)||void 0===t?void 0:t.responseCode
if(200!==i)throw new Error(`failed to set realtime setting, responseCode: ${i}`)}))}}}))
define("msg-ui/utils/uuid-generator",["exports","ember-uuid/utils/uuid-generator"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}})
Object.defineProperty(e,"unparse",{enumerable:!0,get:function(){return t.unparse}})
Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.v1}})
Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return t.v4}})}))
define("msg-ui/utils/validation-helpers",["exports","ember-cloud-filepicker/utils/validation-helpers"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(i,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}))
define.alias("ember-vector-images/utils/vector-url","msg-ui/utils/vector-url")
define("msg-ui/utils/window-helpers",["exports","ember-cloud-filepicker/utils/window-helpers"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(i,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}))
define("msg-ui/viewdata/inmail-compose-form-viewdata",["exports","global-helpers/helpers/name","msg-data/viewdata","presence/viewdata/host-entity-with-presence-viewdata"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class s extends i.default{get composeViewContext(){return this.props.composeViewContext}get footerIcon(){var e
return this.composeViewContext&&(null===(e=this.composeViewContext.value)||void 0===e?void 0:e.footerIcon)}get footerText(){var e
return this.composeViewContext&&(null===(e=this.composeViewContext.value)||void 0===e?void 0:e.footerText)}get recipientProfile(){return this.props.recipients[0]}get recipientParticipantProfileUrl(){const e=this.recipientProfile.publicIdentifier
if(e)return this.props.router.urlFor("profile.common.profile",{vanityName:e})}get recipientEntityUrn(){return this.recipientProfile.entityUrn}get recipientName(){const e=(0,t.getName)(this.recipientProfile)
return e&&this.props.formatName(e,"full")}get recipientOccupation(){return this.recipientProfile.headline}get entityWithPresenceViewData(){return new n.default({profile:this.recipientProfile,altText:this.recipientName})}get fetchInmailCredits(){return this.props.msgDataManager.fetchInmailCredits().then((e=>e.inMail))}}e.default=s}))
define("msg-ui/viewdata/sdk-base-form-viewdata",["exports","msg-data/viewdata","msg-data/utils/sdk-view-data-helpers","msg-shared/utils/constants","global-helpers/helpers/name","msg-mentions/viewdata/sdk-mentions-picker-viewdata","msg-mentions/viewdata/sdk-mention-to-invite-toast-viewdata","msg-ui/viewdata/sdk-forwarded-message-viewdata","msg-shared/utils/urn-id-helpers"],(function(e,t,i,n,s,a,r,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const{MESSAGE_TYPE:d}=n.default
class c extends t.default{get conversationUrn(){const{conversation:e}=this.props
return(null==e?void 0:e.entityUrn)??(null==e?void 0:e.clientId)}get conversationId(){var e
const{conversationUrn:t}=this
return t?(0,l.extractMailboxAndConversationId)(t).conversationId:null===(e=this.props.conversation)||void 0===e?void 0:e.clientId}get conversationParticipants(){var e
const{conversation:t,formatter:i}=this.props
return(null==t||null===(e=t.decoratedParticipants)||void 0===e?void 0:e.map((e=>{const t=i.formatName(e,"full"),{hostIdentityUrn:n,firstName:s,lastName:a}=e
return{profile:e,fullName:t,entity:{entityUrn:n,firstName:s,lastName:a}}})))??[]}get firstRecipientEntityUrn(){var e,t
return null===(e=this.props.recipients)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.entityUrn}get latestEvent(){const{conversation:e}=this.props
return(0,i.getLatestMessage)(e)}get isInMail(){return(0,i.messageHasInMailHostUrnData)(this.latestEvent)}get isInMailConversation(){return(0,i.isInMailConversation)(this.props.conversation)}get messageReplyType(){return this.isInMailConversation?d.INMAIL_REPLY:(0,i.isSponsoredConversation)(this.props.conversation)?d.SPONSORED_MESSAGE_REPLY:d.M2M}get isRecruiterInmail(){return(0,i.messageHasInMailProductType)(this.latestEvent,"RECRUITER_INMAIL")}get inmailProductType(){return this.isRecruiterInmail?"RECRUITER":(0,i.messageHasInMailProductType)(this.latestEvent,"SALES_INMAIL")?"SALES":null}get isGroupChat(){const{conversation:e}=this.props
return!!e&&e.groupChat}get isGroupChatWithAddParticipantFeature(){const{conversation:e}=this.props
return!!e&&(this.isGroupChat&&!e.disabledFeatures.find((e=>"ADD_PARTICIPANT"===e.disabledFeature)))}get isReplyDisabled(){var e,t
return null===(e=this.props.conversation)||void 0===e||null===(t=e.disabledFeatures)||void 0===t?void 0:t.some((e=>"REPLY"===e.disabledFeature))}get connectionMentions(){var e
if(null===(e=this.props.connectionMentionData)||void 0===e||!e.typeaheadResultsViewData)return[]
const{conversationMentions:t,connectionMentionData:{tokenSelection:i,typeaheadResultsViewData:n}}=this.props,a=t.map((e=>{var t
return null===(t=e.mentionedMemberProfile)||void 0===t?void 0:t.hostIdentityUrn}))
return n.filter((e=>-1===a.indexOf(e.entityUrn))).map(((e,t)=>{const{profileAPIModel:n}=e,a=`@${this.props.formatter.formatName((0,s.getName)(n),"full")}`,r={entityUrn:n.entityUrn,firstName:n.firstName,lastName:n.lastName}
return{mentionedMemberProfile:n,editorAttribute:{index:t,tokenSelection:i,entity:r,entityUrn:r.entityUrn,match:{start:i.start,length:a.length,text:a}}}}))}get mentionsPickerViewData(){const{conversationMentions:e,formatter:t}=this.props
return new a.default({conversationParticipantMentions:e,connectionMentions:this.connectionMentions,formatter:t})}get mentionToInviteToastViewData(){const{conversation:e,participants:t,presenceAPI:i}=this.props
return new r.default({conversation:e,participants:t,presenceAPI:i})}get forwardedMessageViewData(){const{forwardedMessage:e}=this.props
if(e)return new o.default({conversation:this.props.conversation,forwardedMessage:e,forwardedMessageContent:void 0,formatter:this.props.formatter,i18n:this.props.i18n,sender:this.props.participants[e.senderUrn]})}}e.default=c}))
define("msg-ui/viewdata/sdk-compose-viewdata",["exports","msg-shared/utils/urn-id-helpers","msg-data/viewdata","msg-shared/utils/view-data-helpers"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class s extends i.default{get conversationId(){const{conversation:e}=this.props
return e&&e.entityUrn?(0,t.extractMailboxAndConversationId)(e.entityUrn).conversationId:null}get numOfRecipients(){const{messageRecipients:e}=this.props
return e&&e.length}get recipientUrns(){const{messageRecipients:e}=this.props
return e&&e.map((e=>(0,n.getProfileDashUrn)(e)))||[]}}e.default=s}))
define("msg-ui/viewdata/sdk-conversation-entity-viewdata",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","tracked-toolbox","msg-data/viewdata","presence/viewdata/sdk-entity-with-presence-viewdata","msg-facepile-grid/viewdata/sdk-facepile-viewdata","msg-data/utils/sdk-view-data-helpers"],(function(e,t,i,n,s,a,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o
e.default=(o=class extends n.default{get hasPresenceInformation(){return(0,r.shouldShowPresenceInformationForConversation)(this.props.conversation,this.props.msgDataManager,this.props.authenticatedUserMiniProfile)}get entityWithPresenceViewData(){if(!this.hasPresenceInformation)return
const[e]=(0,r.getNonSelfParticipants)(this.props.participants,this.props.authenticatedUserMiniProfile)
return e?new s.default({participant:e,altText:e?(0,r.formatProfilePhotoAltText)(this.props.formatter.formatName(e,"full"),e.profileFrameA11yContent):""}):void 0}get facepileViewData(){if(this.hasPresenceInformation)return
const{conversation:e,formatter:t}=this.props,i=e.groupChat?this.props.participants:this.nonSelfParticipants
return new a.default({participants:i,isGroupChat:e.groupChat,formatter:t})}get isOrganization(){return this.nonSelfParticipants[0].kind===r.PARTICIPANT_TYPES.ORGANIZATION}get hasParticipants(){return!!this.props.participants.length}get isConversationWithCustomSender(){return!!this.customSender}get customSender(){return this.nonSelfParticipants.find((e=>e.kind===r.PARTICIPANT_TYPES.CUSTOM))}get isConversationWithAdvertiser(){const{conversation:e}=this.props
return e&&(0,r.isConversationWithAdvertiser)(e)}get isConversationAdMemberSender(){return(0,r.isConversationAdMemberSender)(this.props.conversation,this.props.authenticatedUserMiniProfile)}get nonSelfParticipants(){return(0,r.getNonSelfParticipants)(this.props.participants,this.props.authenticatedUserMiniProfile,(0,r.isConversationWithAdvertiser)(this.props.conversation))}},(0,t.default)(o.prototype,"entityWithPresenceViewData",[i.cached],Object.getOwnPropertyDescriptor(o.prototype,"entityWithPresenceViewData"),o.prototype),(0,t.default)(o.prototype,"facepileViewData",[i.cached],Object.getOwnPropertyDescriptor(o.prototype,"facepileViewData"),o.prototype),o)}))
define("msg-ui/viewdata/sdk-conversation-list-item-viewdata",["exports","global-utils/utils/trusted-html-safe","msg-ui/helpers/is-current-year","msg-shared/utils/urn-id-helpers","msg-data/viewdata","msg-ui/viewdata/sdk-conversation-entity-viewdata","msg-shared-modals/viewdata/sdk-conversation-header-dropdown-menu-viewdata","msg-data/utils/sdk-view-data-helpers","msg-shared/utils/custom-tracking","msg-cross-pillar/components/message-snippet"],(function(e,t,i,n,s,a,r,o,l,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class c extends s.default{get isDraftConversation(){return this.props.msgDataManager.isServerSideDraftsEnabled&&this.props.conversation.isDraft}get id(){return(0,n.extractMailboxAndConversationId)(this.props.conversation.entityUrn).conversationId}get entityUrn(){return this.props.conversation.entityUrn}get isArchived(){return this.props.conversation.categories.includes("ARCHIVE")}get isStarred(){const{categories:e,isDraft:t}=this.props.conversation
return!(this.props.msgDataManager.isServerSideDraftsEnabled&&t||!e)&&e.includes("STARRED")}get isJob(){const{categories:e,isDraft:t}=this.props.conversation
return!(this.props.msgDataManager.isServerSideDraftsEnabled&&t||!e)&&e.includes("JOB")}get isRead(){return this.props.conversation.read??!0}get isMute(){return"MUTE"===this.props.conversation.notificationStatus}get conversationUnreadCount(){const e=this.props.conversation.unreadCount??0
return e>=0?e:0}get conversationParticipants(){return this.props.conversation.decoratedParticipants}get conversationRecipients(){var e
return null===(e=this.props.conversation.recipients)||void 0===e?void 0:e.filter((e=>e!==this.props.authenticatedUserMiniProfile.dashEntityUrn))}get title(){const{conversation:e,formatter:t}=this.props
if(e.groupChat)return e.title?e.title:this._groupChatParticipantsText()
const i=this._getNonSelfParticipants()
return i.length>0?(0,o.getParticipantNameByKind)(i[0],t,"full"):this.props.i18n.lookupTranslation(d.default,"i18n_just_you")()}get timestampText(){const{latestMessage:e,draftMessage:t}=this,{currentConvosFilter:n}=this.props
if(!e&&!t)return null
const s=null==e?void 0:e.deliveredAt,a=null==t?void 0:t.lastEditedAt,{props:{nowTimestamp:r,formatter:o}}=this
let l=s
this.props.msgDataManager.isServerSideDraftsEnabled&&(l="DRAFTS"===n?a||s:s||a)
return l.getTime()>new Date(r).setHours(0,0,0,0)?o.formatTime(l,"fmt_hm",!0):o.formatDate(l,(0,i.isCurrentYearWithNowTimestamp)(l,r)?"fmt_md_medium":"fmt_mdy_medium",!0)}get messageSnippetIcon(){const{latestMessage:e,draftMessage:t}=this
if(!e&&!t)return null
if(this.props.msgDataManager.isServerSideDraftsEnabled&&this.isConversationWithNonEmptyDraftMessage)return"edit"
const{optionalSendData:i}=e
if(i){const{renderContent:e}=i
if(e&&e.length>0&&this._shouldRenderAttachmentDetails(e[0].vectorImage,e[0].file))return"attachment"}return this._messageHasLocationShare(this.latestMessage)?"location-marker":null}get isConversationWithAdvertiser(){return(0,o.isConversationWithAdvertiser)(this.props.conversation)}get isConversationWithNonEmptyDraftMessage(){var e
const{draftMessage:t}=this.props.conversation
return!(null==t||null===(e=t.content)||void 0===e||!e.text)}get messageSnippetPillText(){var e
const{conversation:t}=this.props
return null===(e=t.conversationTypeText)||void 0===e?void 0:e.text}get conversation(){return this.props.conversation}get conversationBackendUrn(){var e
return null===(e=this.props.conversation)||void 0===e?void 0:e.backendUrn}get controlName(){var e,t
const{conversation:i}=this.props
return null!==(e=i.categories)&&void 0!==e&&e.includes("MESSAGE_REQUEST_PENDING")?"view_message_request_conversation":null!==(t=i.categories)&&void 0!==t&&t.includes("MESSAGE_REQUEST_DECLINED")?"view_declined_message_request_conversation":"view_message"}get messageSnippetText(){var e,i
const{latestMessage:n,draftMessage:s}=this,{conversation:a}=this.props
if(!n&&!s)return null
if(this.props.msgDataManager.isServerSideDraftsEnabled&&this.isConversationWithNonEmptyDraftMessage)return this._messageContentSummary(s)
if("RECALLED"===(null==n?void 0:n.messageBodyRenderFormat))return(0,t.default)(this.props.i18n.lookupTranslation(d.default,"i18n_message_deleted")())
if("SYSTEM"===(null==n?void 0:n.messageBodyRenderFormat))return n.content.text
if(null!=n&&n.inlineWarning)return n.inlineWarning.obfuscatedMessageWarning.text
const r=!(null===(e=a.contentMetadata)||void 0===e||null===(i=e.conversationAdContent)||void 0===i||!i.sponsoredPreviewText)
return(0,o.isSponsoredConversation)(a)&&r?a.contentMetadata.conversationAdContent.sponsoredPreviewText:(0,o.isSponsoredConversation)(a)?n.content.text:(0,o.isInMailConversation)(a)&&n.subject?n.subject:this._messageContentSummary(n)}_messageContentSummary(e){let i
const n={},{msgDataManager:s}=this.props,a=this._latestMessageIsFromCurrentUser()
if(!a){const t=this.props.msgDataManager.mailboxParticipants[e.senderUrn]
let i=t
i=t?t.kind===o.PARTICIPANT_TYPES.ORGANIZATION?t.name.text:this.props.formatter.formatName(t):""
n.senderName=i}const{content:r,optionalSendData:l}=e
if(s.isServerSideDraftsEnabled&&this.isConversationWithNonEmptyDraftMessage)return r.text
if(l){const{renderContent:e}=l
if(e&&e.length>0){var c,u
const t=e[0]
if(t.forwardedMessageContent)i=a?"i18n_you_forwarded":"i18n_other_user_forwarded_preformatted_name"
else if(this._shouldRenderAttachmentDetails(t.vectorImage,t.file)){i=a?"i18n_you_sent_x_attachments":"i18n_sender_sent_x_attachments_v2"
n.count=e.filter((e=>e.vectorImage||e.file)).length}else if(t.externalMedia)i=a?"i18n_you_sent_gif":"i18n_sender_sent_gif_preformatted_name"
else if(t.audio)i=a?"i18n_you_sent_voice_message":"i18n_sender_sent_voice_message_preformatted_name"
else if(t.video)i=a?"i18n_you_sent_video":"i18n_sender_sent_video_preformatted_name"
else if("PROFILE_VIDEO"===(null===(c=t.hostUrnData)||void 0===c?void 0:c.type))i=a?"i18n_you_sent_story":"i18n_sent_you_story_preformatted_name"
else if("FEED_UPDATE"===(null===(u=t.hostUrnData)||void 0===u?void 0:u.type)){n.shareContentType=(0,o.getShareContentType)(t.hostUrnData)
i=a?"i18n_you_sent_share_content_v3":"i18n_sender_share_content_v3"}else if(t.videoMeeting)i=a?"i18n_you_sent_virtual_meeting":"i18n_sent_you_a_virtual_meeting_preformatted_name"
else if(t.awayMessage){i=a?"i18n_you_said_message":"i18n_sender_said_message_v2"
n.body=t.awayMessage.text.text}}}if(!i&&r.text)if(this._messageHasLocationShare(e))i=a?"i18n_you_sent_location":"i18n_sender_sent_location_preformatted_name"
else{i=a?"i18n_you_said_message":"i18n_sender_said_message_v2"
n.body=r.text}return i?(0,t.default)(this.props.i18n.lookupTranslation(d.default,i)([n])):""}_messageHasLocationShare(e){var t,i
return null===(t=e.content)||void 0===t||null===(i=t.text)||void 0===i?void 0:i.startsWith("https://www.bing.com/maps?cp=")}_latestMessageIsFromCurrentUser(){return!!this.latestMessage&&this.latestMessage.senderUrn===this.props.authenticatedUserMiniProfile.dashEntityUrn}get toggleReadButtonTitle(){let e
const i={isRead:this.isRead,threadName:"",names:[]}
if(this.props.conversation.title){e="i18n_mark_as_read_unread_thread_name"
i.threadName=this.props.conversation.title}else{e="i18n_mark_as_read_unread_participants"
i.names=this._getNonSelfParticipants().map((e=>({firstName:null==e?void 0:e.firstName,lastName:null==e?void 0:e.lastName,maidenName:null==e?void 0:e.maidenName})))}return(0,t.default)(this.props.i18n.lookupTranslation("components/msg-ui@conversation-list-item-viewdata-i18n",e)([i]))}get nudgeText(){var e
const t=this.props.msgDataManager.nudgingDataManager.getNudge(this.entityUrn)
return null==t||null===(e=t.nudgeText)||void 0===e?void 0:e.text}get messageRequestContext(){return this.props.conversation.shortHeadlineText}get showMessageRequestContext(){return!(0,o.isConversationWithCompany)(this.props.conversation,this.props.authenticatedUserMiniProfile)&&this.messageRequestContext}get participantTrackingUrns(){const{conversationParticipants:e}=this
return e?(0,l.getParticipantTrackingUrns)(e,!0):[]}get participantPresenceStatuses(){const{conversation:e,presenceAPI:t}=this.props
return(0,o.getParticipantPresenceStatuses)(e.participants,t)}get isGroupChat(){return this.props.conversation.groupChat}get isSponsoredInMail(){return(0,o.isSponsoredInMail)(this.props.conversation)}get participantNames(){return this.conversationParticipants}get conversationEntityViewData(){return new a.default({conversation:this.props.conversation,latestMessage:this.latestMessage,participants:this.conversationParticipants,authenticatedUserMiniProfile:this.props.authenticatedUserMiniProfile,msgDataManager:this.props.msgDataManager,formatter:this.props.formatter})}get conversationHeaderDropdownMenuViewData(){return new r.default({conversation:this.props.conversation,authenticatedUserProfile:this.props.authenticatedUserMiniProfile,participants:this.conversationParticipants,i18n:this.props.i18n,formatter:this.props.formatter,presenceAPI:this.props.presenceAPI,isInteractiveMessagingComponent:!1})}get latestMessage(){return(0,o.getLatestMessage)(this.props.conversation)}get draftMessage(){return(0,o.getDraftMessage)(this.props.conversation)}_shouldRenderAttachmentDetails(e,t){return(e||t)&&!(0,o.isSponsoredConversation)(this.props.conversation)}_getNonSelfParticipants(){return(0,o.getNonSelfParticipants)(this.conversationParticipants,this.props.authenticatedUserMiniProfile,this.isConversationWithAdvertiser)}_groupChatParticipantsText(){const{authenticatedUserMiniProfile:e,i18n:i}=this.props
return(0,t.default)(this.props.i18n.lookupTranslation("components/msg-ui@conversation-list-item-viewdata-i18n","i18n_conversation_familiar_names")([{names:(0,o.participantNamesWithSelf)(this.conversationParticipants,e,!0,i)}]))}}e.default=c}))
define("msg-ui/viewdata/sdk-edit-message-footer-viewdata",["exports","msg-data/viewdata"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{get eventCreatedAt(){return this.props.messageEventToEdit.createdAt}get conversationUrn(){return this.props.conversationEntityUrn}get eventUrn(){return this.props.messageEventToEdit.entityUrn}}e.default=i}))
define("msg-ui/viewdata/sdk-feed-update-viewdata",["exports","msg-data/viewdata","msg-ui/viewdata/sdk-message-hover-actions-viewdata"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class n extends t.default{get feedUpdateUrn(){return this.props.feedUpdateUrn}get eventCreatedAt(){return this.props.message.deliveredAt}get messageHoverActionsViewData(){return new i.default({message:this.props.message,conversation:this.props.conversation,sender:this.props.sender,formatter:this.props.formatter})}}e.default=n}))
define("msg-ui/viewdata/sdk-file-attachment-viewdata",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","global-utils/utils/file-size-formatter","msg-shared/utils/file-meta","msg-data/viewdata","msg-ui/viewdata/sdk-message-hover-actions-viewdata","tracked-toolbox"],(function(e,t,i,n,s,a,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o
e.default=(o=class extends s.default{get downloadUrl(){return this.isImage?this.props.attachment.vectorImage.rootUrl:this.props.attachment.file.url}get isImage(){var e
return!(null===(e=this.props.attachment)||void 0===e||!e.vectorImage)}get filename(){return this.isImage?void 0:jSecure.htmlUnencode(this.props.attachment.file.name)}get mediaTypeExtension(){return this.isImage?void 0:(0,n.mediaTypeExtension)(this.props.attachment.file.mediaType)}get formattedSize(){return this.isImage?void 0:(0,i.default)(this.props.attachment.file.byteSize,this.props.i18n)}get messageHoverActionsViewData(){return new a.default({message:this.props.message,sender:this.props.sender,formatter:this.props.formatter,conversation:this.props.conversation})}get attachmentAPIModel(){return this.props.attachment}get mediaAssetUrn(){return this.isImage?this.props.attachment.vectorImage.digitalmediaAsset:void 0}get vectorImage(){return this.isImage?this.props.attachment.vectorImage:void 0}get uniqueIdentifier(){return this.isImage?this.props.attachment.vectorImage.digitalmediaAsset:this.props.attachment.file.assetUrn}},(0,t.default)(o.prototype,"messageHoverActionsViewData",[r.cached],Object.getOwnPropertyDescriptor(o.prototype,"messageHoverActionsViewData"),o.prototype),o)}))
define("msg-ui/viewdata/sdk-forwarded-message-viewdata",["exports","global-utils/utils/trusted-html-safe","msg-data/viewdata","msg-ui/viewdata/sdk-message-sender-entity-viewdata"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class s extends i.default{get senderName(){const{formatter:e,sender:t}=this.props
return t&&e.formatName(t,"full")}get participantProfileUrl(){var e
return null===(e=this.props.sender)||void 0===e?void 0:e.profile.url}get timestampText(){const{forwardedMessage:e,forwardedMessageContent:i,formatter:n,i18n:s}=this.props
let a
a=e?e.deliveredAt:i.originalSendAt
const r=n.formatDate(a,"fmt_md_medium",!0),o=n.formatTime(a,"fmt_hm",!0)
return(0,t.default)(s.lookupTranslation("components/msg-ui@forwarded-message-presenter","i18n_original_sent_date")([{dayMonth:r,hourMinute:o}]))}get messageBodyText(){const{forwardedMessage:e,forwardedMessageContent:t}=this.props
return e?e.content.text:t.forwardedBody.text}get messageBody(){var e
return null===(e=this.props)||void 0===e?void 0:e.forwardedMessageContent}get messageSenderEntityViewData(){const{formatter:e,sender:t,conversation:i}=this.props
return new n.default({conversation:i,sender:t,formatter:e})}}e.default=s}))
define("msg-ui/viewdata/sdk-inline-warning-viewdata",["exports","msg-data/viewdata","msg-shared-modals/viewdata/sdk-conversation-semaphore-viewdata"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class n extends t.default{get conversationUrn(){var e
return null===(e=this.props.conversation)||void 0===e?void 0:e.entityUrn}get messageUrn(){return this.props.message.entityUrn}get warningText(){var e,t
return null===(e=this.props.message.inlineWarning)||void 0===e||null===(t=e.inlineWarningPrompt)||void 0===t?void 0:t.text}get messageBackendUrn(){return this.props.message.backendUrn}get messageSenderProfileUrn(){return this.props.message.senderUrn}get conversationSemaphoreViewData(){const{conversation:e,presenceAPI:t}=this.props
return new i.default({conversation:e,presenceAPI:t})}}e.default=n}))
define("msg-ui/viewdata/sdk-inmail-quick-action-footer-viewdata",["exports","msg-data/viewdata"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{get inmailType(){var e,t,i
const{latestMessage:n}=this.props,{optionalSendData:s}=n
if(!s)return!1
const{renderContent:a}=s
return!(!a||0===a.length)&&("RECRUITER_INMAIL"===(null===(e=a[0].hostUrnData)||void 0===e?void 0:e.type)?"lts":"SALES_INMAIL"===(null===(t=a[0].hostUrnData)||void 0===t?void 0:t.type)?"lss":"PREMIUM_INMAIL"===(null===(i=a[0].hostUrnData)||void 0===i?void 0:i.type)&&"premium")}}e.default=i}))
define("msg-ui/viewdata/sdk-interactive-messaging-component-viewdata",["exports","msg-data/viewdata","msg-shared-modals/viewdata/sdk-conversation-header-dropdown-menu-viewdata","urn-utils","global-utils/utils/trusted-html-safe"],(function(e,t,i,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class a extends t.default{get id(){return(0,n.extractEntityInfoFromUrn)(this.entityUrn).id}get entityUrn(){var e,t
return null===(e=this.props.model.renderContent)||void 0===e||null===(t=e.conversationStarterAd)||void 0===t?void 0:t.creativeUrn}get title(){return this.props.model.title}get contextText(){return(0,s.default)(this.props.model.contextText.text.replace(/\n+/g," "))}get shortText(){return this.props.model.shortText}get images(){return this.props.model.images}get participantNames(){return this.conversationParticipants}get conversationHeaderDropdownMenuViewData(){return new i.default({conversation:this.props.model,authenticatedUserProfile:this.props.authenticatedUserMiniProfile,participants:[],i18n:this.props.i18n,formatter:this.props.formatter,presenceAPI:this.props.presenceAPI,isInteractiveMessagingComponent:!0})}}e.default=a}))
define("msg-ui/viewdata/sdk-message-hover-actions-viewdata",["exports","global-helpers/helpers/name","msg-data/viewdata","msg-data/utils/sdk-view-data-helpers"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class s extends i.default{get messageActorUrn(){return this.props.message.actorUrn}get messageUrn(){return this.props.message.entityUrn}get conversationUrn(){return this.props.conversation.entityUrn}get isConversationRead(){return this.props.conversation.read}get senderFamiliarName(){if(!this.props.sender)return""
const e=(0,t.getName)(this.props.sender)
return e?this.props.formatter.formatName(e,"familiar"):""}get senderFullName(){if(!this.props.sender)return""
const e=(0,t.getName)(this.props.sender)
return e?this.props.formatter.formatName(e,"full"):""}get messageTextBody(){return this.props.message.content}get isMessageSentByCompany(){return this.props.sender.kind===n.PARTICIPANT_TYPES.ORGANIZATION}get isReplyEnabled(){return(0,n.isConversationFeatureSupported)(this.props.conversation,"REPLY_TO_MESSAGE")}get senderParticipantProfileUrl(){var e,t
if(this.isMessageSentByCompany){var i
return null===(i=this.props.sender)||void 0===i?void 0:i.pageUrl}return null===(e=this.props.sender)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.url}get messageSubject(){}get messageSubtype(){}get messageAPIModel(){return this.props.message}}e.default=s}))
define("msg-ui/viewdata/sdk-message-list-item-system-message-viewdata",["exports","msg-data/viewdata"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{get messageTextBody(){return this.props.message.content}get hasSystemMessageBodyRenderFormat(){return!0}get isParticipantChangeSystemMessage(){return!1}}e.default=i}))
define("msg-ui/viewdata/sdk-message-list-item-user-message-viewdata",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","global-helpers/helpers/name","msg-shared/utils/urn-id-helpers","urn-utils","tracked-toolbox","msg-data/viewdata","msg-ui/viewdata/sdk-reaction-summary-viewdata","msg-ui/viewdata/sdk-file-attachment-viewdata","msg-ui/viewdata/sdk-message-hover-actions-viewdata","msg-ui/viewdata/sdk-feed-update-viewdata","global-utils/utils/url","msg-data/utils/sdk-view-data-helpers","msg-ui/viewdata/sdk-forwarded-message-viewdata","msg-ui/viewdata/sdk-inline-warning-viewdata","msg-ui/viewdata/sdk-story-viewdata","global-helpers/utils/get-attributed-text-html","global-utils/utils/trusted-html-safe","msg-shared/utils/decorate-attributed-body"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g,h,f,b,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y
e.default=(y=class extends r.default{get messageUrn(){return this.props.message.entityUrn}get conversationUrn(){return this.props.conversation.entityUrn}get conversationId(){return(0,n.extractMailboxAndConversationId)(this.props.conversation.entityUrn).conversationId}get senderName(){return this.props.sender?(0,i.getName)(this.props.sender):{}}get senderFamiliarName(){return this.props.formatter.formatName(this.senderName,"familiar")}get senderFullName(){return this.props.formatter.formatName(this.senderName,"full")}get isSentByCurrentUser(){const{props:{message:e,authenticatedUserMiniProfile:t}}=this
return t.dashEntityUrn===e.senderUrn}get hasBeenEdited(){return"EDITED"===this.props.message.messageBodyRenderFormat}get messageAttributedBody(){const{message:e}=this.props,t=(0,m.getAwayMessage)(e)
return t?t.text:this.props.message.content}get urlToUnroll(){var e,t
const i=null===(e=this.messageAttributedBody)||void 0===e?void 0:e.text,n=(0,u.getUrlsFromText)(i,!0).filter((e=>e.toLowerCase()))
return!(0,m.messageHasInMailHostUrnData)(this.props.message)&&!(null!==(t=this.fileAttachmentViewDataItems)&&void 0!==t&&t.length)&&!this.hasArticleOrUpdate&&!this.smpContent&&i&&1===n.length&&!u.CONTAINS_GROUPCHATLINK_REGEX.test(n[0])&&n[0]}get messageCreatedAt(){return this.props.message.deliveredAt}get isError(){return"Failed"===this.props.message.status}get messageSubType(){return(0,m.messageHasInMailHostUrnData)(this.props.message)?"INMAIL":(0,m.isSponsoredInMailMessage)(this.props.message)?"SPONSORED_INMAIL":(0,m.isSponsoredMessage)(this.props.message)?"SPONSORED_MESSAGE":void 0}get isSponsoredConversation(){return(0,m.isSponsoredConversation)(this.props.conversation)}get spinmailContent(){return(0,v.convertToAttributedTextV2)(this.messageAttributedBody,this.props.jet,!0)}get isRichText(){var e,t
return!(null===(e=this.messageAttributedBody)||void 0===e||null===(t=e.attributes)||void 0===t||!t.length)}get subject(){return this.props.message.subject}get gif(){var e,t
const i=null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t?void 0:t.renderContent
if(!i||0===i.length)return
const{externalMedia:n}=i.find((e=>e.externalMedia))||{}
return n?{...n.media||{}}:void 0}get digitalMediaConferenceUrn(){var e,t
return null===(e=(0,m.getContentWithVideoMeeting)(this.props.message))||void 0===e||null===(t=e.videoMeeting)||void 0===t?void 0:t.entityUrn}get virtualMeetingTimeRange(){var e
return null===(e=(0,m.getContentWithVideoMeeting)(this.props.message))||void 0===e?void 0:e.timeRange}get isRecalled(){return"RECALLED"===this.props.message.messageBodyRenderFormat}get hasForwardedContent(){var e,t,i
return!(null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t||null===(i=t.renderContent)||void 0===i||!i.find((e=>!!e.forwardedMessageContent)))}get repliedMessageContentDisplayText(){var e,t,i
const n=null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t||null===(i=t.renderContent)||void 0===i?void 0:i.map((e=>e.repliedMessageContent)).filter((e=>!!e))[0]
if(!n)return
let a
n.originalSenderUrn?a=(0,s.extractEntityInfoFromUrn)(n.originalSenderUrn).id:n.originalSender&&(a=n.originalSender.hostIdentityUrn)
const r=this.props.mailboxParticipants[a]
if(!r)return
const o=(0,m.getParticipantNameByKind)(r,this.props.formatter,"familiar")
return(0,b.default)(this.props.i18n.lookupTranslation("components/msg-ui@primitives/message-list-item-user-message-presenter","i18n_reply_to_template")([{senderName:o,messageContent:n.messageBody.text}]))}get footerTextViewModel(){const{message:e}=this.props,t=(0,m.getAwayMessage)(e)
if(t)return t.footerText}get smpContent(){var e,t,i,n,s
return null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t||null===(i=t.renderContent)||void 0===i||null===(n=i.find((e=>{var t
return"SMP_MESSAGE_CARD"===(null===(t=e.hostUrnData)||void 0===t?void 0:t.type)})))||void 0===n||null===(s=n.hostUrnData)||void 0===s?void 0:s.hostUrn}get feedUpdateUrn(){var e,t,i,n,s
return null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t||null===(i=t.renderContent)||void 0===i||null===(n=i.find((e=>{var t
return"FEED_UPDATE"===(null===(t=e.hostUrnData)||void 0===t?void 0:t.type)})))||void 0===n||null===(s=n.hostUrnData)||void 0===s?void 0:s.hostUrn}get hasArticleOrUpdate(){const{feedUpdateUrn:e}=this
return e&&/article|activity|contentTopic|lyndaCourse/.test(e)}get jobPostingReferral(){}get allowMessageForward(){return!(0,m.isSponsoredConversation)(this.props.conversation)&&!this.props.message.inlineWarning&&!this.storyItemUrn}get allowReactions(){const{status:e}=this.props.message
return!this.props.conversation.disabledFeatures.some((e=>"REACTIONS"===e.disabledFeature))&&("Sent"===e||"Delivered"===e)}get allowMessageEdit(){const{status:e,messageBodyRenderFormat:t}=this.props.message,i="Pending"!==e&&"Sending"!==e,n=!(0,m.isSponsoredConversation)(this.props.conversation),s="SYSTEM"!==t&&"RECALLED"!==t&&("DEFAULT"===t||"EDITED"===t)
return this.isSentByCurrentUser&&i&&n&&s}get storyItemUrn(){var e
return null===(e=(0,m.getProfileVideoHostUrn)(this.props.message))||void 0===e?void 0:e.replace("urn:li:fsd_messagingProfileVideo:","urn:li:fs_messagingStoryItem:").replace("fsd_storyItem:","fs_storyItem:")}get replyToContent(){}get isJobSeekerRequestReferral(){}get referral(){}get mediaAttachments(){var e,t
const i=null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t?void 0:t.renderContent
if(i&&0!==(null==i?void 0:i.length))return this.props.message.optionalSendData.renderContent.filter((e=>e.audio||e.video)).map((e=>{var t,i
return{mediaType:e.audio?"AUDIO":"VIDEO",audioDuration:null==e||null===(t=e.audio)||void 0===t?void 0:t.duration,audioUrl:null==e||null===(i=e.audio)||void 0===i?void 0:i.url,videoPlayMetadata:e.video}}))}get sponsoredData(){const{contentMetadata:e}=this.props.conversation,t=(0,m.getConversationAdsMessageContent)(this.props.message)
return{metadata:null==e?void 0:e.conversationAdContent,sponsoredMessageContentUrn:null==t?void 0:t.sponsoredMessageContentUrn,sponsoredMessageTrackingId:null==t?void 0:t.sponsoredMessageTrackingId}}get obfuscatedMessage(){var e
const t=null===(e=this.props.message.inlineWarning)||void 0===e?void 0:e.obfuscatedMessageWarning
if(!t)return
const i=this.props.i18n.lookupTranslation("components/msg-ui@primitives/message-list-item-user-message-presenter","i18n_inline_warning_view")()
return{warning:(0,f.default)(t),ctaText:i}}get hasInlineWarning(){return!!this.props.message.inlineWarning}get messageStatus(){const{status:e}=this.props.message
return"Sent"===e||"Delivered"===e?"sent":"Sending"===e?"sending":null}get messageHoverActionsViewData(){return new d.default({message:this.props.message,conversation:this.props.conversation,sender:this.props.sender,formatter:this.props.formatter})}get fileAttachmentViewDataItems(){var e,t,i
return(null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t||null===(i=t.renderContent)||void 0===i?void 0:i.filter((e=>!!e.file||!!e.vectorImage)).map((e=>new l.default({attachment:e,message:this.props.message,conversation:this.props.conversation,sender:this.props.sender,formatter:this.props.formatter,i18n:this.props.i18n}))))||[]}get forwardedMessageViewData(){var e,t,i,n,s
const a=null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t||null===(i=t.renderContent)||void 0===i||null===(n=i.find((e=>!!e.forwardedMessageContent)))||void 0===n?void 0:n.forwardedMessageContent,r=(null==a||null===(s=a.originalSender)||void 0===s?void 0:s.hostIdentityUrn)||(null==a?void 0:a.originalSenderUrn),o=r&&this.props.mailboxParticipants[r]
return new p.default({conversation:this.props.conversation,forwardedMessage:void 0,sender:o,forwardedMessageContent:a,i18n:this.props.i18n,formatter:this.props.formatter})}get feedUpdateViewData(){return new c.default({message:this.props.message,feedUpdateUrn:this.feedUpdateUrn,conversation:this.props.conversation,formatter:this.props.formatter,sender:this.props.sender})}get storyViewData(){return new h.default({message:this.props.message,conversation:this.props.conversation,formatter:this.props.formatter})}get reactionSummaryViewData(){const{message:e,conversation:t}=this.props
return new o.default({message:e,conversation:t})}get inlineWarningViewData(){const{message:e,conversation:t,i18n:i,presenceAPI:n}=this.props
return new g.default({message:e,conversation:t,i18n:i,presenceAPI:n})}},(0,t.default)(y.prototype,"messageHoverActionsViewData",[a.cached],Object.getOwnPropertyDescriptor(y.prototype,"messageHoverActionsViewData"),y.prototype),(0,t.default)(y.prototype,"fileAttachmentViewDataItems",[a.cached],Object.getOwnPropertyDescriptor(y.prototype,"fileAttachmentViewDataItems"),y.prototype),(0,t.default)(y.prototype,"forwardedMessageViewData",[a.cached],Object.getOwnPropertyDescriptor(y.prototype,"forwardedMessageViewData"),y.prototype),(0,t.default)(y.prototype,"feedUpdateViewData",[a.cached],Object.getOwnPropertyDescriptor(y.prototype,"feedUpdateViewData"),y.prototype),(0,t.default)(y.prototype,"storyViewData",[a.cached],Object.getOwnPropertyDescriptor(y.prototype,"storyViewData"),y.prototype),(0,t.default)(y.prototype,"reactionSummaryViewData",[a.cached],Object.getOwnPropertyDescriptor(y.prototype,"reactionSummaryViewData"),y.prototype),(0,t.default)(y.prototype,"inlineWarningViewData",[a.cached],Object.getOwnPropertyDescriptor(y.prototype,"inlineWarningViewData"),y.prototype),y)}))
define("msg-ui/viewdata/sdk-message-list-item-viewdata",["exports","global-helpers/helpers/name","msg-data/viewdata","msg-ui/utils/message-grouper","msg-ui/viewdata/sdk-message-list-item-user-message-viewdata","msg-ui/viewdata/sdk-message-sender-entity-viewdata","msg-ui/viewdata/sdk-message-list-item-system-message-viewdata","msg-data/utils/sdk-view-data-helpers","urn-utils","msg-spinmail-data/viewdata/sdk-sponsored-message-actions-viewdata","msg-ui/viewdata/sdk-message-sender-advertiser-entity-viewdata"],(function(e,t,i,n,s,a,r,o,l,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class u extends i.default{get messageUrn(){return this.props.message.entityUrn??this.props.message.clientId}get messageBackendUrn(){return this.props.message.backendUrn}get messageCreatedAt(){return this.props.message.deliveredAt}get senderName(){return this.props.sender?this.isMessageSentByCompany?this.companySenderName:(0,t.getName)(this.props.sender):{}}get senderAnonymousName(){return this.senderFullName||this.props.i18n.lookupTranslation("components/msg-ui@primitives/message-list-item-feature","i18n_name_anonymous_member")()}get senderUrn(){return this.props.message.senderUrn}get senderPronouns(){var e
return null===(e=this.props.sender)||void 0===e?void 0:e.pronoun}get senderFullName(){if(this.senderName)return this.props.formatter.formatName(this.senderName,"full")}get senderProfileUrl(){var e,t
if(this.isMessageSentByCompany){var i
return null===(i=this.props.sender)||void 0===i?void 0:i.pageUrl}return null===(e=this.props.sender)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.url}get senderProfilePicture(){var e,t
return null===(e=this.props.sender)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.picture}get companySenderUrn(){var e
return null===(e=this.props.sender)||void 0===e?void 0:e.hostIdentityUrn}get companySenderName(){var e,t
return null===(e=this.props.sender)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.text}get footerText(){const{message:e}=this.props,t=(0,o.getAwayMessage)(e)
if(t)return t.footerText}get isSponsoredMessage(){return(0,o.isConversationWithAdvertiser)(this.props.conversation)}get isMessageSentByCompany(){var e
return(null===(e=this.props.sender)||void 0===e?void 0:e.kind)===o.PARTICIPANT_TYPES.ORGANIZATION}get isSponsoredConversation(){const{conversation:e}=this.props
return e&&(0,o.isSponsoredConversation)(e)}get isConversationAdMemberSender(){return(0,o.isConversationAdMemberSender)(this.props.conversation,this.props.authenticatedUser.miniProfile)}get isSystemMessage(){return"SYSTEM"===this.props.message.messageBodyRenderFormat}get isRecalledMessage(){return"RECALLED"===this.props.message.messageBodyRenderFormat}get isMessageFromOtherUser(){var e
return(null===(e=this.props.authenticatedUser.miniProfile)||void 0===e?void 0:e.dashEntityUrn)!==this.props.message.senderUrn}get isInMailFromOtherUser(){return(0,o.messageHasInMailHostUrnData)(this.props.message)&&this.isMessageFromOtherUser}get isGifMessage(){var e,t,i
return null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t||null===(i=t.renderContent)||void 0===i?void 0:i.some((e=>e.externalMedia))}get tenorGifId(){var e,t,i
const n=null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t||null===(i=t.renderContent)||void 0===i?void 0:i.find((e=>e.externalMedia))
if(!n)return""
const{entityUrn:s}=n.externalMedia
return s?(0,l.extractEntityInfoFromUrn)(s).id:""}get conversationUrn(){return this.props.conversation.entityUrn??this.props.conversation.clientId}get conversationBackendUrn(){return this.props.conversation.backendUrn}get messageSeenReceipts(){const e=this.props.conversation.seenReceiptsMap
if(e){const t=e[this.props.message.entityUrn]
return(null==t?void 0:t.reduce(((e,t)=>{let{participantUrn:i,seenAt:n}=t
const s=this.props.mailboxParticipants[i]
if(s){var a
e.push({profile:{picture:null===(a=s.profile)||void 0===a?void 0:a.picture,firstName:s.firstName,lastName:s.lastName},seenAt:n})}return e}),[]))??[]}return[]}get participantUrns(){return this.props.conversation.participants}get isError(){return"Failed"===this.props.message.status}get showMessageSendFailedError(){var e,t
return this.isError&&(null===(e=this.props.message.content)||void 0===e||null===(t=e.text)||void 0===t?void 0:t.length)>0}get isSendErrorUxInprovementEnabled(){return this.props.lix.getTreatmentIsEnabled("voyager.web.messaging-send-error-ux-improvement")}get messageSendFailedApiError(){const{apiResponseError:e}=this.props.message
if(this.isSendErrorUxInprovementEnabled&&e){if("com.linkedin.messenger.common.errorhandling.MessengerUserVisibleException"===(null==e?void 0:e.exceptionClass)){this.props.jet.info(new Error(e.message),[`[apiResponseError - full][userVisible]: ${JSON.stringify(e)}`],{shouldRethrow:!1})
return e.message}this.props.jet.info(new Error(e.message),[`[apiResponseError - full][non-userVisible]: ${JSON.stringify(e)}`],{shouldRethrow:!1})}}get isBeingCreatedOrDestroyed(){const{status:e}=this.props.message
return"Pending"===e||"Sending"===e}get messageListItemSystemMessageViewData(){return new r.default({message:this.props.message})}get messageListItemUserMessageViewData(){const{message:e,sender:t,mailboxParticipants:i,conversation:n,formatter:a,i18n:r,authenticatedUser:o,presenceAPI:l,lix:d,msgDataManager:c}=this.props
return new s.default({message:e,sender:t,mailboxParticipants:i,conversation:n,formatter:a,i18n:r,authenticatedUserMiniProfile:o.miniProfile.content,presenceAPI:l,lix:d,msgDataManager:c})}get messageSenderAdvertiserEntityViewData(){return new c.default({messageSender:this.props.sender,formatter:this.props.formatter})}get messageSenderEntityViewData(){const{sender:e,formatter:t,conversation:i}=this.props
return new a.default({conversation:i,sender:e,formatter:t})}get showMeta(){return!!this.isRecalledMessage||!this.isSystemMessage&&(0,n.isDifferentGroup)(this.props.previousMessage,this.props.message)}get dateBoundary(){return(0,n.dateBoundary)(this.props.previousMessage,this.props.message)}get isLastInGroup(){return(0,n.isDifferentGroup)(this.props.message,this.props.nextMessage)}get isM2MMessageFollowedByDateBoundary(){return(0,n.isM2MMessageImmediatelyFollowedByDateBoundary)(this.props.message,this.props.nextMessage)}get isSystemMessagePrecededByM2MMessage(){return(0,n.isSystemMessageImmediatelyPrecededByM2MMessage)(this.props.previousMessage,this.props.message)}get isSystemMessageFollowedByM2MMessage(){return(0,n.isSystemMessageImmediatelyFollowedByM2MMessage)(this.props.message,this.props.nextMessage)}get senderGroupMessageCount(){return(0,n.senderGroupMessageCountHeader)(this.props.previousMessage,this.props.message,this.props.nextMessage)}get creatorProfileViewEnabled(){const{conversation:e}=this.props
return(0,o.isConversationFeatureSupported)(e,"VIEW_CREATOR_PROFILE")}get sponsoredMessageActionsViewData(){return new d.default({conversation:this.props.conversation,message:this.props.message})}get conversationPreviewData(){return this.props.sender.preview}}e.default=u}))
define("msg-ui/viewdata/sdk-message-list-viewdata",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","msg-data/viewdata","msg-conversation-ui/viewdata/sdk-recipient-detail-one-to-one-viewdata","global-utils/utils/profile-id-parser","global-helpers/helpers/name","msg-conversation-ui/viewdata/sdk-recipient-detail-group-viewdata","msg-data/utils/sdk-view-data-helpers","msg-ui/viewdata/sdk-quick-replies-viewdata","msg-conversation-ui/viewdata/sdk-typing-indicators-viewdata","msg-ui/utils/message-grouper","tracked-toolbox"],(function(e,t,i,n,s,a,r,o,l,d,c,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m
e.default=(m=class extends i.default{get conversationBackendUrn(){return this.props.conversation.backendUrn}get isSponsoredConversation(){return(0,o.isSponsoredConversation)(this.props.conversation)}get showSponsoredBanner(){return this.isSponsoredConversation&&!!this.advertiserLabel}get isConversationWithCompany(){return(0,o.isConversationWithCompany)(this.props.conversation,this.props.authenticatedUser.miniProfile)}get advertiserLabel(){var e
const{conversation:t}=this.props
return null===(e=t.conversationTypeText)||void 0===e?void 0:e.text}get showSeenReceipts(){var e
return!(null!==(e=this.props.conversation.categories)&&void 0!==e&&e.includes("MESSAGE_REQUEST_PENDING"))}get latestMessageHasSeenReceipts(){return!1}get hasTypingParticipants(){var e
return(null===(e=this.props.conversation.typingUrns)||void 0===e?void 0:e.size)>0}get conversationFullyLoaded(){var e
return!0===(null===(e=this.props.conversation.status)||void 0===e?void 0:e.fullyLoaded)}get oldestMessageCreatedAt(){var e
return null===(e=(0,o.getOldestMessage)(this.props.conversation))||void 0===e?void 0:e.deliveredAt}get indexOfLatestMessageSeenByNone(){const{seenReceiptsMap:e,messages:t}=this.props.conversation
return(0,c.findNewestMessageSeenByNone)(t,e)}get contextText(){return this.props.conversation.headlineText}get quickRepliesViewData(){const{conversation:e}=this.props
return new l.default({conversation:e})}get recipientDetailGroupViewData(){const{authenticatedUser:e,formatter:t,i18n:i,conversation:n,msgDataManager:s,mailboxParticipants:a,presenceAPI:o}=this.props
return new r.default({authenticatedUser:e,formatter:t,i18n:i,conversation:n,msgDataManager:s,participants:a,presenceAPI:o})}get recipientDetailOneToOneViewData(){const{formatter:e,conversation:t,authenticatedUser:i,msgDataManager:r}=this.props,[l]=(0,o.getNonSelfParticipants)(t.decoratedParticipants,i.miniProfile)
if(!l)return
const d=l.kind===o.PARTICIPANT_TYPES.ORGANIZATION,c=(0,s.getProfileMemberId)(l),u=d?l.name.text:(0,a.getName)(l)
let m=u
d||(m=u?e.formatName(u,"full"):"")
return new n.default({conversation:t,profile:l,profileId:c,participantName:m,msgDataManager:r,isInvitationAccepted:()=>this.props.invitationPlatform.isInvitationAccepted(c)})}get typingIndicatorsViewData(){return new d.default({typingParticipants:this.props.conversation.typingParticipants,formatter:this.props.formatter})}get latestMessage(){var e
return null===(e=this.props.conversation.messages)||void 0===e?void 0:e.last()}},(0,t.default)(m.prototype,"latestMessage",[u.cached],Object.getOwnPropertyDescriptor(m.prototype,"latestMessage"),m.prototype),m)}))
define("msg-ui/viewdata/sdk-message-sender-advertiser-entity-viewdata",["exports","global-helpers/helpers/urn-to-id","msg-data/viewdata","msg-data/utils/sdk-view-data-helpers"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class s extends i.default{get companyId(){return(0,t.urnToId)([this.props.messageSender.hostIdentityUrn])}get profileImage(){return(0,n.getParticipantPictureByKind)(this.props.messageSender)}get fullName(){return(0,n.getParticipantNameByKind)(this.props.messageSender,this.props.formatter)}get ghostType(){return this.isMessageSentByCompany?"company":"person"}get isMessageSentByCompany(){var e
return(null===(e=this.props.messageSender)||void 0===e?void 0:e.kind)===n.PARTICIPANT_TYPES.ORGANIZATION}get companyUrl(){var e
return null===(e=this.props.messageSender)||void 0===e?void 0:e.pageUrl}}e.default=s}))
define("msg-ui/viewdata/sdk-message-sender-entity-viewdata",["exports","presence/viewdata/sdk-entity-with-presence-viewdata","msg-data/viewdata","msg-data/utils/sdk-view-data-helpers"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class s extends i.default{get isOrganization(){var e
return(null===(e=this.props.sender)||void 0===e?void 0:e.kind)===n.PARTICIPANT_TYPES.ORGANIZATION}get profileImage(){var e,t
return this.isOrganization?this.props.sender.logo:null===(e=this.props.sender)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.picture}get fullName(){return this.props.sender?this.isOrganization?this.props.sender.name.text:this.props.formatter.formatName(this.props.sender,"full"):""}get familiarName(){return this.props.sender?this.isOrganization?this.props.sender.name.text:this.props.formatter.formatName(this.props.sender,"familiar"):""}get ghostType(){return this.isOrganization?"company":"person"}get recipientProfileUrl(){var e,t
if(this.isOrganization){var i
return null===(i=this.props.sender)||void 0===i?void 0:i.pageUrl}return null===(e=this.props.sender)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.url}get creatorProfileViewEnabled(){const{conversation:e}=this.props
return(0,n.isConversationFeatureSupported)(e,"VIEW_CREATOR_PROFILE")}get entityWithPresenceViewData(){return new t.default({participant:this.props.sender,altText:(0,n.formatProfilePhotoAltText)(this.fullName,this.props.sender.profileFrameA11yContent)})}get preview(){var e
return null===(e=this.props.sender)||void 0===e?void 0:e.preview}}e.default=s}))
define("msg-ui/viewdata/sdk-quick-replies-viewdata",["exports","msg-data/viewdata","msg-data/utils/sdk-view-data-helpers"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class n extends t.default{get replyConversationUrn(){var e
return null===(e=this.props.conversation)||void 0===e?void 0:e.entityUrn}get eventToReplyTo(){return(0,i.getLatestMessage)(this.props.conversation)}get latestMessageUrn(){var e
return null===(e=this.eventToReplyTo)||void 0===e?void 0:e.entityUrn}get controlNamePrefix(){const{eventToReplyTo:e}=this
return e?(0,i.messageHasInMailProductType)(e,"RECRUITER_INMAIL")?"lts_":(0,i.messageHasInMailProductType)(e,"SALES_INMAIL")?"lss_":(0,i.messageHasInMailProductType)(e,"PREMIUM_INMAIL")?"premium_":"":""}}e.default=n}))
define("msg-ui/viewdata/sdk-reaction-summary-viewdata",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","msg-data/viewdata","tracked-toolbox"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var s
e.default=(s=class extends i.default{get messageActorUrn(){return this.props.message.actorUrn}get conversationUrn(){return this.props.conversation.entityUrn}get messageUrn(){return this.props.message.entityUrn}get messageUrnForReactors(){return this.props.message.entityUrn}get isConversationRead(){return this.props.conversation.read}get reactionSummaryItems(){return this.props.message.reactions.map((e=>({emoji:e.emoji,viewerReacted:e.viewerReacted,count:e.count})))}},(0,t.default)(s.prototype,"reactionSummaryItems",[n.cached],Object.getOwnPropertyDescriptor(s.prototype,"reactionSummaryItems"),s.prototype),s)}))
define("msg-ui/viewdata/sdk-story-viewdata",["exports","msg-ui/viewdata/sdk-message-hover-actions-viewdata","msg-data/viewdata","msg-data/utils/sdk-view-data-helpers"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class s extends i.default{get storyItemUrn(){var e
return null===(e=(0,n.getProfileVideoHostUrn)(this.props.message))||void 0===e?void 0:e.replace("urn:li:fsd_messagingProfileVideo:","urn:li:fs_messagingStoryItem:").replace("fsd_storyItem:","fs_storyItem:")}get senderProfileUrn(){var e
return null===(e=this.props.message.sender)||void 0===e?void 0:e.hostIdentityUrn}get createdAt(){return this.props.message.deliveredAt}get contentCaption(){var e
return null===(e=this.props.message.content)||void 0===e?void 0:e.text}get messageHoverActionsViewData(){return new t.default({message:this.props.message,conversation:this.props.conversation,formatter:this.props.formatter,sender:this.senderProfileUrn})}}e.default=s}))
define("msg-ui/viewdata/sdk-thread-footer-viewdata",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","msg-data/utils/sdk-view-data-helpers","msg-data/viewdata","urn-utils","msg-shared-modals/viewdata/sdk-virtual-meeting-modal-viewdata","msg-ui/viewdata/sdk-unspam-footer-viewdata","msg-ui/viewdata/sdk-edit-message-footer-viewdata","msg-shared-modals/viewdata/sdk-share-profile-info-modal-viewdata","msg-ui/viewdata/inmail-compose-form-viewdata","msg-ui/viewdata/sdk-inmail-quick-action-footer-viewdata","msg-ui/components/thread-footer-feature","msg-shared/utils/urn-id-helpers","global-utils/utils/trusted-html-safe","tracked-toolbox"],(function(e,t,i,n,s,a,r,o,l,d,c,u,m,p,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h
e.default=(h=class extends n.default{get currentUser(){const{latestMessage:e}=this
if(!e||!e.senderUrn)return!1
const t=(0,s.extractEntityInfoFromUrn)(e.senderUrn).id,i=(0,s.extractEntityInfoFromUrn)(this.props.authenticatedUser.miniProfile.entityUrn).id
return i&&i===(0,s.extractEntityInfoFromUrn)(t).id}get conversationUrn(){const{conversation:e}=this.props
return e?e.entityUrn:void 0}get conversationId(){const{conversationUrn:e}=this
return e?(0,m.extractMailboxAndConversationId)(e).conversationId:this.props.conversation.clientId}get latestMessage(){const{conversation:e}=this.props
return(0,i.getLatestMessage)(e)}get participants(){var e
const{conversation:t,participants:i}=this.props
return t?null===(e=t.participants)||void 0===e?void 0:e.map((e=>i[e])):[]}get conversationParticipants(){var e
return(null===(e=this.props.conversation)||void 0===e?void 0:e.decoratedParticipants)??[]}get participantNames(){const{conversation:e}=this.props
let t
if(this.isGroupChat){if(e.title)return e.title
t=this.conversationParticipants}else t=this._getNonSelfParticipantNames()
return t}get participantName(){return this.participantNames[0]}get isUserRepliesEnabled(){var e,t
return!(null!==(e=this.props.conversation)&&void 0!==e&&e.entityUrn)||!this.isReplyDisabled||"DECLINED"===this.messageRequestState&&(null===(t=this.props.conversation)||void 0===t?void 0:t.groupChat)}get inmailReplyAction(){var e
const{conversation:t}=this.props
return!(!t||null!==(e=t.categories)&&void 0!==e&&e.includes("MESSAGE_REQUEST_DECLINED")||!(0,i.isInMailConversation)(t))&&(null==t?void 0:t.state)}get isReplyDisabled(){var e,t
return null===(e=this.props.conversation)||void 0===e||null===(t=e.disabledFeatures)||void 0===t?void 0:t.some((e=>"REPLY"===e.disabledFeature))}get messageRequestState(){var e,t
const{conversation:i}=this.props
if(i&&(null!==(e=i.categories)&&void 0!==e&&e.includes("MESSAGE_REQUEST_PENDING")||null!==(t=i.categories)&&void 0!==t&&t.includes("MESSAGE_REQUEST_DECLINED")))return i.state}get isInMail(){return(0,i.isInMailConversation)(this.props.conversation)&&!(0,i.messageHasInMailHostUrnData)(this.latestMessage)}get isRestrictedProfile(){return!1}get customLssFooter(){if(!this.props.conversation)return
const{messages:e}=this.props.conversation
for(let t=0;t<e.length;t++){const i=e.at(t)
if(i.footer)return i.footer}}get showBlockedFooter(){var e
const{composeViewContext:t}=this.props
return t&&(null===(e=t.value)||void 0===e?void 0:e.showBlockedFooter)}get isBlocked(){var e
return this.props.conversation&&(null===(e=this.props.conversation.categories)||void 0===e?void 0:e.includes("SPAM"))}get conversationName(){return this.props.conversation&&this.props.conversation.title}get isGroupChat(){const{conversation:e}=this.props
return!!e&&e.groupChat}get messageToReplyToContent(){const{i18n:e,messageToReplyTo:t}=this.props
if(!t)return
const i=this.props.participants[t.senderUrn]
return(0,p.default)(e.lookupTranslation(u.default,"i18n_reply_to_template")({senderName:i,messageContent:t.content.text}))}get inmailComposeFormViewData(){const{composeViewContext:e,recipients:t,msgDataManager:i,router:n,formatName:s,getIdentityRecord:a}=this.props
return new d.default({composeViewContext:e,recipients:t,msgDataManager:i,router:n,formatName:s,getIdentityRecord:a})}get unspamFooterViewData(){const{conversation:e,presenceAPI:t}=this.props
return new r.default({conversation:e,participants:this.participants,presenceAPI:t})}get editMessageFooterViewData(){const{messageEventToEdit:e}=this.props
return new o.default({messageEventToEdit:e,conversationEntityUrn:this.conversationUrn})}get shareProfileInfoModalViewData(){const{conversation:e,profileContactInfo:t,authenticatedUser:i,participants:n,formatName:s}=this.props
return new l.default({conversation:e,profileContactInfo:t,authenticatedUser:i,participants:n,formatName:s})}get inmailQuickActionFooterViewData(){return new c.default({latestMessage:this.latestMessage})}get virtualMeetingModalViewData(){const{conversation:e,authenticatedUser:t,msgDataManager:i,participants:n}=this.props
return new a.default({conversation:e,authenticatedUserProfile:t.miniProfile,msgDataManager:i,participants:n})}_getNonSelfParticipants(){const{conversation:e,msgDataManager:t}=this.props
return t.getNonSelfParticipantsFromConversationRecord(e)}_getNonSelfParticipantNames(){var e
const{authenticatedUser:t}=this.props,i=this._getNonSelfParticipants()
if(i.length&&"ORGANIZATION"===(null===(e=i[0])||void 0===e?void 0:e.kind)){var n
return[{firstName:null===(n=i[0])||void 0===n?void 0:n.name.text}]}return this.conversationParticipants.filter((e=>(null==e?void 0:e.hostIdentityUrn)!==t.miniProfile.dashEntityUrn)).map((e=>({firstName:null==e?void 0:e.firstName,lastName:null==e?void 0:e.lastName})))}},(0,t.default)(h.prototype,"messageToReplyToContent",[g.cached],Object.getOwnPropertyDescriptor(h.prototype,"messageToReplyToContent"),h.prototype),h)}))
define("msg-ui/viewdata/sdk-thread-viewdata",["exports","msg-data/utils/sdk-view-data-helpers","msg-data/viewdata","msg-shared/helpers/is-message-request-conversation","msg-shared/utils/custom-tracking","msg-shared/utils/view-data-helpers"],(function(e,t,i,n,s,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class r extends i.default{get conversationUrn(){var e,t
return(null===(e=this.props.conversation)||void 0===e?void 0:e.entityUrn)||(null===(t=this.props.conversation)||void 0===t?void 0:t.clientId)}get isDraftState(){var e
return null===(e=this.props.conversation)||void 0===e?void 0:e.isDraft}get conversationBackendUrn(){return this.props.conversation&&this.props.conversation.backendUrn}get participants(){return this.props.conversation.decoratedParticipants}get participantTrackingUrns(){const{participants:e}=this
return e?(0,s.getParticipantTrackingUrns)(e,!0):[]}get participantPresenceStatuses(){const{conversation:e,presenceAPI:i}=this.props
return(0,t.getParticipantPresenceStatuses)(e.participants,i)}get isMute(){var e
return"MUTE"===(null===(e=this.props.conversation)||void 0===e?void 0:e.notificationStatus)}get isBlocked(){var e
return this.props.conversation&&(null===(e=this.props.conversation.categories)||void 0===e?void 0:e.includes("SPAM"))}get isViewerCurrentParticipant(){var e,t
return this.props.conversation&&(null===(e=this.props.conversation.participants)||void 0===e?void 0:e.includes(null===(t=this.props.authenticatedUser.miniProfile)||void 0===t?void 0:t.dashEntityUrn))}get isPendingOrDeclinedMessageRequest(){const{conversation:e}=this.props
return(0,n.isMessageRequestConversation)(e)}get showBlockedFooter(){var e
const{composeViewContext:t}=this.props
return t&&(null===(e=t.value)||void 0===e?void 0:e.showBlockedFooter)}get latestMessage(){return(0,t.getLatestMessage)(this.props.conversation)}get currentUser(){var e
const{latestMessage:t}=this
return t&&t.senderUrn===(null===(e=this.props.authenticatedUser.miniProfile)||void 0===e?void 0:e.dashEntityUrn)}get inMailRequestContactInfo(){var e
return null===(e=this.props.conversation.hostConversationActions)||void 0===e?void 0:e.includes("SHOULD_REQUEST_CONTACT_INFO")}get isInMail(){return(0,t.isInMailConversation)(this.props.conversation)&&(0,t.messageHasInMailHostUrnData)(this.latestMessage)}get isInMailReply(){return(0,t.isInMailConversation)(this.props.conversation)&&!(0,t.messageHasInMailHostUrnData)(this.latestMessage)}get isRecruiterInmailReply(){return(0,t.isInMailConversation)(this.props.conversation)&&(0,t.messageHasInMailProductType)(this.latestMessage,"RECRUITER_INMAIL")}get latestMessageActionType(){var e
return null===(e=this.props.conversation)||void 0===e?void 0:e.state}get isReplyDisabled(){var e,t
return null===(e=this.props.conversation)||void 0===e||null===(t=e.disabledFeatures)||void 0===t?void 0:t.some((e=>"REPLY"===e.disabledFeature))}get senderID(){var e
const{authenticatedUser:t}=this.props
return t&&(null===(e=t.miniProfile)||void 0===e?void 0:e.entityUrn)}get recipientIDs(){const{messageRecipients:e}=this.props
return e&&e.map((e=>(0,a.getProfileDashUrn)(e)))}get quickRepliesList(){var e
return((null===(e=this.props.conversation)||void 0===e?void 0:e.quickReplies)||[]).filter((e=>null!==e)).map((e=>({text:e.displayText.text,objectUrn:e.objectUrn,quickActionPrefillText:e.prefillText&&e.prefillText.text,replyType:e.quickReplyType&&e.quickReplyType.type,trackingId:e.trackingId})))}}e.default=r}))
define("msg-ui/viewdata/sdk-unspam-footer-viewdata",["exports","msg-data/viewdata","msg-shared/utils/custom-tracking","msg-data/utils/sdk-view-data-helpers"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class s extends t.default{get conversationUrn(){return this.props.conversation.entityUrn}get conversationBackendUrn(){return this.props.conversation.backendUrn}get participantTrackingUrns(){return(this.props.participants?(0,i.getParticipantTrackingUrns)(this.props.participants):null)??[]}get participantPresenceStatuses(){const{conversation:e,presenceAPI:t}=this.props
return(0,n.getParticipantPresenceStatuses)(e.participants,t)}}e.default=s}))
define("msg-ui/viewdata/sdk-virtual-meeting-cta-viewdata",["exports","msg-data/viewdata","msg-shared-modals/viewdata/sdk-virtual-meeting-modal-viewdata"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class n extends t.default{get conversationUrn(){var e
return null===(e=this.props.conversation)||void 0===e?void 0:e.entityUrn}get virtualMeetingModalViewData(){const{conversation:e,authenticatedUserProfile:t,msgDataManager:n,participants:s}=this.props
return new i.default({conversation:e,authenticatedUserProfile:t,msgDataManager:n,participants:s})}}e.default=n}))

//# sourceMappingURL=engine.map