define.alias("@glimmer/component/-private/ember-component-manager","msg-overlay/component-managers/glimmer")
define("msg-overlay/components/-dynamic-element-alt",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class n extends t.default{}e.default=n}))
define("msg-overlay/components/-dynamic-element",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class n extends t.default{}e.default=n}))
define.alias("helpcenter-in-product-ember/components/ai-search-discovery","msg-overlay/components/ai-search-discovery")
define.alias("helpcenter-in-product-ember/components/ai-summary","msg-overlay/components/ai-summary")
define.alias("helpcenter-in-product-ember/components/announcement-list-view","msg-overlay/components/announcement-list-view")
define.alias("helpcenter-in-product-ember/components/announcement-view","msg-overlay/components/announcement-view")
define.alias("artdeco-button/components/artdeco-button","msg-overlay/components/artdeco-button")
define.alias("artdeco-datepicker/components/artdeco-calendar","msg-overlay/components/artdeco-calendar")
define.alias("artdeco-card/components/artdeco-card-image","msg-overlay/components/artdeco-card-image")
define.alias("artdeco-card/components/artdeco-card","msg-overlay/components/artdeco-card")
define.alias("artdeco-carousel/components/artdeco-carousel-item","msg-overlay/components/artdeco-carousel-item")
define.alias("artdeco-carousel/components/artdeco-carousel-slider","msg-overlay/components/artdeco-carousel-slider")
define.alias("artdeco-carousel/components/artdeco-carousel-title","msg-overlay/components/artdeco-carousel-title")
define.alias("artdeco-carousel/components/artdeco-carousel","msg-overlay/components/artdeco-carousel")
define.alias("artdeco-completeness-meter-linear/components/artdeco-completeness-meter-linear","msg-overlay/components/artdeco-completeness-meter-linear")
define.alias("artdeco-modal/components/artdeco-confirmation-dialog","msg-overlay/components/artdeco-confirmation-dialog")
define.alias("artdeco-datepicker/components/artdeco-datepicker-embedded-cal","msg-overlay/components/artdeco-datepicker-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-datepicker","msg-overlay/components/artdeco-datepicker")
define.alias("artdeco-datepicker/components/artdeco-daterange-embedded-cal","msg-overlay/components/artdeco-daterange-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-daterange","msg-overlay/components/artdeco-daterange")
define.alias("artdeco-dropdown/components/artdeco-dropdown-content","msg-overlay/components/artdeco-dropdown-content")
define.alias("artdeco-dropdown/components/artdeco-dropdown-header","msg-overlay/components/artdeco-dropdown-header")
define.alias("artdeco-dropdown/components/artdeco-dropdown-item","msg-overlay/components/artdeco-dropdown-item")
define.alias("artdeco-dropdown/components/artdeco-dropdown-trigger","msg-overlay/components/artdeco-dropdown-trigger")
define.alias("artdeco-dropdown/components/artdeco-dropdown","msg-overlay/components/artdeco-dropdown")
define.alias("artdeco-empty-state/components/artdeco-empty-state","msg-overlay/components/artdeco-empty-state")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-badge","msg-overlay/components/artdeco-entity-lockup-badge")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-caption","msg-overlay/components/artdeco-entity-lockup-caption")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-content","msg-overlay/components/artdeco-entity-lockup-content")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-image","msg-overlay/components/artdeco-entity-lockup-image")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-metadata","msg-overlay/components/artdeco-entity-lockup-metadata")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-subtitle","msg-overlay/components/artdeco-entity-lockup-subtitle")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-title","msg-overlay/components/artdeco-entity-lockup-title")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup","msg-overlay/components/artdeco-entity-lockup")
define.alias("artdeco-entity-pile/components/artdeco-entity-pile","msg-overlay/components/artdeco-entity-pile")
define.alias("artdeco-hoverables/components/artdeco-hoverable-content","msg-overlay/components/artdeco-hoverable-content")
define.alias("artdeco-hoverables/components/artdeco-hoverable-trigger","msg-overlay/components/artdeco-hoverable-trigger")
define.alias("artdeco-inline-feedback/components/artdeco-inline-feedback","msg-overlay/components/artdeco-inline-feedback")
define.alias("artdeco-loader/components/artdeco-loader","msg-overlay/components/artdeco-loader")
define.alias("artdeco-modal/components/container","msg-overlay/components/artdeco-modal-container")
define.alias("artdeco-modal/components/artdeco-modal-content","msg-overlay/components/artdeco-modal-content")
define.alias("artdeco-modal/components/artdeco-modal-footer","msg-overlay/components/artdeco-modal-footer")
define.alias("artdeco-modal/components/artdeco-modal-header","msg-overlay/components/artdeco-modal-header")
define.alias("artdeco-modal/components/artdeco-modal","msg-overlay/components/artdeco-modal")
define.alias("artdeco-notification-badge/components/artdeco-notification-badge","msg-overlay/components/artdeco-notification-badge")
define.alias("artdeco-pagination/components/artdeco-pagination-ellipsis","msg-overlay/components/artdeco-pagination-ellipsis")
define.alias("artdeco-pagination/components/artdeco-pagination-indicator","msg-overlay/components/artdeco-pagination-indicator")
define.alias("artdeco-pagination/components/artdeco-pagination","msg-overlay/components/artdeco-pagination")
define.alias("artdeco-pill/components/artdeco-pill-choice-group","msg-overlay/components/artdeco-pill-choice-group")
define.alias("artdeco-pill/components/artdeco-pill-choice","msg-overlay/components/artdeco-pill-choice")
define.alias("artdeco-pill/components/artdeco-pill-dismiss","msg-overlay/components/artdeco-pill-dismiss")
define.alias("artdeco-pill/components/artdeco-pill-input","msg-overlay/components/artdeco-pill-input")
define.alias("artdeco-pill/components/artdeco-pill-link","msg-overlay/components/artdeco-pill-link")
define.alias("artdeco-pill/components/artdeco-pill-toggle","msg-overlay/components/artdeco-pill-toggle")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tab","msg-overlay/components/artdeco-spotlight-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tablist","msg-overlay/components/artdeco-spotlight-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tab","msg-overlay/components/artdeco-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tablist","msg-overlay/components/artdeco-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabpanel","msg-overlay/components/artdeco-tabpanel")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabs","msg-overlay/components/artdeco-tabs")
define.alias("artdeco-text-input/components/artdeco-text-input-multi","msg-overlay/components/artdeco-text-input-multi")
define.alias("artdeco-text-input/components/artdeco-text-input-single","msg-overlay/components/artdeco-text-input-single")
define.alias("artdeco-text-input/components/artdeco-text-input","msg-overlay/components/artdeco-text-input")
define.alias("artdeco-toast/components/artdeco-toast-item","msg-overlay/components/artdeco-toast-item")
define.alias("artdeco-toast/components/artdeco-toasts","msg-overlay/components/artdeco-toasts")
define.alias("artdeco-toggle/components/artdeco-toggle","msg-overlay/components/artdeco-toggle")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-input","msg-overlay/components/artdeco-typeahead-input")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-result","msg-overlay/components/artdeco-typeahead-result")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-results-list","msg-overlay/components/artdeco-typeahead-results-list")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead","msg-overlay/components/artdeco-typeahead")
define.alias("helpcenter-in-product-ember/components/article-link","msg-overlay/components/article-link")
define.alias("helpcenter-in-product-ember/components/article-view","msg-overlay/components/article-view")
define("msg-overlay/components/av-bubble",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@ember/modifier","ember-set-helper/helpers/set","asset-loader/components/asset-loader","artdeco-loader/components/artdeco-loader","@glimmer/component","@ember/service","global-helpers/helpers/or"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,b,v
e.default=(0,s.setComponentTemplate)((0,o.createTemplateFactory)({id:"r8hiYRzl",block:'[[[1,"\\n    "],[11,0],[16,1,[29,[[30,1,["Id"]]]]],[24,"tabindex","-1"],[16,0,[29,["av-bubble msg-overlay-bubble\\n        ",[52,[30,1,["isLiveBroadcast"]],"av-bubble-video","av-bubble-audio"],"\\n        ",[30,0,["minimizedClass"]],"\\n        ",[30,0,["maximizedClass"]],"\\n        ",[52,[30,0,["isInMinimizeTransition"]],"av-bubble--during-transition"],"\\n        ",[52,[30,2],"av-bubble--is-hidden-at-md"],"\\n        ",[52,[30,1,["isMediumView"]],"av-bubble--is-medium"],"\\n        ml4"]]],[4,[32,0],["transitioned",[28,[32,1],[[30,0],"isInMinimizeTransition",false],null]],null],[12],[1,"\\n"],[41,[30,1,["isLiveBroadcast"]],[[[1,"        "],[8,[32,2],null,[["@bundle"],["video-engine"]],[["pending","resolved","rejected"],[[[[1,"\\n            "],[10,0],[14,0,"msg-overlay-audio-bubble__loading-section msg-overlay-audio-bubble__loading-section--canvas-bg"],[12],[1,"\\n              "],[8,[32,3],null,null,null],[1,"\\n            "],[13],[1,"\\n          "]],[]],[[[1,"\\n"],[44,[[28,[30,3,["component"]],["av-bubble-video"],null]],[[[1,"              "],[8,[30,4],null,[["@isMaximized","@isMinimized","@closeBubble","@eventInfo","@authenticatedActor","@playPreviouslyLive","@isInternal","@refreshPage","@isMedium","@isMini","@isInitiallyManuallyMuted","@dashAnchoredCommentUrn","@dashAnchoredReplyUrn","@allowedCommentersScope","@canPostComments"],[[30,5],[30,6],[30,7],[30,1,["bubbleData","eventInfo"]],[30,1,["bubbleData","authenticatedActor"]],[30,1,["bubbleData","playPreviouslyLive"]],[28,[32,4],[[30,1,["isInternal"]],[30,0,["msgOverlayManager","wasNavigationToLiveTheaterInternal"]]],null],[30,8],[30,1,["isMediumView"]],[30,1,["isMiniView"]],[30,0,["isLiveVideoMuted"]],[30,1,["bubbleData","dashAnchoredCommentUrn"]],[30,1,["bubbleData","dashAnchoredReplyUrn"]],[30,1,["bubbleData","allowedCommentersScope"]],[30,1,["bubbleData","canPostComments"]]]],null],[1,"\\n"]],[4]]],[1,"          "]],[3]],[[[1,"\\n            "],[10,0],[14,0,"msg-overlay-audio-bubble__loading-section msg-overlay-audio-bubble__loading-section--canvas-bg"],[12],[1,"\\n              "],[8,[32,3],null,null,null],[1,"\\n            "],[13],[1,"\\n          "]],[]]]]],[1,"\\n\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],["@bubble","@hideAVBubbleAtMdBreakPoint","resolved","AvBubbleVideo","@isMaximized","@isMinimized","@closeBubble","@refreshPage"],false,["if","let"]]',moduleName:"msg-overlay/components/av-bubble.gjs",scope:()=>[l.on,c.default,u.default,d.default,g.default],isStrictMode:!0}),(h=(0,m.inject)("msg-overlay-manager@msg-overlay-manager"),b=class extends p.default{constructor(){super(...arguments);(0,t.default)(this,"msgOverlayManager",v,this)}get minimizedClass(){return this.args.bubble.isMiniView?"av-bubble--is-minimized av-bubble--minimized-animation":""}get maximizedClass(){return this.args.bubble.isFullView?"av-bubble--is-maximized":""}get isLiveVideoMuted(){return this.msgOverlayManager.isLiveVideoMuted}},v=(0,i.default)(b.prototype,"msgOverlayManager",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b))}))
define.alias("ember-semaphore/components/block-profile","msg-overlay/components/block-profile")
define.alias("ember-semaphore/components/cleared-content-modal-v2","msg-overlay/components/cleared-content-modal-v2")
define.alias("ember-semaphore/components/cleared-content-modal","msg-overlay/components/cleared-content-modal")
define("msg-overlay/components/connection-search-result-item-presenter",["exports","@ember/template-factory","@ember/helper","@ember/component/template-only","@ember/component","@ember/modifier","ember-vector-images/components/lazy-image","ember-cli-pemberly-i18n/helpers/t"],(function(e,t,n,i,a,o,r,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const l=(0,a.setComponentTemplate)((0,t.createTemplateFactory)({id:"I15VFhRj",block:'[[[1,"\\n"],[1,"  "],[11,0],[24,0,"display-flex align-items-center overflow-hidden"],[24,"tabindex","-1"],[17,1],[4,[32,0],["mousemove",[30,2]],null],[4,[32,0],["click",[30,3]],null],[12],[1,"\\n    "],[10,0],[14,0,"msg-overlay-search-result-picture circle display-flex flex-shrink-zero"],[12],[1,"\\n      "],[8,[32,1],null,[["@classNames","@image","@alt","@ghostType","@desiredWidth"],["msg-overlay-search-result-picture__background-img full-width full-height round",[30,4,["entityWithPresenceViewData","image"]],[30,4,["recipientName"]],"person",100]],null],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,0],[14,0,"display-flex overflow-hidden pv1 pl2"],[12],[1,"\\n      "],[10,"h4"],[14,0,"msg-overlay-search-result-name t-12 t-black t-bold flex-shrink-zero truncate"],[12],[1,"\\n        "],[1,[30,4,["recipientName"]]],[1,"\\n      "],[13],[1,"\\n"],[41,[30,4,["subtext"]],[[[1,"        "],[10,1],[14,0,"t-12 t-black--light t-normal flex-shrink-zero ph1 truncate"],[12],[1,"\\n          "],[1,[28,[32,2],["dot","msg-overlay/components/connection-search-result-item-presenter"],null]],[1,"\\n        "],[13],[1,"\\n        "],[10,2],[14,0,"t-12 t-black--light t-normal truncate"],[12],[1,"\\n          "],[1,[30,4,["subtext"]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "],[13],[1,"\\n"]],["&attrs","@onMouseMove","@onClick","@viewData"],false,["if"]]',moduleName:"msg-overlay/components/connection-search-result-item-presenter.gjs",scope:()=>[o.on,r.default,s.default],isStrictMode:!0}),(0,i.default)("connection-search-result-item-presenter","ConnectionSearchResultItemPresenter"))
e.default=l}))
define.alias("helpcenter-in-product-ember/components/contextual-help","msg-overlay/components/contextual-help")
define("msg-overlay/components/conversation-bubble-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","msg-data/utils/sdk-view-data-helpers","data-layer/utils/profile/get-profile","msg-shared/utils/view-data-helpers","msg-overlay/viewdata/sdk-conversation-bubble-viewdata","global-utils/utils/a11y-focus-element","global-utils/utils/keyboard-utils","msg-shared/utils/document-is-hidden","urn-utils","msg-shared/utils/constants","global-utils/utils/is-browser","@glimmer/tracking","@glimmer/component","@ember/object","ember-lifeline","ember-batcher","@ember/service","@ember/debug","@ember/destroyable","ember-cli-pemberly-i18n/helpers/t","@ember/modifier","@ember/render-modifiers/modifiers/did-insert","ember-cli-pemberly-tracking/modifiers/track-view","msg-shared/modifiers/block-scrolling","message-button/components/mcie-tracking-beacon","msg-overlay/components/conversation-bubble-header-feature","msg-spinmail/components/sponsored-conversation-thread-feature","msg-spinmail/components/spinmail-thread-presenter","msg-ui/components/compose-feature","global-helpers/helpers/not","msg-shared-modals/components/discard-message-modal-presenter","ember-async-data","msg-ui/components/dispatcher","ember-test-waiters","global-helpers/helpers/eq","global-helpers/helpers/get-class-hash","global-helpers/helpers/and","hue-web-icons/components/illustration"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,h,b,v,f,y,_,w,M,C,D,k,S,O,I,x,P,R,A,T,E,N,U,z,B,F,L,j,V,q,H,Y){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var K,W,G,J,X,Q,$,Z,ee,te,ne,ie,ae,oe,re,se,le,ce,ue,de,pe,me,ge,he,be,ve,fe,ye,_e,we,Me,Ce,De,ke,Se,Oe,Ie,xe,Pe,Re,Ae
const{CONTROL_NAMES:Te,KEYCODES:{ESC:Ee,SPACEBAR:Ne,ENTER:Ue},MODULE_KEYS:ze,OVERLAY:{BUBBLE_ACTIONS:{TOGGLE_JUMBO:Be,TOGGLE_MINIMIZED:Fe}},PAGEVIEW_KEYS:Le,ATTACHMENT_DRAG_AND_DROP_TRACKING_KEYS:je}=v.default,Ve=(0,j.buildWaiter)("smooth-scroll-waiter")
e.default=(0,l.setComponentTemplate)((0,r.createTemplateFactory)({id:"Yn66JQbN",block:'[[[1,"\\n"],[1,"    "],[11,0],[16,1,[29,[[30,1,["id"]]]]],[24,"data-feedback-redacted",""],[24,"data-msg-overlay-conversation-bubble-open",""],[16,"data-msg-overlay-conversation-bubble-is-minimized",[52,[30,1,["isMinimized"]],"true","false"]],[24,"tabindex","-1"],[16,0,[29,["msg-convo-wrapper msg-overlay-conversation-bubble msg-overlay-conversation-bubble--default-inactive ml4\\n        ",[52,[30,1,["isNew"]],"msg-overlay-conversation-bubble--is-compose"],"\\n        ",[52,[30,1,["isActive"]],"msg-overlay-conversation-bubble--is-active"],"\\n        ",[52,[30,1,["isMinimized"]],"msg-overlay-conversation-bubble--is-minimized"],"\\n        ",[52,[30,1,["isJumbo"]],"msg-overlay-conversation-bubble--jumbo","msg-overlay-conversation-bubble--petite"],"\\n        ",[52,[30,1,["isInMailCompose"]],"msg-overlay-conversation-bubble--inmail"],"\\n        ",[52,[28,[32,0],[[30,1,["dispatcherEntryPointArgs","courierAPIArgs","composeOptionArgs","screenContext"]],"JOB_DETAILS_HIRING_TEAM"],null],"msg-overlay-conversation-bubble__job-details-hiring-team"],"\\n        ",[52,[51,[30,0,["hasDispatcherLoaded"]]],"hidden"]]]],[24,"role","dialog"],[16,"aria-label",[28,[32,1],["a11y_message_dialog","msg-overlay/components/conversation-bubble-feature"],null]],[24,"data-view-name","message-overlay-conversation-bubble-item"],[4,[32,2],["keyup",[30,0,["handlekeyUp"]]],null],[4,[32,2],["keydown",[30,0,["handlekeyDown"]]],null],[4,[32,3],[[30,0,["handleDidInsert"]]],null],[4,[32,4],null,[["viewName","routeName","currentRoute"],["message-overlay-conversation-bubble-item",[28,[32,5],[[53,"outletState"],"render.name"],null],[28,[32,5],[[53,"outletState"],"render"],null]]]],[4,[32,6],null,null],[12],[1,"\\n"],[1,"      "],[8,[32,7],null,[["@composeToNonConnection","@composeViewContext","@contextByRecipients","@conversation","@conversationTrackedAsyncData","@conversationUrn","@dispatcherEntryPointArgs","@entryPointData","@focusHeader","@focusInput","@focusTypeahead","@forwardedEvent","@inmailReplyDeepLink","@isOverlay","@isTYAHFlow","@messageContext","@msgAdapterOptions","@openConversation","@prefilledAttachments","@recipientsChanged","@smpContent","@subject","@update","@updateModel"],[[30,0,["composeToNonConnection"]],[30,0,["composeViewContext"]],[30,0,["contextByRecipients"]],[30,0,["conversation"]],[30,0,["conversationTrackedAsyncData"]],[30,0,["conversationUrn"]],[30,1,["dispatcherEntryPointArgs"]],[30,1,["entryPointData"]],[30,0,["focusHeader"]],[30,0,["focusInput"]],[30,0,["focusTypeahead"]],[30,1,["forwardedEvent"]],[30,1,["inmailReplyDeepLink"]],true,[30,0,["isTYAHFlow"]],[30,1,["messageContext"]],[30,1,["msgAdapterOptions"]],[30,0,["openConversation"]],[30,1,["attachments"]],[30,0,["recipientsChanged"]],[30,1,["smpContent"]],[30,1,["subject"]],[30,1,["update"]],[30,0,["updateModel"]]]],[["default"],[[[[1,"\\n"],[41,[28,[32,8],[[28,[32,9],[[30,1,["isMinimized"]]],null],[30,2,["conversationTrackedAsyncData","isResolved"]]],null],[[[1,"          "],[8,[32,10],null,[["@composeOptionType","@controlUrn","@conversationUrn","@hasNonEmptyDraftMessage","@entryPageKey","@messageComposeFlowTrackingId","@prefilledText","@recipientUrns","@referringModuleKey","@sourceType"],[[30,2,["trackingData","composeOptionType"]],[30,2,["trackingData","controlUrn"]],[30,2,["trackingData","conversationUrn"]],[30,2,["trackingData","hasNonEmptyDraftMessage"]],[30,2,["trackingData","entryPageKey"]],[30,2,["trackingData","messageComposeFlowTrackingId"]],[30,2,["trackingData","prefilledText"]],[30,2,["trackingData","recipientUrns"]],[30,2,["trackingData","referringModuleKey"]],"OVERLAY"]],null],[1,"\\n"]],[]],null],[1,"\\n"],[1,"        "],[8,[32,11],null,[["@hasBadge","@isMinimized","@toggleMinimize","@bubble","@conversation","@messageRecipients","@isCompanySender","@presenceStatus","@handleSuccessfulDiscardRequest","@toggleShowRenameConversation","@enableReportingSponsoredConversation","@toggleConversationMute","@trackingModuleName","@actionTrackingPrefix","@showVideoMeetingButtonInHeader","@updateMessageCompose","@toggleJumboSize","@handleCloseBubble","@focusHeader"],[[30,0,["hasBadge"]],[30,1,["isMinimized"]],[30,0,["toggleMinimize"]],[30,1],[30,2,["conversation"]],[30,1,["messageRecipients"]],[30,0,["isCompanySender"]],[30,0,["presenceStatus"]],[30,0,["handleSuccessfulDiscardRequest"]],[30,0,["toggleShowRenameConversation"]],[30,0,["enableReportingSponsoredConversation"]],[30,0,["toggleConversationMute"]],[30,0,["trackingModuleName"]],[30,0,["actionTrackingPrefix"]],[30,0,["showVideoMeetingButtonInHeader"]],[30,0,["updateMessageCompose"]],[30,0,["toggleJumboSize"]],[30,0,["handleCloseBubble"]],[30,2,["focusHeader"]]]],null],[1,"\\n"],[1,"        "],[11,0],[16,0,[29,["msg-overlay-conversation-bubble__content-wrapper relative display-flex flex-column\\n            ",[52,[30,0,["showRenameConversationForm"]]," msg-overlay-conversation-bubble__content-wrapper--disabled"]]]],[4,[32,2],["mouseup",[30,0,["onActive"]]],null],[4,[32,2],["focusin",[30,0,["onActive"]]],null],[12],[1,"\\n"],[41,[30,1,["isDeprecatedLinkToJoin"]],[[[1,"            "],[10,0],[14,0,"display-flex flex-column align-items-center full-height pt7"],[12],[1,"\\n              "],[8,[32,12],[[24,0,"msg-overlay-conversation-bubble__link-to-join-deprecation-illustration"]],[["@name","@type","@size"],["empty-waiting","spot","large"]],null],[1,"\\n              "],[10,0],[14,0,"mt4 ph6 t-14 text-align-center"],[12],[1,[28,[32,1],["i18n_link_to_join_deprecated_text","msg-overlay/components/conversation-bubble-feature"],null]],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],[[[41,[30,0,["viewData","isSponsoredConversation"]],[[[1,"              "],[8,[32,13],null,[["@viewData","@renderThread","@isOverlay","@entryPointData"],[[30,0,["viewData","sponsoredConversationThreadViewData"]],[30,0,["viewData","sponsoredConversationThreadViewData","conversation"]],true,[30,2,["entryPointData"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["viewData","isSponsoredInMail"]],[[[1,"              "],[8,[32,14],null,[["@viewData","@actionTrackingPrefix","@isCompanySender"],[[30,0,["viewData","spinmailThreadViewData"]],[30,0,["actionTrackingPrefix"]],[30,0,["isCompanySender"]]]],null],[1,"\\n"]],[]],[[[1,"              "],[8,[32,15],null,[["@actionTrackingPrefix","@addParticipantsPageKey","@bubbleId","@composeModuleKey","@composeToNonConnection","@composeViewContext","@contextByRecipients","@contextWidth","@conversation","@conversationTrackedAsyncData","@conversationDetailModuleKey","@conversationName","@customPlaceholderText","@didSubmitMessage","@dragAndDropTrackingKeys","@entryPointData","@fileUploadControlName","@forwardedEvent","@gaiContext","@handleSuccessfulDiscardRequest","@hasPrefilledConversationName","@imagePasteControlName","@imageUploadControlName","@inmailReplyDeepLink","@invitationUrn","@is1on1Compose","@isInMailCompose","@isNew","@isOriginalSize","@isOverlay","@jobPostingUrn","@messageActions","@messageComposeFlowTrackingId","@messageContext","@messageRecipients","@msgAdapterOptions","@noConvoHistoryInNewConvo","@onConversationFetched","@openConversation","@prefilledAttachments","@prefilledMessage","@quickRepliesUseCase","@recipientsChanged","@recipientSuggestionEnabled","@renamePageKey","@sendMessageControlName","@showPremiumUpsell","@showRenameConversationForm","@smpContent","@subject","@targetUrl","@toggleShowRenameConversation","@update","@onEnterGaiFlow","@focusInput","@focusTypeahead","@trackingData"],[[30,0,["CONTROL_NAMES","OVERLAY_PREFIX"]],"flagship3_messaging_overlay_participant_detail_screen_displayed",[30,1,["id"]],[30,0,["MODULE_KEYS","OVERLAY_COMPOSE"]],[30,2,["composeToNonConnection"]],[30,2,["composeViewContext"]],[30,2,["contextByRecipients"]],[30,0,["width"]],[30,2,["conversation"]],[30,2,["conversationTrackedAsyncData"]],[30,0,["MODULE_KEYS","OVERLAY_CONVERSATION_DETAIL"]],[30,1,["groupConversationName"]],[30,1,["placeholderText"]],[30,2,["didSubmitMessage"]],[30,0,["dragAndDropTrackingKeys"]],[30,2,["entryPointData"]],[30,0,["CONTROL_NAMES","OVERLAY","FILE_UPLOAD"]],[30,2,["forwardedEvent"]],[30,2,["gaiContext"]],[30,0,["handleSuccessfulDiscardRequest"]],[30,1,["groupConversationName"]],[30,0,["CONTROL_NAMES","OVERLAY","IMAGE_PASTE"]],[30,0,["CONTROL_NAMES","OVERLAY","IMAGE_UPLOAD"]],[30,2,["inmailReplyDeepLink"]],[30,1,["invitationUrn"]],[30,2,["entryPointData","is1on1Compose"]],[30,1,["isInMailCompose"]],[30,1,["isNew"]],[28,[32,9],[[30,1,["isJumbo"]]],null],true,[30,2,["jobPostingUrn"]],[30,1,["messageActions"]],[30,3],[30,2,["messageContext"]],[30,1,["messageRecipients"]],[30,2,["msgAdapterOptions"]],[30,2,["noConvoHistoryInNewConvo"]],[30,0,["onConversationFetched"]],[30,2,["openConversation"]],[30,2,["prefilledAttachments"]],[30,2,["prefilledMessage"]],"QUICK_REPLY_OVERLAY",[30,2,["recipientsChanged"]],true,"flagship3_messaging_overlay_conversation_window_rename.page",[30,0,["CONTROL_NAMES","OVERLAY","SEND"]],[30,1,["showPremiumUpsell"]],[30,0,["showRenameConversationForm"]],[30,2,["smpContent"]],[30,2,["subject"]],[30,1,["targetUrl"]],[30,0,["toggleShowRenameConversation"]],[30,2,["update"]],[30,0,["onEnterGaiFlow"]],[30,2,["focusInput"]],[30,2,["focusTypeahead"]],[30,2,["trackingData"]]]],null],[1,"\\n            "]],[]]]],[]]]],[]]],[1,"        "],[13],[1,"\\n      "]],[2]]]]],[1,"\\n      "],[8,[32,16],null,[["@showMessageDiscardModal","@conversation","@onDiscard","@closeDiscardModal"],[[30,0,["showMessageDiscardModal"]],[30,0,["conversation"]],[30,0,["closeBubble"]],[30,0,["closeDiscardModal"]]]],null],[1,"\\n    "],[13],[1,"\\n  "]],["@bubble","DispatcherInstance","@messageComposeFlowTrackingId"],false,["if","unless","-get-dynamic-var"]]',moduleName:"msg-overlay/components/conversation-bubble-feature.gjs",scope:()=>[V.default,O.default,I.on,x.default,P.default,s.get,R.default,L.default,H.default,z.default,A.default,T.default,Y.default,E.default,N.default,U.default,B.default],isStrictMode:!0}),(K=(0,D.inject)("i18n"),W=(0,D.inject)("msg-data@data-manager"),G=(0,D.inject)("msg-overlay-manager@msg-overlay-manager"),J=(0,D.inject)("jet"),X=(0,D.inject)("tracking"),Q=(0,D.inject)("persistent-toast-manager@persistent-toast-manager"),$=(0,D.inject)("authentication@authenticated-user"),Z=(0,D.inject)("presence@presence-api-dash"),ee=(0,D.inject)("msg-ui@update-message-compose"),te=(0,D.inject)("global-services@store-shim"),ne=(0,D.inject)("@linkedin/ember-restli-graphql@graphql"),ie=(0,D.inject)("global-services@a11y-notification"),ae=(0,D.inject)("interop"),oe=(Ae=new WeakSet,class extends _.default{get conversation(){this.conversationUrn
return this.msgOverlayManager.getConversationFromBubble(this.args.bubble)}get hasBadge(){if(this.msgDataManager.isOverlayBubbleHeaderFixEnabled){const{read:e,unreadCount:t}=this.args.bubble.conversation
return!1===e&&t>0&&!this.msgOverlayManager.forcedMinimizedAtRoute}return this.args.bubble.hasUnseenMessages&&!this.msgOverlayManager.forcedMinimizedAtRoute&&this.viewData.isUnread}get isCompanySender(){return this.viewData.isCompanyProfile}get presenceStatus(){const{nonSelfParticipantUrns:e}=this.viewData
if(null!=e&&e[0])return this.presenceAPI.getPresenceStatus(this.viewData.nonSelfParticipantUrns[0])}get showVideoMeetingButtonInHeader(){var e,t
return!this.msgDataManager.isVideoMeetingCtaDeprecatedLixEnabled&&(!(null!==(e=this.args)&&void 0!==e&&null!==(t=e.bubble)&&void 0!==t&&t.isMinimized)&&this.conversation&&this.viewData.isVideoMeetingEnabled&&!this.isCompanySender)}get viewData(){var e
return new p.default({conversation:this.conversation,msgDataManager:this.msgDataManager,authenticatedUserProfile:null===(e=this.authenticatedUser.miniProfile)||void 0===e?void 0:e.content,presenceAPI:this.presenceAPI,messageRecipients:this.args.bubble.messageRecipients,graphql:this.graphql,jet:this.jet})}updateModel(e){var t,n
if(e.ui.autoclose){(0,w.setProperties)(this.args.bubble,{conversation:e.ui.conversation})
this.handleCloseBubble()
return}this.conversationUrn=(null===(t=e.ui.conversation)||void 0===t?void 0:t.entityUrn)??(null===(n=e.ui.conversation)||void 0===n?void 0:n.clientId);(0,w.setProperties)(this.args.bubble,{conversation:e.ui.conversation,messageRecipients:e.ui.messageRecipients,isNew:e.ui.isNew,isInMailCompose:e.ui.isInMailCompose,isMinimized:e.ui.isMinimized,hasUnseenMessages:e.ui.hasUnseenMessages,message:e.ui.initialBody})
const a=this._userHasToggledJumbo??this.args.bubble.dispatcherEntryPointArgs.client.senderContext.ui.isJumbo??e.ui.isJumbo
this.hasDispatcherLoaded=!0;(0,i.default)(this,Ae,qe).call(this,a)}_fetchAndSetComposeContext(e,t,n){this.composeViewContext=new F.TrackedAsyncData(this.msgDataManager.fetchComposeContext({recipients:e,composeOptionType:t,context:n}).then((e=>{if(this.isDestroying)return
n&&("MESSAGE_REQUEST"===t||"HIGH_INTENT"===t)&&(0,w.set)(this.args.bubble,"messageContext",{contextEntityUrn:n,contextText:e.contextText,composeOptionType:t})
return e})))}constructor(){super(...arguments)
Ae.add(this);(0,t.default)(this,"i18n",re,this);(0,t.default)(this,"msgDataManager",se,this);(0,t.default)(this,"msgOverlayManager",le,this);(0,t.default)(this,"jet",ce,this);(0,t.default)(this,"tracking",ue,this);(0,t.default)(this,"persistentToastManager",de,this);(0,t.default)(this,"authenticatedUser",pe,this);(0,t.default)(this,"presenceAPI",me,this);(0,t.default)(this,"updateMessageComposeService",ge,this);(0,t.default)(this,"storeShim",he,this);(0,t.default)(this,"graphql",be,this);(0,t.default)(this,"a11yNotification",ve,this);(0,t.default)(this,"interop",fe,this);(0,n.default)(this,"CONTROL_NAMES",Te);(0,n.default)(this,"MODULE_KEYS",ze);(0,n.default)(this,"actionTrackingPrefix",Te.OVERLAY_PREFIX);(0,n.default)(this,"trackingModuleName",ze.OVERLAY_CONVERSATION_DETAIL);(0,t.default)(this,"composeViewContext",ye,this);(0,t.default)(this,"enableReportingSponsoredConversation",_e,this);(0,t.default)(this,"showMessageDiscardModal",we,this);(0,t.default)(this,"showRenameConversationForm",Me,this);(0,t.default)(this,"width",Ce,this);(0,t.default)(this,"contextByRecipients",De,this);(0,t.default)(this,"focusTypeahead",ke,this);(0,t.default)(this,"focusInput",Se,this);(0,t.default)(this,"focusHeader",Oe,this);(0,n.default)(this,"dragAndDropTrackingKeys",je.OVERLAY);(0,t.default)(this,"conversationUrn",Ie,this);(0,n.default)(this,"_userHasToggledJumbo",void 0);(0,t.default)(this,"isTYAHFlow",xe,this);(0,t.default)(this,"hasDispatcherLoaded",Pe,this);(0,t.default)(this,"conversationTrackedAsyncData",Re,this);(0,n.default)(this,"_conversationLastLoadedAt",Date.now())
this.conversationEntryTime||(this.conversationEntryTime=Date.now());(0,w.set)(this,"enableReportingSponsoredConversation",this.viewData.enableReportingSponsoredConversation)}setConversationTrackedAsyncData(e){this.conversationTrackedAsyncData=new F.TrackedAsyncData(e)}handleDidInsert(e){var t,n,i,a,o,r,s,l
this._element=e
this.a11yNotification.setTextInLiveRegion(this.i18n.lookupTranslation("components/msg-overlay@conversation-bubble-feature","a11y_new_message_announcement")());(0,h.default)()?this.args.bubble.isMinimized||(this.isPageViewEventPending=!0):this._fireBubblePVE()
null!==(t=this.args.bubble.dispatcherEntryPointArgs)&&void 0!==t&&null!==(n=t.client)&&void 0!==n&&null!==(i=n.senderContext)&&void 0!==i&&null!==(a=i.ui)&&void 0!==a&&a.isTriggeredByRealtime||null!==(o=this.args.bubble.dispatcherEntryPointArgs)&&void 0!==o&&null!==(r=o.client)&&void 0!==r&&null!==(s=r.senderContext)&&void 0!==s&&null!==(l=s.ui)&&void 0!==l&&l.isMinimized||this.onActive();(0,M.addEventListener)(this,this._element,"transitionend",(e=>{"width"===e.propertyName&&(0,C.readDOM)((()=>{this.isDestroying||(this.width=this._element.offsetWidth)}))}))
if(f.default){(0,M.addEventListener)(this,document,"mousedown",(e=>{this._element&&!this._element.contains(e.target)&&this._updateActiveState(!1)}));(0,M.addEventListener)(this,window,"visibilitychange",this._handleVisibilityChange.bind(this));(0,M.addEventListener)(this,window,"beforeunload",(e=>{if(this.conversation&&(0,c.conversationHasNonEmptyDraftMessage)(this.conversation)){this.tracking.fireInteractionEvent("overlay.before_discard_draft")
e.preventDefault();(e||window.event).returnValue=!0
return!0}}))}}_handleVisibilityChange(){if(!(0,h.default)()&&this.isPageViewEventPending){this._fireBubblePVE()
this.isPageViewEventPending=!1}}_updateActiveState(e){(0,w.set)(this.args.bubble,"isActive",e)}handlekeyUp(e){const t=e.target.closest(".msg-s-event-listitem__message-bubble--escaped")||e.target.closest(".msg-s-event-listitem__actions-container")||e.target.closest(".msg-thread-actions__control")||e.target.classList.contains("premium-gai-inline-module__dropdown-content")
e.keyCode!==Ee||t||this.handleCloseBubble()}handlekeyDown(e){var t
const n=null===(t=document.querySelector(`#${this.args.bubble.id} .msg-form__send-button`))||void 0===t?void 0:t.disabled,i=this.args.bubble.isInMailCompose&&(document.activeElement.classList.contains("emoji-hoverable-trigger")&&n||document.activeElement.classList.contains("msg-form__send-button")||document.activeElement.classList.contains("artdeco-button--premium"))
if((0,g.isTabKey)(e)&&!e.shiftKey&&(document.activeElement.classList.contains("msg-form__send-toggle")||i)){(0,m.default)(this,`#${this.args.bubble.id}`)
e.preventDefault()}}_focusConversation(){var e,t
if(f.default&&((null===(e=this.interop.nileOverlayOutletOrFalse)||void 0===e||null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||window).getSelection().toString())return
let n
n=this.viewData.isConversationWithAdvertiser?`.${(0,q.getClassHashString)("msg-overlay-bubble-header")}`:this.args.bubble.isInMailCompose?".msg-form__subject input":".msg-form__contenteditable"
const i=this._element.querySelector(n)||this._element.querySelector(".msg-overlay-bubble-header__title")
i&&i.focus()}_showSuccessToast(e){const t=this.i18n.lookupTranslation("components/msg-overlay@conversation-bubble-feature",e)([])
this.persistentToastManager.success({message:t})}onActive(){this._updateActiveState(!0)
this.msgOverlayManager.markConversationAsRead(this.args.bubble)}handleCloseBubble(){if(this.conversation&&(0,c.conversationHasNonEmptyDraftMessage)(this.conversation)){this.showMessageDiscardModal=!0
this.tracking.firePageViewEvent("flagship3_messaging_compose_exit_new_conversation")}else{this.args.closeBubble()
if(this.conversation){const{conversationUrn:e,inboxType:t}=this.viewData
if(e&&t){let n="OTHER"
"PRIMARY"===t?n="PRIMARY_INBOX":"SECONDARY"===t&&(n="SECONDARY_INBOX")
const i={conversationUrn:e,inboxType:n,origin:"WEB_OVERLAY",conversationEntryTime:this.conversationEntryTime,conversationExitTime:Date.now()}
this.tracking.fireTrackingPayload("ConversationDwellEvent",i)}}}(0,M.runTask)(this,(()=>{var e,t
return null===(e=this.args.bubble.messageActions)||void 0===e||null===(t=e.afterCloseBubble)||void 0===t?void 0:t.call(e)}),1)}toggleJumboSize(){(0,i.default)(this,Ae,qe).call(this)
this._userHasToggledJumbo=!this.args.bubble.isJumbo}onEnterGaiFlow(){this.args.bubble.isJumbo||this.toggleJumboSize()}toggleMinimize(e){var t
e.preventDefault()
if(!("keypress"===e.type&&e.keyCode!==Ue&&e.keyCode!==Ne||null!==(t=e.target)&&void 0!==t&&t.closest(".msg-overlay-bubble-header__controls"))){this.msgOverlayManager.resizeBubble(this.args.bubble,Fe)
if(this.args.bubble.isMinimized){this.viewData.isConversationWithAdvertiser&&!this.args.bubble.conversation.read&&this.args.bubble.conversation.unreadCount>0&&this.msgOverlayManager.markConversationAsRead(this.args.bubble);(0,M.runTask)(this,(()=>{this._focusConversation()}))
this._fireBubblePVE()}(0,M.runTask)(this,(()=>{(0,w.set)(this.args.bubble,"isMinimized",!this.args.bubble.isMinimized)
this._updateActiveState(!this.args.bubble.isMinimized)
this.msgOverlayManager.syncCachedConvos()}))}}toggleShowRenameConversation(){this.viewData.isGroupChat&&(this.showRenameConversationForm=!this.showRenameConversationForm)}openConversation(e){this.isTYAHFlow=!0
this.msgDataManager.fetchConversation(e).then((e=>{if(!(0,S.isDestroying)(this)&&e){this.onConversationFetched(e,!1)
this._fetchAndSetComposeContext(this.viewData.nonSelfParticipantUrns,"REPLY",e.entityUrn);(0,M.scheduleTask)(this,"actions",(()=>{this._focusConversation()}))}}))}async openInMailCompose(e,t,n){const i=Ve.beginAsync(),a=await(0,u.getProfileById)(this.storeShim,e,"com.linkedin.voyager.dash.deco.identity.profile.MiniProfile")
if((0,S.isDestroying)(this))return
const o=await this.msgDataManager.fetchLatestConversationByRecipients([a.entityUrn])
if((0,S.isDestroying)(this))return
let r
o.entityUrn&&(r=o.entityUrn)
this._fetchAndSetComposeContext([a.entityUrn],"PREMIUM_INMAIL",r)
this.msgDataManager.isServerSideDraftsEnabled&&this.setConversationTrackedAsyncData(o)
Ve.endAsync(i)
this.conversationUrn=o.entityUrn||o.clientId;(0,w.setProperties)(this.args.bubble,{conversation:o,composeOptionType:"PREMIUM_INMAIL",isInMailCompose:!0,isJumbo:!t,messageRecipients:a?[a]:void 0,showPremiumUpsell:t,targetUrl:n});(0,M.scheduleTask)(this,"actions",(()=>{this._focusConversation()}))}composeToNonConnection(e,t){var n,i,a,o
let{composeOption:r={},upsellContextUrn:s}=t
this.isTYAHFlow=!0
const{composeOptionType:l,composeNavigationContext:c}=r
switch(l){case"UPSELL":this.openInMailCompose((0,b.extractEntityInfoFromUrn)(s).id,!0,(null===(n=r.composeNavigationContext)||void 0===n?void 0:n.targetUrl)??r.targetUrl)
break
case"PREMIUM_INMAIL":this.openInMailCompose((0,b.extractEntityInfoFromUrn)(null===(i=r.composeNavigationContext)||void 0===i||null===(a=i.recipientUrns)||void 0===a?void 0:a[0]).id)
break
case"REPLY":this.openConversation((0,b.extractEntityInfoFromUrn)(null===(o=r.composeNavigationContext)||void 0===o?void 0:o.existingConversationUrn).id)
break
default:this._fetchAndSetComposeContext(c.serialize().recipientUrns,l)
e()}}toggleConversationMute(){const e=this.viewData.isMuted
return this.msgDataManager.toggleConversationMute(this.viewData.conversationUrn,!e)}onConversationFetched(e,t){this.conversationUrn=e.entityUrn||e.clientId
this._conversationLastLoadedAt=Date.now();(0,w.setProperties)(this.args.bubble,{conversation:e,isNew:t})
if(!e.isDraft){this.msgDataManager.setConversationAsActive(e)
const t=this.args.bubble.isJumbo;(0,w.setProperties)(this.args.bubble,{isInMailCompose:!1,isJumbo:!0})
const{isJumbo:n}=this.args.bubble
n!==t&&!(!1===n&&void 0===t)&&this.msgOverlayManager.resizeBubble(this.args.bubble,"TOGGLE_JUMBO")}}recipientsChanged(e,t){var n
this.isTYAHFlow=!0
this.contextByRecipients=t;(0,w.setProperties)(this.args.bubble,{messageRecipients:e,messageContext:void 0})
const i=this.msgDataManager.fetchLatestConversationByRecipients(e.map((e=>(0,d.getProfileDashUrn)(e)))).then((e=>{if(!this.isDestroying){this.onConversationFetched(e,this.args.bubble.isNew)
return e}}))
this.conversationTrackedAsyncData=new F.TrackedAsyncData(i)
if(0===e.length){this.composeViewContext=new F.TrackedAsyncData(null)
return}const a=null!=t&&null!==(n=t[0])&&void 0!==n&&n.contextEntityUrn.includes("company")?"MESSAGE_REQUEST":"CONNECTION_MESSAGE"
i.then((()=>{if(!this.isDestroying){var n,i
const o=(null===(n=this.args.bubble.conversation)||void 0===n?void 0:n.entityUrn)??(null==t||null===(i=t[0])||void 0===i?void 0:i.contextEntityUrn)??""
this._fetchAndSetComposeContext(e.map((e=>{let{entityUrn:t}=e
return t})),a,o)}}))}updateMessageCompose(e){let{body:t}=e
this.updateMessageComposeService.triggerUpdateMessageCompose({bubbleId:this.args.bubble.id,isOverlay:!0,messageText:t})}_fireBubblePVE(){this.args.bubble.isMinimized||this.tracking.firePageViewEvent(Le.OVERLAY_CONVO)}handleSuccessfulDiscardRequest(){var e,t
const{bubble:n}=this.args,i=n.conversation?n.conversation.entityUrn:n.id
this.msgOverlayManager.closeBubbleByConversationUrnOrBubbleId(i)
null===(e=(t=this.args).handleSuccessfulDiscardRequest)||void 0===e||e.call(t,...arguments)}closeDiscardModal(){(0,w.set)(this,"showMessageDiscardModal",!1)
this.tracking.fireInteractionEvent(Te.DISCARD_COMPOSE_MODAL.CANCEL)}closeBubble(){this.tracking.fireInteractionEvent(Te.DISCARD_COMPOSE_MODAL.DISCARD)
this.args.closeBubble()}}),re=(0,a.default)(oe.prototype,"i18n",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,a.default)(oe.prototype,"msgDataManager",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,a.default)(oe.prototype,"msgOverlayManager",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=(0,a.default)(oe.prototype,"jet",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=(0,a.default)(oe.prototype,"tracking",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=(0,a.default)(oe.prototype,"persistentToastManager",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=(0,a.default)(oe.prototype,"authenticatedUser",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=(0,a.default)(oe.prototype,"presenceAPI",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=(0,a.default)(oe.prototype,"updateMessageComposeService",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=(0,a.default)(oe.prototype,"storeShim",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=(0,a.default)(oe.prototype,"graphql",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=(0,a.default)(oe.prototype,"a11yNotification",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=(0,a.default)(oe.prototype,"interop",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=(0,a.default)(oe.prototype,"composeViewContext",[y.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=(0,a.default)(oe.prototype,"enableReportingSponsoredConversation",[y.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=(0,a.default)(oe.prototype,"showMessageDiscardModal",[y.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Me=(0,a.default)(oe.prototype,"showRenameConversationForm",[y.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ce=(0,a.default)(oe.prototype,"width",[y.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=(0,a.default)(oe.prototype,"contextByRecipients",[y.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=(0,a.default)(oe.prototype,"focusTypeahead",[y.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Se=(0,a.default)(oe.prototype,"focusInput",[y.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Oe=(0,a.default)(oe.prototype,"focusHeader",[y.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ie=(0,a.default)(oe.prototype,"conversationUrn",[y.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=(0,a.default)(oe.prototype,"isTYAHFlow",[y.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pe=(0,a.default)(oe.prototype,"hasDispatcherLoaded",[y.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Re=(0,a.default)(oe.prototype,"conversationTrackedAsyncData",[y.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,a.default)(oe.prototype,"updateModel",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"updateModel"),oe.prototype),(0,a.default)(oe.prototype,"setConversationTrackedAsyncData",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"setConversationTrackedAsyncData"),oe.prototype),(0,a.default)(oe.prototype,"handleDidInsert",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"handleDidInsert"),oe.prototype),(0,a.default)(oe.prototype,"handlekeyUp",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"handlekeyUp"),oe.prototype),(0,a.default)(oe.prototype,"handlekeyDown",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"handlekeyDown"),oe.prototype),(0,a.default)(oe.prototype,"onActive",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"onActive"),oe.prototype),(0,a.default)(oe.prototype,"handleCloseBubble",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"handleCloseBubble"),oe.prototype),(0,a.default)(oe.prototype,"toggleJumboSize",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"toggleJumboSize"),oe.prototype),(0,a.default)(oe.prototype,"onEnterGaiFlow",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"onEnterGaiFlow"),oe.prototype),(0,a.default)(oe.prototype,"toggleMinimize",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"toggleMinimize"),oe.prototype),(0,a.default)(oe.prototype,"toggleShowRenameConversation",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"toggleShowRenameConversation"),oe.prototype),(0,a.default)(oe.prototype,"openConversation",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"openConversation"),oe.prototype),(0,a.default)(oe.prototype,"composeToNonConnection",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"composeToNonConnection"),oe.prototype),(0,a.default)(oe.prototype,"toggleConversationMute",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"toggleConversationMute"),oe.prototype),(0,a.default)(oe.prototype,"onConversationFetched",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"onConversationFetched"),oe.prototype),(0,a.default)(oe.prototype,"recipientsChanged",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"recipientsChanged"),oe.prototype),(0,a.default)(oe.prototype,"updateMessageCompose",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"updateMessageCompose"),oe.prototype),(0,a.default)(oe.prototype,"handleSuccessfulDiscardRequest",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"handleSuccessfulDiscardRequest"),oe.prototype),(0,a.default)(oe.prototype,"closeDiscardModal",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"closeDiscardModal"),oe.prototype),(0,a.default)(oe.prototype,"closeBubble",[w.action],Object.getOwnPropertyDescriptor(oe.prototype,"closeBubble"),oe.prototype),oe))
function qe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.args.bubble.isJumbo
this.msgOverlayManager.resizeBubble(this.args.bubble,Be);(0,w.set)(this.args.bubble,"isJumbo",e)
this.msgOverlayManager.syncCachedConvos()}}))
define("msg-overlay/components/conversation-bubble-header-controls-presenter",["exports","@ember/template-factory","@ember/component/template-only","@ember/component","msg-shared-modals/components/conversation-header-dropdown-menu-presenter","ember-semaphore/components/ember-semaphore","msg-ui/components/virtual-meeting-cta-presenter","@ember/helper","artdeco-button/components/artdeco-button","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-tracking/modifiers/track-interaction","@ember/modifier"],(function(e,t,n,i,a,o,r,s,l,c,u,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const p=(0,i.setComponentTemplate)((0,t.createTemplateFactory)({id:"PbRNM4So",block:'[[[1,"\\n"],[1,"  "],[10,0],[14,0,"msg-overlay-bubble-header__controls display-flex align-items-center"],[12],[1,"\\n"],[41,[51,[30,1]],[[[41,[30,2,["showDropdownMenu"]],[[[1,"        "],[8,[32,0],null,[["@viewData","@handleSuccessfulDiscardRequest","@showRenameConversationForm","@externalComps","@enableReportingSponsoredConversation","@toggleConversationMute","@updateMessageCompose","@trackingModuleName","@actionTrackingPrefix","@addParticipantsPageKey","@isOverlay","@inverse","@parentRefocusElement"],[[30,2,["conversationHeaderDropdownMenuViewData"]],[30,3],[28,[32,1],[[30,4],true],null],[28,[32,2],null,[["semaphoreComp"],[[50,[32,3],0,null,null]]]],[30,5],[30,6],[30,7],[30,8],[30,9],"flagship3_messaging_overlay_participant_detail_screen_displayed",true,[30,10],[28,[32,4],["#",[30,11]],null]]],null],[1,"\\n\\n"],[41,[30,12],[[[1,"          "],[8,[32,5],null,[["@bubbleId","@viewData","@ctaSize","@isOverlay","@updateTextarea","@parentRefocusElement","@invertColor"],[[30,11],[30,2,["virtualMeetingCtaViewData"]],1,true,[30,7],[28,[32,4],["#",[30,11]],null],[30,10]]],null],[1,"\\n"]],[]],null]],[]],null],[1,"      "],[8,[32,6],[[16,"aria-expanded",[52,[30,13],"true","false"]],[4,[32,8],["click",[30,15]],null],[4,[32,9],[[52,[30,13],"overlay.shrink_conversation_window","overlay.expand_conversation_window"]],null]],[["@type","@color","@circle","@size","@icon","@class","@text"],[[52,[30,10],"primary","tertiary"],[52,[30,10],"default","muted"],true,1,[52,[30,13],"minimize","maximize"],"msg-overlay-bubble-header__control msg-overlay-conversation-bubble__expand-btn",[52,[30,13],[28,[32,7],[[52,[30,14],"i18n_minimize_bubble_new","i18n_minimize_bubble"],"msg-overlay/components/conversation-bubble-header-controls-presenter"],[["names"],[[30,2,["participantNames"]]]]],[28,[32,7],[[52,[30,14],"i18n_maximize_bubble_new","i18n_maximize_bubble"],"msg-overlay/components/conversation-bubble-header-controls-presenter"],[["names"],[[30,2,["participantNames"]]]]]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[1,"    "],[8,[32,6],[[4,[32,8],["click",[30,16]],null],[4,[32,9],["overlay.close_conversation_window"],null]],[["@type","@color","@class","@circle","@size","@icon","@text"],[[52,[30,10],"primary","tertiary"],[52,[30,10],"default","muted"],"msg-overlay-bubble-header__control",true,1,"close",[28,[32,7],[[52,[30,14],"a11y_close_convo_new","a11y_close_convo"],"msg-overlay/components/conversation-bubble-header-controls-presenter"],[["names"],[[52,[30,2,["conversationName"]],[30,2,["conversationName"]],[28,[32,7],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header-controls-presenter"],[["names"],[[30,2,["participantNames"]]]]]]]]]]],null],[1,"\\n  "],[13],[1,"\\n"]],["@isMinimized","@viewData","@handleSuccessfulDiscardRequest","@toggleShowRenameConversation","@enableReportingSponsoredConversation","@toggleConversationMute","@updateMessageCompose","@trackingModuleName","@actionTrackingPrefix","@hasBadge","@bubbleId","@showVideoMeetingButtonInHeader","@isJumbo","@isNew","@toggleJumboSize","@handleCloseBubble"],false,["unless","if","component"]]',moduleName:"msg-overlay/components/conversation-bubble-header-controls-presenter.gjs",scope:()=>[a.default,s.fn,s.hash,o.default,s.concat,r.default,l.default,c.default,d.on,u.default],isStrictMode:!0}),(0,n.default)("conversation-bubble-header-controls-presenter","ConversationBubbleHeaderControlsPresenter"))
e.default=p}))
define("msg-overlay/components/conversation-bubble-header-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@ember/service","msg-overlay/viewdata/sdk-conversation-bubble-header-viewdata","@glimmer/component","@ember/modifier","ember-cli-pemberly-tracking/modifiers/track-interaction","msg-ui/components/delay-remove-from-dom","msg-ui/components/conversation-entity-presenter","ember-cli-pemberly-i18n/helpers/t","global-helpers/helpers/and","global-helpers/helpers/not","app-aware-link/components/navigation-context-link","ember-engines/components/link-to-external","global-helpers/helpers/time-ago","msg-overlay/components/conversation-bubble-header-controls-presenter","@ember/render-modifiers/modifiers/did-insert","@glimmer/tracking","global-utils/utils/is-browser","@ember/object","global-modifiers/modifiers/focus","global-helpers/helpers/or","msg-data/utils/sdk-view-data-helpers","global-helpers/helpers/get-class-hash","artdeco-hoverables/components/artdeco-hoverable-trigger","global-utils/utils/url"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,h,b,v,f,y,_,w,M,C,D,k,S,O,I,x,P,R){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var A,T,E,N,U,z,B,F,L,j,V,q,H,Y,K,W
e.default=(0,s.setComponentTemplate)((0,o.createTemplateFactory)({id:"2gQoG2K2",block:'[[[1,"\\n"],[1,"    "],[11,"header"],[16,0,[29,[[28,[32,0],["msg-overlay-bubble-header"],null],"\\n        msg-overlay-conversation-bubble-header justify-space-between\\n        ",[52,[30,1,["isInMailCompose"]]," premium-accent-bar"]]]],[24,"tabindex","0"],[4,[32,1],["click",[30,0,["maybeToggle"]]],null],[4,[32,1],["keypress",[30,0,["maybeToggle"]]],null],[4,[32,2],[[52,[30,2],"overlay.maximize_conversation_window_bar","overlay.minimize_conversation_window_bar"]],null],[12],[1,"\\n"],[1,"      "],[10,0],[15,0,[29,["msg-overlay-bubble-header__badge-container\\n          ",[52,[30,3],"msg-overlay-bubble-header--inverse msg-overlay-bubble-header--is-badged"]]]],[12],[13],[1,"\\n\\n"],[1,"      "],[8,[32,3],null,[["@containerClass","@renderIf","@delay","@hideClass"],["align-items-center display-flex",[30,1,["isNew"]],132,"msg-overlay-conversation-bubble-header--fade-out"]],[["default"],[[[[1,"\\n        "],[10,0],[14,0,"flex-grow-1"],[12],[1,"\\n          "],[11,"h2"],[16,0,[29,["msg-overlay-bubble-header__title truncate t-14 t-bold\\n              ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"],"\\n              pr1"]]],[24,"tabindex","-1"],[4,[32,4],null,[["when"],[[28,[32,5],[[30,4],false],null]]]],[12],[1,"\\n            "],[1,[30,0,["defaultTitle"]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n"],[41,[51,[30,1,["isNew"]]],[[[1,"        "],[10,0],[15,0,[29,[[52,[30,1,["isNew"]],"msg-overlay-conversation-bubble-header--hidden","msg-overlay-conversation-bubble-header--fade-in"],"\\n            display-flex align-items-center flex-grow-1 overflow-hidden chrome-zindex-fix"]]],[12],[1,"\\n          "],[8,[32,6],null,[["@classNames","@viewData","@entitySize","@iconSize","@hasParticipants","@isInCoversationBubbleHeader"],["mr1",[30,0,["viewData","conversationEntityViewData"]],1,"small",[30,0,["viewData","hasParticipants"]],true]],null],[1,"\\n\\n"],[1,"          "],[10,0],[15,0,[29,["pl2 flex-grow-1 overflow-hidden\\n              ",[52,[28,[32,7],[[30,0,["showReplyResponseRate"]],[28,[32,8],[[30,2]],null]],null],"display-flex flex-column"],"\\n              ",[52,[30,0,["isReplyResponseRateTruncated"]],"pv2"]]]],[12],[1,"\\n            "],[11,"h2"],[16,0,[29,["pr1 msg-overlay-bubble-header__title truncate t-14 t-bold\\n                ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"],"\\n                ",[52,[51,[30,0,["showReplyResponseRate"]]],"pl1"],"\\n                "]]],[24,"tabindex","-1"],[4,[32,4],null,[["when"],[[28,[32,5],[[30,4],false],null]]]],[12],[1,"\\n"],[41,[30,0,["viewData","isCompanyRecipient"]],[[[41,[30,2],[[[1,"                  "],[1,[28,[32,9],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[1,"\\n"]],[]],[[[41,[28,[32,7],[[30,0,["viewData","pageUrl"]],[30,0,["viewData","pageName"]]],null],[[[1,"                    "],[8,[32,10],[[24,"target","_self"]],[["@href","@useDefaultLinkBehavior"],[[30,0,["viewData","pageUrl"]],false]],[["default"],[[[[1,"\\n                      "],[10,1],[15,0,[29,["hoverable-link-text\\n                          ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"]]]],[12],[1,"\\n                        "],[1,[28,[32,9],["i18n_page_name","msg-overlay/components/conversation-bubble-header-feature"],[["pageName"],[[30,0,["viewData","pageName"]]]]]],[1,"\\n                      "],[13],[1,"\\n                    "]],[]]]]],[1,"\\n"]],[]],[[[1,"                    "],[8,[32,11],null,[["@route","@model"],["companies.company",[30,0,["viewData","companyRecipientId"]]]],[["default"],[[[[1,"\\n                      "],[10,1],[15,0,[29,["hoverable-link-text\\n                          ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"]]]],[12],[1,"\\n                        "],[1,[28,[32,9],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[1,"\\n                      "],[13],[1,"\\n                    "]],[]]]]],[1,"\\n"]],[]]]],[]]]],[]],[[[41,[30,0,["viewData","isGroupChat"]],[[[1,"                "],[1,[52,[30,0,["viewData","conversationName"]],[30,0,["viewData","conversationName"]],[28,[32,9],["i18n_participant_familiar","msg-overlay/components/conversation-bubble-header-feature"],[["names"],[[30,0,["viewData","participantNamesWithSelf"]]]]]]],[1,"\\n\\n"],[41,[51,[30,2]],[[[1,"                  "],[10,"h3"],[15,0,[29,["t-12 t-normal truncate js-msg-group-participants\\n                      ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"]]]],[12],[1,"\\n                    "],[1,[30,0,["viewData","existingGroupParticipantsTitle"]]],[1,"\\n                  "],[13],[1,"\\n"]],[]],null]],[]],[[[41,[30,2],[[[1,"                "],[1,[28,[32,9],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[1,"\\n"]],[]],[[[41,[30,0,["shouldRenderStaticName"]],[[[41,[30,0,["canShowSponsoredMemeberSenderProfileTooltip"]],[[[1,"                    "],[8,[32,12],[[24,0,"inline-block"]],[["@on","@placement"],["click","bottom"]],[["default"],[[[[1,"\\n                      "],[10,"button"],[14,0,"msg-s-message-group__profile-link msg-s-message-group__name t-14 t-black t-bold"],[15,"aria-controls",[30,5,["ariaId"]]],[15,"aria-expanded",[30,5,["ariaExpanded"]]],[14,"data-js-sponsored-conversation-hoverable-trigger",""],[14,4,"button"],[12],[1,"\\n                        "],[1,[28,[32,9],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[1,"\\n                      "],[13],[1,"\\n                      "],[8,[30,5,["artdeco-hoverable-content"]],null,[["@theme","@contentClass"],["inverse","msg-s-message-group__preview-content"]],[["default"],[[[[1,"\\n                        "],[10,0],[14,0,"text-body-small-bold"],[12],[1,"\\n                          "],[1,[28,[32,9],["i18n_member_sender_header_tooltip","msg-overlay/components/conversation-bubble-header-feature"],null]],[1,"\\n                        "],[13],[1,"\\n                        "],[10,"br"],[12],[13],[1,"\\n                        "],[10,0],[12],[1,"\\n                          "],[1,[28,[32,9],["i18n_member_sender_tooltip","msg-overlay/components/conversation-bubble-header-feature"],null]],[1,"\\n                          "],[11,3],[16,6,[30,0,["sponsoredMemberSenderLearnMoreLink"]]],[24,"target","_blank"],[24,0,"link-without-visited-state"],[24,"rel","noopener noreferrer"],[4,[32,1],["click",[30,0,["fireSponosredMessagingInteractionEvent"]]],null],[12],[1,[28,[32,9],["i18n_tooltip_learn_more","msg-overlay/components/conversation-bubble-header-feature"],null]],[1," "],[13],[1,"\\n                        "],[13],[1,"\\n                      "]],[]]]]],[1,"\\n                    "]],[5]]]]],[1,"\\n"]],[]],[[[1,"                    "],[10,1],[15,0,[29,["t-14 t-bold\\n                        ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"]]]],[12],[1,"\\n                      "],[1,[28,[32,9],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[1,"\\n                    "],[13],[1,"\\n"]],[]]]],[]],[[[41,[30,0,["viewData","recipientProfileId"]],[[[1,"                  "],[8,[32,11],null,[["@route","@model","@bubbles"],["profile.common.profile",[30,0,["viewData","recipientProfileId"]],false]],[["default"],[[[[1,"\\n                    "],[10,1],[15,0,[29,["t-14 t-bold hoverable-link-text\\n                        ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"]]]],[12],[1,"\\n                      "],[1,[28,[32,9],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[1,"\\n                    "],[13],[1,"\\n                  "]],[]]]]],[1,"\\n                "]],[]],null]],[]]],[1,"              "]],[]]]],[]]]],[]]],[1,"            "],[13],[1,"\\n"],[41,[28,[32,7],[[30,0,["showReplyResponseRate"]],[28,[32,8],[[30,2]],null]],null],[[[1,"              "],[11,1],[16,0,[29,["t-12 t-normal pr1 msg-overlay-bubble-header-dark--average-response-time\\n                  ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black--light"]]]],[4,[32,13],[[30,0,["checkReplyResponseRateTruncated"]]],null],[12],[1,"\\n                "],[1,[30,0,["viewData","averageResponseTimeText"]]],[1,"\\n              "],[13],[1,"\\n"]],[]],[[[41,[30,0,["viewData","hasPresenceInformation"]],[[[41,[51,[30,2]],[[[41,[30,6,["isOnline"]],[[[1,"                  "],[10,0],[15,0,[29,["pl1 truncate t-12 t-normal\\n                      ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"]]]],[12],[1,"\\n                    "],[1,[28,[32,9],["i18n_active_now","msg-overlay/components/conversation-bubble-header-feature"],null]],[1,"\\n                  "],[13],[1,"\\n"]],[]],[[[41,[30,6,["isReachable"]],[[[1,"                  "],[10,0],[15,0,[29,["pl1 truncate t-12 t-normal\\n                      ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"]]]],[12],[1,"\\n                    "],[1,[52,[30,6,["lastActiveAt"]],[28,[32,9],["i18n_mobile","msg-overlay/components/conversation-bubble-header-feature"],[["date"],[[28,[32,14],[[30,6,["lastActiveAt"]],"short-ago"],null]]]],[28,[32,9],["i18n_available_on_mobile","msg-overlay/components/conversation-bubble-header-feature"],null]]],[1,"\\n                  "],[13],[1,"\\n                "]],[]],null]],[]]]],[]],null],[1,"            "]],[]],null]],[]]],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[1,"      "],[8,[32,15],null,[["@bubbleId","@isJumbo","@isNew","@isMinimized","@viewData","@handleSuccessfulDiscardRequest","@toggleShowRenameConversation","@enableReportingSponsoredConversation","@toggleConversationMute","@trackingModuleName","@actionTrackingPrefix","@showVideoMeetingButtonInHeader","@updateMessageCompose","@hasBadge","@handleCloseBubble","@toggleJumboSize"],[[30,1,["id"]],[30,1,["isJumbo"]],[30,1,["isNew"]],[30,2],[30,0,["viewData","conversationBubbleHeaderControlsViewData"]],[30,7],[30,8],[30,9],[30,10],[30,11],[30,12],[30,13],[30,14],[30,3],[30,15],[30,16]]],null],[1,"\\n\\n    "],[13],[1,"\\n  "]],["@bubble","@isMinimized","@hasBadge","@focusHeader","trigger","@presenceStatus","@handleSuccessfulDiscardRequest","@toggleShowRenameConversation","@enableReportingSponsoredConversation","@toggleConversationMute","@trackingModuleName","@actionTrackingPrefix","@showVideoMeetingButtonInHeader","@updateMessageCompose","@handleCloseBubble","@toggleJumboSize"],false,["if","unless"]]',moduleName:"msg-overlay/components/conversation-bubble-header-feature.gjs",scope:()=>[x.default,d.on,p.default,m.default,S.default,O.default,g.default,b.default,v.default,h.default,f.default,y.default,P.default,M.default,_.default,w.default],isStrictMode:!0}),(A=(0,l.inject)("i18n"),T=(0,l.inject)("formatter"),E=(0,l.inject)("msg-data@data-manager"),N=(0,l.inject)("authentication@authenticated-user"),U=(0,l.inject)("presence@presence-api-dash"),z=(0,l.inject)("lix"),B=(0,l.inject)("msg-spinmail-data@sponsored-action-tracking"),F=class extends u.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",L,this);(0,t.default)(this,"formatter",j,this);(0,t.default)(this,"msgDataManager",V,this);(0,t.default)(this,"authenticatedUser",q,this);(0,t.default)(this,"presenceAPI",H,this);(0,t.default)(this,"lix",Y,this);(0,t.default)(this,"sponsoredActionTracking",K,this);(0,t.default)(this,"isReplyResponseRateTruncated",W,this);(0,n.default)(this,"sponsoredMemberSenderLearnMoreLink",`${R.default.getDomainUrl()}/help/linkedin/answer/a426517`)}get showReplyResponseRate(){return this.viewData.averageResponseTimeText}get viewData(){var e
const{conversation:t,messageRecipients:n}=this.args
return new c.default({conversation:t,participantStateMap:this.msgDataManager.mailboxParticipants,messageRecipients:n,authenticatedUserProfile:null===(e=this.authenticatedUser.miniProfile)||void 0===e?void 0:e.content,msgDataManager:this.msgDataManager,formatter:this.formatter,i18n:this.i18n,presenceAPI:this.presenceAPI})}get shouldRenderStaticName(){const{conversation:e}=this.args,{oneToOneParticipantPublicProfileId:t,creatorProfileViewEnabled:n}=this.viewData
return!(n&&!(0,I.isConversationWithAdvertiser)(e))||!!t&&"UNKNOWN"===t}get defaultTitle(){const{bubble:e}=this.args
let t="i18n_new_message"
e.isDeprecatedLinkToJoin&&(t="i18n_join_group_chat")
return t?this.i18n.lookupTranslation("components/msg-overlay@conversation-bubble-header-feature",t)():""}get isMemberSenderProfileViewLixEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.spessaging-member-sender-profile-preview")}get canShowSponsoredMemeberSenderProfileTooltip(){return this.isMemberSenderProfileViewLixEnabled&&this.viewData.isConversationAdMemberSender&&this.viewData.isConversationWithAdvertiser}checkReplyResponseRateTruncated(e){this.isReplyResponseRateTruncated=D.default&&e&&e.offsetWidth<=e.scrollWidth}maybeToggle(e){e.target.hasAttribute("data-js-sponsored-conversation-hoverable-trigger")||this.args.toggleMinimize(e)}fireSponosredMessagingInteractionEvent(){this.sponsoredActionTracking.fireSponosredMessagingInteractionEvent()}},L=(0,i.default)(F.prototype,"i18n",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,i.default)(F.prototype,"formatter",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,i.default)(F.prototype,"msgDataManager",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,i.default)(F.prototype,"authenticatedUser",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,i.default)(F.prototype,"presenceAPI",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,i.default)(F.prototype,"lix",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,i.default)(F.prototype,"sponsoredActionTracking",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,i.default)(F.prototype,"isReplyResponseRateTruncated",[C.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(F.prototype,"checkReplyResponseRateTruncated",[k.action],Object.getOwnPropertyDescriptor(F.prototype,"checkReplyResponseRateTruncated"),F.prototype),(0,i.default)(F.prototype,"maybeToggle",[k.action],Object.getOwnPropertyDescriptor(F.prototype,"maybeToggle"),F.prototype),(0,i.default)(F.prototype,"fireSponosredMessagingInteractionEvent",[k.action],Object.getOwnPropertyDescriptor(F.prototype,"fireSponosredMessagingInteractionEvent"),F.prototype),F))}))
define.alias("ember-vector-images/components/custom-image","msg-overlay/components/custom-image")
define.alias("ember-semaphore/components/ember-semaphore","msg-overlay/components/ember-semaphore")
define.alias("ember-wormhole/components/ember-wormhole","msg-overlay/components/ember-wormhole")
define.alias("helpcenter-in-product-ember/components/external-link","msg-overlay/components/external-link")
define.alias("helpcenter-in-product-ember/components/feature-launcher","msg-overlay/components/feature-launcher")
define.alias("ember-semaphore/components/gen-ai-feedback","msg-overlay/components/gen-ai-feedback")
define.alias("helpcenter-in-product-ember/components/header","msg-overlay/components/header")
define.alias("ember-highcharts/components/high-charts","msg-overlay/components/high-charts")
define.alias("helpcenter-in-product-ember/components/inline-svg-empty-room-dark","msg-overlay/components/inline-svg-empty-room-dark")
define.alias("helpcenter-in-product-ember/components/inline-svg-empty-room","msg-overlay/components/inline-svg-empty-room")
define.alias("helpcenter-in-product-ember/components/iph-widget-container","msg-overlay/components/iph-widget-container")
define.alias("helpcenter-in-product-ember/components/iph-widget-trigger","msg-overlay/components/iph-widget-trigger")
define.alias("helpcenter-in-product-ember/components/iph-widget","msg-overlay/components/iph-widget")
define.alias("ember-vector-images/components/lazy-background","msg-overlay/components/lazy-background")
define.alias("ember-vector-images/components/lazy-image","msg-overlay/components/lazy-image")
define.alias("ember-line-clamp/components/line-clamp","msg-overlay/components/line-clamp")
define.alias("artdeco-icons-web/components/linkedin-logo","msg-overlay/components/linkedin-logo")
define("msg-overlay/components/list-bubble-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","msg-shared/utils/category-filter","ember-test-waiters","msg-overlay/viewdata/list-bubble-viewdata","@ember/object/internals","@glimmer/tracking","@glimmer/component","ember-lifeline","rsvp","global-utils/utils/is-browser","msg-ui/utils/realtime-onboarding","msg-shared/utils/constants","@ember/object","@ember/service","@ember/destroyable","msg-shared/modifiers/block-scrolling","@ember/modifier","ember-set-helper/helpers/set","msg-overlay/components/presence-onboarding-presenter","ember-cli-pemberly-tracking/modifiers/track-interaction","presence/components/entity-with-presence-presenter","ember-cli-pemberly-i18n/helpers/t","hue-web-icons/components/icon","artdeco-dropdown/components/artdeco-dropdown","artdeco-dropdown/components/artdeco-dropdown-item","global-helpers/helpers/eq","artdeco-button/components/artdeco-button","msg-ui/components/premium-mailboxes","msg-ui/components/primitives/bulk-actions-panel-presenter","msg-overlay/components/overlay-search-feature","msg-cross-pillar/components/selected-filter-presenter","msg-ui/components/focused-inbox-tabs-presenter","@ember/helper","msg-ui/components/kindness-reminder-presenter","msg-ui/components/away-message-reminder-banner-presenter","msg-ui/components/harmful-content-detection-presenter","msg-ui/components/loader","global-modifiers/modifiers/scroll-into-view","msg-ui/components/message-request-list-header-presenter","msg-ui/components/focused-inbox-secondary-preview-banner-presenter","msg-ui/components/focused-inbox-banner-presenter","msg-ui/components/inbox-header-with-message-request-presenter","msg-overlay/components/overlay-conversation-list-feature","artdeco-empty-state/components/artdeco-empty-state","msg-cross-pillar/components/visible-beacon","msg-shared-modals/components/msg-settings-modal-presenter","msg-shared-modals/components/away-message-settings-modal-presenter","message-button/components/entry-point","global-helpers/helpers/get-class-hash","global-utils/utils/keyboard-utils","hue-web-icons/components/illustration","global-utils/utils/a11y-focus-element"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,h,b,v,f,y,_,w,M,C,D,k,S,O,I,x,P,R,A,T,E,N,U,z,B,F,L,j,V,q,H,Y,K,W,G,J,X,Q,$,Z,ee,te,ne,ie){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var ae,oe,re,se,le,ce,ue,de,pe,me,ge,he,be,ve,fe,ye,_e,we,Me,Ce,De,ke,Se,Oe,Ie,xe,Pe,Re,Ae,Te,Ee,Ne,Ue,ze,Be,Fe,Le,je,Ve,qe,He,Ye,Ke,We,Ge,Je,Xe,Qe,$e,Ze,et,tt,nt,it,at,ot,rt
const{MESSAGE_REQUEST_STATUS:{MESSAGE_REQUEST_PENDING:st,MESSAGE_REQUEST_DECLINED:lt},OVERLAY_LS_CONVERSATIONS_FILTER_KEY:ct,OVERLAY:{QUALITY_MEMBER_CONNECTIONS_THRESHOLD:ut},OVERLAY_FILTERS_INTERACTION_EVENTS:dt,PAGEVIEW_KEYS:pt,KINDNESS_REMINDER_LEGO:mt,AWAY_MESSAGE_ONBOARDING_LEGO:gt,INBOX_TYPES:ht,MESSAGE_COLLECTION_TYPES:bt,DRAFTS_FILTER:vt}=v.default,ft=(0,l.buildWaiter)("msg-overlay:list-bubble-feature:load-inbox"),yt=(0,l.buildWaiter)("msg-overlay:list-bubble-feature:load-more")
e.default=(0,r.setComponentTemplate)((0,o.createTemplateFactory)({id:"XTcmxBJx",block:'[[[1,"\\n"],[1,"    "],[11,0],[24,"tabindex","-1"],[16,0,[29,["msg-overlay-list-bubble\\n        ",[52,[30,0,["isMinimized"]],"msg-overlay-list-bubble--is-minimized"],"\\n        ",[52,[30,0,["isInMinimizeTransition"]],"msg-overlay-list-bubble--during-transition"],"\\n        ml4 msg-overlay-list-bubble__tablet-height"]]],[4,[32,0],null,null],[4,[32,1],["transitionend",[28,[32,2],[[30,0],"isInMinimizeTransition",false],null]],null],[12],[1,"\\n      "],[10,"header"],[15,0,[29,[[28,[32,3],["msg-overlay-bubble-header"],null]]]],[12],[1,"\\n        "],[10,0],[15,0,[29,["msg-overlay-bubble-header__badge-container\\n            ",[52,[30,0,["hasBadge"]],"msg-overlay-bubble-header--inverse msg-overlay-bubble-header--is-badged"]]]],[12],[13],[1,"\\n        "],[8,[32,4],null,null,null],[1,"\\n"],[1,"        "],[11,0],[24,0,"msg-overlay-bubble-header__details flex-row align-items-center ml1"],[4,[32,1],["click",[30,0,["toggleMinimize"]]],null],[4,[32,5],[[30,0,["toggleMinimizeTrackingControlName"]]],null],[12],[1,"\\n          "],[8,[32,6],null,[["@viewData","@size"],[[30,0,["viewData","entityWithPresenceViewData"]],1]],null],[1,"\\n          "],[10,"button"],[14,0,"msg-overlay-bubble-header__button truncate ml2"],[14,1,"msg-overlay-list-bubble-header__button"],[14,4,"button"],[12],[1,"\\n            "],[10,1],[15,0,[29,["truncate t-14 t-bold\\n                ",[52,[30,0,["hasBadge"]],"msg-overlay-bubble-header-dark--active","t-black"]]]],[12],[1,"\\n              "],[10,1],[14,"aria-hidden","true"],[12],[1,"\\n                "],[1,[28,[32,7],["messaging","msg-overlay/components/list-bubble-feature"],null]],[1,"\\n              "],[13],[1,"\\n              "],[10,1],[14,0,"visually-hidden"],[12],[1,"\\n                "],[1,[52,[30,0,["isMinimized"]],[28,[32,7],["a11y_open_overlay","msg-overlay/components/list-bubble-feature"],null],[28,[32,7],["a11y_minimize_overlay","msg-overlay/components/list-bubble-feature"],null]]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n"],[41,[30,0,["hasBadge"]],[[[1,"            "],[10,"mark"],[14,0,"msg-overlay-bubble-header__unread-count"],[14,"aria-hidden","true"],[12],[1,"\\n              "],[10,"abbr"],[15,"title",[28,[32,7],["a11y_unseen_messages","msg-overlay/components/list-bubble-feature"],[["count"],[[30,0,["msgOverlayService","unseenMsgCount"]]]]]],[12],[1,"\\n                "],[1,[30,0,["msgOverlayService","unseenMsgCount"]]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[41,[30,0,["enableRealtimeConnectionStatus"]],[[[1,"            "],[10,0],[15,0,[28,[32,8],["msg-overlay-bubble-header__realtime-indicator ",[30,0,["realtimeStatusClassName"]]],null]],[12],[1,"\\n              "],[8,[32,9],null,[["@type","@size","@name"],["system","medium","flash"]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n        "],[10,0],[14,0,"msg-overlay-bubble-header__controls display-flex"],[12],[1,"\\n"],[1,"          "],[8,[32,10],null,[["@isOpen","@onVisibilityChange","@placement","@justification","@onClick"],[[30,0,["isHeaderDropdownMenuOpen"]],[28,[32,2],[[30,0],"isHeaderDropdownMenuOpen"],null],[30,0,["headerDropdownMenuPlacement"]],"right",[30,0,["stopEvtPropagation"]]]],[["default"],[[[[1,"\\n            "],[8,[30,1,["dropdown-trigger"]],[[4,[32,5],["overlay.dropdown_menu"],null]],[["@class"],[[29,["msg-overlay-bubble-header__dropdown-trigger artdeco-button artdeco-button--1 artdeco-button--circle ",[52,[30,0,["hasBadge"]],"artdeco-button--primary","artdeco-button--muted artdeco-button--tertiary"]]]]],[["default"],[[[[1,"\\n              "],[8,[32,9],[[24,0,"artdeco-button__icon"]],[["@a11yText","@type","@size","@name"],[[28,[32,7],["i18n_dropdown_menu_description","msg-overlay/components/list-bubble-feature"],null],"system","small","overflow-web-ios"]],null],[1,"\\n            "]],[]]]]],[1,"\\n            "],[10,0],[14,0,"msg-overlay-bubble-header__dropdown-container"],[12],[1,"\\n              "],[8,[30,1,["dropdown-content"]],null,[["@arrowDir"],["right"]],[["default"],[[[[1,"\\n                "],[10,"ul"],[14,0,"white-space-nowrap"],[12],[1,"\\n"],[41,[30,0,["showManageConversationsButtonInHeaderDropdown"]],[[[1,"                    "],[10,"li"],[12],[1,"\\n                      "],[8,[32,11],[[4,[32,5],["overlay.enter_bulk_selection"],null]],[["@itemSelected","@role"],[[30,0,["enterBulkActionsMode"]],"button"]],[["default"],[[[[1,"\\n                        "],[10,0],[14,0,"display-flex align-items-center"],[12],[1,"\\n                          "],[10,1],[12],[1,"\\n                            "],[1,[28,[32,7],["i18n_manage_conversations","msg-overlay/components/list-bubble-feature"],null]],[1,"\\n                          "],[13],[1,"\\n                        "],[13],[1,"\\n                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"                  "],[10,"li"],[12],[1,"\\n                    "],[8,[32,11],[[4,[32,5],["overlay.connection_list_settings_from_dropdown"],null]],[["@itemSelected","@role"],[[30,0,["openMessagingSettingsModal"]],"button"]],[["default"],[[[[1,"\\n                      "],[1,[28,[32,7],["i18n_messaging_settings","msg-overlay/components/list-bubble-feature"],null]],[1,"\\n                    "]],[]]]]],[1,"\\n                  "],[13],[1,"\\n"],[41,[51,[30,0,["enableFocusedInbox"]]],[[[41,[30,0,["showMessageRequestInboxInHeaderDropdown"]],[[[1,"                      "],[10,"li"],[12],[1,"\\n                        "],[8,[32,11],[[4,[32,5],["overlay.overflow_view_message_request_inbox"],null]],[["@itemSelected","@role"],[[28,[32,12],[[30,0,["openMessageRequestConversationList"]],[30,1,["close"]]],null],"button"]],[["default"],[[[[1,"\\n                          "],[1,[28,[32,7],["i18n_message_request_inbox","msg-overlay/components/list-bubble-feature"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n"]],[]],null]],[]],null],[1,"\\n"],[41,[28,[32,13],[[30,0,["currentConvosFilter"]],"MESSAGE_REQUEST_PENDING"],null],[[[1,"                    "],[10,"li"],[12],[1,"\\n                      "],[8,[32,11],[[4,[32,5],["overlay.view_declined_message_requests"],null]],[["@itemSelected","@role"],[[28,[32,12],[[30,0,["openDeclinedMessageRequestConversationList"]],[30,1,["close"]]],null],"button"]],[["default"],[[[[1,"\\n                        "],[1,[28,[32,7],["i18n_declined_message_requests","msg-overlay/components/list-bubble-feature"],null]],[1,"\\n                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"                  "],[10,"li"],[12],[1,"\\n                    "],[8,[32,11],null,[["@itemSelected","@role"],[[30,0,["openAwayMessageSettingsModal"]],"button"]],[["default"],[[[[1,"\\n                      "],[1,[52,[30,0,["msgDataManager","currentAwayStatus"]],[28,[32,7],["i18n_update_away_message","msg-overlay/components/list-bubble-feature"],null],[28,[32,7],["i18n_set_away_message","msg-overlay/components/list-bubble-feature"],null]]],[1,"\\n                    "]],[]]]]],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n          "]],[1]]]]],[1,"\\n\\n"],[1,"          "],[8,[32,14],null,[["@controlUrn","@referringModuleKey","@target"],["msg-overlay-compose","messaging:overlay-inbox-compose","OVERLAY"]],[["default"],[[[[1,"\\n            "],[8,[32,15],[[4,[32,1],["click",[30,2]],null],[4,[32,5],["overlay.compose_message"],null]],[["@text","@type","@color","@circle","@size","@icon","@class"],[[28,[32,7],["a11y_compose","msg-overlay/components/list-bubble-feature"],null],[52,[30,0,["hasBadge"]],"primary","tertiary"],[52,[30,0,["hasBadge"]],"default","muted"],true,1,"compose-icon","msg-overlay-bubble-header__control msg-overlay-bubble-header__control--new-convo-btn"]],null],[1,"\\n          "]],[2]]]]],[1,"\\n\\n"],[1,"          "],[8,[32,15],[[4,[32,1],["click",[30,0,["toggleMinimize"]]],null],[4,[32,5],[[52,[30,0,["isMinimized"]],"overlay_maximize_inbox","overlay_minimize_inbox"]],null]],[["@type","@color","@text","@circle","@size","@icon","@class"],[[52,[30,0,["hasBadge"]],"primary","tertiary"],[52,[30,0,["hasBadge"]],"default","muted"],[52,[30,0,["isMinimized"]],[28,[32,7],["a11y_open_overlay","msg-overlay/components/list-bubble-feature"],null],[28,[32,7],["a11y_minimize_overlay","msg-overlay/components/list-bubble-feature"],null]],true,1,[52,[30,0,["isMinimized"]],"chevron-up","chevron-down"],"msg-overlay-bubble-header__control msg-overlay-bubble-header__control--new-convo-btn"]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[8,[32,16],null,[["@isOverlay"],[true]],null],[1,"\\n\\n"],[41,[30,0,["shouldRenderContent"]],[[[41,[30,0,["isBulkActionsMode"]],[[[1,"          "],[8,[32,17],null,[["@willExecuteBulkAction","@didExecuteBulkAction","@onExitBulkActionsMode","@isOverlay","@selectedConversationUrns","@setFocusToCloseButton","@resetFocusState"],[[30,0,["willExecuteBulkAction"]],[30,0,["didExecuteBulkAction"]],[30,0,["onExitBulkActionsMode"]],true,[30,0,["selectedConversationUrns"]],[30,0,["setFocusToCloseButton"]],[30,0,["resetFocusState"]]]],null],[1,"\\n"]],[]],null],[1,"\\n        "],[8,[32,18],null,[["@openBubble","@currentConvosFilter","@onFilterApply","@onClearFilters","@showSearchInput","@onSearchTermChange","@authenticatedUserMiniProfile"],[[30,3],[30,0,["currentConvosFilter"]],[30,0,["applyFilter"]],[30,0,["clearFilters"]],[30,0,["showSearchInput"]],[30,0,["onSearchTermChange"]],[30,0,["authenticatedUser","miniProfile"]]]],[["default"],[[[[1,"\\n          "],[8,[30,4,["filterSection"]],null,null,[["default"],[[[[1,"\\n            "],[8,[32,19],null,[["@clearFilter","@currentConvosFilter","@trackingPrefix","@disabled","@loadedUnreadConversations","@markAllAsRead"],[[30,0,["clearFilters"]],[30,0,["currentConvosFilter"]],"overlay.",[30,0,["isBulkActionsMode"]],[30,0,["hasLoadedUnreadConversations"]],[30,0,["markAllAsRead"]]]],null],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[4]]]]],[1,"\\n\\n        "],[10,0],[14,0,"msg-overlay-list-bubble__top-static-area"],[12],[1,"\\n"],[41,[30,0,["showFocusedInboxTabs"]],[[[1,"            "],[8,[32,20],null,[["@currentSelection","@showSecondaryTabBadge","@onPrimaryTabSelect","@onSecondaryTabSelect","@isOverlay"],[[30,0,["inboxType"]],[30,0,["hasUnseenSecondaryConversations"]],[28,[32,12],[[30,0,["switchInboxTab"]],"PRIMARY"],null],[28,[32,12],[[30,0,["switchInboxTab"]],"SECONDARY"],null],true]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showKindnessReminder"]],[[[1,"            "],[8,[32,21],[[24,0,"msg-overlay-list-bubble__kindness-reminder"]],[["@type","@legoConfig","@text","@primaryActionText","@onImpression","@onDismiss","@onPrimary"],["basic",[30,0,["kindnessReminderLegoConfig"]],[28,[32,7],["i18n_kindness_reminder_text","msg-overlay/components/list-bubble-feature"],null],[28,[32,7],["i18n_kindness_reminder_learn_more","msg-overlay/components/list-bubble-feature"],null],[30,0,["impressionKindnessReminder"]],[30,0,["onKindnessReminderWidgetDismiss"]],[30,0,["clickKindnessReminder"]]]],null],[1,"\\n"]],[]],null],[1,"\\n          "],[8,[32,22],null,null,null],[1,"\\n\\n"],[41,[51,[30,0,["currentConvosFilter"]]],[[[41,[51,[30,0,["isBulkActionsMode"]]],[[[41,[30,0,["showAwayMessageOnboarding"]],[[[1,"                "],[8,[32,21],null,[["@title","@text","@legoConfig","@onDismiss","@onPrimary","@primaryActionText"],[[28,[32,7],["i18n_away_message_onboarding_title","msg-overlay/components/list-bubble-feature"],null],[28,[32,7],["i18n_away_message_onboarding_text","msg-overlay/components/list-bubble-feature"],null],[30,0,["awayMessageOnboardingLegoConfig"]],[28,[32,2],[[30,0],"showAwayMessageOnboarding",false],null],[28,[32,2],[[30,0],"awayMessageSettingsModalIsOpen",true],null],[28,[32,7],["i18n_set_away_message","msg-overlay/components/list-bubble-feature"],null]]],[["default"],[[[[1,"\\n                  "],[8,[30,5,["leftSection"]],null,null,[["default"],[[[[1,"\\n                    "],[8,[32,9],null,[["@type","@size","@name"],["logo","xsmall","linkedin-bug-premium"]],null],[1,"\\n                  "]],[]]]]],[1,"\\n                "]],[5]]]]],[1,"\\n"]],[]],null]],[]],null]],[]],null],[1,"        "],[13],[1,"\\n\\n"],[41,[51,[30,0,["enableFocusedInbox"]]],[[[1,"          "],[8,[32,23],null,null,null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["inboxDataFetchFailed"]],[[[1,"          "],[10,0],[14,0,"text-align-center"],[12],[1,"\\n            "],[10,"figure"],[14,0,"msg-overlay-list-bubble__error-server-illustration"],[12],[1,"\\n              "],[8,[32,24],null,[["@type","@name","@size"],["spot","error-server","small"]],null],[1,"\\n            "],[13],[1,"\\n            "],[10,"h3"],[14,0,"t-16 t-black--light t-normal ph3 pb5"],[12],[1,"\\n              "],[1,[28,[32,7],["i18n_failed_connect","msg-overlay/components/list-bubble-feature"],null]],[1,"\\n            "],[13],[1,"\\n            "],[8,[32,15],[[4,[32,1],["click",[30,0,["refetchInboxData"]]],null],[4,[32,5],["overlay.retry"],null]],[["@type","@text"],["secondary",[28,[32,7],["i18n_try_again","msg-overlay/components/list-bubble-feature"],null]]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[41,[30,0,["showInboxLoader"]],[[[1,"            "],[8,[32,25],[[24,0,"full-height justify-center"]],[["@size"],["small"]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[51,[30,0,["hideConversationsList"]]],[[[1,"            "],[10,"section"],[14,0,"scrollable msg-overlay-list-bubble__content msg-overlay-list-bubble__content--scrollable"],[12],[1,"\\n"],[1,"              "],[11,0],[4,[32,26],null,[["when"],[[30,0,["shouldScrollToTop"]]]]],[12],[13],[1,"\\n"],[1,"              "],[10,0],[14,0,"msg-overlay-list-bubble__default-conversation-container"],[12],[1,"\\n"],[41,[28,[32,13],[[30,0,["currentConvosFilter"]],"MESSAGE_REQUEST_PENDING"],null],[[[1,"                  "],[8,[32,27],null,[["@trackingKey","@goBack"],["back_to_inbox_from_requests_overlay",[30,0,["backToInboxFromMessageRequestList"]]]],null],[1,"\\n"]],[]],[[[41,[28,[32,13],[[30,0,["currentConvosFilter"]],"MESSAGE_REQUEST_DECLINED"],null],[[[1,"                  "],[8,[32,27],null,[["@isDeclinedList","@trackingKey","@goBack"],[true,"back_to_message_requests_from_declined_messages_overlay",[30,0,["messageRequestListHeaderOnGoBack"]]]],null],[1,"\\n                "]],[]],null]],[]]],[1,"\\n"],[41,[30,0,["inboxDataLoaded"]],[[[41,[30,0,["shouldShowSecondaryPreviewBanner"]],[[[1,"                    "],[10,0],[14,0,"msg-conversation-card msg-ui-focused-inbox-secondary-preview-banner-presenter__secondary-preview-banner-card display-flex"],[12],[1,"\\n                      "],[8,[32,28],null,[["@classNames","@onClicked","@isOverlay"],["pl2 mb2 mh2 mt2 ",[28,[32,12],[[30,0,["switchInboxTab"]],"SECONDARY"],null],true]],null],[1,"\\n                    "],[13],[1,"\\n"]],[]],[[[41,[30,0,["showFocusedInboxBanner"]],[[[1,"                    "],[8,[32,29],null,[["@isOverlay","@showLoader"],["true",[30,0,["setLoader"]]]],null],[1,"\\n                  "]],[]],null]],[]]],[1,"\\n                  "],[10,1],[14,0,"visually-hidden"],[12],[1,"\\n                    "],[1,[28,[32,7],["i18n_a11y_infinite_scroll","msg-overlay/components/list-bubble-feature"],null]],[1,"\\n                  "],[13],[1,"\\n"],[41,[30,0,["showMessageRequestBanner"]],[[[1,"                    "],[8,[32,30],null,[["@headingText","@openMessageRequestConversationList","@trackingKey"],[[30,0,["headerText"]],[30,0,["openMessageRequestConversationList"]],"overlay.bundle_view_message_request_inbox"]],null],[1,"\\n"]],[]],null]],[]],null],[1,"\\n                "],[8,[32,31],null,[["@conversations","@showLoadingState","@currentConvosFilter","@hasStrongNetwork","@isBulkActionsMode","@disableBulkActions","@openBubble","@onBulkActionToggle","@selectedConversationUrns","@conversationLength","@showNoMessagesPresenter","@authenticatedUserMiniProfile"],[[30,0,["conversations"]],[30,0,["showLoadingState"]],[30,0,["currentConvosFilter"]],[30,0,["hasStrongNetwork"]],[30,0,["isBulkActionsMode"]],[30,0,["disableBulkActions"]],[30,0,["openBubbleByConversationUrn"]],[30,0,["onListBubbleItemClick"]],[30,0,["selectedConversationUrns"]],[30,0,["conversations","length"]],[30,0,["showNoMessagesPresenter"]],[30,0,["authenticatedUser","miniProfile"]]]],null],[1,"\\n"],[41,[30,0,["loadMoreError"]],[[[1,"                  "],[10,0],[14,0,"p4 mb6"],[12],[1,"\\n                    "],[8,[32,32],null,[["@class","@headline","@illustration","@message"],["msg-conversations-container__load-error",[28,[32,7],["i18n_oops","msg-overlay/components/list-bubble-feature"],null],"no-connection-muted",[28,[32,7],["i18n_load_more_error","msg-overlay/components/list-bubble-feature"],null]]],null],[1,"\\n                    "],[8,[32,15],[[4,[32,1],["click",[30,0,["retryLoadMore"]]],null],[4,[32,5],["overlay.retry"],null]],[["@class","@text","@type"],["js-retry-button block mlA mrA",[28,[32,7],["i18n_try_again","msg-overlay/components/list-bubble-feature"],null],"secondary"]],null],[1,"\\n                  "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["shouldLoadMoreConversations"]],[[[1,"                  "],[8,[32,33],null,[["@inView","@rootSelector"],[[30,0,["loadMore"]],".msg-overlay-list-bubble__content"]],null],[1,"\\n"]],[]],null],[1,"              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null]],[]]]],[]],null],[1,"\\n"],[41,[30,0,["isMessagingSettingsModalOpen"]],[[[1,"        "],[8,[32,34],null,[["@closeModal","@returnFocusTo"],[[28,[32,2],[[30,0],"isMessagingSettingsModalOpen",false],null],[30,0,["modalReturnFocusElement"]]]],null],[1,"\\n"]],[]],null],[41,[30,0,["awayMessageSettingsModalIsOpen"]],[[[1,"        "],[8,[32,35],null,[["@closeModal","@a11yDialogName","@returnFocusTo"],[[28,[32,2],[[30,0],"awayMessageSettingsModalIsOpen",false],null],[52,[30,0,["msgDataManager","currentAwayStatus"]],[28,[32,7],["i18n_update_away_message","msg-overlay/components/list-bubble-feature"],null],[28,[32,7],["i18n_set_away_message","msg-overlay/components/list-bubble-feature"],null]],[30,0,["modalReturnFocusElement"]]]],null],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],["dropdown","openMessaging","@openBubble","OverlaySearchFeatureInstance","widget"],false,["if","unless"]]',moduleName:"msg-overlay/components/list-bubble-feature.gjs",scope:()=>[w.default,M.on,C.default,ee.default,D.default,k.default,S.default,O.default,B.concat,I.default,x.default,P.default,B.fn,R.default,Z.default,A.default,T.default,E.default,N.default,U.default,z.default,F.default,L.default,j.default,ne.default,V.default,q.default,H.default,Y.default,K.default,W.default,G.default,J.default,X.default,Q.default,$.default],isStrictMode:!0}),(ae=(0,y.inject)("authentication@authenticated-user"),oe=(0,y.inject)("global-nav-shared@badge"),re=(0,y.inject)("lix"),se=(0,y.inject)("tracking"),le=(0,y.inject)("i18n"),ce=(0,y.inject)("global-services@window"),ue=(0,y.inject)("global-services@a11y-notification"),de=(0,y.inject)("msg-overlay-manager@msg-overlay-manager"),pe=(0,y.inject)("global-services@common-time"),me=(0,y.inject)("global-services@store-shim"),ge=(0,y.inject)("global-services@local-storage"),he=(0,y.inject)("lego@resolver"),be=(0,y.inject)("lego@tracking"),ve=(0,y.inject)("msg-shared@messaging-user-settings"),fe=(0,y.inject)("msg-data@data-manager"),ye=(0,y.inject)("formatter"),_e=(0,y.inject)("persistent-toast-manager@persistent-toast-manager"),we=class extends p.default{get isMinimized(){return this.msgOverlayService.listBubbleIsMinimized}get shouldRenderContent(){return!this.isMinimized||this.isInMinimizeTransition}get disableBulkActions(){return this.showMessageRequestConversationList||this.localConvosFilter===vt.DRAFTS}get showMessageRequestConversationList(){return this.currentConvosFilter===st||this.currentConvosFilter===lt}get showSearchInput(){return!this.isBulkActionsMode&&(!this.showMessageRequestConversationList||this.enableFocusedInbox)}get showFocusedInboxTabs(){return this.enableFocusedInbox&&(!this.currentConvosFilter||this.currentConvosFilter===st||"PRIMARY_INBOX"===this.currentConvosFilter||"SECONDARY_INBOX"===this.currentConvosFilter)}get showMessageRequestInboxInHeaderDropdown(){return!this.showMessageRequestConversationList}get showManageConversationsButtonInHeaderDropdown(){return!this.showMessageRequestConversationList}get toggleMinimizeTrackingControlName(){return this.isMinimized?"overlay.maximize_connection_list_bar":"overlay.minimize_connection_list_bar"}get hideConversationsList(){return this.showInboxLoader}get hasBadge(){return this.msgOverlayService.unseenMsgCount>0&&(!this.msgOverlayService.forcedMinimizedAtRoute||this.args.realtimeMsgNotAutoOpened)}get hasStrongNetwork(){return this.numConnections>ut}get showMessageRequestBanner(){return!this.enableFocusedInbox&&this.unreadPendingMessageRequestCount>0&&!this.currentConvosFilter}get headerText(){return this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_message_request_count")([{count:this.unreadPendingMessageRequestCount}])}get unreadPendingMessageRequestCount(){var e
return null===(e=this.msgDataManager.getMailboxState())||void 0===e?void 0:e.unreadCounts[bt.MESSAGE_REQUEST_PENDING]}get showFocusedInboxBanner(){return!(this.currentConvosFilter&&"PRIMARY_INBOX"!==this.currentConvosFilter&&"SECONDARY_INBOX"!==this.currentConvosFilter||this.isBulkActionsMode)}get showKindnessReminder(){return!this.kindnessReminderShown&&!this.currentConvosFilter&&!this.isBulkActionsMode}get realtimeStatusClassName(){var e
return(null===(e=this.commonTime.getCommonTimeClient())||void 0===e?void 0:e.connected)?"msg-overlay-bubble-header__realtime-indicator--online":"msg-overlay-bubble-header__realtime-indicator--offline"}get headerDropdownMenuPlacement(){return this.isMinimized?"top":"bottom"}get shouldLoadMoreConversations(){const e=this.msgDataManager.getMailboxState(this.mailboxName)
return!!e&&(!e.status.loading&&!e.status.fullyLoaded&&!this.loadMoreError)}get conversations(){return this.msgDataManager.getTrackedConversations(this.mailboxName)}get hasLoadedUnreadConversations(){var e
return((null===(e=this.conversations)||void 0===e?void 0:e.filter((e=>!e.read)))??[]).length>0}get enableRealtimeConnectionStatus(){return this.lix.getTreatmentIsEnabled("voyager.messaging.web.show-realtime-connection-status")}get isCompanyUser(){return this.lix.getTreatmentIsEnabled("voyager.client.staff")}get enableFocusedInbox(){return!!this.msgUserSettings.focusedInboxEnabled}get hasUnseenSecondaryConversations(){return!!this.enableFocusedInbox&&null!==this.msgDataManager.inboxManager.secondaryPreviewBannerData}get shouldShowSecondaryPreviewBanner(){return this.hasUnseenSecondaryConversations&&this.showFocusedInboxTabs&&"PRIMARY"===this.inboxType}get showLoadingState(){const e=this.msgDataManager.getMailboxState(this.mailboxName)
return!e||e.status.loading}get viewData(){return new c.default({formatter:this.formatter,authenticatedUserProfile:this.authenticatedUser.miniProfile.content})}get shouldScrollToTop(){const e=this.currentConvosFilter!==this._previousConvosFilter
this._previousConvosFilter=this.currentConvosFilter
return e}get defaultConvosFilter(){let e=this.args.filterFromDeeplink??null
e||(e=this.localStorage.getItem(ct))
!e&&this.enableFocusedInbox&&(e="PRIMARY_INBOX")
return e}get currentConvosFilter(){return this.localConvosFilter??this.defaultConvosFilter}get showNoMessagesPresenter(){return(!this.enableFocusedInbox||this.inboxType===ht.PRIMARY||this.inboxType===ht.SECONDARY)&&this.isUnfiltered}get isUnfiltered(){return!this.currentConvosFilter||"PRIMARY_INBOX"===this.currentConvosFilter||"SECONDARY_INBOX"===this.currentConvosFilter}constructor(){super(...arguments);(0,n.default)(this,"listBubbleId",`list-bubble-${(0,u.guidFor)(this)}`);(0,t.default)(this,"authenticatedUser",Me,this);(0,t.default)(this,"badging",Ce,this);(0,t.default)(this,"lix",De,this);(0,t.default)(this,"tracking",ke,this);(0,t.default)(this,"i18n",Se,this);(0,t.default)(this,"windowService",Oe,this);(0,t.default)(this,"a11yNotification",Ie,this);(0,t.default)(this,"msgOverlayService",xe,this);(0,t.default)(this,"commonTime",Pe,this);(0,t.default)(this,"storeShim",Re,this);(0,t.default)(this,"localStorage",Ae,this);(0,t.default)(this,"legoResolver",Te,this);(0,t.default)(this,"legoTracking",Ee,this);(0,t.default)(this,"msgUserSettings",Ne,this);(0,t.default)(this,"msgDataManager",Ue,this);(0,t.default)(this,"formatter",ze,this);(0,t.default)(this,"persistentToastManager",Be,this);(0,t.default)(this,"mailboxName",Fe,this);(0,t.default)(this,"isHeaderDropdownMenuOpen",Le,this);(0,t.default)(this,"isMessagingSettingsModalOpen",je,this);(0,t.default)(this,"inboxDataFetchInProgress",Ve,this);(0,t.default)(this,"inboxDataLoaded",qe,this);(0,t.default)(this,"inboxDataFetchFailed",He,this);(0,t.default)(this,"loadMoreError",Ye,this);(0,t.default)(this,"loadMoreInProgress",Ke,this);(0,t.default)(this,"numConnections",We,this);(0,t.default)(this,"awayMessageSettingsModalIsOpen",Ge,this);(0,t.default)(this,"selectedConversations",Je,this);(0,t.default)(this,"selectedConversationUrns",Xe,this);(0,t.default)(this,"isBulkActionsMode",Qe,this);(0,t.default)(this,"searchTerm",$e,this);(0,t.default)(this,"inboxType",Ze,this);(0,t.default)(this,"isInMinimizeTransition",et,this);(0,t.default)(this,"showAwayMessageOnboarding",tt,this);(0,t.default)(this,"showInboxLoader",nt,this);(0,t.default)(this,"upsellCard",it,this);(0,t.default)(this,"setFocusToCloseButton",at,this);(0,n.default)(this,"modalReturnFocusElement",".msg-overlay-bubble-header__dropdown-trigger");(0,n.default)(this,"bubbleMinimizeProperty","isMinimized");(0,n.default)(this,"kindnessReminderLegoConfig",mt);(0,n.default)(this,"kindnessReminderHelpCenterLink","/legal/professional-community-policies");(0,n.default)(this,"awayMessageOnboardingLegoConfig",gt);(0,t.default)(this,"kindnessReminderShown",ot,this);(0,n.default)(this,"_previousConvosFilter",null);(0,t.default)(this,"localConvosFilter",rt,this)
new b.default(this.legoResolver,this.legoTracking,this.msgUserSettings,this.storeShim,this.tracking,this.lix).run()
const e=this.enableFocusedInbox?"PRIMARY_INBOX":"INBOX"
this.mailboxName=e
this.msgUserSettings.onFocusedInboxOptOut(this.refreshSettings)
this._fetchInboxData(this.defaultConvosFilter)
this.msgDataManager.fetchPremiumFeatureAccess("CAN_ACCESS_AWAY_MESSAGES").then((e=>{if(!this.isDestroying){this.showAwayMessageOnboarding=e
this.msgDataManager.fetchAwayMessageSettings()}}))
this.isMinimized||this.enableFocusedInbox||this.tracking.firePageViewEvent("flagship3_messaging_overlay_connections.page")}_fetchInboxData(e){this.inboxDataFetchInProgress=!0
this.inboxDataLoaded=!1
const t=this._loadConversations(e)
return(0,g.hashSettled)({conversations:t}).then((e=>{var t,n
if(this.isDestroying)return
if("rejected"===e.conversations.state){this.inboxDataFetchFailed=!0
this.tracking.firePageViewEvent(pt.OVERLAY_FAILED_TO_CONNECT)
return(0,g.resolve)()}null===(t=(n=this.args).afterInboxDataFetch)||void 0===t||t.call(n,this.conversations)
return(0,g.resolve)(e)})).then((()=>{if((0,_.isDestroying)(this))return
const e=[this.msgDataManager.inboxManager.fetchSecondaryInboxData(),this.msgDataManager.nudgingDataManager.fetchConversationNudges()]
return Promise.all(e)})).finally((()=>{if(!this.isDestroying){this.inboxDataFetchInProgress=!1
this.inboxDataLoaded=!0}}))}_loadConversations(e){return e?this.loadConversationsByFilter(e).then((t=>{if(this.isDestroying)return
const n=pt.OVERLAY_CONVERSATION_FILTERED_LIST[e]
n&&this.tracking.firePageViewEvent(n)
return t})):this.msgDataManager.getMailbox()}switchInboxTab(e){this.inboxType=e
this.isBulkActionsMode=!1
"SECONDARY"===e&&this.msgDataManager.inboxManager.markSecondaryInboxAsSeen()
this.loadConversationsByFilter(`${this.inboxType}_INBOX`)
const t="PRIMARY"===e?"flagship3_messaging_overlay_primary_tab":"flagship3_messaging_overlay_secondary_tab"
this.tracking.firePageViewEvent(t)}refreshSettings(){this.mailboxName="INBOX"
this.refetchInboxData()}loadConversationsByFilter(e){this.isBulkActionsMode=!1
this.inboxDataLoaded=!1
this.inboxDataFetchInProgress=!0
this.localConvosFilter=e
const{mailboxFilter:t,mailboxName:n}=(0,s.default)(e)
this.mailboxName=n
return this.msgDataManager.getMailbox(this.mailboxName,t).then((async e=>{if(!(0,_.isDestroying)(this)){if(0===e.state.conversations.length&&!e.state.status.loading){await e.loadOlderConversations()
if((0,_.isDestroying)(this))return}return(0,g.resolve)(this.msgDataManager.getTrackedConversations(n))}})).finally((()=>{if(!this.isDestroying){this.inboxDataLoaded=!0
this.inboxDataFetchInProgress=!1}}))}refetchInboxData(){this.inboxDataFetchFailed=!1
this.inboxDataFetchInProgress=!1
this.inboxDataLoaded=!1
this._fetchInboxData("")}_updateMinimizedState(e){(0,m.runTask)(this,(()=>this.msgOverlayService.updateListBubbleMinimizeState(e)))}loadMore(){var e
if(this.loadMoreInProgress)return(0,g.resolve)()
if(0===(null===(e=this.conversations)||void 0===e?void 0:e.length))return(0,g.resolve)()
this.loadMoreInProgress=!0
this.loadMoreError=!1
const t=new g.Promise(((e,t)=>{this.msgDataManager.getMailbox(this.mailboxName).then((e=>e.loadOlderConversations())).then((t=>{(0,_.isDestroying)(this)||e(t)})).catch((e=>{if((0,_.isDestroying)(this))throw e
t(e)}))})),n=yt.beginAsync()
return t.then((e=>{if((0,_.isDestroying)(this))return
const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_a11y_infinite_scroll_conversations")
this.a11yNotification.setTextInLiveRegion(t([{newRecordCount:e}]))
return e})).catch((e=>{if(!this.isDestroying){this.loadMoreError=!0
throw e}})).finally((()=>{yt.endAsync(n)
this.isDestroying||(this.loadMoreInProgress=!1)}))}retryLoadMore(){this.loadMore()}stopEvtPropagation(e){e&&e.stopPropagation()}toggleMinimize(e){var t
null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e)
this.isInMinimizeTransition=!0
if(this.isMinimized){this.badging.getBadgeCount("messaging")>0&&this.badging.fireBadgeInteractionEvent(document.getElementById(this.listBubbleId),"msg-overlay-list-bubble-header","messaging")
this.msgOverlayService.markAllAsSeen()}this.msgOverlayService.toggleListBubbleMinimized()
this.isMinimized||this.enableFocusedInbox||this.tracking.firePageViewEvent("flagship3_messaging_overlay_connections.page")}openMessageRequestConversationList(e){this.loadConversationsByFilter(st)
this.isHeaderDropdownMenuOpen&&(null==e||e())
this.isHeaderDropdownMenuOpen=!1
this.tracking.firePageViewEvent("d_flagship3_messaging_overlay_pending_request_inbox")}backToInboxFromMessageRequestList(){this.loadConversationsByFilter("")
this.tracking.fireInteractionEvent("overlay.back_to_inbox_from_requests")}openDeclinedMessageRequestConversationList(e){this.loadConversationsByFilter(lt)
this.isHeaderDropdownMenuOpen=!1
this.tracking.firePageViewEvent("d_flagship3_messaging_overlay_declined_request_inbox")
null==e||e()}openAwayMessageSettingsModal(e){null==e||e.stopPropagation()
this.awayMessageSettingsModalIsOpen=!0}openMessagingSettingsModal(e){e&&e.stopPropagation()
this.isMessagingSettingsModalOpen=!0}onListBubbleItemClick(e){var t
if(!this.conversations.find((t=>t.entityUrn===e)))return
this._toggleConversationSelected(e)
this.selectedConversations=null===(t=this.conversations)||void 0===t?void 0:t.filter((e=>this.selectedConversationUrns.includes(e.entityUrn)))
!this.isBulkActionsMode&&this.selectedConversations.length>0?this.isBulkActionsMode=!0:0===this.selectedConversations.length&&(this.isBulkActionsMode=!1)
const n=this.selectedConversationUrns.includes(e)?"overlay.bulk_select_conversation":"overlay.bulk_unselect_conversation"
this.tracking.fireInteractionEvent(n)}_toggleConversationSelected(e){if(0===this.selectedConversationUrns.length)this.selectedConversationUrns=[e]
else{const t=this.selectedConversationUrns.includes(e)
this.selectedConversationUrns=t?this.selectedConversationUrns.filter((t=>t!==e)):this.selectedConversationUrns.concat(e)}}enterBulkActionsMode(e){e&&e.stopPropagation()
this.isMinimized&&this.toggleMinimize()
this.isBulkActionsMode=!0
this.isHeaderDropdownMenuOpen=!1
if((0,te.isEnterKey)(e)||(0,te.isSpaceKey)(e)){e.preventDefault()
this.setFocusToCloseButton=!0}}onExitBulkActionsMode(){this.selectedConversationUrns=[]
this.selectedConversations=[]
this.isBulkActionsMode=!1
h.default&&(0,ie.default)(this,this.modalReturnFocusElement)}willExecuteBulkAction(){this.isBulkActionsMode=!1}didExecuteBulkAction(e){"delete"===e&&this.selectedConversations.forEach((e=>{this.msgOverlayService.closeBubbleByConversationUrnOrBubbleId(e.entityUrn)}))}applyFilter(e){e?this.localStorage.setItem(ct,e):this.localStorage.removeItem(ct)
this.loadConversationsByFilter(e).then((()=>{(0,_.isDestroying)(this)||this.tracking.firePageViewEvent(pt.OVERLAY_CONVERSATION_FILTERED_LIST[e||"ALL"])}))
this.tracking.fireInteractionEvent(dt.SELECT[e||"ALL"],"SHORT_PRESS")}clearFilters(){this.localStorage.removeItem(ct)
this.tracking.fireInteractionEvent(dt.DISMISS[this.currentConvosFilter],"SHORT_PRESS")
const e=ft.beginAsync()
this.loadConversationsByFilter("").then((()=>{(0,_.isDestroying)(this)||document.querySelector(".msg-overlay-list-bubble__filters-btn").focus()})).finally((()=>{ft.endAsync(e)}))}impressionKindnessReminder(){this.tracking.firePageViewEvent("d_flagship3_messaging_overlay_kindness_banner")}clickKindnessReminder(){this.tracking.fireInteractionEvent("overlay.open_kindness_banner")
if(h.default){const e=this.kindnessReminderHelpCenterLink
if(!e)return
this.windowService.open(e,"_blank")}}onSearchTermChange(e){this.searchTerm=e}onKindnessReminderWidgetDismiss(){this.kindnessReminderShown=!0
this.tracking.fireInteractionEvent("overlay.dismiss_kindness_banner")}messageRequestListHeaderOnGoBack(){this.loadConversationsByFilter(st)
this.tracking.fireInteractionEvent("overlay.back_to_message_requests_from_declined_messages")}openBubbleByConversationUrn(e){const t=this.conversations.find((t=>t.entityUrn===e))
t&&this.args.openBubble(t)}setLoader(){this.showInboxLoader=!0;(0,m.runTask)(this,(()=>{this.showInboxLoader=!1}),500)}markAllAsRead(){this.msgDataManager.markAllConversationsAsRead().then((()=>{(0,_.isDestroying)(this)||this.clearFilters()})).catch((e=>{if((0,_.isDestroying)(this))throw e
const t=this.i18n.lookupTranslation("components/msg-cross-pillar@selected-filter-presenter","i18n_failed_to_mark_all_read")([])
this.persistentToastManager.error({message:t})
throw e}))}resetFocusState(){this.setFocusToCloseButton=!1}},Me=(0,i.default)(we.prototype,"authenticatedUser",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=(0,i.default)(we.prototype,"badging",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=(0,i.default)(we.prototype,"lix",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=(0,i.default)(we.prototype,"tracking",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=(0,i.default)(we.prototype,"i18n",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=(0,i.default)(we.prototype,"windowService",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=(0,i.default)(we.prototype,"a11yNotification",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=(0,i.default)(we.prototype,"msgOverlayService",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=(0,i.default)(we.prototype,"commonTime",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=(0,i.default)(we.prototype,"storeShim",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=(0,i.default)(we.prototype,"localStorage",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=(0,i.default)(we.prototype,"legoResolver",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=(0,i.default)(we.prototype,"legoTracking",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=(0,i.default)(we.prototype,"msgUserSettings",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=(0,i.default)(we.prototype,"msgDataManager",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=(0,i.default)(we.prototype,"formatter",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=(0,i.default)(we.prototype,"persistentToastManager",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=(0,i.default)(we.prototype,"mailboxName",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Le=(0,i.default)(we.prototype,"isHeaderDropdownMenuOpen",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),je=(0,i.default)(we.prototype,"isMessagingSettingsModalOpen",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ve=(0,i.default)(we.prototype,"inboxDataFetchInProgress",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qe=(0,i.default)(we.prototype,"inboxDataLoaded",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),He=(0,i.default)(we.prototype,"inboxDataFetchFailed",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ye=(0,i.default)(we.prototype,"loadMoreError",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ke=(0,i.default)(we.prototype,"loadMoreInProgress",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),We=(0,i.default)(we.prototype,"numConnections",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=(0,i.default)(we.prototype,"awayMessageSettingsModalIsOpen",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=(0,i.default)(we.prototype,"selectedConversations",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xe=(0,i.default)(we.prototype,"selectedConversationUrns",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qe=(0,i.default)(we.prototype,"isBulkActionsMode",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=(0,i.default)(we.prototype,"searchTerm",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=(0,i.default)(we.prototype,"inboxType",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ht.PRIMARY}}),et=(0,i.default)(we.prototype,"isInMinimizeTransition",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tt=(0,i.default)(we.prototype,"showAwayMessageOnboarding",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nt=(0,i.default)(we.prototype,"showInboxLoader",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),it=(0,i.default)(we.prototype,"upsellCard",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=(0,i.default)(we.prototype,"setFocusToCloseButton",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ot=(0,i.default)(we.prototype,"kindnessReminderShown",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rt=(0,i.default)(we.prototype,"localConvosFilter",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,i.default)(we.prototype,"switchInboxTab",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"switchInboxTab"),we.prototype),(0,i.default)(we.prototype,"refreshSettings",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"refreshSettings"),we.prototype),(0,i.default)(we.prototype,"loadConversationsByFilter",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"loadConversationsByFilter"),we.prototype),(0,i.default)(we.prototype,"refetchInboxData",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"refetchInboxData"),we.prototype),(0,i.default)(we.prototype,"loadMore",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"loadMore"),we.prototype),(0,i.default)(we.prototype,"retryLoadMore",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"retryLoadMore"),we.prototype),(0,i.default)(we.prototype,"stopEvtPropagation",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"stopEvtPropagation"),we.prototype),(0,i.default)(we.prototype,"toggleMinimize",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"toggleMinimize"),we.prototype),(0,i.default)(we.prototype,"openMessageRequestConversationList",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"openMessageRequestConversationList"),we.prototype),(0,i.default)(we.prototype,"backToInboxFromMessageRequestList",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"backToInboxFromMessageRequestList"),we.prototype),(0,i.default)(we.prototype,"openDeclinedMessageRequestConversationList",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"openDeclinedMessageRequestConversationList"),we.prototype),(0,i.default)(we.prototype,"openAwayMessageSettingsModal",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"openAwayMessageSettingsModal"),we.prototype),(0,i.default)(we.prototype,"openMessagingSettingsModal",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"openMessagingSettingsModal"),we.prototype),(0,i.default)(we.prototype,"onListBubbleItemClick",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"onListBubbleItemClick"),we.prototype),(0,i.default)(we.prototype,"enterBulkActionsMode",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"enterBulkActionsMode"),we.prototype),(0,i.default)(we.prototype,"onExitBulkActionsMode",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"onExitBulkActionsMode"),we.prototype),(0,i.default)(we.prototype,"willExecuteBulkAction",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"willExecuteBulkAction"),we.prototype),(0,i.default)(we.prototype,"didExecuteBulkAction",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"didExecuteBulkAction"),we.prototype),(0,i.default)(we.prototype,"applyFilter",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"applyFilter"),we.prototype),(0,i.default)(we.prototype,"clearFilters",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"clearFilters"),we.prototype),(0,i.default)(we.prototype,"impressionKindnessReminder",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"impressionKindnessReminder"),we.prototype),(0,i.default)(we.prototype,"clickKindnessReminder",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"clickKindnessReminder"),we.prototype),(0,i.default)(we.prototype,"onSearchTermChange",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"onSearchTermChange"),we.prototype),(0,i.default)(we.prototype,"onKindnessReminderWidgetDismiss",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"onKindnessReminderWidgetDismiss"),we.prototype),(0,i.default)(we.prototype,"messageRequestListHeaderOnGoBack",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"messageRequestListHeaderOnGoBack"),we.prototype),(0,i.default)(we.prototype,"openBubbleByConversationUrn",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"openBubbleByConversationUrn"),we.prototype),(0,i.default)(we.prototype,"setLoader",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"setLoader"),we.prototype),(0,i.default)(we.prototype,"markAllAsRead",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"markAllAsRead"),we.prototype),(0,i.default)(we.prototype,"resetFocusState",[f.action],Object.getOwnPropertyDescriptor(we.prototype,"resetFocusState"),we.prototype),we))}))
define.alias("ember-media-player/components/media-player","msg-overlay/components/media-player")
define("msg-overlay/components/messaging-overlay-container",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/destroyable","@ember/object","@ember/service","@glimmer/component","@glimmer/tracking","ember","ember-lifeline","global-utils/utils/is-browser","msg-shared/utils/document-is-hidden","msg-data/utils/sdk-view-data-helpers","rsvp","data-layer/utils/profile/get-profile","ember-test-waiters","ember-cli-pemberly-tracking/utils/tracking"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,h,b,v,f,y,_,w){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var M,C,D,k,S,O,I,x,P,R,A,T,E,N,U,z,B,F,L,j,V,q,H,Y,K,W,G,J,X,Q,$,Z,ee,te,ne,ie,ae,oe,re
const se=(0,s.createTemplateFactory)({id:"UGn1fgjj",block:'[[[41,[30,0,["interventionService","shouldShowInterventionPage"]],[[[1,"  "],[8,[39,1],null,[["@shouldShowInterventionPage","@isOpen","@interventionPageModel","@onInterventionAcknowledgeSuccess","@onInterventionDismiss","@useSharedComponents"],[[30,0,["interventionService","shouldShowInterventionPage"]],[30,0,["interventionService","isInterventionOpen"]],[30,0,["interventionService","interventionModal"]],[30,0,["onInterventionSuccess"]],[30,0,["onInterventionDismiss"]],false]],null],[1,"\\n"]],[]],null],[41,[30,0,["focusedMessagingMode"]],[[[1,"  "],[10,1],[14,0,"msg-overlay-container__dimmed-background"],[12],[13],[1,"\\n"]],[]],null],[11,"aside"],[24,1,"msg-overlay"],[16,0,[29,["msg-overlay-container msg-overlay-container-reflow\\n    ",[52,[30,0,["isMaximizedMode"]],"msg-overlay-container--full-screen"]]]],[4,[38,2],[[30,0,["onDidInsert"]]],null],[12],[1,"\\n  "],[8,[39,3],null,[["@filterFromDeeplink","@realtimeMsgNotAutoOpened","@afterInboxDataFetch"],[[30,0,["filterFromDeeplink"]],[30,0,["realtimeMsgNotAutoOpened"]],[30,0,["afterInboxDataFetch"]]]],null],[1,"\\n\\n"],[42,[28,[37,5],[[28,[37,5],[[30,0,["msgOverlayManager","avBubbles"]]],null]],null],null,[[[41,[30,1,["isLiveBroadcast"]],[[[1,"      "],[8,[39,6],null,[["@bubble","@bubbleId","@closeBubble","@hideAudioBubbleAtMdBreakPoint","@isMinimized","@isMaximized","@toggleMinimize","@refreshPage"],[[30,1],[28,[37,7],[[30,0,["msgOverlayManager","avBubbleIds"]],[30,1]],null],[28,[37,8],[[30,0,["closeAVBubble"]],[30,1]],null],[30,0,["hideAudioBubbleAtMdBreakPoint"]],[30,0,["isAudioBubbleMinimized"]],[30,0,["isAVBubbleMaximized"]],[30,0,["toggleAudioBubbleMinimized"]],[28,[37,9],["refreshRoute"],null]]],null],[1,"\\n"]],[]],null]],[1]],null],[1,"\\n"],[42,[28,[37,5],[[28,[37,5],[[30,0,["msgOverlayManager","openBubbles"]]],null]],null],null,[[[1,"    "],[8,[39,10],null,[["@bubble","@closeBubble","@handleSuccessfulDiscardRequest","@overlayLixes","@messageComposeFlowTrackingId"],[[30,2],[28,[37,8],[[30,0,["closeBubble"]],[30,2]],null],[30,0,["handleSuccessfulDiscardRequest"]],[30,0,["overlayLixes"]],[30,2,["entryPointData","messageComposeFlowTrackingId"]]]],null],[1,"\\n"]],[2]],null],[1,"\\n"],[1,"  "],[10,0],[14,1,"msg-overlay__emoji-hoverable-outlet"],[12],[13],[1,"\\n  "],[10,0],[14,1,"msg-overlay__reactor-list-outlet"],[12],[13],[1,"\\n"],[13]],["bubble","bubble"],false,["if","trust-intervention@intervention-page","did-insert","msg-overlay@list-bubble-feature","each","-track-array","msg-overlay@av-bubble","global-helpers@map-get","fn","ember-route-action-helper@route-action","msg-overlay@conversation-bubble-feature"]]',moduleName:"msg-overlay/components/messaging-overlay-container.hbs",isStrictMode:!1}),le=/^messaging/,ce=(0,_.buildWaiter)("msg-data:data-manager:refresh-convo-bundle")
let ue=e.default=(M=(0,u.inject)("i18n"),C=(0,u.inject)("global-nav-shared@badge"),D=(0,u.inject)("router"),k=(0,u.inject)("tracking"),S=(0,u.inject)("msg-overlay-manager@msg-overlay-manager"),O=(0,u.inject)("msg-shared@first-message"),I=(0,u.inject)("msg-data@data-manager"),x=(0,u.inject)("msg-shared@component-context"),P=(0,u.inject)("msg-shared@messaging-user-settings"),R=(0,u.inject)("global-services@store-shim"),A=(0,u.inject)("trust-intervention@intervention-service"),T=(G=new WeakSet,J=new WeakSet,X=new WeakSet,Q=new WeakSet,$=new WeakSet,Z=new WeakSet,ee=new WeakSet,te=new WeakSet,ne=new WeakSet,ie=new WeakSet,ae=new WeakSet,oe=new WeakSet,re=new WeakSet,class extends d.default{get isMessagingRoute(){var e
return null===(e=this.router.currentRouteName)||void 0===e?void 0:e.match(le)}get isMaximizedMode(){return this.msgOverlayManager.maximizedMode}get hideAudioBubbleAtMdBreakPoint(){return this.msgOverlayManager.hideAudioBubbleAtMdBreakPoint}get isAudioBubbleMinimized(){return this.msgOverlayManager.avBubbleIsMinimized}get isAVBubbleMaximized(){return this.msgOverlayManager.avBubbleIsMaximized}constructor(){var e,i
super(...arguments)
re.add(this)
oe.add(this)
ae.add(this)
ie.add(this)
ne.add(this)
te.add(this)
ee.add(this)
Z.add(this)
$.add(this)
Q.add(this)
X.add(this)
J.add(this)
G.add(this);(0,n.default)(this,"rumComponentId","msg-overlay");(0,n.default)(this,"overlayLixes",{});(0,t.default)(this,"i18n",E,this);(0,t.default)(this,"badgeService",N,this);(0,t.default)(this,"router",U,this);(0,t.default)(this,"tracking",z,this);(0,t.default)(this,"msgOverlayManager",B,this);(0,t.default)(this,"firstMessage",F,this);(0,t.default)(this,"msgDataManager",L,this);(0,t.default)(this,"msgComponentContextService",j,this);(0,t.default)(this,"msgUserSettings",V,this);(0,t.default)(this,"storeShim",q,this);(0,t.default)(this,"interventionService",H,this);(0,t.default)(this,"filterFromDeeplink",Y,this);(0,t.default)(this,"focusedMessagingMode",K,this);(0,t.default)(this,"realtimeMsgNotAutoOpened",W,this)
this.msgComponentContextService.setTo("overlay")
const a=null===(e=this.router)||void 0===e||null===(i=e.currentRoute)||void 0===i?void 0:i.queryParams
this.filterFromDeeplink=null==a?void 0:a.msgFilter}afterInboxDataFetch(e){if(!(0,l.isDestroying)(this)){this.conversationDataFetched=!0
if(this.shouldOpenMostRecentConversation){e.length&&(0,i.default)(this,X,me).call(this,e[0])
this.shouldOpenMostRecentConversation=!1}}}async _chainedSync(){const e=await this.msgDataManager.getMailbox()
if((0,l.isDestroying)(this))return
if(e.state.status.loading)return(0,f.resolve)()
const t=ce.beginAsync()
return e.syncConversationsAPI({pageInstance:this.tracking.getCurrentPageInstance()}).finally((()=>{ce.endAsync(t)}))}async onDidInsert(){var e,t;(0,i.default)(this,re,Ce).call(this);(0,i.default)(this,Q,ge).call(this)
this.msgOverlayManager.setUnseenConvoCountFromBadge()
this.msgOverlayManager.setOverlayHasLoaded()
await this.msgUserSettings.syncUserSettings()
if((0,l.isDestroying)(this))return
const n=null===(e=this.router)||void 0===e||null===(t=e.currentRoute)||void 0===t?void 0:t.queryParams
"true"===(null==n?void 0:n.msgOverlay)?(0,i.default)(this,G,de).call(this,n):await this.msgOverlayManager.restoreCachedOverlayData(this.msgUserSettings.messagingOverlayPopups)}handleSuccessfulDiscardRequest(e){(0,i.default)(this,ie,_e).call(this,e)}closeBubble(e){this.focusedMessagingMode=!1
const{clientId:t}=e.conversation;(0,i.default)(this,ae,we).call(this,t)}closeAVBubble(e){this.msgOverlayManager.closeAVBubble(e)}toggleAudioBubbleMinimized(){this.msgOverlayManager.toggleAudioBubbleMinimized()}onInterventionDismiss(){this.interventionService.closeIntervention()}onInterventionSuccess(){this.interventionService.acknowledgeSuccess()}}),E=(0,a.default)(T.prototype,"i18n",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,a.default)(T.prototype,"badgeService",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,a.default)(T.prototype,"router",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,a.default)(T.prototype,"tracking",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,a.default)(T.prototype,"msgOverlayManager",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,a.default)(T.prototype,"firstMessage",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,a.default)(T.prototype,"msgDataManager",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,a.default)(T.prototype,"msgComponentContextService",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,a.default)(T.prototype,"msgUserSettings",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,a.default)(T.prototype,"storeShim",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,a.default)(T.prototype,"interventionService",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,a.default)(T.prototype,"filterFromDeeplink",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,a.default)(T.prototype,"focusedMessagingMode",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,a.default)(T.prototype,"realtimeMsgNotAutoOpened",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,a.default)(T.prototype,"afterInboxDataFetch",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"afterInboxDataFetch"),T.prototype),(0,a.default)(T.prototype,"onDidInsert",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"onDidInsert"),T.prototype),(0,a.default)(T.prototype,"handleSuccessfulDiscardRequest",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"handleSuccessfulDiscardRequest"),T.prototype),(0,a.default)(T.prototype,"closeBubble",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"closeBubble"),T.prototype),(0,a.default)(T.prototype,"closeAVBubble",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"closeAVBubble"),T.prototype),(0,a.default)(T.prototype,"toggleAudioBubbleMinimized",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"toggleAudioBubbleMinimized"),T.prototype),(0,a.default)(T.prototype,"onInterventionDismiss",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"onInterventionDismiss"),T.prototype),(0,a.default)(T.prototype,"onInterventionSuccess",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"onInterventionSuccess"),T.prototype),T)
async function de(e){const{body:t,chatId:n,contextEntityUrn:a,controlUrn:o="email-deeplink",invitation:r,msgConversationId:s,msgRecipientId:c,msgCompose:u,msgRecent:d,msgControlName:p,propUrn:m}=e
if(n)(0,i.default)(this,J,pe).call(this,{previewKey:n,focusMode:!0})
else if(d)this.shouldOpenMostRecentConversation=!0
else{"true"===u&&(this.focusedMessagingMode=!0)
const e=[]
if(c){const t=await(0,y.getProfileById)(this.storeShim,c,"com.linkedin.voyager.dash.deco.identity.profile.MiniProfile")
if((0,l.isDestroying)(this))return
e.push(t.entityUrn)}const n={};(m||null!=a&&a.includes("prop")||null!=a&&a.includes("activity"))&&(n.prop=a)
const i={dispatcherEntryPointArgs:{courierAPIArgs:{composeOptionArgs:{recipientUrns:e,contextEntityUrn:a},cVCArgs:{recipientUrns:e,contextEntityUrn:a}},client:{trackingData:{controlUrn:o,messageComposeFlowTrackingId:(0,w.generateBase64UUID)()},senderContext:{ui:{isMinimized:!1,isJumbo:!0,initialBody:t,conversationUrn:s,inmailReplyDeepLink:p},payload:{invitationUrn:r,contextEntityUrn:a,msgAdapterOptions:n}}}}}
this.msgOverlayManager.createConversationBubbleV2(i)
this.msgOverlayManager.updateListBubbleMinimizeState(!1)
this.focusedMessagingMode=!0}}function pe(e){let{focusMode:t=!1}=e
const n={isDeprecatedLinkToJoin:!0,dispatcherEntryPointArgs:{client:{trackingData:{controlUrn:"request-feedback-modal",messageComposeFlowTrackingId:(0,w.generateBase64UUID)()},senderContext:{ui:{}}}}}
this.msgOverlayManager.createConversationBubbleV2(n)
this.focusedMessagingMode=t}function me(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:""
const n={dispatcherEntryPointArgs:{client:{trackingData:{controlUrn:"email-deeplink",messageComposeFlowTrackingId:(0,w.generateBase64UUID)()},senderContext:{ui:{isMinimized:!1,isJumbo:!0,hasUnseenMessages:!e.read,focusInputOnInit:!0,conversationUrn:e.entityUrn,conversation:e,inmailReplyDeepLink:t}}}}}
this.msgOverlayManager.createConversationBubbleV2(n)
this.msgOverlayManager.updateListBubbleMinimizeState(!1)
this.focusedMessagingMode=!0}function ge(){var e=this
if(h.default){(0,g.addEventListener)(this,window,"blur",(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a]
return(0,i.default)(e,ee,ve).call(e,...n)}));(0,g.addEventListener)(this,document,"click",(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a]
return(0,i.default)(e,$,he).call(e,...n)}));(0,g.addEventListener)(this,window,"visibilitychange",(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a]
return(0,i.default)(e,te,fe).call(e,...n)}))
this.msgOverlayManager.on("conversationPreview",this,(0,i.default)(this,J,pe))
this.msgDataManager.onNewMessageInConversation((function(){if(!(0,l.isDestroying)(e)){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];(0,i.default)(e,ne,ye).call(e,...n)}}))
this.msgDataManager.onConversationDeleted((function(){if(!(0,l.isDestroying)(e)){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];(0,i.default)(e,ie,_e).call(e,...n)}}))}}function he(e){let{target:t}=e
t.classList&&t.classList.contains("msg-overlay-container__dimmed-background")&&(this.focusedMessagingMode=!1)}function be(){if(h.default){const e=document.activeElement&&document.activeElement.classList
return e&&e.contains("msg-messaging-form__message")}return!1}function ve(){(0,i.default)(this,Z,be).call(this)&&document.activeElement.blur()}function fe(){(0,b.default)()?(0,i.default)(this,Z,be).call(this)&&document.activeElement.blur():(0,g.throttleTask)(this,"_chainedSync",m.default.testing?1e3:18e5)}function ye(e){const t=this.msgDataManager.getTrackedConversation(e.entityUrn)
this.msgDataManager.updateTrackedConversationState(e,t)
if((0,i.default)(this,oe,Me).call(this,t))return
this.msgOverlayManager.playSound()
const n=h.default&&document.hasFocus()&&!(0,b.default)()
n||this.msgOverlayManager.updateDocumentTitle(t)
const a={dispatcherEntryPointArgs:{client:{trackingData:{controlUrn:"auto_open_onrealtime",messageComposeFlowTrackingId:(0,w.generateBase64UUID)()},senderContext:{ui:{isMinimized:!this.msgUserSettings.messagingOverlayPopups,isTriggeredByRealtime:!0,hasUnseenMessages:!0,conversationUrn:t.entityUrn,conversation:t}}}}},o=this.msgOverlayManager.findExistingConversationBubble(null,t.entityUrn),r=o&&o.isActive&&!o.isMinimized&&n
if(!this.isMessagingRoute&&!r){this.badgeService.incrementBadge("messaging")
this.msgOverlayManager.setUnseenConvoCountFromBadge()}if(o){(0,c.set)(o,"hasUnseenMessages",!r)
r&&this.msgOverlayManager.markConversationAsRead(o)}else if(!this.isMessagingRoute){const{spinmailOnOverlayBubblesTreatment:e}=this.msgDataManager
if("badge-only-all"===e||(0,v.isConversationWithAdvertiser)(t)&&"badge-only-spinmail"===e)return;("minimized-bubble-all"===e||(0,v.isConversationWithAdvertiser)(t)&&"minimized-bubble-spinmail"===e)&&(a.dispatcherEntryPointArgs.client.senderContext.ui.isMinimized=!0)
this.msgOverlayManager.createConversationBubbleV2(a)}}function _e(e){this.msgOverlayManager.closeBubbleByConversationUrnOrBubbleId(e)
this.msgOverlayManager.syncCachedConvos()}function we(e){this.msgOverlayManager.closeBubbleByConversationclientId(e)
this.msgOverlayManager.syncCachedConvos()}function Me(e){return 0===e.unreadCount||"MUTE"===e.notificationStatus}function Ce(){const{i18n:e,firstMessage:t}=this,{inviter:n}=t.getMessageInfo()||{}
if(n){const t={dispatcherEntryPointArgs:{courierAPIArgs:{composeOptionArgs:{recipientUrns:[n.entityUrn]},cVCArgs:{recipientUrns:[n.entityUrn]}},client:{trackingData:{controlUrn:"first_message",messageComposeFlowTrackingId:(0,w.generateBase64UUID)()},senderContext:{ui:{initialBody:e.lookupTranslation("components/msg-overlay@messaging-overlay-container","i18n_first_message_prompt_doing_well")()}}}}}
this.msgOverlayManager.createConversationBubbleV2(t)}}(0,r.setComponentTemplate)(se,ue)}))
define("msg-overlay/components/overlay-conversation-list-feature",["exports","@ember/template-factory","@ember/component/template-only","@ember/component","global-helpers/helpers/and","global-helpers/helpers/eq","global-helpers/helpers/not","msg-ui/components/no-messages-presenter","ember-cli-pemberly-i18n/helpers/t","artdeco-button/components/artdeco-button","message-button/components/entry-point","msg-overlay/components/overlay-conversation-list-item-feature","msg-data/utils/sdk-view-data-helpers","msg-ui/components/loader","@ember/helper","@ember/modifier","hue-web-icons/components/illustration"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,h,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const v=(0,i.setComponentTemplate)((0,t.createTemplateFactory)({id:"8NZ0p3v8",block:'[[[1,"\\n"],[1,"  "],[10,0],[14,5,"flex: 1;"],[12],[1,"\\n"],[41,[28,[32,0],[[28,[32,1],[[30,1,["length"]],0],null],[28,[32,2],[[30,2]],null]],null],[[[41,[30,3],[[[1,"        "],[8,[32,3],null,[["@isOverlay"],[true]],null],[1,"\\n"]],[]],[[[1,"        "],[10,0],[14,0,"display-flex align-items-center flex-column"],[12],[1,"\\n          "],[8,[32,4],[[24,0,"msg-overlay-list-bubble__illustration"]],[["@type","@name","@size"],["spot","empty-room","large"]],null],[1,"\\n"],[41,[28,[32,1],[[30,4],"CONNECTIONS"],null],[[[1,"            "],[10,"h4"],[14,0,"t-16 t-black t-bold ph text-align-center ph6"],[12],[1,"\\n              "],[1,[28,[32,5],["i18n_no_messages_from_connections","msg-overlay/components/overlay-conversation-list-feature"],null]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"          "],[10,2],[14,0,"text-align-center mb4"],[12],[1,"\\n"],[41,[28,[32,1],[[30,4],"BLOCKED"],null],[[[1,"              "],[1,[28,[32,5],["i18n_no_spam_messages","msg-overlay/components/overlay-conversation-list-feature"],null]],[1,"\\n"]],[]],[[[41,[28,[32,1],[[30,4],"UNREAD"],null],[[[1,"              "],[1,[28,[32,5],["i18n_no_unread_messages","msg-overlay/components/overlay-conversation-list-feature"],null]],[1,"\\n"]],[]],[[[41,[28,[32,1],[[30,4],"INMAIL"],null],[[[1,"              "],[1,[28,[32,5],["i18n_no_inmail_messages","msg-overlay/components/overlay-conversation-list-feature"],null]],[1,"\\n"]],[]],[[[41,[28,[32,1],[[30,4],"MESSAGE_REQUEST_PENDING"],null],[[[1,"              "],[1,[28,[32,5],["i18n_no_message_request","msg-overlay/components/overlay-conversation-list-feature"],null]],[1,"\\n"]],[]],[[[41,[28,[32,1],[[30,4],"MESSAGE_REQUEST_DECLINED"],null],[[[1,"              "],[1,[28,[32,5],["i18n_no_declined_message_request","msg-overlay/components/overlay-conversation-list-feature"],null]],[1,"\\n"]],[]],[[[41,[28,[32,1],[[30,4],"CONNECTIONS"],null],[[[1,"              "],[1,[28,[32,5],["i18n_reach_out_message","msg-overlay/components/overlay-conversation-list-feature"],null]],[1,"\\n"]],[]],[[[1,"              "],[1,[28,[32,5],["i18n_no_results_found","msg-overlay/components/overlay-conversation-list-feature"],null]],[1,"\\n            "]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]],[1,"          "],[13],[1,"\\n"],[41,[28,[32,1],[[30,4],"CONNECTIONS"],null],[[[1,"            "],[8,[32,6],null,[["@controlUrn","@referringModuleKey","@target"],["msg-overlay-no-results","messaging:overlay-no-results","OVERLAY"]],[["default"],[[[[1,"\\n              "],[8,[32,7],[[24,0,"ph0"],[4,[32,8],["click",[30,5]],null]],[["@text","@type"],[[28,[32,5],["i18n_create_new_message","msg-overlay/components/overlay-conversation-list-feature"],null],"tertiary"]],null],[1,"\\n            "]],[5]]]]],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n"]],[]]]],[]],[[[42,[28,[31,2],[[28,[31,2],[[30,1]],null]],null],"@index",[[[44,[[28,[32,9],[[30,6,["decoratedParticipants"]],[30,8]],null]],[[[1,"          "],[8,[32,6],null,[["@controlUrn","@referringModuleKey","@recipientUrns","@existingConversationUrn","@target"],["msg-overlay-inbox-item","messaging:overlay-inbox-conversation",[30,9],[52,[30,6,["isDraft"]],[27],[30,6,["entityUrn"]]],"OVERLAY"]],[["default"],[[[[1,"\\n            "],[8,[32,10],[[24,"data-feedback-redacted",""]],[["@conversation","@currentConvosFilter","@convoIndex","@openBubble","@disableBulkActions","@isBulkActionsMode","@handleBulkActionToggle","@selectedConversationUrns","@conversationLength"],[[30,6],[30,4],[30,7],[30,10],[30,11],[30,12],[28,[32,11],[[30,13],[30,6,["entityUrn"]]],null],[30,14],[30,15]]],null],[1,"\\n          "]],[10]]]]],[1,"\\n"]],[9]]]],[6,7]],null]],[]]],[1,"  "],[13],[1,"\\n\\n"],[41,[30,2],[[[1,"    "],[8,[32,12],[[24,0,"full-height justify-center"]],[["@size"],["small"]],null],[1,"\\n"]],[]],null]],["@conversations","@showLoadingState","@showNoMessagesPresenter","@currentConvosFilter","openMessaging","conversation","index","@authenticatedUserMiniProfile","recipientUrns","openMessaging","@disableBulkActions","@isBulkActionsMode","@onBulkActionToggle","@selectedConversationUrns","@conversationLength"],false,["if","each","-track-array","let"]]',moduleName:"msg-overlay/components/overlay-conversation-list-feature.gjs",scope:()=>[a.default,o.default,r.default,s.default,b.default,l.default,u.default,c.default,h.on,p.getNonSelfParticipantsUrns,d.default,g.fn,m.default],isStrictMode:!0}),(0,n.default)("overlay-conversation-list-feature","OverlayConversationListFeature"))
e.default=v}))
define("msg-overlay/components/overlay-conversation-list-item-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","msg-ui/viewdata/sdk-conversation-list-item-viewdata","@ember/object/internals","msg-shared/utils/constants","@ember/service","tracked-toolbox","@ember/object","@glimmer/component","@ember/modifier","ember-cli-pemberly-tracking/modifiers/track-impression","msg-ui/components/selectable-entity-presenter","hue-web-icons/components/icon","ember-cli-pemberly-i18n/helpers/t","msg-shared-modals/components/conversation-header-dropdown-menu-presenter","text-view-model/helpers/text-view-model","global-helpers/helpers/or","msg-shared/helpers/is-in-overlay","artdeco-notification-badge/components/artdeco-notification-badge","@ember/helper"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,h,b,v,f,y,_,w,M,C,D){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var k,S,O,I,x,P,R,A,T,E,N,U,z,B,F,L,j
const{CONTROL_NAMES:V,KEYCODES:{ENTER:q,SPACEBAR:H}}=c.default
e.default=(0,r.setComponentTemplate)((0,o.createTemplateFactory)({id:"TAS5IX7T",block:'[[[1,"\\n"],[1,"    "],[11,0],[24,0,"msg-conversation-listitem__link msg-overlay-list-bubble__convo-item--v2"],[24,"tabindex","0"],[16,1,[30,0,["conversationCardId"]]],[17,1],[4,[32,0],["click",[30,0,["onClick"]]],null],[4,[32,0],["keydown",[30,0,["onKeyDown"]]],null],[4,[32,0],["mousemove",[30,0,["onMouseMove"]]],null],[12],[1,"\\n      "],[10,0],[15,0,[29,[[52,[30,0,["viewData","isRead"]],"msg-overlay-list-bubble__convo-card-container--v2","msg-overlay-list-bubble__convo-card-container--v2-unread"],"\\n          "]]],[12],[1,"\\n        "],[10,0],[14,0,"msg-conversation-card msg-overlay-list-bubble__convo-card display-flex"],[12],[1,"\\n          "],[8,[32,1],null,[["@viewData","@onCheckboxClick","@checkboxOnly","@checked","@disableBulkActions","@entitySize","@iconSize","@title"],[[30,0,["viewData","conversationEntityViewData"]],[30,0,["handleCheckboxClick"]],[30,2],[30,0,["isChecked"]],[30,3],3,"small",[30,0,["viewData","title"]]]],null],[1,"\\n\\n          "],[10,0],[14,0,"overflow-hidden pl2 msg-overlay-list-bubble__convo-card-content"],[12],[1,"\\n"],[1,"            "],[10,0],[14,0,"msg-overlay-list-bubble__convo-card-content-wrapper fl"],[12],[1,"\\n              "],[10,0],[14,0,"msg-conversation-card__row align-items-center display-flex"],[12],[1,"\\n                "],[10,"h3"],[15,0,[29,["msg-conversation-listitem__participant-names msg-conversation-card__participant-names truncate t-14 t-black\\n                    ",[52,[30,0,["viewData","isRead"]],"t-normal","t-bold"]]]],[12],[1,"\\n                  "],[10,0],[14,0,"display-flex justify-left align-items-center truncate"],[12],[1,"\\n                    "],[10,1],[14,0,"truncate"],[12],[1,"\\n                      "],[1,[30,0,["viewData","title"]]],[1,"\\n                    "],[13],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[15,0,[29,["msg-conversation-card__mute-icon-holder\\n                    ",[52,[30,0,["showInboxShortcutsButton"]],"msg-conversation-card__mute-icon-holder--inbox-shortcuts"]]]],[12],[1,"\\n"],[41,[30,0,["viewData","isMute"]],[[[1,"                    "],[10,0],[14,0,"msg-conversation-card__mute-icon"],[12],[1,"\\n                      "],[8,[32,2],[[24,0,"v-align-top"]],[["@a11yText","@name","@type","@size"],[[28,[32,3],["i18n_convo_is_muted","msg-overlay/components/overlay-conversation-list-item-feature"],[["names"],[[30,0,["viewData","title"]]]]],"volume-mute","system","medium"]],null],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n"],[41,[30,0,["viewData","timestampText"]],[[[1,"                  "],[10,"time"],[15,0,[29,["msg-overlay-list-bubble-item__time-stamp t-12\\n                      ",[52,[30,0,["showInboxShortcutsButton"]],"msg-overlay-list-bubble-item__time-stamp--inbox-shortcuts"],"\\n                      ",[52,[30,0,["viewData","isRead"]],"t-normal t-black--light","t-bold t-black"]]]],[12],[1,"\\n                    "],[1,[30,0,["viewData","timestampText"]]],[1,"\\n                  "],[13],[1,"\\n"]],[]],null],[41,[30,0,["showInboxShortcutsButton"]],[[[1,"                  "],[10,0],[14,0,"msg-overlay-list-bubble__inbox-shortcuts-container"],[12],[1,"\\n                    "],[10,0],[14,0,"msg-overlay-list-bubble__inbox-shortcuts"],[12],[1,"\\n                      "],[8,[32,4],null,[["@viewData","@showRenameConversationForm","@toggleConversationMute","@isInboxShortcuts","@isOverlay","@actionTrackingPrefix","@parentRefocusElement"],[[30,0,["viewData","conversationHeaderDropdownMenuViewData"]],[30,0,["handleDropdownRenameForm"]],[30,0,["toggleConversationMute"]],true,true,[30,0,["actionTrackingPrefix"]],[28,[32,5],["#",[30,0,["conversationCardId"]]],null]]],null],[1,"\\n                    "],[13],[1,"\\n                  "],[13],[1,"\\n"]],[]],null],[1,"              "],[13],[1,"\\n\\n              "],[10,0],[14,0,"msg-conversation-card__row justify-space-between"],[12],[1,"\\n                "],[10,0],[15,0,[52,[30,0,["twoLineMessageSnippetLayout"]],"msg-overlay-list-bubble__message-snippet-container--narrow-two-line","truncate"]],[12],[1,"\\n"],[41,[30,0,["viewData","showMessageRequestContext"]],[[[1,"                    "],[10,2],[14,0,"display-flex align-items-center overflow-hidden t-12 t-bold"],[12],[1,"\\n                      "],[10,1],[14,0,"truncate flex-1"],[12],[1,"\\n                        "],[1,[28,[32,6],[[30,0,["viewData","messageRequestContext"]]],null]],[1,"\\n                      "],[13],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"                  "],[10,2],[15,0,[29,[[52,[28,[32,7],[[30,0,["viewData","showMessageRequestContext"]],[30,0,["viewData","nudgeText"]]],null],"msg-overlay-list-bubble__message-snippet truncate","msg-overlay-list-bubble__message-snippet--v2"],"\\n                      ",[52,[30,0,["viewData","isStarred"]],"msg-overlay-list-bubble__message-snippet--starred"],"\\n                      m0 t-12\\n                      ",[52,[30,0,["viewData","isRead"]],"t-black--light","t-black msg-overlay-list-bubble__message-snippet--unread"]]]],[12],[1,"\\n"],[41,[30,0,["msgDataManager","isJobsFilterEnabled"]],[[[41,[30,0,["viewData","isJob"]],[[[1,"                        "],[10,1],[14,0,"msg-overlay-conversation-card__message-label--jobs text-body-xsmall-bold"],[12],[1,"\\n                          "],[1,[28,[32,3],["i18n_jobs_conversation_label_pill","msg-overlay/components/overlay-conversation-list-item-feature"],null]],[1,"\\n                        "],[13],[1,"\\n"]],[]],null]],[]],null],[41,[30,0,["viewData","messageSnippetIcon"]],[[[1,"                      "],[8,[32,2],[[24,0,"msg-conversation-card__message-snippet-icon"]],[["@name","@type","@size"],[[30,0,["viewData","messageSnippetIcon"]],"system","small"]],null],[1,"\\n"]],[]],null],[41,[30,0,["viewData","messageSnippetPillText"]],[[[1,"                      "],[10,1],[15,0,[29,["msg-conversation-card__pill t-14\\n                          ",[52,[51,[30,0,["shouldDisplayGrayMessageSnippetPillText"]]]," t-black "],"\\n                          t-bold pr1"]]],[12],[1,"\\n                        "],[1,[30,0,["viewData","messageSnippetPillText"]]],[1,"\\n                      "],[13],[1,"\\n"]],[]],null],[41,[30,0,["viewData","isConversationWithNonEmptyDraftMessage"]],[[[1,"                      "],[10,"i"],[12],[1,[30,0,["viewData","messageSnippetText"]]],[13],[1,"\\n"]],[]],[[[1,"                      "],[1,[30,0,["viewData","messageSnippetText"]]],[1,"\\n"]],[]]],[1,"                  "],[13],[1,"\\n"],[41,[30,0,["viewData","nudgeText"]],[[[1,"                    "],[11,2],[16,0,[29,[[52,[28,[32,8],null,null],"msg-conversation-card__nudge-text--small","msg-conversation-card__nudge-text--large"],"\\n                        msg-conversation-card__nudge-text"]]],[4,[32,9],null,[["registerOnImpression","routeName","currentRoute"],[[30,0,["onNudgeImpression"]],[28,[32,10],[[53,"outletState"],"render.name"],null],[28,[32,10],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n                      "],[1,[30,0,["viewData","nudgeText"]]],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n                "],[10,0],[14,0,"display-flex"],[12],[1,"\\n                  "],[10,0],[15,0,[29,["msg-conversation-card__conversation-status msg-conversation-card__star-icon\\n                      ",[52,[30,0,["viewData","isStarred"]],"msg-conversation-card__star-icon--starred"]]]],[12],[1,"\\n"],[41,[30,0,["viewData","isStarred"]],[[[1,"                      "],[10,1],[14,0,"visually-hidden"],[12],[1,"\\n                        "],[1,[28,[32,3],["i18n_starred_conversation","msg-overlay/components/overlay-conversation-list-item-feature"],null]],[1,"\\n                      "],[13],[1,"\\n                      "],[8,[32,2],null,[["@name","@type","@size"],["star-fill","system","small"]],null],[1,"\\n"]],[]],null],[1,"                  "],[13],[1,"\\n"],[41,[51,[30,0,["viewData","isRead"]]],[[[1,"                    "],[10,0],[14,0,"msg-conversation-card__conversation-status align-items-center flex-grow-1"],[12],[1,"\\n                      "],[8,[32,11],[[24,0,"msg-conversation-card__unread-count msg-conversation-card__unread-count--inbox-shortcuts artdeco-notification-badge--new text-align-center"],[16,"aria-label",[52,[30,0,["viewData","isRead"]],"",[28,[32,3],["aria_unread_count","msg-overlay/components/overlay-conversation-list-item-feature"],[["unreadCount"],[[30,0,["viewData","conversationUnreadCount"]]]]]]]],[["@number","@showCount"],[[30,0,["viewData","conversationUnreadCount"]],true]],[["default"],[[[[1,"\\n"],[1,"                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["&attrs","@isBulkActionsMode","@disableBulkActions"],false,["if","unless","-get-dynamic-var"]]',moduleName:"msg-overlay/components/overlay-conversation-list-item-feature.gjs",scope:()=>[g.on,b.default,v.default,f.default,y.default,D.concat,_.default,w.default,M.default,h.default,D.get,C.default],isStrictMode:!0}),(k=(0,u.inject)("authentication@authenticated-user"),S=(0,u.inject)("formatter"),O=(0,u.inject)("i18n"),I=(0,u.inject)("msg-data@data-manager"),x=(0,u.inject)("date"),P=(0,u.inject)("presence@presence-api-dash"),R=(0,u.inject)("tracking"),A=(0,u.inject)("msg-overlay-manager@msg-overlay-manager"),T=class extends m.default{constructor(){super(...arguments);(0,n.default)(this,"conversationCardId",`overlay-conversation-card-${(0,l.guidFor)(this)}`);(0,t.default)(this,"authenticatedUser",E,this);(0,t.default)(this,"formatter",N,this);(0,t.default)(this,"i18n",U,this);(0,t.default)(this,"msgDataManager",z,this);(0,t.default)(this,"dateService",B,this);(0,t.default)(this,"presenceAPI",F,this);(0,t.default)(this,"tracking",L,this);(0,t.default)(this,"msgOverlayManager",j,this);(0,n.default)(this,"actionTrackingPrefix",V.OVERLAY_PREFIX)}get controlInteractionEventName(){return`overlay.${this.viewData.controlName}`}get isChecked(){var e
return null===(e=this.args.selectedConversationUrns)||void 0===e?void 0:e.includes(this.viewData.entityUrn)}get showInboxShortcutsButton(){return!this.args.isBulkActionsMode&&!this.args.isOverlaySearch}get twoLineMessageSnippetLayout(){return!this.viewData.messageRequestContext}get shouldDisplayGrayMessageSnippetPillText(){return this.viewData.isConversationWithAdvertiser}get viewData(){const{conversation:e,currentConvosFilter:t}=this.args
return new s.default({conversation:this.msgDataManager.getTrackedConversation(e.entityUrn),currentConvosFilter:t,authenticatedUserMiniProfile:this.authenticatedUser.miniProfile.content,msgDataManager:this.msgDataManager,nowTimestamp:this.dateService.now(),formatter:this.formatter,i18n:this.i18n,presenceAPI:this.presenceAPI})}onKeyDown(e){if(e.keyCode===q||e.keyCode===H){if(null!==e.target.closest(".msg-overlay-list-bubble__inbox-shortcuts"))return
e.preventDefault()
if(document.getElementById(this.conversationCardId).querySelector(".msg-selectable-entity__input")===document.activeElement)return
if(this.args.isBulkActionsMode)this.args.handleBulkActionToggle()
else{this.args.openBubble(this.viewData.entityUrn)
this.tracking.fireInteractionEvent(this.controlInteractionEventName)}}}onMouseMove(e){var t,n
null===(t=(n=this.args).onMouseMove)||void 0===t||t.call(n,e)}onClick(e){if(this.args.isBulkActionsMode)this.args.handleBulkActionToggle()
else{if(null!==e.target.closest(".msg-overlay-list-bubble__inbox-shortcuts"))return
const t=this.args.openBubble(this.viewData.entityUrn),n=this.msgOverlayManager.findExistingConversationBubble(null,this.viewData.entityUrn),i=!this.viewData.isRead&&this.viewData.conversationUnreadCount>0
t&&i&&n&&this.viewData.isConversationWithAdvertiser&&this.msgDataManager.markConversationAsRead(this.viewData.entityUrn)
this.tracking.fireInteractionEvent(this.controlInteractionEventName)
this.msgDataManager.nudgingDataManager.fireClickTracking(this.viewData.entityUrn)}}toggleStarState(e){if(e.keyCode===q||e.keyCode===H||"click"===e.type){e.stopPropagation()
e.preventDefault()
const{entityUrn:t,isStarred:n}=this.viewData
this.msgDataManager.toggleConversationStar(t,!n)
const i=document.getElementById(this.conversationCardId).querySelector(".msg-overlay-list-bubble__star-icon")
null==i||i.blur()}}toggleConversationMute(){const{entityUrn:e,isMute:t}=this.viewData
return this.msgDataManager.toggleConversationMute(e,!t)}handleDropdownRenameForm(e){e.stopPropagation()
e.preventDefault()}onNudgeImpression(){const{convoIndex:e}=this.args,{entityUrn:t,conversationBackendUrn:n}=this.viewData
return()=>this.msgDataManager.nudgingDataManager.onImpression(t,n,e+1,"overlay-conversation-list-item")}handleCheckboxClick(){this.args.handleBulkActionToggle&&this.args.handleBulkActionToggle(this.viewData.id)}},E=(0,i.default)(T.prototype,"authenticatedUser",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,i.default)(T.prototype,"formatter",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,i.default)(T.prototype,"i18n",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,i.default)(T.prototype,"msgDataManager",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,i.default)(T.prototype,"dateService",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,i.default)(T.prototype,"presenceAPI",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,i.default)(T.prototype,"tracking",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,i.default)(T.prototype,"msgOverlayManager",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(T.prototype,"viewData",[d.cached],Object.getOwnPropertyDescriptor(T.prototype,"viewData"),T.prototype),(0,i.default)(T.prototype,"onKeyDown",[p.action],Object.getOwnPropertyDescriptor(T.prototype,"onKeyDown"),T.prototype),(0,i.default)(T.prototype,"onMouseMove",[p.action],Object.getOwnPropertyDescriptor(T.prototype,"onMouseMove"),T.prototype),(0,i.default)(T.prototype,"onClick",[p.action],Object.getOwnPropertyDescriptor(T.prototype,"onClick"),T.prototype),(0,i.default)(T.prototype,"toggleStarState",[p.action],Object.getOwnPropertyDescriptor(T.prototype,"toggleStarState"),T.prototype),(0,i.default)(T.prototype,"toggleConversationMute",[p.action],Object.getOwnPropertyDescriptor(T.prototype,"toggleConversationMute"),T.prototype),(0,i.default)(T.prototype,"handleDropdownRenameForm",[p.action],Object.getOwnPropertyDescriptor(T.prototype,"handleDropdownRenameForm"),T.prototype),(0,i.default)(T.prototype,"onNudgeImpression",[p.action],Object.getOwnPropertyDescriptor(T.prototype,"onNudgeImpression"),T.prototype),(0,i.default)(T.prototype,"handleCheckboxClick",[p.action],Object.getOwnPropertyDescriptor(T.prototype,"handleCheckboxClick"),T.prototype),T))}))
define("msg-overlay/components/overlay-search-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","msg-overlay/viewdata/graphql-overlay-search-viewdata","@glimmer/tracking","@glimmer/component","ember-lifeline","ember-batcher","msg-shared/utils/constants","msg-overlay/utils/scroll-blocker-helper","tracked-toolbox","@ember/object","rsvp","@ember/service","@ember/destroyable","@ember/render-modifiers/modifiers/did-insert","ember-cli-pemberly-tracking/modifiers/track-render","ember-cli-pemberly-i18n/helpers/t","hue-web-icons/components/icon","@ember/component","@ember/modifier","artdeco-dropdown/components/artdeco-dropdown","artdeco-dropdown/components/artdeco-dropdown-item","global-helpers/helpers/eq","@ember/helper","dummy-yield-wrapper/components/dummy-yield-wrapper","artdeco-button/components/artdeco-button","artdeco-loader/components/artdeco-loader","global-helpers/helpers/and","msg-overlay/components/connection-search-result-item-presenter","global-helpers/helpers/or","msg-overlay/components/overlay-conversation-list-item-feature","msg-cross-pillar/components/visible-beacon","msg-shared/utils/pem-config","msg-data/utils/sdk-view-data-helpers","global-utils/utils/trusted-html-safe","msg-typeahead/components/recipient-suggestions-feature","ember-cli-pemberly-tracking/utils/tracking","msg-ui/helpers/is-current-year","hue-web-icons/components/illustration"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,h,b,v,f,y,_,w,M,C,D,k,S,O,I,x,P,R,A,T,E,N,U,z,B,F,L,j,V){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var q,H,Y,K,W,G,J,X,Q,$,Z,ee,te,ne,ie,ae,oe,re,se,le,ce,ue,de,pe,me,ge,he,be
const{KEYCODES:ve,CONTROL_INTERACTION_KEYS:fe,SDK_FILTER_NAME_MAP:ye}=d.default,_e=".msg-overlay-list-bubble-search__search-typeahead-input",we=".msg-overlay-list-bubble-search-content",Me=".msg-overlay-list-bubble-search__list-item",Ce=new Set(["ARCHIVED","CONNECTIONS","JOB","STARRED","UNREAD","INMAIL","BLOCKED","DRAFTS"])
e.default=(0,M.setComponentTemplate)((0,o.createTemplateFactory)({id:"jNVmQI7R",block:'[[[1,"\\n"],[1,"    "],[11,0],[16,0,[29,["msg-overlay-list-bubble-search\\n        ",[52,[30,0,["shouldShowSearchContent"]]," msg-overlay-list-bubble-search--search-content-visible"]]]],[4,[32,0],[[30,0,["onElementInsert"]]],null],[4,[32,1],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_overlay_search",[28,[32,2],[[53,"outletState"],"render.name"],null],[28,[32,2],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[41,[30,1],[[[1,"        "],[10,0],[14,0,"msg-overlay-list-bubble-search__input-container"],[12],[1,"\\n"],[1,"          "],[10,"label"],[14,0,"a11y-text"],[14,"for","msg-overlay-list-bubble-search__search-typeahead-input"],[12],[1,"\\n            "],[1,[28,[32,3],["i18n_a11y_search_hint_text","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n          "],[13],[1,"\\n          "],[10,1],[14,0,"msg-overlay-list-search__search-icon display-flex"],[12],[1,"\\n            "],[8,[32,4],null,[["@type","@size","@name"],["system","small","search"]],null],[1,"\\n          "],[13],[1,"\\n          "],[8,[32,5],[[24,1,"msg-overlay-list-bubble-search__search-typeahead-input"],[24,0,"msg-overlay-list-bubble-search__search-typeahead-input"],[16,"placeholder",[28,[32,3],["i18n_find_a_connection","msg-overlay/components/overlay-search-feature"],null]],[24,"autocomplete","off"],[4,[32,6],["input",[30,0,["onInputChange"]]],null],[4,[32,6],["focusin",[30,0,["onInputFocusIn"]]],null],[4,[32,6],["focusout",[30,0,["onInputFocusOut"]]],null],[4,[32,6],["keyup",[30,0,["onKeyUp"]]],null]],[["@value","@insert-newline"],[[30,0,["searchTerm"]],[30,0,["onInputEnterKeyRelease"]]]],null],[1,"\\n          "],[8,[32,7],null,[["@class","@placement","@justification","@isOpen","@onVisibilityChange"],["msg-overlay-list-bubble__filters-dropdown","bottom","right",[30,0,["isConvoFiltersDropdownOpen"]],[30,0,["toggleConvoFilters"]]]],[["default"],[[[[1,"\\n            "],[8,[30,2,["dropdown-trigger"]],null,[["@class","@tabindex"],["msg-overlay-list-bubble__filters-btn","0"]],[["default"],[[[[1,"\\n              "],[8,[32,4],null,[["@a11yText","@type","@size","@name"],[[28,[32,3],["i18n_filter_messages_by","msg-overlay/components/overlay-search-feature"],null],"system","small","filter"]],null],[1,"\\n            "]],[]]]]],[1,"\\n            "],[8,[30,2,["dropdown-content"]],null,[["@classNames","@arrowDir"],["msg-overlay-list-bubble__filters-dropdown-content","right"]],[["default"],[[[[1,"\\n              "],[10,"ul"],[12],[1,"\\n                "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[1,"\\n                  "],[8,[32,8],null,[["@selected","@itemSelected","@role"],[[28,[32,9],[[30,3],"UNREAD"],null],[28,[32,10],[[30,0,["applyFilter"]],"UNREAD"],null],"button"]],[["default"],[[[[1,"\\n                    "],[10,0],[14,0,"display-flex align-items-center justify-space-between"],[12],[1,"\\n                      "],[10,1],[12],[1,"\\n                        "],[1,[28,[32,3],["i18n_unread","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                      "],[13],[1,"\\n                    "],[13],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n"],[41,[30,0,["msgDataManager","isServerSideDraftsEnabled"]],[[[1,"                  "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[1,"\\n                    "],[8,[32,8],null,[["@selected","@class","@itemSelected","@role"],[[28,[32,9],[[30,3],"DRAFTS"],null],"msg-overlay-list-bubble__filters-dropdown-content-draft-list-item",[28,[32,10],[[30,0,["applyFilter"]],"DRAFTS"],null],"button"]],[["default"],[[[[1,"\\n                      "],[1,[28,[32,3],["i18n_drafts","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                    "]],[]]]]],[1,"\\n                  "],[13],[1,"\\n"]],[]],null],[41,[30,0,["msgDataManager","isJobsFilterEnabled"]],[[[1,"                  "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[1,"\\n                    "],[8,[32,8],null,[["@selected","@itemSelected","@role"],[[28,[32,9],[[30,3],"JOB"],null],[28,[32,10],[[30,0,["applyFilter"]],"JOB"],null],"button"]],[["default"],[[[[1,"\\n                      "],[1,[28,[32,3],["i18n_jobs","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                    "]],[]]]]],[1,"\\n                  "],[13],[1,"\\n"]],[]],null],[1,"                "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[1,"\\n                  "],[8,[32,8],null,[["@selected","@itemSelected","@role"],[[28,[32,9],[[30,3],"STARRED"],null],[28,[32,10],[[30,0,["applyFilter"]],"STARRED"],null],"button"]],[["default"],[[[[1,"\\n                    "],[1,[28,[32,3],["i18n_starred","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[1,"\\n                  "],[8,[32,8],null,[["@selected","@itemSelected","@role"],[[28,[32,9],[[30,3],"INMAIL"],null],[28,[32,10],[[30,0,["applyFilter"]],"INMAIL"],null],"button"]],[["default"],[[[[1,"\\n                    "],[1,[28,[32,3],["i18n_inmail","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[1,"\\n                  "],[8,[32,8],null,[["@selected","@itemSelected","@role"],[[28,[32,9],[[30,3],"CONNECTIONS"],null],[28,[32,10],[[30,0,["applyFilter"]],"CONNECTIONS"],null],"button"]],[["default"],[[[[1,"\\n                    "],[1,[28,[32,3],["i18n_connections","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[1,"\\n                  "],[8,[32,8],null,[["@selected","@itemSelected","@role"],[[28,[32,9],[[30,3],"ARCHIVED"],null],[28,[32,10],[[30,0,["applyFilter"]],"ARCHIVED"],null],"button"]],[["default"],[[[[1,"\\n                    "],[1,[28,[32,3],["i18n_archived","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[1,"\\n                  "],[8,[32,8],null,[["@selected","@itemSelected","@role"],[[28,[32,9],[[30,3],"BLOCKED"],null],[28,[32,10],[[30,0,["applyFilter"]],"BLOCKED"],null],"button"]],[["default"],[[[[1,"\\n                    "],[1,[28,[32,3],["i18n_spam","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n            "]],[]]]]],[1,"\\n          "]],[2]]]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["shouldShowSelectedFilter"]],[[[1,"        "],[18,10,[[28,[32,11],null,[["filterSection"],[[50,[32,12],0,null,null]]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["hasActiveSearch"]],[[[1,"        "],[8,[32,13],[[4,[32,6],["click",[30,4]],null]],[["@icon","@size","@circle","@class","@text","@type"],["close","small",true,"msg-overlay-list-bubble__cancel-search",[28,[32,3],["i18n_cancel_search","msg-overlay/components/overlay-search-feature"],null],"tertiary"]],null],[1,"\\n"]],[]],null],[1,"      "],[10,0],[15,0,[29,["relative display-flex justify-center flex-column overflow-hidden\\n          ",[52,[51,[30,0,["shouldShowSearchContent"]]]," hidden"]]]],[12],[1,"\\n        "],[10,0],[14,0,"msg-overlay-list-bubble-search-content"],[12],[1,"\\n"],[41,[30,0,["searchPerformed"]],[[[41,[30,0,["shouldShowSearchLoadingView"]],[[[1,"              "],[8,[32,14],null,[["@size","@class"],["small","msg-overlay-list-bubble-search__loading-state"]],null],[1,"\\n"]],[]],[[[1,"              "],[11,0],[24,0,"msg-overlay-list-bubble-search__search-result-container"],[4,[32,6],["mousedown",[30,0,["noOp"]]],null],[12],[1,"\\n"],[41,[30,0,["shouldShowNoResultView"]],[[[1,"                  "],[11,0],[24,0,"msg-overlay-list-bubble-search__no-result-container text-align-center"],[4,[32,1],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_overlay_search_no_results",[28,[32,2],[[53,"outletState"],"render.name"],null],[28,[32,2],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n                    "],[10,0],[14,0,"msg-overlay-list-bubble-search__illustration"],[12],[1,"\\n                      "],[8,[32,15],null,[["@type","@name","@size"],["spot","empty-room","large"]],null],[1,"\\n                    "],[13],[1,"\\n                    "],[10,2],[14,0,"ph2 t-14 t-black t-normal"],[12],[1,"\\n                      "],[1,[28,[32,3],["i18n_we_did_not_find_anything","msg-overlay/components/overlay-search-feature"],[["searchTerm"],[[30,0,["searchTerm"]]]]]],[1,"\\n                    "],[13],[1,"\\n                  "],[13],[1,"\\n"]],[]],[[[41,[30,0,["displayedConnections","length"]],[[[1,"                    "],[11,"header"],[24,0,"msg-overlay-list-bubble__list-header msg-overlay-list-bubble-search__result-header"],[4,[32,1],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_overlay_search_typeahead_results",[28,[32,2],[[53,"outletState"],"render.name"],null],[28,[32,2],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n                      "],[10,"h5"],[14,0,"msg-overlay-list-bubble__list-header-title t-12 t-black--light t-bold truncate"],[12],[1,"\\n                        "],[1,[28,[32,3],["i18n_connections_matched","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                      "],[13],[1,"\\n                    "],[13],[1,"\\n                    "],[10,"ul"],[14,0,"msg-overlay-list-bubble-search__connection-search-result-list"],[12],[1,"\\n"],[42,[28,[31,6],[[28,[31,6],[[30,0,["viewData","connectionSearchResultViewDataElements"]]],null]],null],null,[[[1,"                        "],[10,"li"],[15,0,[29,["msg-overlay-list-bubble-search__list-item display-flex align-items-center pv2 ph3\\n                            ",[52,[28,[32,16],[[28,[32,9],[[30,6],[30,0,["highlightedItemIndex"]]],null],[30,0,["selectedWithKeyboard"]]],null],"msg-overlay-list-bubble-search__list-item--highlighted"]]]],[12],[1,"\\n                          "],[8,[32,17],null,[["@itemIndex","@viewData","@caption","@onClick","@onMouseMove"],[[30,6],[30,5],[28,[32,18],[[30,5,["subtext"]],[30,5,["caption"]]],null],[28,[32,10],[[30,0,["onConnectionSearchResultSelect"]],[30,5,["profileAPIModel"]]],null],[28,[32,10],[[30,0,["onListItemMouseMove"]],[30,6],false],null]]],null],[1,"\\n                        "],[13],[1,"\\n"]],[5,6]],null],[1,"                    "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["matchedConversations","length"]],[[[1,"                    "],[11,"header"],[24,0,"msg-overlay-list-bubble__list-header msg-overlay-list-bubble-search__result-header"],[4,[32,1],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_overlay_search_results",[28,[32,2],[[53,"outletState"],"render.name"],null],[28,[32,2],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n                      "],[10,"h5"],[14,0,"msg-overlay-list-bubble__list-header-title t-12 t-black--light t-bold truncate"],[12],[1,"\\n                        "],[1,[28,[32,3],["i18n_conversation_history","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                      "],[13],[1,"\\n                    "],[13],[1,"\\n"],[1,"                    "],[10,0],[14,0,"msg-overlay-list-bubble-search__content-search-result-list"],[12],[1,"\\n"],[42,[28,[31,6],[[28,[31,6],[[30,0,["matchedConversations"]]],null]],null],null,[[[1,"                        "],[8,[32,19],[[16,0,[52,[28,[32,16],[[28,[32,9],[[30,8],[30,0,["highlightedConversationResultIndex"]]],null],[30,0,["selectedWithKeyboard"]]],null],"msg-overlay-list-bubble-search__list-item--highlighted"]]],[["@conversation","@currentConvosFilter","@convoIndex","@openBubble","@onMouseMove","@disableBulkActions","@isOverlaySearch"],[[30,7],[30,3],[30,8],[30,0,["onContentSearchResultSelect"]],[28,[32,10],[[30,0,["onListItemMouseMove"]],[30,8],true],null],true,true]],null],[1,"\\n"]],[7,8]],null],[41,[30,0,["loadMoreInProgress"]],[[[1,"                        "],[8,[32,14],null,[["@size"],["small"]],null],[1,"\\n"]],[]],null],[41,[30,0,["shouldLoadMoreConversations"]],[[[1,"                        "],[8,[32,20],null,[["@inView","@rootSelector"],[[30,0,["infiniteScroll"]],".msg-overlay-list-bubble-search-content"]],null],[1,"\\n"]],[]],null],[1,"                    "],[13],[1,"\\n"]],[]],null]],[]]],[1,"              "],[13],[1,"\\n"]],[]]]],[]],[[[1,"\\n"],[1,"            "],[11,0],[4,[32,6],["mousedown",[30,0,["noOp"]]],null],[12],[1,"\\n              "],[8,[32,21],[[4,[32,1],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_overlay_search_suggestions",[28,[32,2],[[53,"outletState"],"render.name"],null],[28,[32,2],[[53,"outletState"],"render"],null]]]]],[["@afterOpen","@canRender","@openBubble","@updateSuggestions","@highlightedConversationResultIndex","@selectedWithKeyboard"],[[30,0,["onInputFocusOut"]],[30,0,["shouldShowSearchContent"]],[30,9],[30,0,["updateSuggestions"]],[30,0,["highlightedConversationResultIndex"]],[30,0,["selectedWithKeyboard"]]]],[["default"],[[[[1,"\\n                "],[10,0],[14,0,"msg-overlay-list-bubble-search__history-placeholder-container text-align-center"],[12],[1,"\\n                  "],[10,0],[14,0,"msg-overlay-list-bubble-search__illustration"],[12],[1,"\\n                    "],[8,[32,15],null,[["@type","@name","@size"],["spot","empty-room","large"]],null],[1,"\\n                  "],[13],[1,"\\n                  "],[10,2],[14,0,"t-14 t-black t-normal ph2"],[12],[1,"\\n                    "],[1,[28,[32,3],["i18n_search_your_messages","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@showSearchInput","dropdown","@currentConvosFilter","@clearActiveSearch","connection","index","conversation","index","@openBubble","&default"],false,["if","-get-dynamic-var","yield","component","unless","each","-track-array"]]',moduleName:"msg-overlay/components/overlay-search-feature.gjs",scope:()=>[f.default,y.default,O.get,_.default,w.default,M.Input,C.on,D.default,k.default,S.default,O.fn,O.hash,I.default,x.default,P.default,V.default,R.default,A.default,T.default,E.default,N.default,F.default],isStrictMode:!0}),(q=(0,b.inject)("i18n"),H=(0,b.inject)("tracking"),Y=(0,b.inject)("global-services@a11y-notification"),K=(0,b.inject)("msg-data@data-manager"),W=(0,b.inject)("formatter"),G=(0,b.inject)("authentication@authenticated-user"),J=(0,b.inject)("msg-overlay-manager@msg-overlay-manager"),X=class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",Q,this);(0,t.default)(this,"tracking",$,this);(0,t.default)(this,"a11yNotification",Z,this);(0,t.default)(this,"msgDataManager",ee,this);(0,t.default)(this,"formatter",te,this);(0,t.default)(this,"authenticatedUser",ne,this);(0,t.default)(this,"msgOverlayManager",ie,this);(0,t.default)(this,"connectionSearchPerformed",ae,this);(0,t.default)(this,"contentSearchPerformed",oe,this);(0,t.default)(this,"inputHasFocus",re,this);(0,t.default)(this,"matchedConnections",se,this);(0,t.default)(this,"_matchedConversations",le,this);(0,t.default)(this,"mailboxName",ce,this);(0,t.default)(this,"isSearchLoading",ue,this);(0,t.default)(this,"collection",de,this);(0,t.default)(this,"highlightedItemIndex",pe,this);(0,t.default)(this,"searchTerm",me,this);(0,t.default)(this,"isConvoFiltersDropdownOpen",ge,this);(0,t.default)(this,"loadMoreInProgress",he,this);(0,t.default)(this,"selectedWithKeyboard",be,this);(0,n.default)(this,"collectionName",void 0);(0,n.default)(this,"searchField",void 0);(0,n.default)(this,"scrollSection",void 0);(0,n.default)(this,"suggestions",void 0)}get matchedMailboxConversations(){return this.msgDataManager.getTrackedConversations(this.mailboxName)}get matchedConversations(){return this.matchedMailboxConversations}get searchPerformed(){return this.connectionSearchPerformed||this.contentSearchPerformed}get shouldShowSelectedFilter(){const{currentConvosFilter:e}=this.args
return e&&Ce.has(e)}get shouldShowSearchContent(){return this.inputHasFocus}get displayedConnections(){return this.matchedConnections.slice(0,3)}get shouldShowNoResultView(){return 0===this.displayedResultsLength&&this.connectionSearchPerformed&&this.contentSearchPerformed}get displayedResultsLength(){return this.displayedConnections.length+this.matchedConversations.length}get listItemCount(){var e
return this.searchPerformed?this.displayedResultsLength:(null===(e=this.suggestions)||void 0===e?void 0:e.length)||0}get highlightedConversationResultIndex(){return this.highlightedItemIndex-this.displayedConnections.length}get shouldShowSearchLoadingView(){const e=this.msgDataManager.getMailboxState(this.mailboxName)
return!e||(this.isSearchLoading||e.status.loading&&!this.loadMoreInProgress)}onElementInsert(e){this.currentElement=e
this.searchField=e.querySelector(_e)
this.scrollSection=e.querySelector(we);(0,p.default)(this,this.scrollSection)}_performSearch(e){this.isSearchLoading=!0
const t=(new Date).getTime()
this.lastRequestTime=t
const n=[this.msgDataManager.fetchTypeaheadResults(e,void 0,U.VOYAGER_MESSAGING_DEGRADATION_METADATA.SEARCH).then((e=>this._handleConnectionSearchResults(e,t)))],{currentConvosFilter:i}=this.args
this.mailboxName=`${e}-${Date.now()}`
const a={kind:"search",keywords:e,firstDegreeConnections:!1}
if("CONNECTIONS"===i){a.categories=["INBOX","SPAM","ARCHIVE"]
a.firstDegreeConnections=!0}else if("UNREAD"===i){a.categories=["INBOX","SPAM","ARCHIVE"]
a.read=!1}else Ce.has(i)?a.categories=[ye[i]]:a.categories=["INBOX","SPAM","ARCHIVE"]
const o=this.msgDataManager.getMailbox(this.mailboxName,a).then((()=>{(0,v.isDestroying)(this)||this._handleConversationSearchResults(this.msgDataManager.getTrackedConversations(this.mailboxName),t)}))
n.push(o);(0,h.all)(n).then((()=>{if(!this.isDestroying){this.isSearchLoading=!1
0!==this.displayedResultsLength&&this.a11yNotify("i18n_a11y_navigate_search_results")}}))}_handleSearchTermChange(e){var t,n
const i=e?e.trim():"",a=i.length>0
this.highlightedItemIndex=-1
a?(0,c.debounceTask)(this,"_performSearch",i,1e3):this._clearSearchResults()
null===(t=(n=this.args).onSearchTermChange)||void 0===t||t.call(n,i)}_handleConversationSearchResults(e,t){if(t!==this.lastRequestTime||0===this.searchTerm.length)return(0,h.reject)()
this.contentSearchPerformed=!0
this._matchedConversations=e
this.a11yNotify("i18n_a11y_conversation_results_found",{resultsLength:e.length})
return(0,h.resolve)()}_handleConnectionSearchResults(e,t){if(t!==this.lastRequestTime||0===this.searchTerm.length)return(0,h.reject)()
this.connectionSearchPerformed=!0
this.matchedConnections=e
this.a11yNotify("i18n_a11y_connection_results_found",{resultsLength:this.displayedConnections.length})
return(0,h.resolve)()}_clearSearchResults(){this.connectionSearchPerformed=!1
this.matchedConnections=[]
this.contentSearchPerformed=!1
this._matchedConversations=[]}_clearInputField(){this.searchTerm=""
this._handleSearchTermChange("")}_moveSelectedItem(e){const t=this.listItemCount
if(0===t)return
this.selectedWithKeyboard=!0
const n=this.highlightedItemIndex
let i
i=-1===n?1===e?0:t-1:(n+e+t)%t
this.highlightedItemIndex=i
this._a11yNotifyItemSelectionChange();(0,u.mutateDOM)((()=>{if(!this.isDestroying)if(0===i)this.scrollSection.scrollTop=0
else{const e=this.currentElement.querySelectorAll(Me)[i]
if(e){const t=e.offsetTop,n=t+e.offsetHeight
n>this.scrollSection.offsetHeight+this.scrollSection.scrollTop?this.scrollSection.scrollTop=n-this.scrollSection.offsetHeight:t<this.scrollSection.scrollTop&&(this.scrollSection.scrollTop=t)}}}))}_conversationName(e){if(e.groupChat)return e.title?e.title:(0,B.default)(this.i18n.lookupTranslation("components/msg-overlay@overlay-search-feature","i18n_conversation_familiar_names")([{names:(0,z.participantNamesWithSelf)(e.decoratedParticipants,this.authenticatedUser.miniProfile.content,!0,this.i18n)}]))
const t=this.msgDataManager.getNonSelfParticipantsFromConversationRecord(e)
return t.length>0?(0,z.getParticipantNameByKind)(t[0],this.formatter,"full"):(0,B.default)(this.i18n.lookupTranslation("components/msg-overlay@overlay-search-feature","i18n_just_you")())}_formatTimeStamp(e){return e.getTime()>new Date(new Date).setHours(0,0,0,0)?this.formatter.formatTime(e,"fmt_hm",!0):this.formatter.formatDate(e,(0,j.isCurrentYearWithNowTimestamp)(e,new Date)?"fmt_md_medium":"fmt_mdy_medium",!0)}_a11yNotifyItemSelectionChange(){var e
if(this.searchPerformed)if(this.highlightedItemIndex<this.displayedConnections.length)this.a11yNotify("i18n_a11y_search_result_connection_name",{name:this.viewData.connectionSearchResultViewDataElements[this.highlightedItemIndex].recipientName,currentIndex:this.highlightedItemIndex+1,totalConnections:this.displayedConnections.length})
else{var t
const e=null===(t=this.matchedConversations[this.highlightedConversationResultIndex])||void 0===t?void 0:t.entityUrn,n=this.msgDataManager.getTrackedConversation(e),i=(0,z.isSponsoredInMail)(n)?"i18n_a11y_search_result_spinmail_name_v2":"i18n_a11y_search_result_conversation_name_v2"
this.a11yNotify(i,{name:this._conversationName(n),timestampText:this._formatTimeStamp(n.lastActivityAt),isStarred:n.categories.includes("STARRED")?"starred":"",isMute:"MUTE"===n.notificationStatus?"muted":""})}else this.highlightedItemIndex<(null===(e=this.suggestions)||void 0===e?void 0:e.length)&&this.a11yNotify("i18n_a11y_suggestions_suggestion_name",{name:this.suggestions[this.highlightedItemIndex].recipientName,currentIndex:this.highlightedItemIndex+1,totalSuggestions:this.suggestions.length})}_openConnectionSearchResult(e){this._clearInputField()
this.tracking.fireInteractionEvent(fe.SELECT_CONNECTION_SEARCH_RESULT)
const t={dispatcherEntryPointArgs:{courierAPIArgs:{composeOptionArgs:{recipientUrns:[e.entityUrn]},cVCArgs:{recipientUrns:[e.entityUrn]}},client:{trackingData:{controlUrn:"msg-overlay-search-inbox-item",messageComposeFlowTrackingId:(0,L.generateBase64UUID)(),referringModuleKey:"messaging:overlay-search-inbox-connection"},senderContext:{ui:{},payload:{}}}}}
this.msgOverlayManager.createConversationBubbleV2(t)}_openContentSearchResult(e){this._clearInputField()
this.tracking.fireInteractionEvent(fe.SELECT_CONTENT_SEARCH_RESULT)
const t={dispatcherEntryPointArgs:{courierAPIArgs:{},client:{trackingData:{controlUrn:"msg-overlay-search-inbox-item",messageComposeFlowTrackingId:(0,L.generateBase64UUID)(),referringModuleKey:"messaging:overlay-search-inbox-conversation"},senderContext:{ui:{conversation:e,conversationUrn:e.entityUrn},payload:{}}}}}
this.msgOverlayManager.createConversationBubbleV2(t)}onKeyUp(e){if(this.inputHasFocus)switch(e.keyCode){case ve.UP_ARROW:this._moveSelectedItem(-1)
e.preventDefault()
break
case ve.DOWN_ARROW:this._moveSelectedItem(1)
e.preventDefault()
break
case ve.ESC:this._clearInputField()}}infiniteScroll(){if(!this.shouldLoadMoreConversations)return(0,h.resolve)(!1)
this.loadMoreInProgress=!0
return this.msgDataManager.getMailbox(this.mailboxName).then((e=>e.loadOlderConversations())).finally((()=>{(0,v.isDestroying)(this)||(this.loadMoreInProgress=!1)}))}get shouldLoadMoreConversations(){if(!this.matchedConversations||0===this.matchedConversations.length)return!1
const e=this.msgDataManager.getMailboxState(this.mailboxName),{fullyLoaded:t}=e.status
return!t&&!this.loadMoreInProgress}get viewData(){const{formatter:e,displayedConnections:t}=this
return new r.default({formatter:e,matchedConnections:t})}a11yNotify(e,t){const n=this.i18n.lookupTranslation("components/msg-overlay@overlay-search-feature",e)
this.a11yNotification.setTextInLiveRegion(n([t]))}toggleConvoFilters(e){this.isConvoFiltersDropdownOpen=e
this.tracking.fireInteractionEvent("overlay.filter_messages_by","SHORT_PRESS")}applyFilter(e){this.isConvoFiltersDropdownOpen=!1
if(this.args.currentConvosFilter!==e){this.args.onFilterApply(e)
this._handleSearchTermChange(this.searchTerm)}}clearFilters(){this.args.onClearFilters()
this._handleSearchTermChange(this.searchTerm)}onInputFocusIn(){this.inputHasFocus=!0
this.highlightedItemIndex=-1;(0,u.mutateDOM)((()=>{this.isDestroying||(this.scrollSection.scrollTop=0)}))
this.tracking.fireInteractionEvent(fe.FOCUS_SEARCH_BOX)}onInputFocusOut(){this.inputHasFocus=!1}onInputEnterKeyRelease(){var e
if(-1!==this.highlightedItemIndex)if(this.searchPerformed){const e=this.viewData.connectionSearchResultViewDataElements.length
if(this.highlightedItemIndex<e){const e=this.viewData.connectionSearchResultViewDataElements[this.highlightedItemIndex]
this._openConnectionSearchResult(e.profileAPIModel)}else this._openContentSearchResult(this.matchedConversations[this.highlightedConversationResultIndex])}else if(this.highlightedItemIndex<(null===(e=this.suggestions)||void 0===e?void 0:e.length)){var t
const e=null===(t=this.suggestions)||void 0===t?void 0:t[this.highlightedItemIndex]
this._openSuggestionRecipientResult(e.profileAPIModel)}}clearInputField(){this._clearInputField()
this.tracking.fireInteractionEvent(fe.CANCEL_SEARCH)}onConnectionSearchResultSelect(e,t){this._openConnectionSearchResult(e,t)}onContentSearchResultSelect(e,t){const n=this.matchedConversations.find((t=>t.entityUrn===e))
this._openContentSearchResult(n,t)}onInputChange(e){this.searchTerm=e.target.value
this._handleSearchTermChange(this.searchTerm)}onListItemMouseMove(e,t,n){if(this.lastX!==n.screenX||this.lastY!==n.screenY){this.selectedWithKeyboard=!1
this.highlightedItemIndex=t?e+this.displayedConnections.length:e
this.lastX=n.screenX
this.lastY=n.screenY}}noOp(e){e.preventDefault()}updateSuggestions(e){this.suggestions=e}_openSuggestionRecipientResult(e){const t={dispatcherEntryPointArgs:{courierAPIArgs:{composeOptionArgs:{recipientUrns:[e.entityUrn]},cVCArgs:{recipientUrns:[e.entityUrn]}},client:{trackingData:{controlUrn:"msg-overlay-suggested-item",messageComposeFlowTrackingId:(0,L.generateBase64UUID)(),referringModuleKey:"messaging:overlay-search-inbox-suggestions"},senderContext:{ui:{},payload:{}}}}}
this.msgOverlayManager.createConversationBubbleV2(t)}},Q=(0,i.default)(X.prototype,"i18n",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,i.default)(X.prototype,"tracking",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,i.default)(X.prototype,"a11yNotification",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=(0,i.default)(X.prototype,"msgDataManager",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,i.default)(X.prototype,"formatter",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,i.default)(X.prototype,"authenticatedUser",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,i.default)(X.prototype,"msgOverlayManager",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=(0,i.default)(X.prototype,"connectionSearchPerformed",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=(0,i.default)(X.prototype,"contentSearchPerformed",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),re=(0,i.default)(X.prototype,"inputHasFocus",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),se=(0,i.default)(X.prototype,"matchedConnections",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=(0,i.default)(X.prototype,"_matchedConversations",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=(0,i.default)(X.prototype,"mailboxName",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=(0,i.default)(X.prototype,"isSearchLoading",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),de=(0,i.default)(X.prototype,"collection",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=(0,i.default)(X.prototype,"highlightedItemIndex",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),me=(0,i.default)(X.prototype,"searchTerm",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=(0,i.default)(X.prototype,"isConvoFiltersDropdownOpen",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),he=(0,i.default)(X.prototype,"loadMoreInProgress",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),be=(0,i.default)(X.prototype,"selectedWithKeyboard",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(X.prototype,"matchedMailboxConversations",[m.cached],Object.getOwnPropertyDescriptor(X.prototype,"matchedMailboxConversations"),X.prototype),(0,i.default)(X.prototype,"onElementInsert",[g.action],Object.getOwnPropertyDescriptor(X.prototype,"onElementInsert"),X.prototype),(0,i.default)(X.prototype,"onKeyUp",[g.action],Object.getOwnPropertyDescriptor(X.prototype,"onKeyUp"),X.prototype),(0,i.default)(X.prototype,"infiniteScroll",[g.action],Object.getOwnPropertyDescriptor(X.prototype,"infiniteScroll"),X.prototype),(0,i.default)(X.prototype,"toggleConvoFilters",[g.action],Object.getOwnPropertyDescriptor(X.prototype,"toggleConvoFilters"),X.prototype),(0,i.default)(X.prototype,"applyFilter",[g.action],Object.getOwnPropertyDescriptor(X.prototype,"applyFilter"),X.prototype),(0,i.default)(X.prototype,"clearFilters",[g.action],Object.getOwnPropertyDescriptor(X.prototype,"clearFilters"),X.prototype),(0,i.default)(X.prototype,"onInputFocusIn",[g.action],Object.getOwnPropertyDescriptor(X.prototype,"onInputFocusIn"),X.prototype),(0,i.default)(X.prototype,"onInputFocusOut",[g.action],Object.getOwnPropertyDescriptor(X.prototype,"onInputFocusOut"),X.prototype),(0,i.default)(X.prototype,"onInputEnterKeyRelease",[g.action],Object.getOwnPropertyDescriptor(X.prototype,"onInputEnterKeyRelease"),X.prototype),(0,i.default)(X.prototype,"clearInputField",[g.action],Object.getOwnPropertyDescriptor(X.prototype,"clearInputField"),X.prototype),(0,i.default)(X.prototype,"onConnectionSearchResultSelect",[g.action],Object.getOwnPropertyDescriptor(X.prototype,"onConnectionSearchResultSelect"),X.prototype),(0,i.default)(X.prototype,"onContentSearchResultSelect",[g.action],Object.getOwnPropertyDescriptor(X.prototype,"onContentSearchResultSelect"),X.prototype),(0,i.default)(X.prototype,"onInputChange",[g.action],Object.getOwnPropertyDescriptor(X.prototype,"onInputChange"),X.prototype),(0,i.default)(X.prototype,"onListItemMouseMove",[g.action],Object.getOwnPropertyDescriptor(X.prototype,"onListItemMouseMove"),X.prototype),(0,i.default)(X.prototype,"noOp",[g.action],Object.getOwnPropertyDescriptor(X.prototype,"noOp"),X.prototype),(0,i.default)(X.prototype,"updateSuggestions",[g.action],Object.getOwnPropertyDescriptor(X.prototype,"updateSuggestions"),X.prototype),X))}))
define("msg-overlay/components/presence-onboarding-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","rsvp","global-utils/utils/get-csrf-token","@glimmer/tracking","@glimmer/component","@ember/service","@ember/object","@ember/destroyable","@ember/modifier","ember-cli-pemberly-i18n/helpers/t","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,h,b,v,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,_,w,M,C,D,k,S,O,I,x,P,R,A,T,E
e.default=(0,s.setComponentTemplate)((0,o.createTemplateFactory)({id:"p+SSEtDp",block:'[[[1,"\\n"],[41,[30,0,["showPresenceOnboardingPresenter"]],[[[1,"      "],[11,0],[24,0,"msg-overlay-presence-onboarding-presenter"],[4,[32,0],["click",[30,0,["stopPropagation"]]],null],[12],[1,"\\n        "],[10,2],[14,0,"t-14"],[12],[1,"\\n          "],[1,[28,[32,1],["i18n_active_status","msg-overlay/components/presence-onboarding-presenter"],null]],[1,"\\n          "],[10,3],[14,6,"/help/linkedin/answer/84123"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"t-black link-without-visited-state"],[12],[1,"\\n            "],[1,[28,[32,1],["i18n_learn_more","msg-overlay/components/presence-onboarding-presenter"],null]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"display-flex justify-flex-end mt2"],[12],[1,"\\n          "],[8,[32,2],[[16,"aria-label",[28,[32,1],["a11y_manage_active_status","msg-overlay/components/presence-onboarding-presenter"],null]],[4,[32,0],["click",[30,0,["manageActiveStatus"]]],null],[4,[32,3],["active_status_onboarding_manage"],null]],[["@class","@size","@type","@color"],["mr2","1","tertiary","muted"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,1],["i18n_manage","msg-overlay/components/presence-onboarding-presenter"],null]],[1,"\\n          "]],[]]]]],[1,"\\n          "],[8,[32,2],[[16,"aria-label",[28,[32,1],["a11y_enable_active_status","msg-overlay/components/presence-onboarding-presenter"],null]],[4,[32,0],["click",[30,0,["enableActiveStatus"]]],null],[4,[32,3],["active_status_onboarding_enable"],null]],[["@size"],["1"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,1],["i18n_got_it","msg-overlay/components/presence-onboarding-presenter"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "]],[],false,["if"]]',moduleName:"msg-overlay/components/presence-onboarding-presenter.gjs",scope:()=>[h.on,b.default,v.default,f.default],isStrictMode:!0}),(y=(0,p.inject)("global-services@a11y-notification"),_=(0,p.inject)("i18n"),w=(0,p.inject)("lego@resolver"),M=(0,p.inject)("lego@tracking"),C=(0,p.inject)("global-services@store-shim"),D=(0,p.inject)("tracking"),k=(0,p.inject)("global-services@window"),S=class extends d.default{constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",O,this);(0,t.default)(this,"i18n",I,this);(0,t.default)(this,"legoResolver",x,this);(0,t.default)(this,"legoTracking",P,this);(0,t.default)(this,"storeShim",R,this);(0,t.default)(this,"tracking",A,this);(0,t.default)(this,"windowService",T,this);(0,t.default)(this,"showPresenceOnboardingPresenter",E,this);(0,n.default)(this,"_legoWidgetTrackingToken",void 0)
this._fetchLegoWidget().then((()=>{if(!this.isDestroying)return this._fetchActiveStatusSetting()})).then((e=>{this.isDestroying||("HIDDEN"===e?this._showPresenceOnboardingPresenter():this._dismissLegoWidget())}))}stopPropagation(e){e.stopPropagation()}_showPresenceOnboardingPresenter(){this.showPresenceOnboardingPresenter=!0
this.tracking.firePageViewEvent("flagship3_messaging_active_status_onboarding")
const e=this.i18n.lookupTranslation("components/msg-overlay@presence-onboarding-presenter","i18n_active_status")()
this.a11yNotification.setTextInLiveRegion(e)}_completePresenceOnboardingPresenter(){this.showPresenceOnboardingPresenter=!1
return this._enableActiveStatusSetting().then((()=>{this.isDestroying||this._dismissLegoWidget()}))}_fetchLegoWidget(){return this.legoResolver.fireLegoCall({pageKey:"messaging_presence",slotId:"onboarding",groupId:"onboarding_group",widgetId:"presence_onboarding"},!0,!0).then((e=>{if(!(0,g.isDestroying)(this)){if(!e)return(0,l.reject)()
this._legoWidgetTrackingToken=e.trackingToken
return e}}))}_dismissLegoWidget(){this.legoTracking.sendLegoAction(this._legoWidgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)}_fetchActiveStatusSetting(){return this.storeShim.adapterFor("-ember-m3").ajax("/psettings/presence","get",{data:{asJson:!0}}).then((e=>{var t,n
if((0,g.isDestroying)(this))return
const i=null===(t=e.map)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.visibility
if(!i)throw new Error("failed to get active status setting")
return i}))}_enableActiveStatusSetting(){return this.storeShim.adapterFor("-ember-m3").ajax("/psettings/presence/update-presence-settings","post",{data:{visibility:"CONNECTIONS",csrfToken:(0,c.default)()},headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{var t
if((0,g.isDestroying)(this))return
const n=null===(t=e.result)||void 0===t?void 0:t.responseCode
if(200!==n)throw new Error(`failed to set active status setting, responseCode: ${n}`)}))}enableActiveStatus(){this._completePresenceOnboardingPresenter()}manageActiveStatus(){this._completePresenceOnboardingPresenter().then((()=>{this.isDestroying||this.windowService.open("/psettings/presence","_blank")}))}},O=(0,i.default)(S.prototype,"a11yNotification",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,i.default)(S.prototype,"i18n",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,i.default)(S.prototype,"legoResolver",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(S.prototype,"legoTracking",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,i.default)(S.prototype,"storeShim",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,i.default)(S.prototype,"tracking",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(S.prototype,"windowService",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,i.default)(S.prototype,"showPresenceOnboardingPresenter",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(S.prototype,"enableActiveStatus",[m.action],Object.getOwnPropertyDescriptor(S.prototype,"enableActiveStatus"),S.prototype),(0,i.default)(S.prototype,"manageActiveStatus",[m.action],Object.getOwnPropertyDescriptor(S.prototype,"manageActiveStatus"),S.prototype),S))}))
define("msg-overlay/components/recommendation-card-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@glimmer/component","@ember/service","ember-cli-pemberly-tracking/modifiers/track-impression","@ember/modifier","ember-cli-pemberly-tracking/modifiers/track-interaction","presence/components/entity-with-presence-presenter","global-helpers/helpers/not","ember-cli-pemberly-i18n/helpers/t"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,v,f
e.default=(0,s.setComponentTemplate)((0,o.createTemplateFactory)({id:"RYBIhd7U",block:'[[[1,"\\n"],[1,"    "],[11,"li"],[24,0,"msg-overlay-list-bubble__convo-item msg-overlay-list-bubble__profile-item"],[4,[32,0],[[30,1]],[["routeName","currentRoute"],[[28,[32,1],[[53,"outletState"],"render.name"],null],[28,[32,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n      "],[11,"button"],[24,0,"msg-conversation-listitem__link msg-overlay-list-bubble__convo-item-link"],[24,"tabindex","0"],[24,4,"button"],[4,[32,2],["click",[30,2]],null],[4,[32,2],["keyup",[30,2]],[["preventDefault"],[true]]],[4,[32,3],["overlay_message_recommendation"],[["onInteract"],[[30,3]]]],[12],[1,"\\n        "],[10,0],[14,0,"msg-conversation-card msg-overlay-list-bubble__convo-card"],[12],[1,"\\n          "],[10,0],[14,0,"msg-conversation-card__presence-entity-container"],[12],[1,"\\n            "],[8,[32,4],[[24,0,"msg-conversation-card__presence-entity"]],[["@viewData","@size"],[[30,4,["EntityWithPresenceViewData"]],3]],null],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"msg-overlay-list-bubble__convo-card-content"],[12],[1,"\\n            "],[10,0],[14,0,"msg-overlay-list-bubble__convo-card-content-wrapper"],[12],[1,"\\n              "],[10,0],[14,0,"msg-conversation-card__row"],[12],[1,"\\n                "],[10,1],[14,0,"truncate t-14 t-black"],[12],[1,"\\n                  "],[1,[30,4,["suggestedRecipientName"]]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n\\n              "],[10,0],[14,0,"msg-conversation-card__row"],[12],[1,"\\n                "],[10,1],[14,0,"msg-overlay-list-bubble__message-snippet m0 t-12 t-black--light t-normal block truncate"],[12],[1,"\\n                  "],[1,[30,4,["suggestedRecipientOccupation"]]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n\\n              "],[10,0],[14,0,"msg-conversation-card__row"],[12],[1,"\\n"],[41,[30,0,["reasonTextFromRenderModel"]],[[[1,"                  "],[10,1],[14,0,"t-12 t-black--light t-normal t-italic block truncate mt1"],[12],[1,"\\n                    "],[1,[30,0,["reasonTextFromRenderModel"]]],[1,"\\n                  "],[13],[1,"\\n"]],[]],[[[41,[28,[32,5],[[30,5]],null],[[[41,[30,4,["suggestionReasons"]],[[[1,"                    "],[10,1],[14,0,"t-12 t-black--light t-normal t-italic block truncate mt1"],[12],[1,"\\n                      "],[1,[52,[30,4,["isCurrentEmployee"]],[28,[32,6],["works_at","msg-overlay/components/recommendation-card-presenter"],[["actor"],[[30,6]]]],[52,[30,4,["isPreviousEmployee"]],[28,[32,6],["has_worked_at","msg-overlay/components/recommendation-card-presenter"],[["actor"],[[30,6]]]],[52,[30,4,["isConnectingMember"]],[28,[32,6],["knows_people_at","msg-overlay/components/recommendation-card-presenter"],[["connectionCount","actor"],[[30,4,["numSecondDegreeMembers"]],[30,6]]]]]]]],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"                "]],[]],null]],[]]],[1,"              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@impressionTrackingHandler","@messageRecommendation","@interactionTrackingHandler","@viewData","@isFeedContext","@actor"],false,["-get-dynamic-var","if"]]',moduleName:"msg-overlay/components/recommendation-card-presenter.gjs",scope:()=>[u.default,r.get,d.on,p.default,m.default,g.default,h.default],isStrictMode:!0}),(b=(0,c.inject)("i18n"),v=class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",f,this)}get reasonTextFromRenderModel(){const{reasonText:e}=this.args.viewData
if(e)return this.i18n.parseRawString(e)({name:this.args.actor})}},f=(0,i.default)(v.prototype,"i18n",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v))}))
define.alias("helpcenter-in-product-ember/components/search-bar","msg-overlay/components/search-bar")
define.alias("helpcenter-in-product-ember/components/search-results-list","msg-overlay/components/search-results-list")
define("msg-overlay/config/environment",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
let t
try{const e="msg-overlay/config/environment",n=document.querySelector('meta[name="'+e+'"]').getAttribute("content")
t=JSON.parse(unescape(n))}catch(e){t={sparkPlaceholders:{includeHashes:["assets/media-player.amd.js"]}}}e.default=t}))
define("msg-overlay/engine",["exports","@babel/runtime/helpers/esm/defineProperty","strict-resolver","@ember/engine","ember-load-initializers"],(function(e,t,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const o="msg-overlay",r=class extends i.default{constructor(){super(...arguments);(0,t.default)(this,"Resolver",n.default);(0,t.default)(this,"modulePrefix",o)}};(0,a.default)(r,o)
e.default=r}))
define.alias("ember-truth-helpers/helpers/and","msg-overlay/helpers/and")
define.alias("artdeco-datepicker/helpers/artdeco-adjust-date-for-timezone","msg-overlay/helpers/artdeco-adjust-date-for-timezone")
define.alias("artdeco-datepicker/helpers/artdeco-is-between-dates","msg-overlay/helpers/artdeco-is-between-dates")
define.alias("ember-media-player/helpers/autoplay-media","msg-overlay/helpers/autoplay-media")
define.alias("artdeco-datepicker/helpers/cal-dates-equal","msg-overlay/helpers/cal-dates-equal")
define.alias("ember-element-helper/helpers/element","msg-overlay/helpers/element")
define.alias("ember-holy-futuristic-template-namespacing-batman/helpers/-translate-dynamic-2","msg-overlay/helpers/ember-holy-futuristic-template-namespacing-batman-translate-dynamic-2")
define("msg-overlay/helpers/ensure-safe-component",["exports","@embroider/util"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.EnsureSafeComponentHelper}})}))
define.alias("ember-truth-helpers/helpers/eq","msg-overlay/helpers/eq")
define.alias("ember-media-player/helpers/format-autoplay","msg-overlay/helpers/format-autoplay")
define.alias("ember-cli-pemberly-i18n/helpers/format-number","msg-overlay/helpers/format-number")
define.alias("ember-semaphore/helpers/format-title","msg-overlay/helpers/format-title")
define.alias("ember-truth-helpers/helpers/gt","msg-overlay/helpers/gt")
define.alias("ember-truth-helpers/helpers/gte","msg-overlay/helpers/gte")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/helpers/convert-to-icon-name","msg-overlay/helpers/hue-web-artdeco-icon-migration-runtime")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/helpers/convert-to-icon-v2","msg-overlay/helpers/hue-web-artdeco-li-icon-migration-runtime-v2")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/helpers/convert-to-icon-path","msg-overlay/helpers/hue-web-artdeco-li-icon-migration-runtime")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/helpers/convert-argument","msg-overlay/helpers/hue-web-artdeco-migration-runtime")
define.alias("helpcenter-in-product-ember/helpers/includes","msg-overlay/helpers/includes")
define.alias("ember-truth-helpers/helpers/is-array","msg-overlay/helpers/is-array")
define.alias("ember-truth-helpers/helpers/is-empty","msg-overlay/helpers/is-empty")
define.alias("ember-truth-helpers/helpers/is-equal","msg-overlay/helpers/is-equal")
define.alias("artdeco-icons-web/helpers/li-icon","msg-overlay/helpers/li-icon")
define.alias("ember-async-data/helpers/load","msg-overlay/helpers/load")
define.alias("ember-truth-helpers/helpers/lt","msg-overlay/helpers/lt")
define.alias("ember-truth-helpers/helpers/lte","msg-overlay/helpers/lte")
define.alias("ember-truth-helpers/helpers/not-eq","msg-overlay/helpers/not-eq")
define.alias("ember-truth-helpers/helpers/not","msg-overlay/helpers/not")
define.alias("ember-truth-helpers/helpers/or","msg-overlay/helpers/or")
define("msg-overlay/helpers/ref-to",["exports","ember-ref-bucket/helpers/ref-to"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"refTo",{enumerable:!0,get:function(){return t.default}})}))
define.alias("ember-app-scheduler/helpers/route-idle","msg-overlay/helpers/route-idle")
define.alias("ember-media-player/helpers/seek-media","msg-overlay/helpers/seek-media")
define.alias("ember-set-helper/helpers/set","msg-overlay/helpers/set")
define.alias("ember-cli-pemberly-i18n/helpers/t","msg-overlay/helpers/t")
define.alias("ember-truth-helpers/helpers/xor","msg-overlay/helpers/xor")
define.alias("ember-uuid","msg-overlay/index")
define("msg-overlay/initializers/icons",["exports","artdeco-icons-web/src/icons","msg-overlay/config/environment"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function i(e){throw e}e.default={name:"icons",initialize:function(){const{environment:e,APP:a}=n.default
let o,r
a&&({artdecoCustomSpriteUrl:o,artdecoCustomSpriteName:r}=a)
const s="test"!==e
t.default.load(s,o,r).catch(i)}}}))
define.alias("ember-cli-pemberly-lix/initializers/lix","msg-overlay/initializers/lix")
define.alias("ember-m3/initializers/m3-store","msg-overlay/initializers/m3-store")
define("msg-overlay/instance-initializers/artdeco",["exports","artdeco-eyeglass"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.initialize=a
const n=[t.default.contextClasses,t.default.floatingLabel,t.default.focusOutline]
function i(e,t){const i=e[t]
e[t]=function(){n.forEach((e=>e&&"function"==typeof e.teardown&&e.teardown()))
i&&"function"==typeof i&&i.call(e)}}function a(e){if("undefined"!=typeof document){n.forEach((e=>e.install()))
"function"==typeof e.willDestroy?i(e,"willDestroy"):"function"==typeof e.destroy&&i(e,"destroy")}}e.default={name:"artdeco",initialize:a}}))
define.alias("ember-ref-bucket/instance-initializers/global-ref-cleanup","msg-overlay/instance-initializers/global-ref-cleanup")
define.alias("tracking-overlay-service/instance-initializers/tracking-overlay","msg-overlay/instance-initializers/tracking-overlay")
define.alias("artdeco-datepicker/modifiers/artdeco-calendar-click-watcher","msg-overlay/modifiers/artdeco-calendar-click-watcher")
define.alias("ember-ref-bucket/modifiers/create-ref","msg-overlay/modifiers/create-ref")
define.alias("@ember/render-modifiers/modifiers/did-insert","msg-overlay/modifiers/did-insert")
define.alias("ember-scroll-modifiers/modifiers/did-intersect","msg-overlay/modifiers/did-intersect")
define.alias("ember-resize-modifier/modifiers/did-resize","msg-overlay/modifiers/did-resize")
define.alias("@ember/render-modifiers/modifiers/did-update","msg-overlay/modifiers/did-update")
define("msg-overlay/modifiers/on-dom-insert",["exports","ember-modifier"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=(0,t.modifier)((function(e,t){let[n]=t
n(e)
return()=>{}}))}))
define.alias("ember-prop-modifier","msg-overlay/modifiers/prop")
define.alias("ember-scroll-modifiers/modifiers/scroll-into-view","msg-overlay/modifiers/scroll-into-view")
define.alias("@ember/render-modifiers/modifiers/will-destroy","msg-overlay/modifiers/will-destroy")
define.alias("@embroider/util/services/ensure-registered","msg-overlay/services/-ensure-registered")
define.alias("artdeco-hoverables/services/artdeco-hoverable","msg-overlay/services/artdeco-hoverable")
define.alias("artdeco-modal/services/artdeco-modal","msg-overlay/services/artdeco-modal")
define.alias("artdeco-toast/services/artdeco-toast","msg-overlay/services/artdeco-toast")
define.alias("client-sensor-web/services/client-sensor","msg-overlay/services/client-sensor")
define.alias("ember-date-service/services/date","msg-overlay/services/date")
define.alias("@linkedin/ember-restli-graphql/services/graphql","msg-overlay/services/graphql")
define.alias("@linkedin/ember-pem/services/internal-event-utils","msg-overlay/services/internal-event-utils")
define.alias("@linkedin/ember-pem/services/internal-pem-tracking","msg-overlay/services/internal-pem-tracking")
define.alias("helpcenter-in-product-ember/services/iph-service","msg-overlay/services/iph-service")
define.alias("ember-cli-pemberly-lix/services/lix","msg-overlay/services/lix")
define.alias("ember-m3/services/m3-schema-manager","msg-overlay/services/m3-schema-manager")
define.alias("ember-media-player/services/media-player","msg-overlay/services/media-player")
define.alias("@linkedin/ember-pem/services/pem-response-metadata","msg-overlay/services/pem-response-metadata")
define.alias("@linkedin/ember-pem/services/pem-tracking","msg-overlay/services/pem-tracking")
define.alias("persistent-toast-manager/services/persistent-toast-manager","msg-overlay/services/persistent-toast-manager")
define.alias("@linkedin/ember-qualtrics/services/qualtrics-surveys","msg-overlay/services/qualtrics-surveys")
define.alias("ember-media-player/services/static-asset-loader","msg-overlay/services/static-asset-loader")
define.alias("ember-cli-pemberly-m3/services/store","msg-overlay/services/store")
define.alias("ember-cli-pemberly-litms/services/tag-manager","msg-overlay/services/tag-manager")
define.alias("@linkedin/ember-pem/services/tracer","msg-overlay/services/tracer")
define.alias("ember-cli-pemberly-litms/services/tracking-adapter-for-tag-manager","msg-overlay/services/tracking-adapter-for-tag-manager")
define("msg-overlay/template-registry",[],(function(){}))
define("msg-overlay/templates/application",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"A72Ni7se",block:'[[[8,[39,0],null,null,null]],[],false,["msg-overlay@messaging-overlay-container"]]',moduleName:"msg-overlay/templates/application.hbs",isStrictMode:!1})}))
define.alias("ember-async-data/tracked-async-data","msg-overlay/tracked-async-data")
define.alias("ember-highcharts/utils/build-options","msg-overlay/utils/build-options")
define.alias("ember-cli-artdeco-tabs/utils/get-box-model-width","msg-overlay/utils/get-box-model-width")
define.alias("client-sensor-web/utils/helpers","msg-overlay/utils/helpers")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/utils/mapping-data","msg-overlay/utils/mapping-data")
define("msg-overlay/utils/recommendation-helpers",["exports","msg-shared/utils/constants"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.USECASE_PARTIAL_LOOKUP=void 0
e.normalizeUsecase=function(e,t){const n=r[e]
return`${n}_${t?"FULL":"SHORT"}`}
const{CONTEXT_TYPES:{FEED_CONTEXT:n,JOB_CONTEXT:i,COMPANY_CONTEXT:a,PROFILE_CONTEXT:o}}=t.OVERLAY,r=e.USECASE_PARTIAL_LOOKUP={[n]:"ARTICLE_SHARE_OVERLAY",[i]:"OVERLAY_JOB",[a]:"OVERLAY_COMPANY",[o]:"OVERLAY_PROFILE"}}))
define("msg-overlay/utils/scroll-blocker-helper",["exports","ember-lifeline"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,a){if(a)for(let o=0;o<n.length;o++)(0,t.addEventListener)(e,a,n[o],i)}
const n=["DOMMouseScroll","mousewheel","touchmove","wheel"]
function i(e){e.stopImmediatePropagation()
const{type:t,currentTarget:n,deltaY:i,detail:a,wheelDelta:o}=e,{scrollTop:r,scrollHeight:s,offsetHeight:l}=n
let c=0
c="DOMMouseScroll"===t?-40*a:o||-i
if(c<0&&-c>s-l-r){n.scrollTop=s
e.preventDefault()}else if(c>0&&c>r){n.scrollTop=0
e.preventDefault()}}}))
define("msg-overlay/utils/uuid-generator",["exports","ember-uuid/utils/uuid-generator"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}})
Object.defineProperty(e,"unparse",{enumerable:!0,get:function(){return t.unparse}})
Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.v1}})
Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return t.v4}})}))
define.alias("ember-vector-images/utils/vector-url","msg-overlay/utils/vector-url")
define("msg-overlay/viewdata/graphql-overlay-search-viewdata",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","msg-data/viewdata","msg-typeahead/viewdata/graphql-possible-recipient-viewdata","tracked-toolbox"],(function(e,t,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o
e.default=(o=class extends n.default{get connectionSearchResultViewDataElements(){const{formatter:e,matchedConnections:t}=this.props
return t.map((t=>new i.default({possibleRecipient:t,formatter:e})))}},(0,t.default)(o.prototype,"connectionSearchResultViewDataElements",[a.cached],Object.getOwnPropertyDescriptor(o.prototype,"connectionSearchResultViewDataElements"),o.prototype),o)}))
define("msg-overlay/viewdata/graphql-recommendation-card-viewdata",["exports","msg-data/viewdata","presence/viewdata/host-entity-with-presence-viewdata"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{get recipientProfile(){var e,t
const n=null===(e=this.props.suggestion.recipientEntityViewModel)||void 0===e||null===(t=e.entity)||void 0===t?void 0:t.profile
return{entityUrn:n.entityUrn,dashEntityUrn:n.entityUrn,objectUrn:n.objectUrn,firstName:n.firstName,lastName:n.lastName,occupation:n.headline,profilePicture:n.profilePicture}}get suggestedRecipientName(){return this.props.formatter.formatName(this.recipientProfile,"full")}get EntityWithPresenceViewData(){return new n.default({altText:this.suggestedRecipientName,profile:this.recipientProfile})}get suggestedRecipientOccupation(){return this.recipientProfile.occupation}get reasonText(){var e
return null===(e=this.props.suggestion.reasonText)||void 0===e?void 0:e.text}get trackingId(){return this.props.suggestion.trackingId}get profileObjectUrn(){const{recipientProfile:e}=this
return e&&e.objectUrn}}e.default=i}))
define("msg-overlay/viewdata/list-bubble-viewdata",["exports","msg-data/viewdata","presence/viewdata/host-entity-with-presence-viewdata"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{get entityWithPresenceViewData(){const{authenticatedUserProfile:e,formatter:t}=this.props,i={firstName:e.firstName,lastName:e.lastName??""}
return new n.default({profile:e,altText:t.formatName(i,"full")})}}e.default=i}))
define("msg-overlay/viewdata/sdk-conversation-bubble-header-controls-viewdata",["exports","msg-data/viewdata","msg-shared-modals/viewdata/sdk-conversation-header-dropdown-menu-viewdata","msg-ui/viewdata/sdk-virtual-meeting-cta-viewdata"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class a extends t.default{get conversationName(){return this.props.conversation.title}get participantNames(){return this.props.participants.map((e=>({firstName:null==e?void 0:e.firstName,lastName:null==e?void 0:e.lastName,maidenName:null==e?void 0:e.maidenName})))}get showDropdownMenu(){var e
return!(null===(e=this.props.conversation)||void 0===e||!e.entityUrn)}get virtualMeetingCtaViewData(){const{conversation:e,authenticatedUserProfile:t,msgDataManager:n,participants:a}=this.props
return new i.default({conversation:e,authenticatedUserProfile:t,msgDataManager:n,participants:a})}get conversationHeaderDropdownMenuViewData(){return new n.default({conversation:this.props.conversation,authenticatedUserProfile:this.props.authenticatedUserProfile,participants:this.props.participants,i18n:this.props.i18n,formatter:this.props.formatter,presenceAPI:this.props.presenceAPI,isInteractiveMessagingComponent:!1})}}e.default=a}))
define("msg-overlay/viewdata/sdk-conversation-bubble-header-viewdata",["exports","global-helpers/helpers/urn-to-id","msg-data/viewdata","msg-shared/helpers/is-company-profile","msg-data/utils/sdk-view-data-helpers","urn-utils","msg-ui/viewdata/sdk-conversation-entity-viewdata","msg-overlay/viewdata/sdk-conversation-bubble-header-controls-viewdata"],(function(e,t,n,i,a,o,r,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const l="components/msg-overlay@conversation-bubble-header-feature"
class c extends n.default{get shouldShowHeader(){const{conversation:e}=this.props
return void 0!==e}get participants(){const{conversation:e}=this.props
return null!=e&&e.participants?e.participants.map((e=>this.props.participantStateMap[e])).filter((e=>!!e)):[]}get hasParticipants(){return!!this.participants.length}get isGroupChat(){const{conversation:e}=this.props
return!!e&&e.groupChat}get conversationName(){const{conversation:e}=this.props
return e?e.title:null}get latestEvent(){const{conversation:e,msgDataManager:t}=this.props
return e&&(0,a.getLatestMessage)(e,t)}get messageRecipient(){const{messageRecipients:e}=this.props
return e?e[0]:void 0}get messageRecipientId(){const{messageRecipient:e}=this
return e?e.publicIdentifier:""}get messageRecipientFirstName(){const{messageRecipient:e}=this
return e?e.firstName:null}get messageRecipientLastName(){const{messageRecipient:e}=this
return e?e.lastName:null}get oneToOneParticipantPublicProfileId(){var e,t
const n=(0,a.getNonSelfParticipants)(this.participants,this.props.authenticatedUserProfile)
return n.length?(null===(e=n[0])||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.url)??"UNKNOWN":"UNKNOWN"}get pageUrl(){var e
return null===(e=(0,a.getNonSelfParticipants)(this.participants,this.props.authenticatedUserProfile)[0])||void 0===e?void 0:e.pageUrl}get pageName(){var e,t
return null===(e=(0,a.getNonSelfParticipants)(this.participants,this.props.authenticatedUserProfile)[0])||void 0===e||null===(t=e.name)||void 0===t?void 0:t.text}get isCompanyRecipient(){var e
const{messageRecipient:t}=this,n=(0,a.getNonSelfParticipants)(this.participants,this.props.authenticatedUserProfile)
if(0===n.length)return!1
if(t&&(0,i.isCompanyProfile)(t)||(null===(e=n[0])||void 0===e?void 0:e.kind)===a.PARTICIPANT_TYPES.ORGANIZATION)return!0
if((0,a.isConversationWithAdvertiser)(this.props.conversation)){var o
return(null===(o=n[0])||void 0===o?void 0:o.kind)===a.PARTICIPANT_TYPES.ORGANIZATION}return!1}get participantNames(){const{conversation:e}=this.props
if(e)return(0,a.getNonSelfParticipants)(this.participants,this.props.authenticatedUserProfile,(0,a.isConversationWithAdvertiser)(e)).map((e=>{var t
return"MEMBER"===e.kind?{firstName:null==e?void 0:e.firstName,lastName:null==e?void 0:e.lastName,maidenName:null==e?void 0:e.maidenName}:{firstName:(null===(t=e.name)||void 0===t?void 0:t.text)??"",lastName:""}}))}get averageResponseTimeText(){var e,t
return null===(e=(0,a.getNonSelfParticipants)(this.participants,this.props.authenticatedUserProfile)[0])||void 0===e||null===(t=e.averageResponseTimeText)||void 0===t?void 0:t.text}get participantNamesWithSelf(){return(0,a.participantNamesWithSelf)(this.participants,this.props.authenticatedUserProfile,!0,this.props.i18n)}get recipientProfileId(){var e
const t=(0,a.getNonSelfParticipants)(this.participants,this.props.authenticatedUserProfile)
return t?(0,o.extractEntityInfoFromUrn)(null===(e=t[0])||void 0===e?void 0:e.hostIdentityUrn).id:null}get companyRecipientId(){var e
const{participants:n}=this
return n&&void 0!==(null===(e=n[0])||void 0===e?void 0:e.entityUrn)?(0,t.urnToId)(n[0].entityUrn):null}get hasPresenceInformation(){return(0,a.shouldShowPresenceInformationForConversation)(this.props.conversation,this.props.msgDataManager,this.props.authenticatedUserProfile)}get existingGroupParticipantsTitle(){const{conversation:e,i18n:t}=this.props
if(!e)return null
const{participants:n}=this
let i
i=e.title?1===n.length?t.lookupTranslation(l,"i18n_just_you")():t.lookupTranslation(l,"i18n_participant_familiar")([{names:this.participantNamesWithSelf}]):t.lookupTranslation(l,"i18n_num_participants_in_group_conversation")([{count:this.participants.length}])
return i}get isConversationWithAdvertiser(){const{conversation:e}=this.props
return e&&(0,a.isConversationWithAdvertiser)(e)}get isConversationAdMemberSender(){return(0,a.isConversationAdMemberSender)(this.props.conversation,this.props.authenticatedUserProfile)}get creatorProfileViewEnabled(){const{conversation:e}=this.props
return(0,a.isConversationFeatureSupported)(e,"VIEW_CREATOR_PROFILE")}get conversationEntityViewData(){const{conversation:e,formatter:t,authenticatedUserProfile:n,msgDataManager:i}=this.props
return new r.default({conversation:e,participants:this.participants,latestMessage:this.latestEvent,authenticatedUserMiniProfile:n,msgDataManager:i,formatter:t})}get conversationBubbleHeaderControlsViewData(){return new s.default({conversation:this.props.conversation,participants:this.participants,msgDataManager:this.msgDataManager,i18n:this.props.i18n,formatter:this.props.formatter,authenticatedUserProfile:this.props.authenticatedUserProfile,presenceAPI:this.props.presenceAPI})}}e.default=c}))
define("msg-overlay/viewdata/sdk-conversation-bubble-viewdata",["exports","msg-data/viewdata","msg-data/utils/sdk-view-data-helpers","msg-shared/utils/urn-id-helpers","msg-spinmail/viewdata/sdk-sponsored-conversation-thread-viewdata","msg-spinmail-data/utils/sponsored-conversation-properties","msg-spinmail/viewdata/sdk-spinmail-thread-viewdata","msg-shared/utils/custom-tracking","msg-shared/utils/view-data-helpers"],(function(e,t,n,i,a,o,r,s,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class c extends t.default{get participants(){var e
return(null===(e=this.props.conversation)||void 0===e?void 0:e.decoratedParticipants)??[]}get latestMessage(){var e
return null===(e=this.props.conversation.messages)||void 0===e?void 0:e.last()}get isUnread(){return!this.props.conversation.read}get isCompanyProfile(){return(0,n.isConversationWithCompany)(this.props.conversation,this.props.authenticatedUserProfile)}get conversationUrn(){return this.props.conversation.entityUrn}get hostConversationUrn(){return`urn:li:fs_conversation:${(0,i.extractMailboxAndConversationId)(this.conversationUrn).conversationId}`}get conversationId(){const{conversation:e}=this.props
return e&&e.entityUrn?(0,i.extractMailboxAndConversationId)(e.entityUrn).conversationId:null}get isVideoMeetingEnabled(){return this.props.conversation&&(0,n.isConversationFeatureSupported)(this.props.conversation,"REPLY")}get isConversationWithAdvertiser(){return this.props.conversation&&(0,n.isConversationWithAdvertiser)(this.props.conversation)}get isInMailOrInMailReply(){return this.props.conversation&&(0,n.isInMailConversation)(this.props.conversation)}get isSponsoredConversation(){return this.props.conversation&&(0,n.isSponsoredConversation)(this.props.conversation)}get isSponsoredInMail(){return this.props.conversation&&(0,n.isSponsoredInMail)(this.props.conversation)}get enableReportingSponsoredConversation(){const{conversation:e}=this.props
return!!e&&((0,o.enableReportingSponsoredMessage)(e)||(0,o.enableReportingSponsoredInMail)(e))}get nonSelfParticipantUrns(){return(0,n.getNonSelfParticipants)(this.participants,this.props.authenticatedUserProfile).map((e=>e.hostIdentityUrn))}get hasInitialFetch(){return!!this.props.conversation.messages.length}get isGroupChat(){return this.props.conversation.groupChat}get isMuted(){return"MUTE"===this.props.conversation.notificationStatus}get conversationBackendUrn(){return this.props.conversation.backendUrn}get participantTrackingUrns(){const{participants:e}=this
return e?(0,s.getParticipantTrackingUrns)(e,!0):[]}get recipientObjectUrns(){var e
return null===(e=this.props.messageRecipients)||void 0===e?void 0:e.filter((e=>e.objectUrn)).map((e=>e.objectUrn))}get recipientUrns(){var e
return null===(e=this.props.messageRecipients)||void 0===e?void 0:e.map((e=>(0,l.getProfileDashUrn)(e)))}get sponsoredCreativeUrn(){var e,t,n,i
return null===(e=this.props.conversation)||void 0===e||null===(t=e.contentMetadata)||void 0===t||null===(n=t.conversationAdContent)||void 0===n||null===(i=n.creativeAdsReportingInfo)||void 0===i?void 0:i.sponsoredCreativeUrn}get inboxType(){var e,t
const{conversation:n}=this.props
return n?null!==(e=n.categories)&&void 0!==e&&e.includes("PRIMARY_INBOX")?"PRIMARY":null!==(t=n.categories)&&void 0!==t&&t.includes("SECONDARY_INBOX")?"SECONDARY":null:null}get spinmailThreadViewData(){return new r.default({conversation:this.props.conversation,msgDataManager:this.props.msgDataManager,authenticatedUserProfile:this.props.authenticatedUserProfile,presenceAPI:this.props.presenceAPI,graphql:this.props.graphql,jet:this.props.jet})}get sponsoredConversationThreadViewData(){const{conversation:e,msgDataManager:t,presenceAPI:n}=this.props
return new a.default({conversation:e,msgDataManager:t,presenceAPI:n,authenticatedUserProfile:this.props.authenticatedUserProfile})}}e.default=c}))

//# sourceMappingURL=engine.map