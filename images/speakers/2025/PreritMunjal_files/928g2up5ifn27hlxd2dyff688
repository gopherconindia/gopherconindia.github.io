define.alias("@glimmer/component/-private/ember-component-manager","sharing-v2/component-managers/glimmer")
define("sharing-v2/components/-dynamic-element-alt",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{}e.default=i}))
define("sharing-v2/components/-dynamic-element",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{}e.default=i}))
define("sharing-v2/components/actor-lockup",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,i.createTemplateFactory)({id:"RQJ9kULF",block:'[[[8,[39,0],null,[["@class","@size"],["share-creation-state__member-info",3]],[["default"],[[[[1,"\\n  "],[8,[30,1,["image"]],null,[["@type"],[[30,2,["lockupImageShape"]]]],[["default"],[[[[1,"\\n"],[41,[28,[37,2],[[30,2,["image"]]],null],[[[1,"      "],[8,[39,3],null,[["@a11yText","@entitySize","@images","@imgHeight","@imgWidth"],[[30,2,["name"]],3,[30,2,["image"]],50,50]],null],[1,"\\n"]],[]],[[[1,"      "],[8,[39,4],null,[["@alt","@class","@desiredWidth","@ghostType","@image"],[[30,2,["name"]],[30,2,["imageEntityClass"]],50,[30,2,["vectorImageGhostType"]],[30,2,["image"]]]],null],[1,"\\n"]],[]]],[1,"  "]],[]]]]],[1,"\\n  "],[8,[30,1,["content"]],null,[["@class"],[[29,["share-creation-state__actor-content ",[52,[51,[30,3]],"flex-column"]]]]],[["default"],[[[[1,"\\n    "],[8,[30,1,["title"]],null,[["@altLink"],[false]],[["default"],[[[[1,"\\n"],[41,[30,3],[[[1,"        "],[11,0],[4,[38,6],null,[["when","onSelector"],[[28,[37,7],[[30,4],"ACTOR_TOGGLE"],null],"button"]]],[12],[1,"\\n          "],[8,[39,8],null,[["@goToVisibilityScreen","@stateChangeButton"],[[30,5],[30,2]]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[1,"        "],[1,[30,2,["name"]]],[1,"\\n"]],[]]],[1,"    "]],[]]]]],[1,"\\n    "],[11,0],[4,[38,6],null,[["when","onSelector"],[[28,[37,7],[[30,4],"VISIBILITY_OPTIONS"],null],"button"]]],[12],[1,"\\n      "],[8,[39,8],null,[["@goToVisibilityScreen","@stateChangeButton"],[[30,5],[30,6]]],null],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[1]]]]]],["elements","@currentActor","@showActorToggle","@focusOnActive","@goToVisibilityScreen","@currentVisibility"],false,["artdeco-entity-lockup@artdeco-entity-lockup","if","global-helpers@is-ivm-image","image-view-model@image-view-model","ember-vector-images@lazy-image","unless","global-modifiers@focus","eq","sharing-v2@state-change-button"]]',moduleName:"sharing-v2/components/actor-lockup.hbs",isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(r,(0,n.default)())}))
define.alias("helpcenter-in-product-ember/components/ai-search-discovery","sharing-v2/components/ai-search-discovery")
define.alias("helpcenter-in-product-ember/components/ai-summary","sharing-v2/components/ai-summary")
define.alias("helpcenter-in-product-ember/components/announcement-list-view","sharing-v2/components/announcement-list-view")
define.alias("helpcenter-in-product-ember/components/announcement-view","sharing-v2/components/announcement-view")
define.alias("artdeco-button/components/artdeco-button","sharing-v2/components/artdeco-button")
define.alias("artdeco-datepicker/components/artdeco-calendar","sharing-v2/components/artdeco-calendar")
define.alias("artdeco-card/components/artdeco-card-image","sharing-v2/components/artdeco-card-image")
define.alias("artdeco-card/components/artdeco-card","sharing-v2/components/artdeco-card")
define.alias("artdeco-carousel/components/artdeco-carousel-item","sharing-v2/components/artdeco-carousel-item")
define.alias("artdeco-carousel/components/artdeco-carousel-slider","sharing-v2/components/artdeco-carousel-slider")
define.alias("artdeco-carousel/components/artdeco-carousel-title","sharing-v2/components/artdeco-carousel-title")
define.alias("artdeco-carousel/components/artdeco-carousel","sharing-v2/components/artdeco-carousel")
define.alias("artdeco-completeness-meter-linear/components/artdeco-completeness-meter-linear","sharing-v2/components/artdeco-completeness-meter-linear")
define.alias("artdeco-modal/components/artdeco-confirmation-dialog","sharing-v2/components/artdeco-confirmation-dialog")
define.alias("artdeco-datepicker/components/artdeco-datepicker-embedded-cal","sharing-v2/components/artdeco-datepicker-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-datepicker","sharing-v2/components/artdeco-datepicker")
define.alias("artdeco-datepicker/components/artdeco-daterange-embedded-cal","sharing-v2/components/artdeco-daterange-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-daterange","sharing-v2/components/artdeco-daterange")
define.alias("artdeco-dropdown/components/artdeco-dropdown-content","sharing-v2/components/artdeco-dropdown-content")
define.alias("artdeco-dropdown/components/artdeco-dropdown-header","sharing-v2/components/artdeco-dropdown-header")
define.alias("artdeco-dropdown/components/artdeco-dropdown-item","sharing-v2/components/artdeco-dropdown-item")
define.alias("artdeco-dropdown/components/artdeco-dropdown-trigger","sharing-v2/components/artdeco-dropdown-trigger")
define.alias("artdeco-dropdown/components/artdeco-dropdown","sharing-v2/components/artdeco-dropdown")
define.alias("artdeco-empty-state/components/artdeco-empty-state","sharing-v2/components/artdeco-empty-state")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-badge","sharing-v2/components/artdeco-entity-lockup-badge")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-caption","sharing-v2/components/artdeco-entity-lockup-caption")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-content","sharing-v2/components/artdeco-entity-lockup-content")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-image","sharing-v2/components/artdeco-entity-lockup-image")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-metadata","sharing-v2/components/artdeco-entity-lockup-metadata")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-subtitle","sharing-v2/components/artdeco-entity-lockup-subtitle")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-title","sharing-v2/components/artdeco-entity-lockup-title")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup","sharing-v2/components/artdeco-entity-lockup")
define.alias("artdeco-entity-pile/components/artdeco-entity-pile","sharing-v2/components/artdeco-entity-pile")
define.alias("artdeco-hoverables/components/artdeco-hoverable-content","sharing-v2/components/artdeco-hoverable-content")
define.alias("artdeco-hoverables/components/artdeco-hoverable-trigger","sharing-v2/components/artdeco-hoverable-trigger")
define.alias("artdeco-inline-feedback/components/artdeco-inline-feedback","sharing-v2/components/artdeco-inline-feedback")
define.alias("artdeco-loader/components/artdeco-loader","sharing-v2/components/artdeco-loader")
define.alias("artdeco-modal/components/container","sharing-v2/components/artdeco-modal-container")
define.alias("artdeco-modal/components/artdeco-modal-content","sharing-v2/components/artdeco-modal-content")
define.alias("artdeco-modal/components/artdeco-modal-footer","sharing-v2/components/artdeco-modal-footer")
define.alias("artdeco-modal/components/artdeco-modal-header","sharing-v2/components/artdeco-modal-header")
define.alias("artdeco-modal/components/artdeco-modal","sharing-v2/components/artdeco-modal")
define.alias("artdeco-notification-badge/components/artdeco-notification-badge","sharing-v2/components/artdeco-notification-badge")
define.alias("artdeco-pagination/components/artdeco-pagination-ellipsis","sharing-v2/components/artdeco-pagination-ellipsis")
define.alias("artdeco-pagination/components/artdeco-pagination-indicator","sharing-v2/components/artdeco-pagination-indicator")
define.alias("artdeco-pagination/components/artdeco-pagination","sharing-v2/components/artdeco-pagination")
define.alias("artdeco-pill/components/artdeco-pill-choice-group","sharing-v2/components/artdeco-pill-choice-group")
define.alias("artdeco-pill/components/artdeco-pill-choice","sharing-v2/components/artdeco-pill-choice")
define.alias("artdeco-pill/components/artdeco-pill-dismiss","sharing-v2/components/artdeco-pill-dismiss")
define.alias("artdeco-pill/components/artdeco-pill-input","sharing-v2/components/artdeco-pill-input")
define.alias("artdeco-pill/components/artdeco-pill-link","sharing-v2/components/artdeco-pill-link")
define.alias("artdeco-pill/components/artdeco-pill-toggle","sharing-v2/components/artdeco-pill-toggle")
define.alias("artdeco-slider/components/artdeco-slider","sharing-v2/components/artdeco-slider")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tab","sharing-v2/components/artdeco-spotlight-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tablist","sharing-v2/components/artdeco-spotlight-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tab","sharing-v2/components/artdeco-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tablist","sharing-v2/components/artdeco-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabpanel","sharing-v2/components/artdeco-tabpanel")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabs","sharing-v2/components/artdeco-tabs")
define.alias("artdeco-text-input/components/artdeco-text-input-multi","sharing-v2/components/artdeco-text-input-multi")
define.alias("artdeco-text-input/components/artdeco-text-input-single","sharing-v2/components/artdeco-text-input-single")
define.alias("artdeco-text-input/components/artdeco-text-input","sharing-v2/components/artdeco-text-input")
define.alias("artdeco-toast/components/artdeco-toast-item","sharing-v2/components/artdeco-toast-item")
define.alias("artdeco-toast/components/artdeco-toasts","sharing-v2/components/artdeco-toasts")
define.alias("artdeco-toggle/components/artdeco-toggle","sharing-v2/components/artdeco-toggle")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-input","sharing-v2/components/artdeco-typeahead-input")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-result","sharing-v2/components/artdeco-typeahead-result")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-results-list","sharing-v2/components/artdeco-typeahead-results-list")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead","sharing-v2/components/artdeco-typeahead")
define.alias("helpcenter-in-product-ember/components/article-link","sharing-v2/components/article-link")
define.alias("helpcenter-in-product-ember/components/article-view","sharing-v2/components/article-view")
define.alias("ember-semaphore/components/block-profile","sharing-v2/components/block-profile")
define.alias("ember-semaphore/components/cleared-content-modal-v2","sharing-v2/components/cleared-content-modal-v2")
define.alias("ember-semaphore/components/cleared-content-modal","sharing-v2/components/cleared-content-modal")
define.alias("helpcenter-in-product-ember/components/contextual-help","sharing-v2/components/contextual-help")
define("sharing-v2/components/creation-state-footer",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","@ember/object","sharing-v2/utils/sharing-constants","@glimmer/tracking","sharing-shared/utils/sharing-shared-constants"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,m,b,f,_
const T=(0,s.createTemplateFactory)({id:"tOCDjMrw",block:'[[[10,0],[14,0,"share-creation-state__footer"],[12],[1,"\\n  "],[10,0],[14,0,"share-creation-state__schedule-and-post-container"],[12],[1,"\\n"],[41,[30,1],[[[1,"      "],[10,0],[14,0,"share-creation-state__schedule-clock-btn"],[12],[1,"\\n\\n        "],[8,[39,1],[[4,[38,2],["keyup",[30,3]],null]],[["@disableHoverable"],[[30,2]]],[["default"],[[[[1,"\\n          "],[11,0],[4,[38,3],null,[["when","onSelector"],[[28,[37,4],[[30,5],"MANAGEMENT"],null],"button"]]],[12],[1,"\\n"],[41,[30,6],[[[1,"              "],[8,[39,5],[[24,0,"share-actions__scheduled-post-failure-badge"]],[["@showCount"],[false]],[["default"],[[[[1,"\\n                "],[8,[39,6],[[16,"aria-label",[28,[37,7],["i18n_scheduled_post_btn_a11y_text","sharing-v2/components/creation-state-footer"],null]],[16,"aria-describedby",[29,[[30,4,["ariaId"]]]]],[4,[38,2],["click",[28,[37,8],[[30,8],"DATE_PICKER"],null]],null],[4,[38,9],[[30,0,["schedulePickerControlName"]]],null]],[["@class","@circle","@color","@disabled","@icon","@type"],["share-actions__scheduled-post-btn",true,"muted",[30,7],"clock","tertiary"]],null],[1,"\\n              "]],[]]]]],[1,"\\n"]],[]],[[[1,"              "],[8,[39,6],[[16,"aria-label",[28,[37,7],["i18n_scheduled_post_btn_a11y_text","sharing-v2/components/creation-state-footer"],null]],[16,"aria-describedby",[29,[[30,4,["ariaId"]]]]],[4,[38,2],["click",[28,[37,8],[[30,8],"DATE_PICKER"],null]],null],[4,[38,9],[[30,0,["schedulePickerControlName"]]],null]],[["@class","@circle","@color","@disabled","@icon","@type"],["share-actions__scheduled-post-btn",true,"muted",[30,7],"clock","tertiary"]],null],[1,"\\n"]],[]]],[1,"          "],[13],[1,"\\n          "],[8,[30,4,["artdeco-hoverable-content"]],null,[["@theme","@contentClass"],["inverse","share-creation-state__hoverable-content"]],[["default"],[[[[1,"\\n            "],[1,[28,[35,7],["i18n_a11y_scheduled_post_later_cta","sharing-v2/components/creation-state-footer"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[4]]]]],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"    "],[10,0],[14,0,"share-box_actions"],[12],[1,"\\n      "],[8,[39,6],[[4,[38,2],["click",[30,0,["onPrimaryButtonClick"]]],null],[4,[38,9],[[30,0,["primaryButtonControlName"]]],null]],[["@size","@type","@class","@disabled","@aria-label"],[2,"primary","share-actions__primary-action",[30,9],[52,[30,10],[28,[37,7],["i18n_save","sharing-v2/components/creation-state-footer"],null]]]],[["default"],[[[[1,"\\n"],[41,[30,11],[[[1,"          "],[8,[39,10],null,[["@size"],["xsmall"]],null],[1,"\\n"]],[]],[[[1,"          "],[1,[30,0,["primaryButtonText"]]],[1,"\\n"]],[]]],[1,"      "]],[]]]]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n\\n"],[41,[30,12],[[[1,"    "],[8,[39,6],[[4,[38,2],["click",[30,0,["goBackToScheduledPostList"]]],null]],[["@class","@text","@type","@controlType","@aria-label","@size"],["share-creation-state__schedule-post-cta",[28,[37,7],["i18n_back","sharing-v2/components/creation-state-footer"],null],"secondary","button",[30,0,["backButtonAriaLabel"]],2]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[51,[30,0,["hideCommentControls"]]],[[[1,"    "],[11,0],[4,[38,3],null,[["when","onSelector"],[[28,[37,4],[[30,5],"COMMENT_CONTROLS"],null],"button"]]],[12],[1,"\\n      "],[8,[39,12],null,[["@goToVisibilityScreen","@stateChangeButton"],[[30,0,["goToCommentControlVisibilityScreen"]],[30,13]]],null],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[13],[1,"\\n"],[8,[39,13],null,[["@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@onPrimary","@onSecondary","@onEscape","@testId"],[[30,0,["showUnsupportedScheduleConfirmationDialog"]],[28,[37,7],["i18n_schedule_unsupported_title","sharing-v2/components/creation-state-footer"],null],[28,[37,7],["i18n_schedule_unsupported_content","sharing-v2/components/creation-state-footer"],[["linkInfo"],[[28,[37,14],null,[["target","href","rel"],["_blank","/help/linkedin/answer/a1347212","noopener noreferrer"]]]]]],[28,[37,7],["i18n_schedule_unsupported_clearn_time","sharing-v2/components/creation-state-footer"],null],[28,[37,7],["i18n_schedule_unsupported_cancel","sharing-v2/components/creation-state-footer"],null],[30,0,["clearSchedule"]],[30,0,["hideUnsupportedScheduleConfirmationDialog"]],[30,0,["hideUnsupportedScheduleConfirmationDialog"]],"unsupported-schedule-dialog"]],null]],["@showScheduleClockBtn","@writingAssistantIsOpen","@removeFocus","trigger","@focusOnActive","@shouldShowScheduledPostAlert","@isWritingAssistantRequestInProgress","@goToPostManager","@primaryButtonDisabled","@isInEditMode","@isPostRequestPending","@isEditingAScheduledPost","@currentCommentRestriction"],false,["if","artdeco-hoverables@artdeco-hoverable-trigger","on","global-modifiers@focus","eq","artdeco-notification-badge@artdeco-notification-badge","artdeco-button@artdeco-button","t","fn","ember-cli-pemberly-tracking@track-interaction","artdeco-loader@artdeco-loader","unless","sharing-v2@state-change-button","artdeco-modal@artdeco-confirmation-dialog","hash"]]',moduleName:"sharing-v2/components/creation-state-footer.hbs",isStrictMode:!1}),y="i18n_save",S="i18n_post",E="i18n_schedule"
let v=e.default=(g=(f=new WeakSet,_=new WeakSet,class extends l.default{constructor(){super(...arguments)
_.add(this)
f.add(this);(0,t.default)(this,"i18n",m,this);(0,i.default)(this,"controlInteractionEvents",u.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,t.default)(this,"showUnsupportedScheduleConfirmationDialog",b,this)}get isScheduling(){return!!this.args.scheduledDate&&!!this.args.canBeScheduled}get primaryButtonControlName(){const{SAVE_BTN:e,POST_BTN:t,SCHEDULE_BTN:i,SCHEDULE_BTN_V2:n}=u.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS
return this.args.isInEditMode?e:this.isScheduling?this.args.isPhoenixUIEnabled?n:i:t}get primaryButtonText(){return this.args.isInEditMode?this.i18n.lookupTranslation("components/sharing-v2@creation-state-footer",y)():this.isScheduling?this.i18n.lookupTranslation("components/sharing-v2@creation-state-footer",E)():this.args.customPrimaryButtonText?this.args.customPrimaryButtonText:this.i18n.lookupTranslation("components/sharing-v2@creation-state-footer",S)()}get schedulePickerControlName(){return this.args.isPhoenixUIEnabled?this.controlInteractionEvents.SCHEDULE_PICKER_OPEN_V2:this.controlInteractionEvents.SCHEDULE_PICKER_OPEN}get hideCommentControls(){return this.args.currentVisibility.type===p.VALID_VISIBILITY_TYPES.SELECT_VISIBILITY||this.args.isPhoenixUIEnabled}get backButtonAriaLabel(){return this.args.shouldReturnToArticleManagementList?this.i18n.lookupTranslation("components/sharing-v2@creation-state-footer","i18n_article_back_btn_aria_label")():this.i18n.lookupTranslation("components/sharing-v2@creation-state-footer","i18n_back_btn_aria_label")()}clearSchedule(){this.args.onScheduleSelected(null)
this.hideUnsupportedScheduleConfirmationDialog()}goToCommentControlVisibilityScreen(){this.args.goToVisibilityScreen(u.VISIBILITY_SCREEN.COMMENT_CONTROLS)}goBackToScheduledPostList(){this.args.shouldReturnToArticleManagementList?(0,n.default)(this,_,C).call(this):(0,n.default)(this,f,I).call(this)}hideUnsupportedScheduleConfirmationDialog(){this.showUnsupportedScheduleConfirmationDialog=!1}onPrimaryButtonClick(){if(!this.args.primaryButtonDisabled){var e,t
if(this.args.scheduledDate&&!this.args.canBeScheduled){this.showUnsupportedScheduleConfirmationDialog=!0
return}null===(e=(t=this.args).publishPost)||void 0===e||e.call(t)}}}),m=(0,r.default)(g.prototype,"i18n",[d.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,r.default)(g.prototype,"showUnsupportedScheduleConfirmationDialog",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(g.prototype,"clearSchedule",[c.action],Object.getOwnPropertyDescriptor(g.prototype,"clearSchedule"),g.prototype),(0,r.default)(g.prototype,"goToCommentControlVisibilityScreen",[c.action],Object.getOwnPropertyDescriptor(g.prototype,"goToCommentControlVisibilityScreen"),g.prototype),(0,r.default)(g.prototype,"goBackToScheduledPostList",[c.action],Object.getOwnPropertyDescriptor(g.prototype,"goBackToScheduledPostList"),g.prototype),(0,r.default)(g.prototype,"hideUnsupportedScheduleConfirmationDialog",[c.action],Object.getOwnPropertyDescriptor(g.prototype,"hideUnsupportedScheduleConfirmationDialog"),g.prototype),(0,r.default)(g.prototype,"onPrimaryButtonClick",[c.action],Object.getOwnPropertyDescriptor(g.prototype,"onPrimaryButtonClick"),g.prototype),g)
function I(){this.args.showDraftDialogForScheduledPosts((()=>this.args.goToPostManager("POST_LIST")))}function C(){this.args.onNavigateBackToArticleManagement()}(0,o.setComponentTemplate)(T,v)}))
define("sharing-v2/components/creation-state",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/service","@ember/destroyable","@ember/object","@ember/utils","global-utils/utils/api-compat","global-utils/utils/urn-converter","global-utils/utils/url","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants","sharing-v2/utils/sharing-utils","global-utils/utils/a11y-focus-element","detour-framework/utils/partner-detour-buttons","detour-framework/utils/detour-buttons","scaffold-layout/services/reflow","ember-lifeline","writing-assistant/utils/writing-assistant-constants","global-utils/utils/keyboard-utils"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g,m,b,f,_,T,y,S,E,v,I,C,A){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var O,D,P,N,R,w,k,M,x,L,V,U,B,H,F,z,G,j,W,Y,K,q,X,Q,Z,$,J,ee,te,ie,ne,re,ae,oe,se,le,de,ce,ue
const he=(0,s.createTemplateFactory)({id:"RubdvgvG",block:'[[[11,0],[24,0,"relative"],[4,[38,0],null,[["onDropCallback"],[[30,1]]]],[4,[38,1],["paste",[30,2]],null],[12],[1,"\\n"],[41,[28,[37,3],[[28,[37,4],[[30,3],[30,4]],null]],null],[[[1,"    "],[8,[39,5],null,null,null],[1,"\\n"]],[]],null],[1,"  "],[11,0],[16,0,[29,["share-creation-state\\n      ",[52,[30,5],"share-creation-state__share-box-v2"],"\\n      ",[52,[30,6],"share-creation-state__share-box-v2--redesigned-detours"]]]],[17,7],[4,[38,6],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,7],[[53,"outletState"],"render.name"],null],[28,[37,7],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[41,[30,8],[[[1,"      "],[8,[39,9],null,[["@disableFocusOnHeader","@headerType","@titleText"],[true,[30,9],[28,[37,10],["i18n_create_a_post","sharing-v2/components/creation-state"],null]]],null],[1,"\\n"]],[]],null],[1,"    "],[10,0],[15,0,[29,["share-creation-state__content-scrollable\\n        ",[52,[30,0,["showWAFeedbackCard"]],"share-creation-state__content-scrollable--flex-grow-zero"]]]],[12],[1,"\\n"],[41,[51,[30,6]],[[[1,"        "],[8,[39,12],null,[["@focusOnActive","@currentActor","@showActorToggle","@goToVisibilityScreen","@currentVisibility"],[[30,10],[30,11],[30,12],[30,13],[30,14]]],null],[1,"\\n"]],[]],null],[41,[30,0,["showRenderModelInlineCallout"]],[[[1,"        "],[8,[39,13],null,[["@model","@controlName","@impressionPagekey"],[[30,15],[30,0,["controlInteractionEvents","POST_TO_GROUP_START_VERIFICATION"]],[30,0,["pageviewEvents","POST_TO_GROUP_VERIFICATION_CALLOUT"]]]],null],[1,"\\n"]],[]],null],[41,[30,0,["showStickyVisibilityInlineCallout"]],[[[1,"        "],[8,[39,14],null,[["@visibilityType"],[[30,14,["type"]]]],null],[1,"\\n"]],[]],null],[41,[28,[37,15],[[30,16],[30,17]],null],[[[1,"        "],[10,0],[14,0,"share-creation-state__schedule-info-container t-14"],[12],[1,"\\n          "],[8,[39,16],[[24,0,"share-creation-state__schedule-info-icon"]],[["@name","@size","@type"],[[30,14,["iconName"]],"small","system"]],null],[1,"\\n          "],[1,[28,[35,10],["i18n_schedule_info_text","sharing-v2/components/creation-state"],[["scheduledWeekDay","scheduledDate","scheduledTime"],[[28,[37,17],[[30,16]],[["format","useTimeZone"],["fmt_d_medium",true]]],[28,[37,17],[[30,16]],[["format","useTimeZone"],["fmt_md_medium",true]]],[28,[37,18],[[30,16]],[["format","useTimeZone"],["fmt_hm",true]]]]]]],[1,"\\n          "],[8,[39,19],[[4,[38,1],["click",[28,[37,20],[[30,19],"DATE_PICKER"],null]],null],[4,[38,21],[[30,0,["controlInteractionEvents","SCHEDULE_EDIT_OPEN"]]],null]],[["@disabled","@size","@text","@type"],[[30,18],1,[28,[37,10],["i18n_edit_schedule","sharing-v2/components/creation-state"],null],"tertiary"]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[41,[30,20],[[[1,"        "],[10,0],[14,0,"share-creation-state__schedule-info-container t-14"],[12],[1,"\\n          "],[1,[28,[35,10],["i18n_post_now_text","sharing-v2/components/creation-state"],null]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[41,[30,21],[[[1,"        "],[10,0],[14,0,"share-creation-state__deferred-loader"],[12],[1,"\\n          "],[8,[39,22],null,[["@cancelHandler"],[[30,0,["deferredLoaderCancelHandler"]]]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"      "],[11,0],[16,0,[52,[28,[37,4],[[30,22],[30,21]],null],"hidden",""]],[4,[38,23],null,[["onSelector","when"],[[30,0,["quillEditorSelector"]],[30,0,["focusOnTexteditor"]]]]],[12],[1,"\\n        "],[8,[39,24],[[16,0,[29,["share-creation-state__text-editor\\n            ",[52,[30,6],"share-creation-state__text-editor-redesigned"],"\\n            ",[52,[30,4],"share-creation-state__text-editor--with-attachment"],"\\n            ",[52,[30,0,["showWAFeedbackCard"]],"share-creation-state__text-editor--no-bottom-spacing"],"\\n            "]]]],[["@controlName","@cursorRange","@firstTextChangeHandler","@groupIdForMentionsTypeahead","@initialContent","@onFoundUrl","@prependEntityUrns","@placeholder","@scrollableContainerSelector","@setFocusEditorHandler","@setInsertContentHandler","@setResetEditorHandler","@shouldFocusOnRender","@textChangeHandler","@toastAlternativeNoticeHandler","@trackableRootObject"],[[30,0,["controlInteractionEvents","ADD_COMMENTARY"]],[30,23],[30,24],[30,0,["groupIdForMentionsTypeahead"]],[30,25],[30,26],[52,[30,27,["metadata","shareUrn"]],[28,[37,25],[[30,27,["metadata","shareUrn"]]],null]],[30,28],".share-creation-state__content-scrollable",[30,0,["setFocusEditorHandler"]],[30,0,["setInsertContentHandler"]],[30,0,["setResetEditorHandler"]],[30,29],[30,0,["textChangeHandler"]],[30,0,["feedbackManager","addFeedbackItem"]],[30,0,["trackableRootObject"]]]],null],[1,"\\n      "],[13],[1,"\\n"],[41,[30,0,["showCustomInlineCallout"]],[[[1,"        "],[8,[39,14],null,[["@controlName","@header","@content"],[[30,30,["controlName"]],[30,30,["header"]],[30,30,["content"]]]],null],[1,"\\n"]],[]],null],[41,[28,[37,15],[[30,31],[30,22]],null],[[[1,"        "],[11,0],[24,0,"share-creation-state__writing-assistant"],[4,[38,26],null,null],[12],[1,"\\n          "],[8,[39,27],null,[["@apiRequestCancelHandler","@cancelHandler","@dashNonMemberActorUrn","@errorHandler","@improveWithAiQuery","@initInvalidAiInputErrorMessage","@initInvalidQuery","@inProgressHandler","@successHandler","@trackingUrn"],[[30,0,["writingAssistantCancelCallback"]],[30,0,["closeWritingAssistant"]],[52,[30,11,["isNonMemberActor"]],[30,11,["dashUrn"]]],[30,32],[30,0,["improveWithAiQueryText"]],[30,33],[30,34],[30,35],[30,0,["writingAssistantSuccessCallback"]],[30,36]]],null],[1,"\\n        "],[13],[1,"\\n\\n"]],[]],null],[41,[30,37],[[[1,"        "],[10,0],[15,0,[29,["share-creation-state__preview-container\\n            ",[52,[30,0,["isRedesignedExperienceDisabled"]],"share-creation-state__preview-container--narrow"],"\\n            "]]],[12],[1,"\\n          "],[10,0],[14,0,"display-flex"],[12],[1,"\\n            "],[10,0],[14,0,"share-creation-state__preview-container-controls"],[12],[1,"\\n"],[41,[30,38],[[[1,"                "],[8,[39,19],[[16,"aria-label",[28,[37,10],["i18n_edit_media_preview","sharing-v2/components/creation-state"],null]],[4,[38,1],["click",[30,39]],null],[4,[38,21],[[30,40]],null]],[["@circle","@class","@color","@icon","@size","@type"],[true,"share-creation-state__preview-container-btn","muted","edit","1","primary"]],null],[1,"\\n"]],[]],null],[41,[30,41],[[[1,"                "],[8,[39,19],[[4,[38,1],["click",[30,0,["onDetourPreviewRemoval"]]],null],[4,[38,21],[[30,42]],null]],[["@type","@circle","@class","@color","@icon","@size"],["primary",true,"share-creation-state__preview-container-btn","muted","close","1"]],[["default"],[[[[1,"\\n                  "],[10,1],[14,0,"visually-hidden"],[12],[1,[28,[35,10],["i18n_remove_media_a11y","sharing-v2/components/creation-state"],null]],[13],[1,"\\n                "]],[]]]]],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n          "],[13],[1,"\\n"],[1,"          "],[8,[39,28],[[16,0,[28,[37,29],["share-creation-state__preview-container--as-box feed-shared-update-v2--minimal-padding",[52,[30,43]," share-creation-state__preview-container--has-error"]],null]]],[["@disableContentDisplayed","@disableFocusableEntityElements","@hasContentCredentials","@isDashEnabled","@isEditingShare","@isPreviewMode","@onEditShareMedia","@stretchContentToEdge","@shouldHideRepost","@showContentOnly","@update"],[false,[30,44],[30,0,["hasContentCredentials"]],[28,[37,30],[[30,27,["metadata"]]],null],[30,0,["isInEditMode"]],true,[30,45],true,[30,0,["shouldHideRepost"]],[30,0,["showContentOnlyInPreviewedUpdate"]],[30,27]]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n"],[41,[30,0,["showWAFeedbackCard"]],[[[1,"      "],[8,[39,31],null,[["@improveWithAiQuery","@onFeedbackCardClose","@feedbackCardView","@onFeedbackCardUndo","@onFeedbackCardAction","@gaiContentUrn","@customClass"],[[30,46],[30,47],[30,48],[30,0,["undoAiDraftHandler"]],[30,49],[30,50],"share-creation-state__feedback-card"]],null],[1,"\\n"]],[]],null],[1,"    "],[10,0],[15,0,[29,["share-creation-state__bottom\\n        ",[52,[51,[30,0,["showWAFeedbackCard"]]],"share-creation-state__bottom--margin"]]]],[12],[1,"\\n"],[41,[30,0,["shouldShowAdditionalToolbarInEditorContainer"]],[[[41,[28,[37,3],[[30,22]],null],[[[1,"          "],[10,0],[14,0,"share-creation-state__additional-toolbar"],[12],[1,"\\n"],[41,[30,51],[[[1,"              "],[8,[39,32],null,[["@message","@type","@isIconHidden"],[[30,33],"note",false]],null],[1,"\\n"]],[]],[[[1,"\\n              "],[8,[39,33],null,[["@bundle"],["emoji-picker"]],[["default"],[[[[1,"\\n"],[41,[30,52,["state","fulfilled"]],[[[1,"                  "],[8,[39,34],null,[["@disabled","@doNotFocusTrigger","@size","@handleEmojiSelect","@hoverableIdPrefix","@placement","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses","@triggerData"],[[30,22],true,2,[30,0,["onEmojiSelected"]],"share_creation_state_emoji",[30,53],"share_creation_state.close_emoji_picker","share_creation_state.open_emoji_picker","share_creation_state.select_emoji","share_creation_state.select_searched_emoji","share_creation_state__emoji-picker-trigger",[30,0,["triggerData"]]]],null],[1,"\\n\\n"]],[]],[[[1,"                  "],[8,[39,19],null,[["@type","@circle","@color","@icon","@disabled"],["tertiary",true,"muted","emoji",true]],null],[1,"\\n"]],[]]],[1,"              "]],[52]]]]],[1,"\\n\\n              "],[10,0],[14,0,"share-creation-state__msg-wrapper"],[12],[1,"\\n"],[41,[30,0,["feedbackManager","feedbackItemToRender"]],[[[1,"                  "],[8,[39,35],null,[["@feedbackManager"],[[30,0,["feedbackManager"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["showGuider"]],[[[1,"                  "],[8,[39,36],null,[["@guiderManager","@onInsertText","@openDetour"],[[30,54],[30,0,["onInsertText"]],[30,55]]],null],[1,"\\n                "]],[]],null]],[]]],[1,"              "],[13],[1,"\\n"]],[]]],[1,"          "],[13],[1,"\\n"],[41,[28,[37,4],[[30,31],[30,56]],null],[[[41,[30,0,["showWritingAssistantOnboardingTooltip"]],[[[1,"              "],[8,[39,37],null,[["@customClasses","@horizontalPosition","@close","@verticalPosition"],["share-creation-state__wa-ai-tooltip-with-attachment share-creation-state__wa-ai-premium-tooltip","left",[30,0,["premiumTooltipDismissButtonHandler"]],"bottom"]],[["default"],[[[[1,"\\n                "],[10,0],[14,0,"share-creation-state__wa-ai-tooltip-content text-body-small"],[12],[1,"\\n                  "],[10,1],[15,0,[29,["hue-web-color-scheme--",[30,0,["theme"]]]]],[12],[1,"\\n                    "],[8,[39,16],null,[["@a11yText","@type","@size","@name"],[[28,[37,10],["i18n_premium_feature","sharing-v2/components/creation-state"],null],"logo","xxxsmall","premium-badge"]],null],[1,"\\n                  "],[13],[1,"\\n                  "],[10,2],[14,0,"share-creation-state__wa-ai-premium-tooltip-text"],[12],[1,[28,[35,10],["i18n_ai_premium_tooltip","sharing-v2/components/creation-state"],null]],[13],[1,"\\n                "],[13],[1,"\\n              "]],[]]]]],[1,"\\n"]],[]],null],[41,[30,0,["showPremiumUpsellTooltip"]],[[[1,"              "],[8,[39,38],[[4,[38,23],null,[["when","onSelector"],[[30,0,["focusOnPremiumUpsellTooltip"]],"a"]]],[4,[38,6],null,[["pageKey","routeName","currentRoute"],["flagship3_feed_share_premium_upsell",[28,[37,7],[[53,"outletState"],"render.name"],null],[28,[37,7],[[53,"outletState"],"render"],null]]]],[4,[38,1],["click",[30,58]],[["capture"],[true]]],[4,[38,1],["keyup",[30,0,["onUpsellTooltipKeyUpHandler"]]],null]],[["@defaultConfig","@onDismissClick","@redirectQueryParams","@upsellCard","@upsellStyles"],[[28,[37,39],null,[["contextUrn","dismissButtonSize"],[[52,[30,11,["isNonMemberActor"]],[30,11,["dashUrn"]]],1]]],[30,0,["onUpsellTooltipDismissClick"]],"shareActive=true",[30,57],[28,[37,39],null,[["upsellWrapperClass"],["share-creation-state__wa-ai-premium-upsell share-creation-state__wa-ai-tooltip-with-attachment"]]]]],null],[1,"\\n"]],[]],null],[1,"            "],[10,0],[14,0,"share-creation-state__wa-toolbar"],[12],[1,"\\n"],[41,[30,31],[[[1,"                "],[10,0],[14,0,"display-flex align-items-center"],[12],[1,"\\n                  "],[8,[39,19],[[4,[38,1],["click",[30,0,["improveWithAiPremiumHandler"]]],null],[4,[38,21],[[30,0,["writingAssistantControlInteractionEvent"]]],null]],[["@type","@color","@class","@disabled","@size"],["secondary","muted","share-creation-state__writing-assistant-premium-button",[30,59],1]],[["default"],[[[[1,"\\n                    "],[10,1],[14,0,"display-flex align-items-center text-body-medium-bold"],[12],[1,"\\n                      "],[8,[39,16],[[24,0,"share-creation-state__writing-assistant-premium-button-icon"]],[["@type","@size","@name"],["system","small","signal-ai"]],null],[1,"\\n                      "],[1,[28,[35,10],["i18n_write_with_ai","sharing-v2/components/creation-state"],null]],[1,"\\n                    "],[13],[1,"\\n                  "]],[]]]]],[1,"\\n"],[41,[30,59],[[[1,"                    "],[8,[39,40],null,[["@inputQueryWordCount","@minInputWordsRequired","@shouldOnlyShowCount","@class"],[[30,60],[30,61],true,"share-creation-state__writing-assistant-premium-min-word-count"]],null],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n"]],[]],[[[41,[30,56],[[[1,"                "],[8,[39,19],[[4,[38,1],["click",[30,0,["onUpsellTriggerClick"]]],null],[4,[38,21],[[30,0,["controlInteractionEvents","AI_UPSELL_BTN"]]],null],[4,[38,23],null,[["when"],[[30,0,["focusOnAiUpsellButton"]]]]]],[["@type","@color","@class","@size"],["secondary","muted","share-creation-state__writing-assistant-premium-button",1]],[["default"],[[[[1,"\\n                  "],[10,1],[14,0,"display-flex align-items-center text-body-medium-bold"],[12],[1,"\\n                    "],[8,[39,16],[[24,0,"share-creation-state__writing-assistant-premium-button-icon"]],[["@type","@size","@name"],["system","small","signal-ai"]],null],[1,"\\n                    "],[1,[28,[35,10],["i18n_write_with_ai","sharing-v2/components/creation-state"],null]],[1,"\\n                  "],[13],[1,"\\n                "]],[]]]]],[1,"\\n              "]],[]],null]],[]]],[1,"            "],[13],[1,"\\n"]],[]],null]],[]],null]],[]],null],[41,[28,[37,15],[[30,6],[28,[37,3],[[30,0,["isInEditMode"]]],null]],null],[[[1,"        "],[10,0],[15,0,[52,[30,22],"hidden",""]],[12],[1,"\\n"],[41,[28,[37,3],[[30,0,["disableDetourButtons"]]],null],[[[1,"            "],[10,0],[14,0,"share-creation-state__promoted-detour-btn-container"],[12],[1,"\\n              "],[8,[39,41],[[4,[38,42],[[28,[37,43],["clientWidth",[30,0,["handleReflow"]]],null]],null]],[["@carouselItems","@currentSlideIndex","@hidePagination","@hidePrevNextBtns","@loop","@pageSize","@prevDataControlName","@nextDataControlName","@cardWidth","@hidePrevNextBtnText"],[[30,0,["carouselItemSize"]],[30,0,["currentDetourSlideIndex"]],true,[30,0,["hideCarouselNavButtons"]],[30,0,["loopSlides"]],[52,[30,0,["isScreenWidthSmall"]],[27],[30,0,["pageSizeWithIcons"]]],[30,0,["controlInteractionEvents","DETOUR_OPTIONS_SCROLL_LEFT"]],[30,0,["controlInteractionEvents","DETOUR_OPTIONS_SCROLL_RIGHT"]],[30,0,["cardWidth"]],true]],[["default"],[[[[1,"\\n                "],[8,[30,62,["title"]],null,[["@class"],["flex-grow-1"]],[["default"],[[[[1,"\\n"],[1,"                  "],[10,0],[14,0,"share-creation-state__additional-toolbar share-creation-state__additional-toolbar--no-padding"],[12],[1,"\\n"],[41,[30,51],[[[1,"                      "],[8,[39,16],[[24,0,"share-creation-state__writing-assistant-error-msg--icon"]],[["@name","@size","@type"],["signal-caution","small","system"]],null],[1,"\\n                      "],[10,1],[14,0,"share-creation-state__writing-assistant-error-msg--text"],[12],[1,[30,33]],[13],[1,"\\n"]],[]],[[[1,"                      "],[8,[39,33],null,[["@bundle"],["emoji-picker"]],[["default"],[[[[1,"\\n"],[41,[30,63,["state","fulfilled"]],[[[1,"                          "],[8,[39,34],null,[["@disabled","@doNotFocusTrigger","@size","@handleEmojiSelect","@hoverableIdPrefix","@placement","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses","@triggerData"],[[30,22],true,2,[30,0,["onEmojiSelected"]],"share_creation_state_emoji",[30,53],"share_creation_state.close_emoji_picker","share_creation_state.open_emoji_picker","share_creation_state.select_emoji","share_creation_state.select_searched_emoji","share_creation_state__emoji-picker-trigger",[30,0,["triggerData"]]]],null],[1,"\\n"]],[]],[[[1,"                          "],[8,[39,19],null,[["@type","@circle","@color","@icon","@disabled"],["tertiary",true,"muted","emoji",true]],null],[1,"\\n"]],[]]],[1,"                      "]],[63]]]]],[1,"\\n                      "],[10,0],[14,0,"share-creation-state__msg-wrapper"],[12],[1,"\\n"],[41,[30,0,["feedbackManager","feedbackItemToRender"]],[[[1,"                          "],[8,[39,35],null,[["@feedbackManager"],[[30,0,["feedbackManager"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["showGuider"]],[[[1,"                          "],[8,[39,36],null,[["@guiderManager","@onInsertText","@openDetour"],[[30,54],[30,0,["onInsertText"]],[30,55]]],null],[1,"\\n                        "]],[]],null]],[]]],[1,"                      "],[13],[1,"\\n"]],[]]],[1,"                  "],[13],[1,"\\n"],[41,[30,0,["showWritingAssistantOnboardingTooltip"]],[[[1,"                    "],[8,[39,37],null,[["@customClasses","@horizontalPosition","@close","@verticalPosition"],["share-creation-state__wa-ai-premium-tooltip","left",[30,0,["premiumTooltipDismissButtonHandler"]],"bottom"]],[["default"],[[[[1,"\\n                      "],[10,0],[14,0,"share-creation-state__wa-ai-tooltip-content text-body-small"],[12],[1,"\\n                        "],[10,1],[15,0,[29,["hue-web-color-scheme--",[30,0,["theme"]]]]],[12],[1,"\\n                          "],[8,[39,16],null,[["@a11yText","@type","@size","@name"],[[28,[37,10],["i18n_premium_feature","sharing-v2/components/creation-state"],null],"logo","xxxsmall","premium-badge"]],null],[1,"\\n                        "],[13],[1,"\\n                        "],[10,2],[14,0,"share-creation-state__wa-ai-premium-tooltip-text"],[12],[1,[28,[35,10],["i18n_ai_premium_tooltip","sharing-v2/components/creation-state"],null]],[13],[1,"\\n                      "],[13],[1,"\\n                    "]],[]]]]],[1,"\\n"]],[]],null],[41,[30,0,["showPremiumUpsellTooltip"]],[[[1,"                    "],[8,[39,38],[[4,[38,23],null,[["when","onSelector"],[[30,0,["focusOnPremiumUpsellTooltip"]],"a"]]],[4,[38,6],null,[["pageKey","routeName","currentRoute"],["flagship3_feed_share_premium_upsell",[28,[37,7],[[53,"outletState"],"render.name"],null],[28,[37,7],[[53,"outletState"],"render"],null]]]],[4,[38,1],["click",[30,58]],[["capture"],[true]]],[4,[38,1],["keyup",[30,0,["onUpsellTooltipKeyUpHandler"]]],null]],[["@defaultConfig","@onDismissClick","@redirectQueryParams","@upsellCard","@upsellStyles"],[[28,[37,39],null,[["contextUrn","dismissButtonSize"],[[52,[30,11,["isNonMemberActor"]],[30,11,["dashUrn"]]],1]]],[30,0,["onUpsellTooltipDismissClick"]],"shareActive=true",[30,57],[28,[37,39],null,[["upsellWrapperClass","customAnchorClass"],["share-creation-state__wa-ai-premium-upsell","share-creation-state__upsell-link"]]]]],null],[1,"\\n"]],[]],null],[1,"                "]],[]]]]],[1,"\\n                "],[8,[30,62,["slider"]],null,null,[["default"],[[[[1,"\\n"],[41,[28,[37,15],[[30,31],[30,6]],null],[[[1,"                    "],[8,[30,62,["item"]],[[16,0,[29,["share-creation-state__promoted-detour-button-item share-creation-state__writing-assistant-container--premium\\n                        ",[52,[28,[37,15],[[30,31],[30,59]],null],"share-creation-state__writing-assistant-container--premium-with-min-words"]]]]],null,[["default"],[[[[1,"\\n"],[41,[30,31],[[[1,"                        "],[10,0],[14,0,"display-flex align-items-center"],[12],[1,"\\n                          "],[8,[39,19],[[4,[38,1],["click",[30,0,["improveWithAiPremiumHandler"]]],null],[4,[38,21],[[30,0,["writingAssistantControlInteractionEvent"]]],null]],[["@type","@color","@class","@disabled","@size"],["secondary","muted","share-creation-state__writing-assistant-premium-button",[30,59],1]],[["default"],[[[[1,"\\n                            "],[10,1],[14,0,"display-flex align-items-center text-body-medium-bold"],[12],[1,"\\n                              "],[8,[39,16],[[24,0,"share-creation-state__writing-assistant-premium-button-icon"]],[["@type","@size","@name"],["system","small","signal-ai"]],null],[1,"\\n                              "],[1,[28,[35,10],["i18n_write_with_ai","sharing-v2/components/creation-state"],null]],[1,"\\n                            "],[13],[1,"\\n                          "]],[]]]]],[1,"\\n"],[41,[30,59],[[[1,"                            "],[8,[39,40],null,[["@inputQueryWordCount","@minInputWordsRequired","@shouldOnlyShowCount","@class"],[[30,60],[30,61],true,"share-creation-state__writing-assistant-premium-min-word-count"]],null],[1,"\\n"]],[]],null],[1,"                        "],[13],[1,"\\n"]],[]],null],[1,"                    "]],[]]]]],[1,"\\n"]],[]],[[[41,[30,56],[[[1,"                    "],[8,[30,62,["item"]],[[24,0,"share-creation-state__promoted-detour-button-item share-creation-state__writing-assistant-container--premium"]],null,[["default"],[[[[1,"\\n                      "],[10,0],[14,0,"display-flex align-items-center"],[12],[1,"\\n                        "],[8,[39,19],[[4,[38,1],["click",[30,0,["onUpsellTriggerClick"]]],null],[4,[38,21],[[30,0,["controlInteractionEvents","AI_UPSELL_BTN"]]],null],[4,[38,23],null,[["when"],[[30,0,["focusOnAiUpsellButton"]]]]]],[["@type","@color","@class","@size"],["secondary","muted","share-creation-state__writing-assistant-premium-button",1]],[["default"],[[[[1,"\\n                          "],[10,1],[14,0,"display-flex align-items-center text-body-medium-bold"],[12],[1,"\\n                            "],[8,[39,16],[[24,0,"share-creation-state__writing-assistant-premium-button-icon"]],[["@type","@size","@name"],["system","small","signal-ai"]],null],[1,"\\n                            "],[1,[28,[35,10],["i18n_write_with_ai","sharing-v2/components/creation-state"],null]],[1,"\\n                          "],[13],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n                    "]],[]]]]],[1,"\\n                  "]],[]],null]],[]]],[42,[28,[37,45],[[28,[37,45],[[30,0,["toolbarDetours"]]],null]],null],null,[[[1,"                    "],[8,[30,62,["item"]],[[24,0,"share-creation-state__promoted-detour-button-item share-creation-state__promoted-detour-button-item-premium"]],null,[["default"],[[[[1,"\\n                      "],[11,0],[4,[38,23],null,[["when","onSelector"],[[28,[37,46],[[30,10],[30,64,["dataTestName"]]],null],"button"]]],[12],[1,"\\n                        "],[8,[39,47],null,[["@clickHandler","@dataTestName","@disabled","@hoverText","@text","@order","@toolbarControlName","@iconName"],[[28,[37,20],[[30,55],[30,64]],null],[30,64,["dataTestName"]],[30,22],[28,[37,10],[[30,64,["i18nLabelKey"]],"sharing-v2/components/creation-state"],null],[28,[37,10],[[30,64,["i18nShortLabelKey"]],"sharing-v2/components/creation-state"],null],[29,["neutral-",[28,[37,48],[[30,65],1],null]]],[30,64,["toolbarControlName"]],[30,64,["iconName"]]]],null],[1,"\\n                      "],[13],[1,"\\n                    "]],[]]]]],[1,"\\n"]],[64,65]],null],[41,[30,66],[[[42,[28,[37,45],[[28,[37,45],[[30,0,["extendedToolbarDetours"]]],null]],null],null,[[[1,"                      "],[8,[30,62,["item"]],[[24,0,"share-creation-state__promoted-detour-button-item share-creation-state__promoted-detour-button-item-premium"]],null,[["default"],[[[[1,"\\n                        "],[11,0],[4,[38,23],null,[["when","onSelector"],[[28,[37,46],[[30,10],[30,67,["dataTestName"]]],null],"button"]]],[12],[1,"\\n                          "],[8,[39,47],null,[["@clickHandler","@dataTestName","@disabled","@text","@hoverText","@order","@toolbarControlName","@iconName"],[[28,[37,20],[[30,55],[30,67]],null],[30,67,["dataTestName"]],[30,22],[28,[37,10],[[30,67,["i18nShortLabelKey"]],"sharing-v2/components/creation-state"],null],[28,[37,10],[[30,67,["i18nLabelKey"]],"sharing-v2/components/creation-state"],null],[29,["neutral-",[28,[37,48],[[30,68],1],null]]],[30,67,["toolbarControlName"]],[30,67,["iconName"]]]],null],[1,"\\n                        "],[13],[1,"\\n                      "]],[]]]]],[1,"\\n"]],[67,68]],null]],[]],[[[41,[28,[37,49],[[30,0,["extendedToolbarDetours","length"]],0],null],[[[1,"                    "],[8,[30,62,["item"]],[[24,0,"share-creation-state__promoted-detour-button-item share-creation-state__promoted-detour-button-item-premium"]],null,[["default"],[[[[1,"\\n                      "],[8,[39,47],null,[["@clickHandler","@dataTestName","@disabled","@text","@hoverText","@order","@toolbarControlName","@iconName"],[[28,[37,20],[[30,69],[30,0,["extendedToolbarDetours"]]],null],"more-detour-btn",[30,22],[28,[37,10],["i18n_more_detours_label","sharing-v2/components/creation-state"],null],[28,[37,10],["i18n_more_detours_label","sharing-v2/components/creation-state"],null],"neutral-more",[30,0,["controlInteractionEvents","DETOUR_OPTIONS_VIEW_ALL"]],"add"]],null],[1,"\\n                    "]],[]]]]],[1,"\\n                  "]],[]],null]],[]]],[1,"                "]],[]]]]],[1,"\\n              "]],[62]]]]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n"]],[]],null],[41,[30,0,["showCreationStateFooter"]],[[[41,[30,6],[[[1,"          "],[10,"hr"],[14,0,"artdeco-divider share-creation-state__redesigned-footer-divider"],[12],[13],[1,"\\n"]],[]],null],[1,"        "],[8,[39,50],null,[["@canBeScheduled","@closeSharebox","@currentActor","@currentCommentRestriction","@currentVisibility","@customPrimaryButtonText","@focusOnActive","@goToPostManager","@goToVisibilityScreen","@isEditingAScheduledPost","@isInEditMode","@isPhoenixUIEnabled","@isPostRequestPending","@isWritingAssistantRequestInProgress","@onScheduleSelected","@primaryButtonDisabled","@publishPost","@removeFocus","@scheduledDate","@shouldReturnToArticleManagementList","@shouldShowScheduledPostAlert","@showDraftDialogForScheduledPosts","@showScheduleClockBtn","@writingAssistantIsOpen","@onNavigateBackToArticleManagement"],[[30,17],[30,70],[30,11],[30,71],[30,14],[30,72],[30,10],[30,19],[30,13],[30,73],[30,0,["isInEditMode"]],[30,6],[30,74],[28,[37,4],[[30,18],[30,21]],null],[30,75],[30,0,["primaryButtonDisabled"]],[30,76],[30,0,["removeFocus"]],[30,16],[30,77],[30,78],[30,79],[28,[37,15],[[30,6],[30,80]],null],[30,22],[30,81]]],null],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],["@dragAndDropCallback","@pasteEventHandler","@detourData","@shareboxHasAttachment","@isModalSharebox","@isPhoenixUIEnabled","&attrs","@showInlineHeader","@headerType","@focusOnActive","@currentActor","@showActorToggle","@goToVisibilityScreen","@currentVisibility","@inlineCalloutModel","@scheduledDate","@canBeScheduled","@isWritingAssistantRequestInProgress","@goToPostManager","@scheduledPostNowEnabled","@showDeferredAiTextLoader","@writingAssistantIsOpen","@cursorRange","@firstTextChangeHandler","@shareContentsData","@onFoundUrl","@previewedUpdateV2","@textInputI18nPlaceholderText","@autoFocusTexteditor","@inlineCalloutConfig","@isWritingAssistantEnabled","@onWritingAssistantError","@invalidAiInputErrorMessage","@invalidAiInputQuery","@writingAssistantRequestInProgressHandler","@shareBoxSessionUrn","@isShowingDetourPreview","@showDetourPreviewEditButton","@editDetour","@detourPreviewEditControlInteractionEventName","@showDetourPreviewRemoveButton","@detourPreviewRemoveControlInteractionEventName","@showDetourPreviewError","@disableFocusableEntityElements","@onEditShareMedia","@improveWithAiQuery","@onWAFeedbackCardCloseAction","@waFeedbackCardView","@onWAFeedbackCardAction","@gaiContentUrn","@showWritingAssistantErrorMessage","assetLoader","@emojiHoverablePlacement","@guiderManager","@openDetour","@isPremiumUpsellExperienceEnabled","@upsellCardData","@onUpsellContainerClickHandler","@isAiInputQueryTooShort","@aiInputQueryWordCount","@waMinInputWordsRequired","carousel","assetLoader","detourToolbarButton","index","@isExtendedDetoursVisible","detourToolbarButton","index","@showExtendedDetours","@closeSharebox","@currentCommentRestriction","@customPrimaryButtonText","@isEditingAScheduledPost","@isPostRequestPending","@onScheduleSelected","@publishPost","@shouldReturnToArticleManagementList","@shouldShowScheduledPostAlert","@showDraftDialogForScheduledPosts","@isScheduledPostsEnabled","@onNavigateBackToArticleManagement"],false,["media-modifiers@drag-and-drop","on","if","global-helpers@not","global-helpers@or","media-modifiers@drag-and-drop-dropzone","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","detour-framework@title-bar","t","unless","sharing-v2@actor-lockup","sharing-v2@render-model-inline-callout","sharing-v2@share-box-inline-callout","global-helpers@and","hue-web-icons@icon","ember-cli-pemberly-i18n@format-date","ember-cli-pemberly-i18n@format-time","artdeco-button@artdeco-button","fn","ember-cli-pemberly-tracking@track-interaction","writing-assistant@loader","global-modifiers@focus","participate-text-editor-loader@text-editor-loader","array","global-modifiers@scroll-into-view","writing-assistant@writing-assistant","update-components@mini-update-v2","concat","global-helpers@is-present","writing-assistant@feedback-card-v2","artdeco-inline-feedback@artdeco-inline-feedback","asset-loader@deferred-asset-loader","emoji-picker@emoji-hoverable","sharing-v2@feedback-manager-ui","sharing-v2@guider/guider-bar","ui@inline-tooltip","s-upsell@upsell-templates-v2/upsell-template-container-v2","hash","writing-assistant@min-words-count","artdeco-carousel@artdeco-carousel","global-modifiers@on-resize-window","global-helpers@pick","each","-track-array","eq","sharing-v2@promoted-detour-button","global-helpers@sum","global-helpers@gt","sharing-v2@creation-state-footer"]]',moduleName:"sharing-v2/components/creation-state.hbs",isStrictMode:!1})
let pe=e.default=(O=(0,c.inject)("sharing-v2@feedback-manager"),D=(0,c.inject)("sharing-shared@sharebox-interop"),P=(0,c.inject)("lix"),N=(0,c.inject)("locale"),R=(0,c.inject)("global-services@theme"),w=(0,c.inject)("tracking"),k=(0,c.inject)("lego@resolver"),M=(0,c.inject)("lego@tracking"),x=(0,c.inject)("global-services@window"),L=(0,c.inject)("scaffold-layout@reflow"),V=(ae=new WeakSet,oe=new WeakSet,se=new WeakSet,le=new WeakSet,de=new WeakSet,ce=new WeakSet,ue=new WeakSet,class extends l.default{get cardWidth(){if(this.isScreenWidthSmall)return"64px"}get carouselItemSize(){return this.args.isExtendedDetoursVisible?this.toolbarDetours.length+this.extendedToolbarDetours.length:4}get currentCharCount(){var e,t
return null===(e=this.args.shareContentsData)||void 0===e||null===(t=e.text)||void 0===t?void 0:t.length}get detours(){var e,t,i,n
const r=(0,E.getPromotedDetourButtons)(this.args.isWritingAssistantEnabled?S.PROMOTED_DETOUR_BUTTONS_V2:S.PROMOTED_DETOUR_BUTTONS,this.lix,this.locale,null===(e=this.args.currentActor)||void 0===e?void 0:e.actorType,null===(t=this.args.currentVisibility)||void 0===t?void 0:t.type),a=(0,E.getPromotedDetourButtons)(this.args.isWritingAssistantEnabled?S.PROMOTED_EXTENDED_DETOUR_BUTTONS_V2:S.PROMOTED_EXTENDED_DETOUR_BUTTONS,this.lix,this.locale,null===(i=this.args.currentActor)||void 0===i?void 0:i.actorType,null===(n=this.args.currentVisibility)||void 0===n?void 0:n.type)
if(this.args.isWritingAssistantEnabled){if(0===r.length){const e=a.shift()
e&&r.push(e)}}else if(r.length<3){for(let e=3-r.length;e>0;e--){const e=a.shift()
e&&r.push(e)}}return{promoted:r,extended:a}}get detourButtonPrefix(){return this.args.isWritingAssistantEnabled?"neutral":"promoted"}get detourPreviewStatusDataLink(){var e
return null===(e=this.args.detourPreviewStatusData)||void 0===e?void 0:e.link}get disableDetourButtons(){return this.isInEditMode||this.args.shareboxHasAttachment||this.args.broadcastContentAttached||this.args.showDeferredAiTextLoader}get exceededMaxCharLimitError(){var e
return!(null===(e=this.args.shareContentsData)||void 0===e||!e.exceedsMaxCharLimit)}get exceededMaxMentionsError(){var e
return null===(e=this.args.shareContentsData)||void 0===e?void 0:e.exceedsMaxMentions}get extendedToolbarDetours(){return this.detours.extended}get groupIdForMentionsTypeahead(){var e
if(this.args.groupId)return this.args.groupId
const t=null===(e=this.args.currentVisibility)||void 0===e?void 0:e.containerEntity
return(0,p.isPresent)(t)&&(0,n.default)(this,oe,me).call(this,t)?(0,g.entityUrnToId)(t):null}get hideCarouselNavButtons(){if(this.shareboxInteropService.isShareboxRenderedInsideInteropRoute)return!0
const{clientWidth:e}=this.reflow
return!this.args.isExtendedDetoursVisible||e>480}get improveWithAiQueryText(){var e
return null===(e=this.args.improveWithAiQuery)||void 0===e?void 0:e.text}get isInEditMode(){return this.args.shareType===_.SHARE_TYPES.EDIT}get isRedesignedExperienceDisabled(){return!this.args.isPhoenixUIEnabled}get isScreenWidthSmall(){const{clientWidth:e}=this.reflow
return this.isScreenWidthSmallCached||e<v.REFLOW_BREAKPOINTS.md.maxWidth}get pageKey(){return this.isInEditMode?f.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.EDIT:this.args.shareType===_.SHARE_TYPES.REPOST?f.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.REPOST:this.args.shareType===_.SHARE_TYPES.DRAFT?f.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.DRAFT:this.args.isPhoenixUIEnabled?f.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.SHARE_V2:f.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.SHARE}get primaryButtonDisabled(){var e
return!this.args.shareboxHasValidContent||this.args.isPostRequestPending||this.exceededMaxCharLimitError||this.exceededMaxMentionsError||this.isInEditMode&&!this.args.editedShareHasChanged||(null===(e=this.args.currentVisibility)||void 0===e?void 0:e.type)===_.VALID_VISIBILITY_TYPES.SELECT_VISIBILITY||this.args.isWritingAssistantRequestInProgress||this.args.showDeferredAiTextLoader||this.args.isPostButtonDisabled}get shouldHideRepost(){var e
return!this.isInEditMode&&(null===(e=this.args.previewedUpdateV2)||void 0===e?void 0:e.resharedUpdate)}get shouldShowAdditionalToolbarInEditorContainer(){return!this.args.isPhoenixUIEnabled||this.args.shareboxHasAttachment||this.isInEditMode}get showContentOnlyInPreviewedUpdate(){return this.isInEditMode}get showCreationStateFooter(){return!this.args.hideCreationStateFooter}get showGuider(){return!this.isInEditMode&&!this.args.isWritingAssistantEnabled&&!this.args.isPremiumUpsellExperienceEnabled}get showPremiumUpsellTooltip(){return this.args.isPremiumUpsellExperienceEnabled&&this.upsellPremiumTooltipEnabled}get showRenderModelInlineCallout(){var e
const t=null===(e=this.args.currentVisibility)||void 0===e?void 0:e.containerEntity
return this.args.inlineCalloutModel&&(0,p.isPresent)(t)&&(0,n.default)(this,oe,me).call(this,t)}get showCustomInlineCallout(){var e
return!this.showRenderModelInlineCallout&&!(null===(e=this.args.inlineCalloutConfig)||void 0===e||!e.content)}get showStickyVisibilityInlineCallout(){return!this.showRenderModelInlineCallout&&!this.showCustomInlineCallout&&this.args.usingStickyVisibility&&this.isStickyVisibilityInlineCalloutEnabled}get showWAFeedbackCard(){return!(this.args.waFeedbackCardView===C.FEEDBACK_CARD_VIEW.CLOSED)}get showWritingAssistantOnboardingTooltip(){return!this.args.hasInteractedWithWritingAssistant&&this.writingAssistantOnboardingCalloutEnabled}get theme(){return{dark:"light",light:"dark"}[this.themeService.theme]}get toolbarDetours(){return this.detours.promoted}get trackableRootObject(){var e,t,i,n,r,a
return{associatedEntityUrn:null===(e=this.args.updateV2)||void 0===e?void 0:e.entityUrn,controlType:"share",objectUrn:null===(t=this.args.updateV2)||void 0===t||null===(i=t.metadata)||void 0===i?void 0:i.shareUrn,trackingId:null===(n=this.args.updateV2)||void 0===n||null===(r=n.metadata)||void 0===r||null===(a=r.trackingData)||void 0===a?void 0:a.trackingId}}get triggerData(){return{insertEmojiCallback:(0,n.default)(this,se,be).bind(this)}}constructor(){var e,r
super(...arguments)
ue.add(this)
ce.add(this)
de.add(this)
le.add(this)
se.add(this)
oe.add(this)
ae.add(this);(0,t.default)(this,"feedbackManager",U,this);(0,t.default)(this,"shareboxInteropService",B,this);(0,t.default)(this,"lix",H,this);(0,t.default)(this,"locale",F,this);(0,t.default)(this,"themeService",z,this);(0,t.default)(this,"tracking",G,this);(0,t.default)(this,"legoResolver",j,this);(0,t.default)(this,"legoTracking",W,this);(0,t.default)(this,"windowService",Y,this);(0,t.default)(this,"reflow",K,this);(0,i.default)(this,"beKindToken","share.prompt_beKindLearnMore");(0,i.default)(this,"controlInteractionEvents",f.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"pageviewEvents",f.SHAREBOX_TRACKING.PAGEVIEW_EVENTS);(0,i.default)(this,"quillEditorSelector",".ql-editor");(0,i.default)(this,"isScreenWidthSmallCached",!1);(0,t.default)(this,"currentDetourSlideIndex",q,this);(0,t.default)(this,"focusOnAiUpsellButton",X,this);(0,t.default)(this,"focusOnPremiumUpsellTooltip",Q,this);(0,t.default)(this,"focusOnTexteditor",Z,this);(0,t.default)(this,"isStickyVisibilityInlineCalloutEnabled",$,this);(0,t.default)(this,"loopSlides",J,this);(0,t.default)(this,"pageSizeWithCards",ee,this);(0,t.default)(this,"pageSizeWithIcons",te,this);(0,t.default)(this,"upsellPremiumTooltipEnabled",ie,this);(0,t.default)(this,"writingAssistantOnboardingCalloutEnabled",ne,this);(0,t.default)(this,"writingAssistantTooltipLegoToken",re,this)
null===(e=(r=this.args).updateModalConfig)||void 0===e||e.call(r,{modalHeader:this.args.initialHeader,controlName:this.controlInteractionEvents.UNFOCUS_SHAREBOX,shouldFocusOnHeader:!1})
this.args.isWritingAssistantEnabled&&!this.args.hasInteractedWithWritingAssistant&&(0,n.default)(this,ce,Te).call(this)
this.args.usingStickyVisibility&&this._checkInlineStickyVisibilityLegoStatus();(0,n.default)(this,de,_e).call(this)
this.args.deferredAiPrefilledTextConfig&&(0,n.default)(this,ae,ge).call(this)
this.feedbackManager.setShareContentsData(this.args.shareContentsData)}get hasContentCredentials(){var e,t
const i=null===(e=this.args.detourData)||void 0===e||null===(t=e.mediaFiles)||void 0===t?void 0:t[0],n=null==i?void 0:i.fileState
return(null==n?void 0:n.containsC2PA)&&!(null!=n&&n.isModified)}get writingAssistantControlInteractionEvent(){var e
return null!==(e=this.args.currentActor)&&void 0!==e&&e.isNonMemberActor?f.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.ORGANIZATION_AI_TOOLBAR_BTN:f.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.AI_TOOLBAR_BTN}_checkInlineStickyVisibilityLegoStatus(){this.args.currentVisibility.type!==_.VALID_VISIBILITY_TYPES.CONNECTIONS&&this.args.currentVisibility.type!==_.VALID_VISIBILITY_TYPES.CONTAINER||(0,T.fireLegoRequestHelper)(this.legoResolver,{pageKey:"feed_share",slotId:"sticky_visibility_inline_callout",groupId:"sticky_visibility_inline_callout",widgetId:"sharing:_show_sticky_visibility_inline_callout"},(e=>this._updateStickyVisibilityInlineCalloutLego(null==e?void 0:e.trackingToken)))}_updateStickyVisibilityInlineCalloutLego(e){this.isStickyVisibilityInlineCalloutEnabled=!0
this.legoTracking.sendLegoImpression(e,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}_updateWritingAssistantOnboardingLegoStatus(e){this.writingAssistantOnboardingCalloutEnabled=!0
this.legoTracking.sendLegoImpression(e,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}closeWritingAssistant(){this.args.closeWritingAssistant()
this.args.shareContentsData.hasText?(0,I.runTask)(this,(()=>{this.focusEditor()})):this.focusOnTexteditor=!0}deferredLoaderCancelHandler(){var e
null===(e=this.args.deferredAiPrefilledTextConfig)||void 0===e||e.cancelHandler()}handleReflow(){const{clientWidth:e}=this.reflow
!this.isScreenWidthSmallCached&&e<v.REFLOW_BREAKPOINTS.md.maxWidth&&(this.isScreenWidthSmallCached=!0);(0,n.default)(this,de,_e).call(this)}improveWithAiPremiumHandler(){var e,t
this.showWritingAssistantOnboardingTooltip&&(0,n.default)(this,ue,ye).call(this,this.legoTracking.LEGO_ACTION_PRIMARY)
null===(e=(t=this.args).improveWithAiHandler)||void 0===e||e.call(t)}onDetourPreviewErrorClick(e){this.windowService.open(e,"_blank")}onDetourPreviewRemoval(){this.focusOnTexteditor=!0
this.args.removeDetourPreview()}focusEditor(){var e
null===(e=this.focusEditorCallback)||void 0===e||e.call(this)}onEmojiSelected(e){let{body:t,triggerData:i}=e
i.insertEmojiCallback(t);(0,y.default)(this,".ql-editor")}onInsertText(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,n.default)(this,se,be).call(this,e,t)}openCommunityPolicies(e){this.tracking.fireInteractionEvent(e,"SHORT_PRESS")
this.windowService.open(`${(0,b.getDomainUrl)()}/legal/professional-community-policies`,"_blank")}removeFocus(e){this.args.removeFocus&&this.args.removeFocus(e)}setInsertContentHandler(e){this.insertContentCallback=e}setResetEditorHandler(e){this.resetEditorCallback=e}setFocusEditorHandler(e){this.focusEditorCallback=e}textChangeHandler(){if(this.args.isPhoenixUIEnabled){(0,n.default)(this,de,_e).call(this)
this.args.textChangeHandler&&this.args.textChangeHandler(...arguments)}this.args.updateShareViewModel(...arguments)}premiumTooltipDismissButtonHandler(){var e,t;(0,n.default)(this,ue,ye).call(this,this.legoTracking.LEGO_ACTION_DISMISS)
null===(e=(t=this.args).tookWritingAssistantAction)||void 0===e||e.call(t)}writingAssistantSuccessCallback(e,t){this.closeWritingAssistant();(0,I.runTask)(this,(()=>{var i
null===(i=this.resetEditorCallback)||void 0===i||i.call(this)
this.onInsertText(e,!1)
this.args.updateAiGeneratedData(e,t)}))
this.args.showWAFeedbackCard()}writingAssistantCancelCallback(){this.args.gaiContentUrn&&this.args.showWAFeedbackCard()
this.focusOnTexteditor=!0}undoAiDraftHandler(){var e,t,i
null===(e=this.resetEditorCallback)||void 0===e||e.call(this);(0,n.default)(this,le,fe).call(this,this.args.improveWithAiQuery.text,this.args.improveWithAiQuery.mentions)
null===(t=(i=this.args).undoAiDraftHandler)||void 0===t||t.call(i)}onUpsellTriggerClick(){this.upsellPremiumTooltipEnabled=!0
this.focusOnPremiumUpsellTooltip=!0}onUpsellTooltipDismissClick(){this.tracking.fireInteractionEvent(this.controlInteractionEvents.AI_UPSELL_DISMISS,"SHORT_PRESS")
this.upsellPremiumTooltipEnabled=!1
this.focusOnAiUpsellButton=!0}onUpsellTooltipKeyUpHandler(e){if((0,A.isEscapeKey)(e)){e.stopPropagation()
this.onUpsellTooltipDismissClick()}}}),U=(0,r.default)(V.prototype,"feedbackManager",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,r.default)(V.prototype,"shareboxInteropService",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,r.default)(V.prototype,"lix",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,r.default)(V.prototype,"locale",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,r.default)(V.prototype,"themeService",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,r.default)(V.prototype,"tracking",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,r.default)(V.prototype,"legoResolver",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,r.default)(V.prototype,"legoTracking",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,r.default)(V.prototype,"windowService",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,r.default)(V.prototype,"reflow",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,r.default)(V.prototype,"currentDetourSlideIndex",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=(0,r.default)(V.prototype,"focusOnAiUpsellButton",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=(0,r.default)(V.prototype,"focusOnPremiumUpsellTooltip",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=(0,r.default)(V.prototype,"focusOnTexteditor",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$=(0,r.default)(V.prototype,"isStickyVisibilityInlineCalloutEnabled",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=(0,r.default)(V.prototype,"loopSlides",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ee=(0,r.default)(V.prototype,"pageSizeWithCards",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),te=(0,r.default)(V.prototype,"pageSizeWithIcons",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),ie=(0,r.default)(V.prototype,"upsellPremiumTooltipEnabled",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ne=(0,r.default)(V.prototype,"writingAssistantOnboardingCalloutEnabled",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),re=(0,r.default)(V.prototype,"writingAssistantTooltipLegoToken",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,r.default)(V.prototype,"closeWritingAssistant",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"closeWritingAssistant"),V.prototype),(0,r.default)(V.prototype,"deferredLoaderCancelHandler",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"deferredLoaderCancelHandler"),V.prototype),(0,r.default)(V.prototype,"handleReflow",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"handleReflow"),V.prototype),(0,r.default)(V.prototype,"improveWithAiPremiumHandler",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"improveWithAiPremiumHandler"),V.prototype),(0,r.default)(V.prototype,"onDetourPreviewErrorClick",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"onDetourPreviewErrorClick"),V.prototype),(0,r.default)(V.prototype,"onDetourPreviewRemoval",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"onDetourPreviewRemoval"),V.prototype),(0,r.default)(V.prototype,"focusEditor",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"focusEditor"),V.prototype),(0,r.default)(V.prototype,"onEmojiSelected",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"onEmojiSelected"),V.prototype),(0,r.default)(V.prototype,"onInsertText",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"onInsertText"),V.prototype),(0,r.default)(V.prototype,"openCommunityPolicies",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"openCommunityPolicies"),V.prototype),(0,r.default)(V.prototype,"removeFocus",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"removeFocus"),V.prototype),(0,r.default)(V.prototype,"setInsertContentHandler",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"setInsertContentHandler"),V.prototype),(0,r.default)(V.prototype,"setResetEditorHandler",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"setResetEditorHandler"),V.prototype),(0,r.default)(V.prototype,"setFocusEditorHandler",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"setFocusEditorHandler"),V.prototype),(0,r.default)(V.prototype,"textChangeHandler",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"textChangeHandler"),V.prototype),(0,r.default)(V.prototype,"premiumTooltipDismissButtonHandler",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"premiumTooltipDismissButtonHandler"),V.prototype),(0,r.default)(V.prototype,"writingAssistantSuccessCallback",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"writingAssistantSuccessCallback"),V.prototype),(0,r.default)(V.prototype,"writingAssistantCancelCallback",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"writingAssistantCancelCallback"),V.prototype),(0,r.default)(V.prototype,"undoAiDraftHandler",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"undoAiDraftHandler"),V.prototype),(0,r.default)(V.prototype,"onUpsellTriggerClick",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"onUpsellTriggerClick"),V.prototype),(0,r.default)(V.prototype,"onUpsellTooltipDismissClick",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"onUpsellTooltipDismissClick"),V.prototype),(0,r.default)(V.prototype,"onUpsellTooltipKeyUpHandler",[h.action],Object.getOwnPropertyDescriptor(V.prototype,"onUpsellTooltipKeyUpHandler"),V.prototype),V)
function ge(){this.args.aiDataPromise.then((e=>{let{commentary:t,gaiContentUrn:i}=e
this.isDestroying||this.writingAssistantSuccessCallback(t.text,i)})).catch((e=>{if((0,u.isDestroying)(this))throw e}))}function me(e){const t=(0,m.fromUrn)(e,!1).type
return!("group"!==t&&"fsd_group"!==t)}function be(e){var t
let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]
null===(t=this.insertContentCallback)||void 0===t||t.call(this,{text:e},i)}function fe(e,t){var i
null===(i=this.insertContentCallback)||void 0===i||i.call(this,{text:e,mentions:t},!1)}function _e(){this.currentDetourSlideIndex=0
this.loopSlides=!0;(0,I.runTask)(this,(()=>{this.loopSlides=!1}),1)}function Te(){(0,T.fireLegoRequestHelper)(this.legoResolver,{pageKey:"feed_share",slotId:"writing_assistant_onboarding",groupId:"writing_assistant_onboarding",widgetId:"sharing:writing_assistant_onboarding_premium"},(e=>{this.writingAssistantTooltipLegoToken=null==e?void 0:e.trackingToken
this._updateWritingAssistantOnboardingLegoStatus(null==e?void 0:e.trackingToken)}))}function ye(e){if(this.writingAssistantTooltipLegoToken){var t
null===(t=this.legoTracking)||void 0===t||t.sendLegoAction(this.writingAssistantTooltipLegoToken,e,1)}}(0,o.setComponentTemplate)(he,pe)}))
define.alias("ember-vector-images/components/custom-image","sharing-v2/components/custom-image")
define("sharing-v2/components/detour-toolbar",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","sharing-v2/utils/sharing-constants","global-nav-shared/utils/reflow-breakpoints","detour-framework/utils/detour-buttons","detour-framework/utils/partner-detour-buttons","@glimmer/tracking"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,m,b,f,_,T
const y=(0,o.createTemplateFactory)({id:"KTX/pwVM",block:'[[[10,0],[15,0,[29,["share-creation-state__detour-btn-container ",[30,1]]]],[12],[1,"\\n"],[41,[30,0,["showDetourToolbar"]],[[[42,[28,[37,2],[[28,[37,2],[[30,0,["toolbarDetours"]]],null]],null],null,[[[1,"      "],[8,[39,3],[[4,[38,4],["keyup",[30,4]],null]],[["@disableHoverable"],[[30,0,["disableFooterDetourButtonTooltips"]]]],[["default"],[[[[1,"\\n        "],[8,[39,5],[[16,"aria-describedby",[29,[[30,5,["ariaId"]]]]],[4,[38,4],["click",[28,[37,7],[[30,7],[30,2]],null]],null],[4,[38,8],[[30,2,["toolbarControlName"]]],null]],[["@circle","@color","@disabled","@icon","@text","@type"],[true,"muted",[30,6],[30,2,["iconName"]],[28,[37,6],[[30,2,["i18nLabelKey"]],"sharing-v2/components/detour-toolbar"],null],"tertiary"]],null],[1,"\\n\\n        "],[8,[30,5,["artdeco-hoverable-content"]],null,[["@theme","@contentClass"],["inverse","share-creation-state__hoverable-content"]],[["default"],[[[[1,"\\n"],[1,"          "],[10,0],[12],[1,"\\n            "],[1,[28,[35,6],[[30,2,["i18nLabelKey"]],"sharing-v2/components/detour-toolbar"],null]],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[5]]]]],[1,"\\n"]],[2,3]],null],[1,"\\n"]],[]],null],[13]],["@classNames","detourToolbarButton","index","@removeFocus","trigger","@disableDetourButtons","@openDetour"],false,["if","each","-track-array","artdeco-hoverables@artdeco-hoverable-trigger","on","artdeco-button@artdeco-button","t","fn","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"sharing-v2/components/detour-toolbar.hbs",isStrictMode:!1})
let S=e.default=(g=(0,l.inject)("scaffold-layout@reflow"),m=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"lix",b,this);(0,t.default)(this,"locale",f,this);(0,t.default)(this,"reflow",_,this);(0,i.default)(this,"controlInteractionEvents",d.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,t.default)(this,"showUnsupportedScheduleConfirmationDialog",T,this)}get disableFooterDetourButtonTooltips(){return!this.args.showChooserMenuTrigger||this.args.disableDetourButtons}get showDetourToolbar(){const e=this.reflow.clientWidth
return 0===e||e>=c.REFLOW_BREAKPOINTS.XS}get toolbarDetours(){var e,t
let i=h.REGISTERED_EXTENDED_TOOLBAR_DETOUR_BUTTONS
this.args.isScheduledPostsEnabled&&(i=h.REGISTERED_EXTENDED_TOOLBAR_DETOUR_BUTTONS.slice(0,4))
return(0,u.getDetourButtons)(i,this.lix,this.locale,null===(e=this.args.currentActor)||void 0===e?void 0:e.actorType,null===(t=this.args.currentVisibility)||void 0===t?void 0:t.type)}},b=(0,n.default)(m.prototype,"lix",[l.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,n.default)(m.prototype,"locale",[l.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,n.default)(m.prototype,"reflow",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,n.default)(m.prototype,"showUnsupportedScheduleConfirmationDialog",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m);(0,a.setComponentTemplate)(y,S)}))
define("sharing-v2/components/draggable-object-target",["exports","ember-drag-drop/components/draggable-object-target"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=t.default}))
define("sharing-v2/components/draggable-object",["exports","ember-drag-drop/components/draggable-object"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=t.default}))
define.alias("ember-cloud-filepicker/components/dropbox-file-picker","sharing-v2/components/dropbox-file-picker")
define.alias("ember-semaphore/components/ember-semaphore","sharing-v2/components/ember-semaphore")
define.alias("ember-wormhole/components/ember-wormhole","sharing-v2/components/ember-wormhole")
define.alias("helpcenter-in-product-ember/components/external-link","sharing-v2/components/external-link")
define.alias("helpcenter-in-product-ember/components/feature-launcher","sharing-v2/components/feature-launcher")
define("sharing-v2/components/feedback-manager-ui",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,i.createTemplateFactory)({id:"uRJfVRHl",block:'[[[10,0],[12],[1,"\\n"],[44,[[30,1,["feedbackItemToRender"]]],[[[41,[30,2],[[[1,"      "],[11,1],[16,0,[29,["share-feedback-manager-ui__container\\n          ",[52,[30,1,["hideFeedbackItemForAnnimation"]],"share-feedback-manager-ui__animate-close"]]]],[4,[38,2],["animationend",[30,1,["onAnimationEnd"]]],null],[12],[1,"\\n        "],[8,[39,3],null,[["@message","@isHidden","@linkText","@onClick","@type","@isIconHidden"],[[30,2,["feedbackMsgText"]],[30,0,["hideFeedbackItemForAnnimation"]],[52,[30,1,["isClickable"]],[30,2,["feedbackLinkText"]]],[52,[30,1,["isClickable"]],[30,1,["onItemClick"]]],[30,1,["feedbackTypeToArtdecoType"]],[30,1,["isDetourPreviewLoadingIsRendered"]]]],null],[1,"\\n"],[41,[30,1,["isCharCountErrorRendered"]],[[[1,"          "],[10,1],[14,0,"share-feedback-manager-ui__char-count"],[12],[1,"\\n            "],[1,[28,[35,4],["i18n_current_char_count","sharing-v2/components/feedback-manager-ui"],[["numChars"],[[30,1,["shareContentsData","charCountOverLimit"]]]]]],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n"]],[]],null]],[2]]],[13]],["@feedbackManager","item"],false,["let","if","on","artdeco-inline-feedback@artdeco-inline-feedback","t"]]',moduleName:"sharing-v2/components/feedback-manager-ui.hbs",isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(r,(0,n.default)())}))
define.alias("ember-cloud-filepicker/components/file-picker","sharing-v2/components/file-picker")
define.alias("ember-finite-scroll/components/finite-scroll","sharing-v2/components/finite-scroll")
define.alias("ember-semaphore/components/gen-ai-feedback","sharing-v2/components/gen-ai-feedback")
define.alias("ember-cloud-filepicker/components/google-drive-file-picker","sharing-v2/components/google-drive-file-picker")
define("sharing-v2/components/guider/guider-bar",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","detour-framework/utils/partner-detour-buttons"],(function(e,t,i,n,r,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var s
const l=(0,n.createTemplateFactory)({id:"v9+5Sv7k",block:'[[[10,0],[14,0,"full-width display-flex"],[12],[1,"\\n"],[41,[30,1,["headerPrompt","name"]],[[[1,"    "],[10,0],[14,0,"share-guider-prompt__button share-box__guider-prompt--fade-in"],[12],[1,"\\n      "],[10,0],[14,0,"share-guider-prompt__button"],[12],[1,"\\n        "],[8,[39,1],null,[["@prompt","@onPromptClick"],[[30,1,["headerPrompt"]],[30,0,["onPromptClick"]]]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[41,[30,1,["prompts","length"]],[[[1,"    "],[8,[39,2],null,[["@onSlideTransitionComplete","@onPromptClick","@prompts"],[[30,0,["onSlideTransitionComplete"]],[30,0,["onPromptClick"]],[30,1,["prompts"]]]],null],[1,"\\n"]],[]],null],[13]],["@guiderManager"],false,["if","sharing-v2@guider/guider-prompt","sharing-v2@guider/guider-carousel"]]',moduleName:"sharing-v2/components/guider/guider-bar.hbs",isStrictMode:!1})
let d=e.default=(s=class extends r.default{onPromptClick(e,t){e.textToInsert?this.args.onInsertText(e.textToInsert):e.editText?this.args.onInsertText(e.editText,!1):e.detourType&&o.SHAREBOX_DETOUR_BUTTON_MAP_BY_TYPE[e.detourType]&&this.args.openDetour(o.SHAREBOX_DETOUR_BUTTON_MAP_BY_TYPE[e.detourType])
this.args.guiderManager.handleGuiderPromptClickTracking(e,t)}onSlideTransitionComplete(){this.args.guiderManager.handleCarouselImpressionTracking()}},(0,t.default)(s.prototype,"onPromptClick",[a.action],Object.getOwnPropertyDescriptor(s.prototype,"onPromptClick"),s.prototype),(0,t.default)(s.prototype,"onSlideTransitionComplete",[a.action],Object.getOwnPropertyDescriptor(s.prototype,"onSlideTransitionComplete"),s.prototype),s);(0,i.setComponentTemplate)(l,d)}))
define("sharing-v2/components/guider/guider-carousel",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","ember","@glimmer/tracking","@ember/debug","@ember/object","ember-batcher","sharing-v2/utils/sharing-constants"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,m,b,f
const _=(0,o.createTemplateFactory)({id:"yWqTYQQ9",block:'[[[11,0],[24,0,"share-guider-custom-carousel-prompt"],[17,1],[12],[1,"\\n"],[41,[30,0,["showScrollLeft"]],[[[1,"    "],[8,[39,1],[[4,[38,2],["click",[28,[37,3],[[30,0,["scrollHandler"]],"LEFT"],null]],null],[4,[38,4],[[30,0,["scrollTrackingEvent"]]],null]],[["@class","@color","@type"],["share-guider-custom-carousel-prompt__left-scroll-btn","default","tertiary"]],[["default"],[[[[1,"\\n\\n      "],[8,[39,5],null,[["@a11yText","@type","@size","@name"],[[28,[37,6],["i18n_scroll_guider_carousel_left","sharing-v2/components/guider/guider-carousel"],null],"system","small","chevron-left"]],null],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n  "],[11,"ul"],[24,0,"share-guider-custom-carousel-prompt__container relative list-style-none display-flex justify-flex-start align-items-center full-width overflow-hidden"],[4,[38,7],[[30,0,["setScrollingElement"]]],null],[4,[38,8],[[30,0,["updateOverflowButtons"]],[30,2]],null],[12],[1,"\\n"],[42,[28,[37,10],[[28,[37,10],[[30,2]],null]],null],null,[[[1,"      "],[10,"li"],[15,0,[29,["share-guider-custom-carousel-prompt__slide flex-shrink-zero\\n          ",[52,[28,[37,11],[[30,4],0],null],"share-guider-custom-carousel-prompt__first-slide "]]]],[15,"data-index",[30,4]],[12],[1,"\\n        "],[8,[39,12],null,[["@prompt","@onPromptClick"],[[30,3],[28,[37,3],[[30,5],[30,3],[30,4]],null]]],null],[1,"\\n      "],[13],[1,"\\n"]],[3,4]],null],[1,"  "],[13],[1,"\\n\\n"],[41,[30,0,["showScrollRight"]],[[[1,"    "],[8,[39,1],[[4,[38,2],["click",[28,[37,3],[[30,0,["scrollHandler"]],"RIGHT"],null]],null],[4,[38,4],[[30,0,["scrollTrackingEvent"]]],null]],[["@class","@color","@type"],["share-guider-custom-carousel-prompt__right-scroll-btn","default","tertiary"]],[["default"],[[[[1,"\\n\\n      "],[8,[39,5],null,[["@a11yText","@type","@size","@name"],[[28,[37,6],["i18n_scroll_guider_carousel_right","sharing-v2/components/guider/guider-carousel"],null],"system","small","chevron-right"]],null],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],null],[13]],["&attrs","@prompts","prompt","index","@onPromptClick"],false,["if","artdeco-button@artdeco-button","on","fn","ember-cli-pemberly-tracking@track-interaction","hue-web-icons@icon","t","did-insert","did-update","each","-track-array","global-helpers@neq","sharing-v2@guider/guider-prompt"]]',moduleName:"sharing-v2/components/guider/guider-carousel.hbs",isStrictMode:!1})
let T=e.default=(g=class extends s.default{constructor(){super(...arguments);(0,i.default)(this,"scrollTrackingEvent",p.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.SHOW_MORE_HASHTAGS);(0,t.default)(this,"showScrollRight",m,this);(0,t.default)(this,"showScrollLeft",b,this);(0,t.default)(this,"scrollingElement",f,this)
const{onPromptClick:e}=this.args}_updateOverflowButtons(){var e,t,i
const n=null===(e=this.scrollingElement)||void 0===e?void 0:e.scrollLeft,r=null===(t=this.scrollingElement)||void 0===t?void 0:t.scrollWidth,a=null===(i=this.scrollingElement)||void 0===i?void 0:i.clientWidth
if(r<a){this.showScrollLeft=!1
this.showScrollRight=!1
return}const o=n>0,s=n<r-a
if(o&&!s){var d,c
null===(d=(c=this.args).onSlideTransitionComplete)||void 0===d||d.call(c)}this.showScrollLeft=o
this.showScrollRight=s
if(l.default.testing){this.showScrollLeft=!0
this.showScrollRight=!0}}setScrollingElement(e){this.scrollingElement=e
this._updateOverflowButtons()}updateOverflowButtons(){this._updateOverflowButtons()}scrollHandler(e){(0,h.mutateDOM)((()=>{if(!this.isDestroying){var t,i
const n=null===(t=this.scrollingElement)||void 0===t?void 0:t.clientWidth,r=null===(i=this.scrollingElement)||void 0===i?void 0:i.scrollLeft,a="LEFT"===e?r-n:r+n
this.scrollingElement.scrollLeft=a
this._updateOverflowButtons()}}))}},m=(0,n.default)(g.prototype,"showScrollRight",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,n.default)(g.prototype,"showScrollLeft",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,n.default)(g.prototype,"scrollingElement",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(g.prototype,"setScrollingElement",[u.action],Object.getOwnPropertyDescriptor(g.prototype,"setScrollingElement"),g.prototype),(0,n.default)(g.prototype,"updateOverflowButtons",[u.action],Object.getOwnPropertyDescriptor(g.prototype,"updateOverflowButtons"),g.prototype),(0,n.default)(g.prototype,"scrollHandler",[u.action],Object.getOwnPropertyDescriptor(g.prototype,"scrollHandler"),g.prototype),g);(0,a.setComponentTemplate)(_,T)}))
define("sharing-v2/components/guider/guider-prompt",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,i.createTemplateFactory)({id:"g7jvjxIU",block:'[[[41,[28,[37,1],[[30,1,["textToInsert"]],[30,1,["detourType"]],[30,1,["editText"]]],null],[[[1,"  "],[8,[39,2],[[16,"aria-label",[30,1,["textToInsert"]]],[24,"data-view-name","sharebox-guider-prompt-cta"],[4,[38,3],["click",[28,[37,4],[[30,2],[30,1]],null]],null],[4,[38,5],null,[["viewName","view","routeName","currentRoute"],["sharebox-guider-prompt-cta",[30,0],[28,[37,6],[[53,"outletState"],"render.name"],null],[28,[37,6],[[53,"outletState"],"render"],null]]]]],[["@type","@size","@class","@color"],["tertiary","2","share-guider-button-prompt__button","default"]],[["default"],[[[[1,"\\n    "],[8,[39,8],null,[["@tvm"],[[30,1,["name"]]]],null],[1,"\\n  "]],[]]]]],[1,"\\n"]],[]],[[[1,"  "],[10,1],[14,0,"t-14 t-black--light share-guider-prompt__text"],[12],[1,"\\n    "],[8,[39,8],null,[["@tvm"],[[30,1,["name"]]]],null],[1,"\\n  "],[13],[1,"\\n"]],[]]]],["@prompt","@onPromptClick"],false,["if","global-helpers@or","artdeco-button@artdeco-button","on","fn","ember-cli-pemberly-tracking@track-view","get","-get-dynamic-var","text-view-model@text-view-model-v2"]]',moduleName:"sharing-v2/components/guider/guider-prompt.hbs",isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(r,(0,n.default)())}))
define.alias("helpcenter-in-product-ember/components/header","sharing-v2/components/header")
define.alias("ember-highcharts/components/high-charts","sharing-v2/components/high-charts")
define.alias("image-editor/components/image-editor-loader","sharing-v2/components/image-editor-loader")
define.alias("image-editor/components/image-editor","sharing-v2/components/image-editor")
define.alias("helpcenter-in-product-ember/components/inline-svg-empty-room-dark","sharing-v2/components/inline-svg-empty-room-dark")
define.alias("helpcenter-in-product-ember/components/inline-svg-empty-room","sharing-v2/components/inline-svg-empty-room")
define.alias("helpcenter-in-product-ember/components/iph-widget-container","sharing-v2/components/iph-widget-container")
define.alias("helpcenter-in-product-ember/components/iph-widget-trigger","sharing-v2/components/iph-widget-trigger")
define.alias("helpcenter-in-product-ember/components/iph-widget","sharing-v2/components/iph-widget")
define.alias("ember-finite-scroll/components/item-container","sharing-v2/components/item-container")
define.alias("ember-vector-images/components/lazy-background","sharing-v2/components/lazy-background")
define.alias("ember-vector-images/components/lazy-image","sharing-v2/components/lazy-image")
define.alias("ember-line-clamp/components/line-clamp","sharing-v2/components/line-clamp")
define.alias("artdeco-icons-web/components/linkedin-logo","sharing-v2/components/linkedin-logo")
define.alias("ember-cloud-filepicker/components/local-file-input","sharing-v2/components/local-file-input")
define.alias("ember-media-player/components/media-player","sharing-v2/components/media-player")
define("sharing-v2/components/object-bin",["exports","ember-drag-drop/components/object-bin"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=t.default}))
define.alias("ember-cloud-filepicker/components/onedrive-file-picker","sharing-v2/components/onedrive-file-picker")
define("sharing-v2/components/open-share-box",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","ember","@ember/destroyable","@glimmer/component","@glimmer/tracking","tracked-toolbox","@ember/service","@ember/debug","@ember/object","@ember/utils","ember-copy","feed-utils/utils/error-parsing","ember-lifeline","global-utils/utils/is-browser","s-upsell/utils/upsell-card-dash-helpers","sharing-shared/utils/text-view-model-helpers","rsvp","detour-framework/utils/detour-buttons","detour-framework/utils/partner-detour-buttons","sharing-v2/utils/guider/dash-guider-manager","sharing-v2/utils/visibility/share-box-actor","sharing-v2/utils/visibility/comment-restriction","sharing-shared/utils/share-create-request","sharing-shared/utils/norm-share-utils","detour-framework/utils/detour-constants","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants","sharing-shared/utils/client-sensor-utils","sharing-v2/utils/sharing-utils","sharing-v2/utils/repost-education-utils","sharing-v2/utils/visibility/visibility-option","sharing-v2/utils/visibility/visibility-utils","detour-framework/utils/preview-utils","organization-detour/url-preview-detour-manager","sharing-shared/utils/client-sensor-constants","sharing-v2/utils/visibility/visibility-option-configs","text-view-model/utils/generator","scaffold-sound/services/sound","sharing-v2/utils/tracked-post-contents","detour-framework/utils/media-data","vector/utils/constants","global-services/utils/constants","global-services/services/qualtrics-survey","media-shared/utils/media-upload-error","media-modifiers/utils/track-drag-and-drop","sharing-shared/utils/sharing-shared-utils","sharing-shared/utils/instant-repost","tracked-built-ins","writing-assistant/utils/writing-assistant-constants","global-utils/utils/url","ember-async-data","ember-cli-pemberly-tracking/utils/tracking"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g,m,b,f,_,T,y,S,E,v,I,C,A,O,D,P,N,R,w,k,M,x,L,V,U,B,H,F,z,G,j,W,Y,K,q,X,Q,Z,$,J,ee,te,ie,ne,re){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var ae,oe,se,le,de,ce,ue,he,pe,ge,me,be,fe,_e,Te,ye,Se,Ee,ve,Ie,Ce,Ae,Oe,De,Pe,Ne,Re,we,ke,Me,xe,Le,Ve,Ue,Be,He,Fe,ze,Ge,je,We,Ye,Ke,qe,Xe,Qe,Ze,$e,Je,et,tt,it,nt,rt,at,ot,st,lt,dt,ct,ut,ht,pt,gt,mt,bt,ft,_t,Tt,yt,St,Et,vt,It,Ct,At,Ot,Dt,Pt,Nt,Rt,wt,kt,Mt,xt,Lt,Vt,Ut,Bt,Ht,Ft,zt,Gt,jt,Wt,Yt,Kt,qt,Xt,Qt,Zt,$t,Jt,ei,ti,ii,ni,ri,ai,oi,si,li,di,ci,ui,hi,pi,gi,mi,bi,fi,_i,Ti,yi,Si,Ei,vi,Ii,Ci,Ai,Oi,Di
const Pi=(0,s.createTemplateFactory)({id:"2VRfdeGO",block:'[[[11,0],[24,0,"full-height"],[17,1],[12],[1,"\\n  "],[10,0],[14,0,"share-box"],[12],[1,"\\n"],[41,[28,[37,1],[[30,0,["currentShareboxState"]],"CREATION"],null],[[[1,"      "],[8,[39,2],null,[["@aiInputQueryWordCount","@autoFocusTexteditor","@broadcastContentAttached","@canBeScheduled","@chooserMenuButtons","@currentActor","@currentCommentRestriction","@currentVisibility","@cursorRange","@customPrimaryButtonText","@detourPreviewEditControlInteractionEventName","@detourPreviewRemoveControlInteractionEventName","@detourPreviewStatusData","@editDetour","@editedShareHasChanged","@emojiHoverablePlacement","@focusOnActive","@goToPostManager","@goToVisibilityScreen","@groupId","@guiderManager","@headerType","@hideCreationStateFooter","@improveWithAiHandler","@improveWithAiQuery","@inlineCalloutConfig","@invalidAiInputErrorMessage","@isAiDraftUnmodified","@isAiInputQueryTooShort","@isInBroadcastMode","@isPostRequestPending","@isPremiumUpsellExperienceEnabled","@scheduledPostNowEnabled","@isScheduledPostsEnabled","@isShowingDetourPreview","@isWritingAssistantEnabled","@onEditShareMedia","@onFoundUrl","@onScheduleSelected","@openDetour","@pasteEventHandler","@previewedUpdateV2","@publishPost","@removeDetourPreview","@scheduledDate","@scheduledTimestamp","@shareboxHasAttachment","@shareboxHasValidContent","@shareBoxSessionId","@shareBoxSessionUrn","@shareContentsData","@shareOrigin","@shareType","@shouldShowScheduledPostAlert","@showActorToggle","@showDetourPreviewEditButton","@showDetourPreviewError","@showDetourPreviewRemoveButton","@showInlineHeader","@showWritingAssistantErrorMessage","@textInputI18nPlaceholderText","@undoAiDraftHandler","@updateAiGeneratedData","@updateShareViewModel","@updateV2","@upsellCardData","@usingStickyVisibility","@waMinInputWordsRequired"],[[30,0,["aiInputQueryWordCount"]],[30,0,["autoFocusTexteditor"]],[30,0,["broadcastContentAttached"]],[30,0,["canBeScheduled"]],[30,0,["chooserMenuDetourButtons"]],[30,0,["currentActor"]],[30,0,["currentCommentRestriction"]],[30,0,["currentVisibility"]],[30,0,["cursorRange"]],[30,2],[30,0,["detourPreviewEditControlInteractionEventName"]],[30,0,["detourPreviewRemoveControlInteractionEventName"]],[30,0,["detourPreviewStatusData"]],[30,0,["editDetour"]],[30,0,["editedShareHasChanged"]],[30,3],[30,0,["focusOnActive"]],[30,0,["goToPostManager"]],[30,0,["goToVisibilityScreen"]],[30,4],[30,0,["guiderManager"]],[30,5],[30,6],[30,0,["improveWithAiHandler"]],[30,0,["improveWithAiQuery"]],[30,7],[30,0,["invalidAiInputErrorMessage"]],[30,0,["isAiDraftUnmodified"]],[30,0,["isAiInputQueryTooShort"]],[30,0,["isInBroadcastMode"]],[30,0,["isPostRequestPending"]],[30,0,["isPremiumUpsellExperienceEnabled"]],[30,0,["scheduledPostNowEnabled"]],[30,0,["isScheduledPostsEnabled"]],[30,0,["isShowingDetourPreview"]],[30,0,["isWritingAssistantEnabled"]],[30,0,["onEditShareMedia"]],[30,0,["onFoundUrl"]],[30,0,["onScheduleSelected"]],[30,0,["openDetour"]],[30,0,["pasteEventHandler"]],[30,0,["previewedUpdateV2"]],[30,0,["publishPost"]],[30,0,["removeDetourPreview"]],[30,0,["scheduledDate"]],[30,0,["scheduledAt"]],[30,0,["shareboxHasAttachment"]],[30,0,["shareboxHasValidContent"]],[30,8],[30,9],[30,0,["trackedPostContents"]],[30,10],[30,11],[30,0,["shouldShowScheduledPostAlert"]],[30,0,["showActorToggle"]],[30,0,["showDetourPreviewEditButton"]],[30,0,["showDetourPreviewError"]],[30,0,["showDetourPreviewRemoveButton"]],[30,12],[30,0,["showWritingAssistantErrorMessage"]],[30,0,["textInputI18nPlaceholderText"]],[30,0,["undoAiDraftHandler"]],[30,0,["updateAiGeneratedData"]],[30,0,["updateShareViewModel"]],[30,13],[30,0,["upsellCardData"]],[30,0,["useStickyVisibility"]],[30,0,["waMinInputWordsRequired"]]]],null],[1,"\\n"]],[]],null],[41,[28,[37,1],[[30,0,["currentShareboxState"]],"DETOUR"],null],[[[44,[[50,[28,[37,5],[[30,0,["detourPath"]]],null],0,null,null]],[[[1,"        "],[8,[30,14],null,[["@class","@detourData","@goToCreation","@nonMemberActor","@onDetourComplete","@setHasUnsavedDetourChanges","@shouldShowBackButton"],["full-height",[30,0,["detourData"]],[30,0,["goToCreation"]],[52,[30,0,["currentActor","isNonMemberActor"]],[30,0,["currentActor"]]],[30,0,["onDetourComplete"]],[30,0,["setHasUnsavedDetourChanges"]],true]],null],[1,"\\n"]],[14]]]],[]],null],[41,[28,[37,1],[[30,0,["currentShareboxState"]],"VISIBILITY"],null],[[[1,"      "],[8,[39,6],null,[["@authorAndAudienceSettings","@availableActors","@eventContentVisibilityRestriction","@excludedVisibilityTypes","@goToCreation","@headerType","@isFixedVisibility","@isInBroadcastMode","@isInEditMode","@isInRepostMode","@protectedMediaPresentForDraft","@shareboxHasAttachment","@showInlineHeader","@updateAuthorAndAudienceSettings","@updateInlineCalloutModel","@visibilityScreen"],[[30,0,["authorAndAudienceSettings"]],[30,0,["availableActors"]],[30,0,["eventContentVisibilityRestriction"]],[30,15],[30,0,["goToCreation"]],[30,5],[30,0,["isFixedVisibility"]],[30,0,["isInBroadcastMode"]],[30,0,["isInEditMode"]],[30,0,["isInRepostMode"]],[30,0,["protectedMediaPresentForDraft"]],[30,0,["shareboxHasAttachment"]],[30,12],[30,0,["updateAuthorAndAudienceSettings"]],[30,0,["updateInlineCalloutModel"]],[30,0,["visibilityScreen"]]]],null],[1,"\\n"]],[]],null],[41,[28,[37,1],[[30,0,["currentShareboxState"]],"MANAGEMENT"],null],[[[1,"      "],[8,[39,7],null,[["@canBeScheduled","@goToCreation","@isLadderFeaturesEnabledForScheduledPosts","@onScheduleSelected","@organizationActor","@shouldShowScheduledPostAlert","@showInlineHeader","@timestamp","@updateModalConfig"],[[30,0,["canBeScheduled"]],[30,0,["goToCreation"]],[30,0,["isScheduledPostEditLixEnabled"]],[30,0,["onScheduleSelected"]],[52,[30,0,["isOrganizationActor"]],[30,0,["currentActor"]]],[30,0,["shouldShowScheduledPostAlert"]],[30,12],[30,0,["scheduledAt"]],[30,0,["updateModalConfig"]]]],null],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n"],[13]],["&attrs","@customPrimaryButtonText","@emojiHoverablePlacement","@groupId","@headerType","@hideCreationStateFooter","@inlineCalloutConfig","@shareBoxSessionId","@shareBoxSessionUrn","@shareOrigin","@shareType","@showInlineHeader","@updateV2","DetourComponent","@excludedVisibilityTypes"],false,["if","global-helpers@eq","sharing-v2@creation-state","let","component","ember-holy-futuristic-template-namespacing-batman-translate-dynamic-2","sharing-v2@visibility/visibility-manager","sharing-v2@post-manager"]]',moduleName:"sharing-v2/components/open-share-box.hbs",isStrictMode:!1})
let Ni=e.default=(ae=(0,p.inject)("global-services@a11y-notification"),oe=(0,p.inject)("sharing-shared@cached-post-manager"),se=(0,p.inject)("lix"),le=(0,p.inject)("@linkedin/ember-restli-graphql@graphql"),de=(0,p.inject)("client-sensor-web@client-sensor"),ce=(0,p.inject)("sharing-v2@feedback-manager"),ue=(0,p.inject)("sharing-shared@sharebox-interop"),he=(0,p.inject)("interop"),pe=(0,p.inject)("i18n"),ge=(0,p.inject)("jet"),me=(0,p.inject)("locale"),be=(0,p.inject)("m3-schema"),fe=(0,p.inject)("persistent-toast-manager@persistent-toast-manager"),_e=(0,p.inject)("social-counts-service@social-counts"),Te=(0,p.inject)("scaffold-sound@sound"),ye=(0,p.inject)("global-services@store-shim"),Se=(0,p.inject)("tracking"),Ee=(0,p.inject)("sharing-shared@typeahead-tracking"),ve=(0,p.inject)("watchman-tracking@watchman-tracking"),Ie=(0,p.inject)("global-services@window"),Ce=(0,p.inject)("vector@vector-media-upload"),Ae=(0,p.inject)("lego@resolver"),Oe=(0,p.inject)("lego@tracking"),De=(0,p.inject)("router"),Pe=(0,p.inject)("global-services@qualtrics-survey"),Ne=(0,p.inject)("msg-overlay-manager@msg-overlay-manager"),Re=(0,p.inject)("authentication@authenticated-user"),we=(0,p.inject)("global-services@internal-tools"),ke=(mi=new WeakSet,bi=new WeakSet,fi=new WeakSet,_i=new WeakSet,Ti=new WeakSet,yi=new WeakSet,Si=new WeakSet,Ei=new WeakSet,vi=new WeakSet,Ii=new WeakSet,Ci=new WeakSet,Ai=new WeakSet,Oi=new WeakSet,Di=new WeakSet,class extends c.default{get isGraphqlEnabledForInitCall(){return this.lix.getTreatmentIsEnabled("voyager.web.sharing-graphql-init-call")}get isUrlPreviewFetchLastBeforePublishing(){return this.lix.getTreatmentIsEnabled("voyager.web.sharing-url-preview-fetch-last-before-publishing")}get aiDataPromise(){var e
return null===(e=this.args.deferredAiPrefilledTextConfig)||void 0===e?void 0:e.aiDataPromise()}get aiInputQueryWordCount(){var e
return((null===(e=this.trackedPostContents)||void 0===e?void 0:e.text)||"").trim().split(/[\s\u00A0]+/).filter((e=>""!==e)).length}get authorAndAudienceSettings(){return{actor:this.currentActor,commentRestriction:this.currentCommentRestriction,commentRestrictionUserSelectionType:this.commentRestrictionUserSelectionType,stickyVisibilityData:this.currentStickyVisibilityData,targetedAudience:this.currentTargetedAudience,visibility:this.currentVisibility,isPaidEndorsement:this.currentIsPaidEndorsement}}get autoFocusTexteditor(){return this.isTextEditorFocused||!this.args.disableTexteditorAutoFocus}get availableActors(){return this.args.shareboxAvailableActors.map((e=>new O.default(e,this.formatter)))}get broadcastContentAttached(){var e
return(null===(e=this.args.initialDetourManager)||void 0===e?void 0:e.detourType)===R.DETOUR_TYPES.BROADCAST_TO_SHARE}get canBeSavedAsDraft(){var e
return this.isAllowedDraftEntrypoint&&!this.isInEditMode&&!w.EXTERNAL_DETOURS.includes(null===(e=this.detourManager)||void 0===e?void 0:e.detourType)}get canBeScheduled(){if(this.isScheduledPostsEnabled){var e
return!(w.EXTERNAL_DETOURS.includes(null===(e=this.detourManager)||void 0===e?void 0:e.detourType)||this.currentVisibility.type===k.VALID_VISIBILITY_TYPES.SELECT_VISIBILITY)}return!1}get chooserMenuDetourButtons(){var e,t
return(0,I.getDetourButtons)(C.REGISTERED_CHOOSER_MENU_DETOUR_BUTTONS,this.lix,this.locale,null===(e=this.currentActor)||void 0===e?void 0:e.actorType,null===(t=this.currentVisibility)||void 0===t?void 0:t.type)}get currentActor(){return this.localActor||this.initialActor}get currentShareboxState(){return this.shareboxState||this.initialShareboxState}get currentStickyVisibilityData(){return this.localStickyVisibilityData?this.localStickyVisibilityData:this.initializationStickyVisibilityData}get dashOrganizationActorUrn(){return this.isOrganizationActor?this.currentActor.dashUrn:null}get deferredAiData(){return this.aiDataPromise?(0,ne.load)(this.aiDataPromise):{}}get detourManagerCustomTextInputPlaceholderText(){var e,t
return null===(e=this.detourManager)||void 0===e||null===(t=e.getPlaceholderText)||void 0===t?void 0:t.call(e)}get detourPath(){return R.DETOUR_PATHS[this.detourType]}get detourPreviewEditControlInteractionEventName(){const e=w.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.EDIT_PREVIEW_PREFIX,t=this.detourType
return`${e}${null==t?void 0:t.toLowerCase()}`}get detourPreviewRemoveControlInteractionEventName(){const e=w.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.REMOVE_PREVIEW_PREFIX,t=this.detourType
return`${e}${null==t?void 0:t.toLowerCase()}`}get detourPreviewState(){var e
return null===(e=this.detourPreviewData)||void 0===e?void 0:e.previewState}get detourPreviewStatusData(){var e
return null===(e=this.detourPreviewData)||void 0===e?void 0:e.previewStatusData}get draftPostHasChanged(){return!!this.isEditingADraftPost&&((0,b.isPresent)(this.newEditedCommentary)||this.draftAttachmentHasChanged||this.draftCommentRestrictionHasChanged||this.currentIsPaidEndorsementChanged)}get editedShareHasChanged(){return!!this.isInEditMode&&((0,b.isPresent)(this.newEditedCommentary)||(0,b.isPresent)(this.editedShareMedia))}get eventContentAttached(){var e
return(null===(e=this.detourManager)||void 0===e?void 0:e.detourType)===R.DETOUR_TYPES.EVENTS}get eventContentVisibilityRestriction(){return this.eventContentAttached}get ignoreShareboxInitializationData(){return!(!this.isFixedVisibility&&this.args.initializationData&&!this.isInEditMode&&!this.args.excludedVisibilityTypes)}get initialActor(){var e
return new O.default(null===(e=this.args.shareboxAvailableActors)||void 0===e?void 0:e[0],this.formatter)}get initializationStickyVisibilityData(){if(!this.ignoreShareboxInitializationData)return this.args.initializationData.visibilities}get isAiDraftUnmodified(){return!!(this.args.isWritingAssistantEnabled&&this.trackedPostContents.text&&this.aiGeneratedText)&&this.trackedPostContents.text.trim()===this.aiGeneratedText.trim()}get isAiInputQueryTooShort(){return this.aiInputQueryWordCount<this.waMinInputWordsRequired}get isAllowedDraftEntrypoint(){const e=this.args.shareOrigin===k.SHARE_ORIGIN.FEED&&!this.isOrganizationActor,t=this.args.shareOrigin===k.SHARE_ORIGIN.LI_BADGE,i=this.args.shareOrigin===k.SHARE_ORIGIN.ORGANIZATION
return e||i||t||this.args.isEditingFailedScheduledPost}get isFixedVisibility(){return!!this.args.fixedVisibilityType}get isInBroadcastMode(){var e
if(this.isInEditMode){var t,i
return(null===(t=this.args.updateV2)||void 0===t||null===(i=t.metadata)||void 0===i?void 0:i.shareAudience)===w.SHARE_AUDIENCE_VISIBILITY.EMPLOYEES}return(null===(e=this.args.fixedVisibilityType)||void 0===e?void 0:e.type)===k.VALID_VISIBILITY_TYPES.EMPLOYEE_BROADCAST_FEED}get isEditingADraftPost(){return this.args.shareType===k.SHARE_TYPES.DRAFT}get isEditingAScheduledPost(){return this.args.shareType===k.SHARE_TYPES.SCHEDULED_POST}get isInEditMode(){return this.args.shareType===k.SHARE_TYPES.EDIT}get isInRepostMode(){return this.args.shareType===k.SHARE_TYPES.REPOST}get isInUnpublishedPostEditMode(){return this.args.shareType===k.SHARE_TYPES.DRAFT||this.isScheduledPostEditLixEnabled&&this.args.shareType===k.SHARE_TYPES.SCHEDULED_POST}get isOrganizationActor(){var e
return(null===(e=this.currentActor)||void 0===e?void 0:e.actorType)===k.ACTOR_TYPES.company}get isPremiumPagesWritingAssistantUpsellEnabled(){return"en_US"===this.locale.interfaceLocale}get isPrefilledTextUnmodified(){const{originalShareContentsData:e,trackedPostContents:t}=this
return!!(this.args.showPrefilledTextUnmodifiedWarning&&this.args.prefilledTextTVMV2&&e&&t)&&(0,$.areTextAndMentionsEqual)(e,t)}get isPrefilledTextWithAiDraftUnmodified(){const{aiGeneratedText:e,originalShareContentsData:t,trackedPostContents:i}=this,{isWritingAssistantEnabled:n,prefilledTextTVMV2:r,showPrefilledTextUnmodifiedWarning:a}=this.args
return!!(e&&n&&t&&r&&a&&i)&&`${t.text}${e}`.trim()===this.trackedPostContents.text.trim()}get isPremiumUpsellExperienceEnabled(){return this.isOrganizationActor&&this.isPremiumPagesWritingAssistantUpsellEnabled?!this.isWritingAssistantEnabled&&"PREMIUM_UPSELL"===this.organizationShareboxExperience&&this.premiumPageUpsellData:!this.isOrganizationActor&&!this.isWritingAssistantEnabled&&this.args.isPremiumUpsellExperienceEnabled&&this.args.upsellCardData}get isRepostUrlPreview(){var e,t
if(this.isUrlPreviewDashLixEnabled){var i,n
return!(null===(i=this.previewedUpdateV2)||void 0===i||null===(n=i.metadata)||void 0===n||!n.shareUrn)}return!(null===(e=this.previewedUpdateV2)||void 0===e||null===(t=e.updateMetadata)||void 0===t||!t.shareUrn)}get isScheduledPostsEnabled(){return(0,$.isScheduledPostsEnabledForOrigin)(this.args.shareOrigin)}get isScheduledPostEditLixEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.sharing-ladder-edit-schedule-post")}get isScheduledPostErrorMessagingEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.sharing-enable-scheduled-post-error-messaging")}get isShowingDetourPreview(){return this.shareboxHasAttachment&&!this.args.hideDetourPreview&&!this.showDeferredAiTextLoader}get isUrlPreviewDashLixEnabled(){return!0}get isWritingAssistantEnabled(){return this.isOrganizationActor?"WRITING_ASSISTANT"===this.organizationShareboxExperience:this.args.isWritingAssistantEnabled&&!this.isOrganizationActor}get mediaDetourTreatment(){return this.lix.getTreatment("voyager.web.sharing-enable-decoupled-media-detour")}get newEditedCommentary(){return!this.isInEditMode&&!this.isInUnpublishedPostEditMode||(0,$.areTextAndMentionsEqual)(this.originalShareContentsData,this.trackedPostContents)?null:this.trackedPostContents}get originalUnpublishedPostData(){var e
if(!this.ignoreShareboxInitializationData){if(this.isInUnpublishedPostEditMode){var t,i,n,r,a,o,s,l,d
return{commentary:null===(t=this.args.initializationData)||void 0===t||null===(i=t.draft)||void 0===i?void 0:i.commentary,paidEndorsement:null===(n=this.args.initializationData)||void 0===n||null===(r=n.draft)||void 0===r?void 0:r.paidEndorsement,ugcUrn:null===(a=this.args.initializationData)||void 0===a||null===(o=a.draft)||void 0===o?void 0:o.ugcUrn,scheduledAt:null===(s=this.args.initializationData)||void 0===s?void 0:s.scheduledAt,hasMedia:null===(l=this.args.initializationData)||void 0===l||null===(d=l.draft)||void 0===d?void 0:d.hasMedia}}if(this.isPrefilledWithCachedFailedPost&&(null===(e=this.cachedPostManager)||void 0===e||!e.isVideoProcessing)){var c,u,h
return{hasMedia:null===(c=this.cachedPostManager)||void 0===c?void 0:c.hasMediaAttachment,commentary:null===(u=this.cachedPostManager)||void 0===u||null===(h=u.draftPost)||void 0===h?void 0:h.commentary}}}}get isPrefilledFailedCachedDraftPostEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.sharing-enable-prefill-failed-cached-draft-post")}get isPrefilledWithCachedFailedPost(){var e
return"feed.index.index"===this.router.currentRouteName&&this.isPrefilledFailedCachedDraftPostEnabled&&(null===(e=this.cachedPostManager)||void 0===e?void 0:e.hasDraftPost)}get previewIsRemovable(){return this.shareboxHasAttachment&&this.showDetourPreviewRemoveButton}get promptConfirmationDialogBeforeClosingDetour(){return this.hasUnsavedDetourChanges&&this.currentShareboxState===w.SHAREBOX_STATE.DETOUR}get promptConfirmationDialogBeforeClosingSharebox(){const e=!(0,$.areTextAndMentionsEqual)(this.originalShareContentsData||{},this.trackedPostContents),t=this.isScheduledPostEditLixEnabled?this.shareboxHasValidContent&&(e||this.isPrefilledWithCachedFailedPost):this.shareboxHasValidContent
return this.isInUnpublishedPostEditMode&&(this.isEditingADraftPost||this.isEditingAScheduledPost&&this.scheduledPostHasChanged)||this.isInEditMode&&this.editedShareHasChanged||!this.isInEditMode&&t}get promptConfirmationDialogBeforeNavigatingToPostList(){if(this.isScheduledPostEditLixEnabled){if(this.isEditingADraftPost)return!0
if(this.shouldReturnToArticleManagementList)return!1
if(this.isEditingAScheduledPost&&this.scheduledPostHasChanged)return!0
if(this.shareboxHasUnsavedContent)return!0}}get promptConfirmationDialogBeforeNavigatingToPremium(){return this.args.isPremiumUpsellExperienceEnabled&&this.shareboxHasValidContent&&this.premiumTargetUrl}get promptConfirmationDialogBeforePosting(){return this.isAiDraftUnmodified||this.isPrefilledTextUnmodified||this.isPrefilledTextWithAiDraftUnmodified||this.showInstantRepostEducationDialog}get scheduledAtTimeChanged(){var e
return this.scheduledAt!==(null===(e=this.originalUnpublishedPostData)||void 0===e?void 0:e.scheduledAt)}get scheduledDate(){return this.scheduledAt?new Date(this.scheduledAt):null}get scheduledPostHasChanged(){return!!this.isEditingAScheduledPost&&((0,b.isPresent)(this.newEditedCommentary)||this.draftAttachmentHasChanged||this.draftCommentRestrictionHasChanged||this.currentIsPaidEndorsementChanged||this.scheduledAtTimeChanged)}get scheduledPostManagementView(){return this.postManagementView?this.postManagementView:null===this.args.scheduledPostAction?this.args.datePickersOnBackPostView:null}get scheduledPostMediaIsArticle(){var e,t,i
return this.isEditingAScheduledPost&&"FIRST_PARTY"===(null===(e=this.previewedUpdateV2)||void 0===e||null===(t=e.content)||void 0===t||null===(i=t.articleComponent)||void 0===i?void 0:i.type)}get scheduledPostNowEnabled(){return this.isEditingAScheduledPost&&this.scheduledAtTimeChanged&&!this.scheduledAt}get shareboxHasAttachment(){return!(0,b.isEmpty)(this.previewedUpdateV2)}get shareboxHasUnsavedContent(){const e=!(0,$.areTextAndMentionsEqual)(this.originalShareContentsData||{},this.trackedPostContents)
return this.isInEditMode?this.editedShareHasChanged:this.isInUnpublishedPostEditMode?this.draftPostHasChanged||this.scheduledPostHasChanged:e||this.shareboxHasAttachment}get shareboxHasValidContent(){return!this.showDetourPreviewError&&this.shareboxHasAttachment||this.trackedPostContents.hasText}get shareTypeForClientSensors(){return this.postingState===k.POST_STATES.SCHEDULED?k.SHARE_TYPES.SCHEDULED_CREATION:this.args.shareType===k.SHARE_TYPES.SHARE&&this.postingState===k.POST_STATES.DRAFT?k.SHARE_TYPES.DRAFT_CREATION:this.args.shareType}get shouldConvertToInstantRepost(){var e
return this.isInRepostMode&&!(null!==(e=this.trackedPostContents.text)&&void 0!==e&&e.trim().length)&&!this.scheduledAt&&this.currentVisibility.type===k.VALID_VISIBILITY_TYPES.ANYONE}get shouldReturnToArticleManagementList(){return this.args.shareOrigin===k.SHARE_ORIGIN.PUBLISHING&&this.scheduledPostMediaIsArticle}get showActorToggle(){return this.availableActors.length>1&&!this.isInEditMode}get showDeferredAiTextLoader(){var e
return(null===(e=this.deferredAiData)||void 0===e?void 0:e.isPending)||!1}get showDetourPreviewEditButton(){return this.isShowingDetourPreview&&this.detourManager&&this.detourData&&this.detourPath&&!this.args.disableDetourEdit}get showDetourPreviewError(){return this.detourPreviewState===R.DETOUR_PREVIEW_STATES.FAILED&&!this.args.hideDetourPreview}get showDetourPreviewRemoveButton(){return this.isShowingDetourPreview&&!this.args.disableDetourPreviewRemoval&&!this.isInEditMode}get showInstantRepostEducationDialog(){return this.shouldConvertToInstantRepost&&this.repostEducationUtility.repostEducationTrackingToken}get isSharingNileInteropEnabled(){return this.shareboxInteropService.isSharingNileInteropEnabled}get isShareboxRenderedInsideInteropRoute(){const{currentRouteName:e}=this.router
return null==e?void 0:e.includes("preload.sharebox")}get shouldHidePaidEndorsementToggle(){return this.isSharingNileInteropEnabled&&this.isShareboxRenderedInsideInteropRoute}get showPaidEndorsement(){return!this.isInEditMode}get showScheduledPostAlert(){var e
return null===(e=this.args.initializationData)||void 0===e?void 0:e.showScheduledPostAlert}get shouldShowScheduledPostAlert(){return this.isScheduledPostErrorMessagingEnabled&&this.showScheduledPostAlert}get showWritingAssistantErrorMessage(){var e
return(null===(e=this.trackedPostContents)||void 0===e?void 0:e.text)===this.invalidAiInputQuery&&!!this.invalidAiInputErrorMessage}get textInputI18nPlaceholderText(){return this.detourManagerCustomTextInputPlaceholderText||this.args.customTextInputI18nPlaceholderText||(this.args.isWritingAssistantEnabled?this._getI18nMessage("i18n_writing_assistant_placeholder"):this._getI18nMessage("i18n_default_focused_placeholder_text"))}get useStickyVisibility(){var e
return!(this.ignoreShareboxInitializationData||null!==(e=this.currentActor)&&void 0!==e&&e.isNonMemberActor)}get waFeedbackCardView(){return this.writingAssistantFeedbackCardView}get upsellCardData(){return this.isOrganizationActor?this.premiumPageUpsellData:this.args.upsellCardData}get contentTrackingId(){return(0,re.generateTrackingId)()}constructor(){super(...arguments)
Di.add(this)
Oi.add(this)
Ai.add(this)
Ci.add(this)
Ii.add(this)
vi.add(this)
Ei.add(this)
Si.add(this)
yi.add(this)
Ti.add(this)
_i.add(this)
fi.add(this)
bi.add(this)
mi.add(this);(0,t.default)(this,"a11yNotification",Me,this);(0,t.default)(this,"cachedPostManager",xe,this);(0,t.default)(this,"lix",Le,this);(0,t.default)(this,"graphql",Ve,this);(0,t.default)(this,"clientSensor",Ue,this);(0,t.default)(this,"feedbackManager",Be,this);(0,t.default)(this,"shareboxInteropService",He,this);(0,t.default)(this,"interop",Fe,this);(0,t.default)(this,"formatter",ze,this);(0,t.default)(this,"i18n",Ge,this);(0,t.default)(this,"jet",je,this);(0,t.default)(this,"locale",We,this);(0,t.default)(this,"m3Schema",Ye,this);(0,t.default)(this,"persistentToastManager",Ke,this);(0,t.default)(this,"socialCountsService",qe,this);(0,t.default)(this,"sound",Xe,this);(0,t.default)(this,"storeShim",Qe,this);(0,t.default)(this,"tracking",Ze,this);(0,t.default)(this,"typeaheadTracking",$e,this);(0,t.default)(this,"watchmanTracking",Je,this);(0,t.default)(this,"windowService",et,this);(0,t.default)(this,"vectorMediaUpload",tt,this);(0,t.default)(this,"legoResolver",it,this);(0,t.default)(this,"legoTracking",nt,this);(0,t.default)(this,"router",rt,this);(0,t.default)(this,"qualtricsSurvey",at,this);(0,t.default)(this,"msgOverlayManager",ot,this);(0,t.default)(this,"authenticatedUser",st,this);(0,t.default)(this,"internalTools",lt,this);(0,i.default)(this,"anyoneVisibilityOptionType",(0,U.buildVisibilityOptionFromConfig)(this.i18n,z.ANYONE_VISIBILITY_CONFIG));(0,i.default)(this,"controlInteractionEvents",w.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"dragAndDropEnabled",void 0);(0,i.default)(this,"waMinInputWordsRequired",20);(0,i.default)(this,"confirmationDialogWasRendered",!1);(0,i.default)(this,"cachedFailedUrlsCollection",[]);(0,i.default)(this,"cachedDismissedUrlsCollection",[]);(0,i.default)(this,"urlActivelyBeingFetched",null);(0,i.default)(this,"urlActivelyBeingDisplayed",null);(0,t.default)(this,"aiGeneratedText",dt,this);(0,t.default)(this,"attachedShareMediaUrn",ct,this);(0,t.default)(this,"commentRestrictionUserSelectionType",ut,this);(0,t.default)(this,"currentCommentRestriction",ht,this);(0,t.default)(this,"currentIsPaidEndorsement",pt,this);(0,t.default)(this,"currentIsPaidEndorsementChanged",gt,this);(0,t.default)(this,"currentTargetedAudience",mt,this);(0,t.default)(this,"currentVisibility",bt,this);(0,t.default)(this,"cursorRange",ft,this);(0,t.default)(this,"dashDetourPreviewHandler",_t,this);(0,t.default)(this,"detourData",Tt,this);(0,t.default)(this,"detourManager",yt,this);(0,t.default)(this,"detourPreviewData",St,this);(0,t.default)(this,"detourPreviewHandler",Et,this);(0,t.default)(this,"detourStatusHandler",vt,this);(0,t.default)(this,"detourType",It,this);(0,t.default)(this,"draftAttachmentHasChanged",Ct,this);(0,t.default)(this,"draftCommentRestrictionHasChanged",At,this);(0,t.default)(this,"draftMediaIsLoading",Ot,this);(0,t.default)(this,"editedShareMedia",Dt,this);(0,t.default)(this,"focusOnActive",Pt,this);(0,t.default)(this,"gaiContentUrn",Nt,this);(0,t.default)(this,"hasInteractedWithWritingAssistant",Rt,this);(0,t.default)(this,"hasUnsavedDetourChanges",wt,this);(0,t.default)(this,"improveWithAiQuery",kt,this);(0,t.default)(this,"initialShareboxState",Mt,this);(0,t.default)(this,"initSessionUrn",xt,this);(0,t.default)(this,"initTimestamp",Lt,this);(0,t.default)(this,"inlineCalloutModel",Vt,this);(0,t.default)(this,"invalidAiInputErrorMessage",Ut,this);(0,t.default)(this,"invalidAiInputQuery",Bt,this);(0,t.default)(this,"isDeeplinked",Ht,this);(0,t.default)(this,"isDetourPreviewDash",Ft,this);(0,t.default)(this,"isPostButtonDisabled",zt,this);(0,t.default)(this,"isPostRequestPending",Gt,this);(0,t.default)(this,"isTextEditorFocused",jt,this);(0,t.default)(this,"isConfirmationDialogOpen",Wt,this);(0,t.default)(this,"isWritingAssistantRequestInProgress",Yt,this);(0,t.default)(this,"localActor",Kt,this);(0,t.default)(this,"localStickyVisibilityData",qt,this);(0,t.default)(this,"nonUgcSupportedDraftChangesMade",Xt,this);(0,t.default)(this,"originalShareContentsData",Qt,this);(0,t.default)(this,"organizationActors",Zt,this);(0,t.default)(this,"postingState",$t,this);(0,t.default)(this,"postManagementView",Jt,this);(0,t.default)(this,"preDetourCharCount",ei,this);(0,t.default)(this,"previewedUpdateV2",ti,this);(0,t.default)(this,"protectedMediaPresentForDraft",ii,this);(0,t.default)(this,"repostEducationTrackingToken",ni,this);(0,t.default)(this,"routedView",ri,this);(0,t.default)(this,"scheduledAt",ai,this);(0,t.default)(this,"shareboxState",oi,this);(0,t.default)(this,"shouldCheckWordLengthForWritingAssistant",si,this);(0,t.default)(this,"timeZoneDescriptionTVMV2",li,this);(0,t.default)(this,"trackedPostContents",di,this);(0,t.default)(this,"visibilityScreen",ci,this);(0,t.default)(this,"writingAssistantFeedbackCardView",ui,this);(0,t.default)(this,"writingAssistantIsOpen",hi,this);(0,t.default)(this,"organizationShareboxExperience",pi,this);(0,t.default)(this,"premiumPageUpsellData",gi,this)
this._attachBeforeUnloadListener()
this.initTimestamp=Date.now()
this.initSessionUrn=this.args.shareBoxSessionUrn;(0,$.fireShareboxInteractionEvent)({shareSessionUrn:this.args.shareBoxSessionUrn,actionType:k.SHAREBOX_INTERACTION_TYPES.SHARE_BOX_OPEN,tracking:this.tracking})
this.args.initializationErrorMessage&&this.feedbackManager.addFeedbackItem({feedbackMsgText:this.args.initializationErrorMessage,feedbackMsgType:w.FEEDBACK_MESSAGE_TYPE.INITIALIZATION_ERROR})
this.mediaDataGenerator=new Y.default({lix:this.lix,windowService:this.windowService,tracking:this.tracking,videoUpload:this.vectorMediaUpload})
if(this.isInEditMode){this._setupEditModeSharebox(this.args.updateV2)
this._initialGoToCreation(!0,!1)}else{var e,r,a,o,s,l,d,c
this._setInitialCurrentVisibility()
this.currentCommentRestriction=new D.default(this.currentVisibility,this.commentRestrictionUserSelectionType,null===(e=this.currentActor)||void 0===e?void 0:e.isNonMemberActor,this.isInBroadcastMode)
this.currentIsPaidEndorsement=null===(r=this.args.initializationData)||void 0===r||null===(a=r.draft)||void 0===a?void 0:a.paidEndorsement;(0,b.isPresent)(this.originalUnpublishedPostData)&&null!==(o=this.originalUnpublishedPostData)&&void 0!==o&&o.scheduledAt&&this.args.scheduledPostAction!==k.SCHEDULED_POST_ACTIONS.POST_NOW&&(this.scheduledAt=this.args.initializationData.scheduledAt)
this._setupShareboxWithInitialContent()
this.guiderManager=new A.DashGuiderManager(this.attachedShareMediaUrn||(null===(s=this.args.updateV2)||void 0===s||null===(l=s.metadata)||void 0===l?void 0:l.backendUrn)||(null===(d=this.args.updateV2)||void 0===d||null===(c=d.updateMetadata)||void 0===c?void 0:c.urn),this.clientSensor,this.currentVisibility.containerEntity,this.shareboxHasAttachment,this.dashOrganizationActorUrn,this.args.shareBoxSessionId,this.trackedPostContents.text,this.storeShim,this.tracking,this.typeaheadTracking)
this.isInUnpublishedPostEditMode||this.guiderManager.setInitialPrompt()
this.args.initialDetourData&&(this.detourData=this.args.initialDetourData)
if(this.args.initialDetourType){this.detourType=this.args.initialDetourType
this.initialShareboxState=w.SHAREBOX_STATE.DETOUR}else Object.values(k.ROUTABLE_VIEWS).includes(this.args.routedView)&&!this.isInUnpublishedPostEditMode?(0,n.default)(this,Si,Vi).call(this,this.args.routedView):this._initialGoToCreation(!0,!1)}if(this.args.hideCreationStateFooter){var u,h
null===(u=(h=this.args).registerPostFn)||void 0===u||u.call(h,(()=>this.publishPost()))}if(this.args.registerOnDetourCompleteFn){var p,g
null===(p=(g=this.args).registerOnDetourCompleteFn)||void 0===p||p.call(g,(e=>this.onDetourComplete(e)))}if(this.isOrganizationActor){(0,n.default)(this,Oi,Gi).call(this);(0,n.default)(this,Di,ji).call(this)}(this.args.scheduledPostAction===k.SCHEDULED_POST_ACTIONS.MODIFY_SCHEDULE||this.args.datePickersOnBackPostView)&&this.goToPostManager()}navigateToPremiumUpsell(){const e=(0,ie.getInAppParams)(this.router,this.premiumTargetUrl)
this.router.transitionTo(e)}willDestroy(){super.willDestroy(...arguments)
if(this.detourManager){this.dashDetourPreview?this.detourManager.dashDetourPreview.unsubscribe(this.dashDetourPreviewHandler):this.detourManager.detourPreview.unsubscribe(this.detourPreviewHandler)
this.detourManager.detourStatus.unsubscribe(this.detourStatusHandler)}this._removeBeforeUnloadListener()
l.default.testing||this.feedbackManager.onDestroy();(0,$.fireShareboxInteractionEvent)({shareSessionUrn:this.initSessionUrn,actionType:k.SHAREBOX_INTERACTION_TYPES.SHARE_BOX_CLOSE,tracking:this.tracking,usageTimeSeconds:Math.floor((Date.now()-this.initTimestamp)/1e3)||1})}_attachBeforeUnloadListener(){y.default&&(0,T.addEventListener)(this,window,"beforeunload",this._beforeUnloadHandler)}_beforeUnloadHandler(e){if(this.promptConfirmationDialogBeforeClosingSharebox){const t=this._getI18nMessage("i18n_discard_draft_content")
e.preventDefault()
e.returnValue=t
return t}}_callInstantRepost(){this.isPostRequestPending=!0
return(0,J.instantRepost)({storeShim:this.storeShim,rootContentUrn:L.default.getShareUrn(this.args.shareUrn,this.previewedUpdateV2),actor:this.currentActor,shouldFirePemTracking:!0,graphql:this.graphql,returnPromise:!0}).then((e=>{if(!this.isDestroying){var t,i,r,a,o,s,l,d,c,u,h,p,g,m,b
if(null!=e&&null!==(t=e.data)&&void 0!==t&&null!==(i=t.createFeedDashReposts)&&void 0!==i&&null!==(r=i.entity)&&void 0!==r&&null!==(a=r.feedbackData)&&void 0!==a&&a.promptComponentV2){if(!this.shareboxInteropService.isShareboxRenderedInsideInteropRoute){var f,_,T,y
this._renderPostPostPrompt(null==e||null===(f=e.data)||void 0===f||null===(_=f.createFeedDashReposts)||void 0===_||null===(T=_.entity)||void 0===T||null===(y=T.feedbackData)||void 0===y?void 0:y.promptComponentV2)}}else if(null!=e&&null!==(o=e.data)&&void 0!==o&&null!==(s=o.createFeedDashReposts)&&void 0!==s&&null!==(l=s.entity)&&void 0!==l&&null!==(d=l.feedbackData)&&void 0!==d&&d.toastComponent){var S,E,v,I
const{linkUrl:t,linkText:i,text:n}=null==e||null===(S=e.data)||void 0===S||null===(E=S.createFeedDashReposts)||void 0===E||null===(v=E.entity)||void 0===v||null===(I=v.feedbackData)||void 0===I?void 0:I.toastComponent
this._renderSuccessToast({message:n,ctaUrl:t,ctaText:i})}(0,n.default)(this,fi,ki).call(this)
null===(c=(u=this.args).onShareSuccess)||void 0===c||c.call(u,e,null==e||null===(h=e.data)||void 0===h||null===(p=h.createFeedDashReposts)||void 0===p||null===(g=p.entity)||void 0===g||null===(m=g.feedbackData)||void 0===m||null===(b=m.toastComponent)||void 0===b?void 0:b.linkUrl)}})).catch((e=>{if((0,d.isDestroying)(this))throw e
if(!this.isDestroying){let t=w.I18N_KEYS.SHARE_UNSUCCESSFUL;(0,x.isDuplicatePostError)(e)&&(t=w.I18N_KEYS.DUPLICATE_SHARE_UNSUCCESSFUL);(0,n.default)(this,Ci,Fi).call(this,{message:this._getI18nMessage(t)});(0,n.default)(this,Ai,zi).call(this)}})).finally((()=>{if(!this.isDestroying){var e,t
this.isPostRequestPending=!1
null===(e=(t=this.args).onCloseShareboxModal)||void 0===e||e.call(t)}}))}_removeBeforeUnloadListener(){y.default&&(0,T.removeEventListener)(this,window,"beforeunload",this._beforeUnloadHandler)}_buildShareCreateRequest(){const e=(0,n.default)(this,mi,Ri).call(this);(0,n.default)(this,bi,wi).call(this)
return e.then((e=>{var t,i,n,r,a
if(!this.isDestroying)return new P.default({graphql:this.graphql,currentVisibilityType:null===(t=this.currentVisibility)||void 0===t?void 0:t.type,shareContentsData:this.trackedPostContents,origin:this.args.shareOrigin,shareMedia:e,previewedUpdateV2:this.previewedUpdateV2,containerEntity:null===(i=this.currentVisibility)||void 0===i?void 0:i.containerEntity,dashNonMemberActorUrn:null!==(n=this.currentActor)&&void 0!==n&&n.isNonMemberActor?this.currentActor.dashUrn:void 0,targetAudience:this.currentTargetedAudience,allowedCommentersScope:this.currentCommentRestriction.type,postState:this.postingState,scheduledAt:this.postingState===k.POST_STATES.SCHEDULED?this.scheduledAt:void 0,isPaidEndorsement:this.currentIsPaidEndorsement,referencedUrn:null===(r=this.detourManager)||void 0===r||null===(a=r.getReferencedUrn)||void 0===a?void 0:a.call(r),pageInstanceOverride:this.args.pageInstanceOverride})}))}_buildShareStatusData(e){var t,i
if(this.isPrefilledWithCachedFailedPost){var n
null===(n=this.cachedPostManager)||void 0===n||n.setContainsVideo(!0)}const r=this.args.shareStatusCollection||new ee.TrackedArray
r.unshift((0,x.generateShareStatusData)({detourManager:this.detourManager,createRequestResponse:e}))
null===(t=(i=this.args).updateShareStatusCollection)||void 0===t||t.call(i,r)}_createNormShareRecord(){let{redirectUrl:e,onSuccessCallback:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this._buildShareCreateRequest().catch((e=>{if((0,d.isDestroying)(this))throw e
this.jet.logError(e,["sharebox-getShareMedia-fail"],!1)
throw e})).then((i=>{if(!(0,d.isDestroying)(this))return i.post().then((i=>{if(!(0,d.isDestroying)(this)){if(this.isScheduledPostEditLixEnabled&&t){this._renderSuccessToast({message:this._getI18nMessage(w.I18N_KEYS.SUCCESS_TOAST_DRAFT)})
t()}else(0,n.default)(this,vi,Bi).call(this,i);(0,n.default)(this,fi,ki).call(this)
e&&this.navigateToPremiumUpsell()}}))})).catch((e=>{var i,n,r
if((0,d.isDestroying)(this))throw e
const a=this.isScheduledPostEditLixEnabled&&t
this._onShareFailure(e,a)
const o=e&&e.message
let s
this.postingState===k.POST_STATES.PUBLISHED?s=k.JET_TAGS.POST_CREATION:this.postingState===k.POST_STATES.DRAFT?s=k.JET_TAGS.DRAFT_CREATION:this.postingState===k.POST_STATES.SCHEDULED&&(s=k.JET_TAGS.SCHEDULE_CREATION)
this.jet.logError(o,s,{callTreeId:null==e||null===(i=e.errors)||void 0===i||null===(n=i[0])||void 0===n||null===(r=n.meta)||void 0===r?void 0:r.callTreeId,shouldRethrow:!1})
if(!e||!e.errors)throw e})).finally((()=>{if(!this.isDestroying){this.isPostRequestPending=!1
this._shouldTriggerSurvey()&&this.qualtricsSurvey.initiateSurvey(this._prepareDefaultSurveyArgs())}}))}_shouldTriggerSurvey(){var e
return[k.POST_STATES.PUBLISHED,k.POST_STATES.SCHEDULED].includes(this.postingState)&&w.CREATE_SURVEY_ELIGIBLE_PAGES.includes(this.tracking.getCurrentPageKey())&&(null===(e=this.locale)||void 0===e?void 0:e.interfaceLocale)===q.QUALTRICS_SURVEY_ELIGIBLE_LOCALE&&(0,X.shouldShowSurveyWithRandomSampling)(w.CREATE_PILLAR_SURVEY_CONSTANTS.samplingRateInPercentage)&&!this.internalTools.isLinkedInEmployee}_prepareDefaultSurveyArgs(){const{interceptId:e,zoneId:t,samplingRateInPercentage:i,legoConfig:n,dwellTime:r}=w.CREATE_PILLAR_SURVEY_CONSTANTS
return{fetchSurveyLegoTrackingToken:()=>(0,x.fireLegoRequestHelper)(this.legoResolver,n,(()=>{})),fireQualtricsSurveyTracking:this._fireQualtricsSurveyTracking.bind(this),isMessageConvoBubbleUnminimized:()=>this.msgOverlayManager.isMessageConvoBubbleUnminimized(),memberId:this.authenticatedUser.memberId,triggerInfo:{interceptId:e,zoneId:t,sampleRate:i,legoConfig:n,surveyType:"PILLARS",dwellTime:r}}}_fireQualtricsSurveyTracking(e,t,i){i&&this.legoTracking.sendLegoImpression(i,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)
this.tracking.fireTrackingPayload(q.QUALAROO_QUESTION_SUBMISSION_EVENT,{surveyId:t,questionGUID:e})}_deleteSavedDraft(){const e=this.postingState===k.POST_STATES.SCHEDULED?k.SHARING_DELETE_DEGRADATION_TRACKING_METADATA.DELETE_SCHEDULED:k.SHARING_DELETE_DEGRADATION_TRACKING_METADATA.DELETE_DRAFT,t=this.postingState===k.POST_STATES.SCHEDULED?k.POST_STATES.SCHEDULED:k.POST_STATES.DRAFT
return(0,N.deletePostGraphql)(this.storeShim,this.originalUnpublishedPostData.ugcUrn,this.graphql,e,t).then((()=>{(0,d.isDestroying)(this)||(0,M.fireSharingClientSensor)(this.clientSensor,F.SharingClientSensorMetrics.DELETE_DRAFT_SUCCESS)})).catch((e=>{if((0,d.isDestroying)(this))throw e;(0,M.fireSharingClientSensor)(this.clientSensor,F.SharingClientSensorMetrics.DELETE_DRAFT_FAILURE)
throw e}))}_fetchURLPreview(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
this.watchmanTracking.startInteraction({groupName:"sharing",userJourney:"share-box-core",userInteraction:"sharing-url-preview"})
const i=this.isUrlPreviewDashLixEnabled?(0,x.fetchDashUrlPreviewPromise)(e,this.graphql):(0,x.fetchUrlPreviewPromise)(e,this.storeShim)
this.urlActivelyBeingFetched=e
const r=new H.default({urlPreviewDataPromise:i,i18nService:this.i18n,isOrganizationActor:this.isOrganizationActor,isUrlPreviewDashEnabled:this.isUrlPreviewDashLixEnabled,m3Schema:this.m3Schema,clientSensorService:this.clientSensor,shareboxSessionUrn:this.args.shareBoxSessionUrn,watchmanTrackingService:this.watchmanTracking})
t?(0,n.default)(this,Ei,Ui).call(this,r):this._onDetourComplete(r)
i.then((t=>{var i,n
if((0,d.isDestroying)(this))return
this.urlActivelyBeingDisplayed=e
const a=this.isUrlPreviewDashLixEnabled?null===(i=t.data)||void 0===i||null===(n=i.contentcreationDashUpdateUrlPreviewByUrl)||void 0===n?void 0:n.elements[0]:t
this._onUrlPreviewData(r,a)}))}_removeURLPreview(){this.urlActivelyBeingDisplayed=null
this.removeDetourPreview()}_getDraftSuccessToast(){this._renderSuccessToast({message:this._getI18nMessage(w.I18N_KEYS.SUCCESS_TOAST_DRAFT)})}_getFixedVisibilityOption(){var e
return null!==(e=this.args.fixedVisibilityType)&&void 0!==e&&e.containerEntity?(0,U.formatContainerFixedVisibilityOption)(this.args.fixedVisibilityType):this.anyoneVisibilityOptionType}_getI18nMessage(e){if(this.isDestroying)return""
if(!this.i18nCache||!this.i18nCache[e]){const t=(0,f.copy)(this.i18nCache)||{}
t[e]=this.i18n.lookupTranslation("components/sharing-v2@open-share-box",e)()
this.i18nCache=t}return this.i18nCache[e]}_getPostPostPrompt(e){var t,i
const n=e.status,r=null===(t=e.data)||void 0===t||null===(i=t.createContentcreationDashShares.entity)||void 0===i?void 0:i.status
if(r||n){var a,o,s,l,d,c,u,h
this.args.openPostPostPrompt({promptComponent:null==n?void 0:n.promptComponent,promptComponentV2:null==n?void 0:n.promptComponentV2,dashPromptComponent:null==r||null===(a=r.feedbackData)||void 0===a?void 0:a.promptComponentV2,mainToastText:null==n?void 0:n.mainToastText,mainToastCtaText:null==n?void 0:n.toastCtaText,mainToastCtaUrl:null==n?void 0:n.toastCtaUrl,successIcon:null==n?void 0:n.successIcon,modalTitle:null==n?void 0:n.modalTitle,updateTrackingId:(null==r||null===(o=r.lifecycleState)||void 0===o||null===(s=o.PublishedState)||void 0===s||null===(l=s.metadata)||void 0===l||null===(d=l.trackingData)||void 0===d?void 0:d.trackingId)||(null==n||null===(c=n.updateV2)||void 0===c||null===(u=c.updateMetadata)||void 0===u||null===(h=u.trackingData)||void 0===h?void 0:h.trackingId),promptProviderType:null==n?void 0:n.promptType})}this._handleOnSuccessCallback(e)}_getPostSuccessToast(e){var t,i,n,r,a
const o=null==e?void 0:e.status,s=(null==e||null===(t=e.data)||void 0===t?void 0:t.createContentcreationDashShares)||(null==e||null===(i=e.data)||void 0===i?void 0:i.updateContentcreationDashShares),l=null==s||null===(n=s.entity)||void 0===n||null===(r=n.status)||void 0===r||null===(a=r.feedbackData)||void 0===a?void 0:a.toastComponent,d=(null==l?void 0:l.text)||(null==o?void 0:o.mainToastText),c=(null==l?void 0:l.linkText)||(null==o?void 0:o.toastCtaText),u=(null==l?void 0:l.linkUrl)||(null==o?void 0:o.toastCtaUrl)
d&&this._renderSuccessToast({message:d,ctaText:c,ctaUrl:u})
this._handleOnSuccessCallback(e)}_goToCreation(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]
e||(this.cursorRange={})
this.shareboxState=w.SHAREBOX_STATE.CREATION
this.isTextEditorFocused=t}_initialGoToCreation(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]
e||(this.cursorRange={})
this.initialShareboxState=w.SHAREBOX_STATE.CREATION
this.isTextEditorFocused=t}_handleDetourShareText(e){this.trackedPostContents.appendTextAndMentions(this.storeShim,e)
const t=e&&(!(0,b.isEmpty)(e.values)||!(0,b.isEmpty)(e.text)),{preDetourCharCount:i}=this
t&&i&&(this.cursorRange={startCursor:0,endCursor:i+1})}_handleOnSuccessCallback(e){try{var t,i,n,r,a,o,s
const y=(null==e||null===(t=e.data)||void 0===t?void 0:t.createContentcreationDashShares)||(null==e||null===(i=e.data)||void 0===i?void 0:i.updateContentcreationDashShares),S=(null==y||null===(n=y.entity)||void 0===n||null===(r=n.status)||void 0===r||null===(a=r.feedbackData)||void 0===a||null===(o=a.toastComponent)||void 0===o?void 0:o.linkUrl)||(null==e||null===(s=e.status)||void 0===s?void 0:s.toastCtaUrl)
let E
if(this.shareboxInteropService.isShareboxRenderedInsideInteropRoute){var l,d,c,u,h,p,g,m
const t=(null===(l=e.status)||void 0===l?void 0:l.promptComponent)||(null===(d=e.status)||void 0===d?void 0:d.promptComponentV2)||(null===(c=e.data)||void 0===c||null===(u=c.createContentcreationDashShares)||void 0===u||null===(h=u.entity)||void 0===h||null===(p=h.status)||void 0===p||null===(g=p.feedbackData)||void 0===g?void 0:g.promptComponentV2)
E=null==t||null===(m=t.promptHeader)||void 0===m?void 0:m.ctaUrl}if(this.shareboxInteropService.isShareboxRenderedInsideInteropRoute&&this.postingState===k.POST_STATES.DRAFT){var b,f
null===(b=(f=this.args).onShareSuccess)||void 0===b||b.call(f,(0,$.getRecordFromResponse)(e),S||E,this.postingState,this.postingState===k.POST_STATES.DRAFT&&this.trackedPostContents.text)}else{var _,T
null===(_=(T=this.args).onShareSuccess)||void 0===_||_.call(T,(0,$.getRecordFromResponse)(e),S||E,this.postingState)}(0,M.fireSharingClientSensor)(this.clientSensor,F.SharingClientSensorMetrics.ON_SHARE_SUCCESS_CALLBACK_SUCCESS)}catch(e){(0,M.fireSharingClientSensor)(this.clientSensor,F.SharingClientSensorMetrics.ON_SHARE_SUCCESS_CALLBACK_FAILURE)
this.jet.info(e,["open-share-box-handle-onsuccess-callback"],{shouldRethrow:!1})}}_onDetourComplete(e){var t;(0,n.default)(this,yi,Li).call(this,e)
this.detourManager=e
this._goToCreation()
const i=null===(t=e.getShareText)||void 0===t?void 0:t.call(e)
i&&this._handleDetourShareText(i)
this.hasUnsavedDetourChanges=!1}_onDetourPreviewDataChanged(e){if(e){this.detourPreviewData=e
this.feedbackManager.updateDetourFeedbackState(e,this.draftMediaIsLoading,this.args.hideDetourPreview,!!this.urlActivelyBeingFetched)
const{previewComponent:t,previewAdditionalContents:i,isDashPreview:n}=e
if(this.urlActivelyBeingFetched&&(null==e?void 0:e.previewState)===R.DETOUR_PREVIEW_STATES.FAILED){this.cachedFailedUrlsCollection.push(this.urlActivelyBeingFetched)
this.urlActivelyBeingFetched=null}this._setPreviewFeedComponent(t,i,n)}this.isInUnpublishedPostEditMode&&(this.draftAttachmentHasChanged=!0)}_onDetourStatusDataChanged(e){e&&(this.detourData=e.detourData)}_onShareFailure(e,t){if(this.isDestroying)return
"imagePostFailed"!==(null==e?void 0:e.name)&&(0,M.fireNormShareErrorClientSensors)(this.clientSensor,e,this.shareTypeForClientSensors)
this.isScheduledPostEditLixEnabled&&this.isEditingAScheduledPost&&(0,M.fireSharingClientSensor)(this.clientSensor,F.SharingClientSensorMetrics.SCHEDULE_EDIT_FAILURE)
this.invalidAiInputErrorMessage=""
if(t){(0,n.default)(this,Ci,Fi).call(this,{message:this._getI18nMessage(w.I18N_KEYS.FAILED_TOAST_DRAFT)})
this.sound.play(j.Sound.Error)
return}let i=this._getI18nMessage(this.isPrefilledWithCachedFailedPost?w.I18N_KEYS.SHARE_UNSUCCESSFUL_V2:w.I18N_KEYS.SHARE_UNSUCCESSFUL);(0,_.isValidVoyagerUserVisibleException)(e)?i=e.errors[0].message:"imagePostFailed"===e.name&&e.message&&(i=e.message)
if(this.isPrefilledWithCachedFailedPost){var r,a;(0,n.default)(this,Ci,Fi).call(this,{message:i,ctaText:this._getI18nMessage(w.I18N_KEYS.RETURN_TO_DRAFT),ctaRouteName:"feed-share-box-redirect"})
null===(r=(a=this.args).onCloseShareboxModal)||void 0===r||r.call(a);(0,n.default)(this,Ai,zi).call(this)}else{this.feedbackManager.addFeedbackItem({feedbackMsgText:i,feedbackMsgType:w.FEEDBACK_MESSAGE_TYPE.POST_FAILURE});(0,n.default)(this,Ai,zi).call(this)}}_onUrlPreviewData(e,t){var i,n,r,a,o,s,l,d
if(this.isDestroying)return
this.attachedShareMediaUrn=this.isUrlPreviewDashLixEnabled?null===(i=t.update)||void 0===i||null===(n=i.metadata)||void 0===n?void 0:n.shareMediaUrn:null===(r=t.update)||void 0===r||null===(a=r.updateMetadata)||void 0===a?void 0:a.shareMediaUrn
if(this.guiderManager){var c,u
this.guiderManager.updateattachedShareMediaUrn(this.attachedShareMediaUrn||(null===(c=t.update)||void 0===c||null===(u=c.content)||void 0===u?void 0:u.urn))}if(this.isUrlPreviewDashLixEnabled?null===(o=t.update)||void 0===o||null===(s=o.metadata)||void 0===s?void 0:s.shareUrn:null===(l=t.update)||void 0===l||null===(d=l.updateMetadata)||void 0===d?void 0:d.shareUrn){var h
this.previewedUpdateV2=t.update
null===(h=e.onCancel)||void 0===h||h.call(e)
this.detourManager=null
this.isInUnpublishedPostEditMode&&(this.nonUgcSupportedDraftChangesMade=!0)}}_postEditShare(){return(0,N.partialShareUpdate)({store:this.storeShim,graphql:this.graphql,ugcUrn:this.args.shareUrn,degradationPemTrackingMetaData:k.SHARING_UPDATE_DEGRADATION_TRACKING_METADATA.PARTIAL_EDIT,shareContentsData:this.newEditedCommentary,shareMedia:this.editedShareMedia,updateUrn:this.args.updateV2.entityUrn}).then((e=>{(0,d.isDestroying)(this)||e&&this._onShareEditSuccess(e)})).catch((e=>{if((0,d.isDestroying)(this))throw e
this._onShareFailure(e)
if(!e||!e.errors)throw e})).finally((()=>{this.isDestroying||(this.isPostRequestPending=!1)}))}_renderSuccessToast(e){if(!this.args.disableSuccessToasts){const t=e.message
this.a11yNotification.setTextInLiveRegion(t)
this.persistentToastManager.success(e)
this.postingState!==k.POST_STATES.DRAFT&&this.sound.play(j.Sound.PostSuccess)}}_renderPostPostPrompt(e){if(!this.args.disableSuccessToasts){this.a11yNotification.setTextInLiveRegion(e.promptHeader.mainText)
this.args.openPostPostPrompt({dashPromptComponent:e})
this.postingState!==k.POST_STATES.DRAFT&&this.sound.play(j.Sound.PostSuccess)}}_setInitialCurrentVisibility(){var e
if(this.args.fixedVisibilityType)this.currentVisibility=this._getFixedVisibilityOption()
else if(this.args.initialDetourManager&&(null===(e=this.args.initialDetourManager)||void 0===e?void 0:e.detourType)===R.DETOUR_TYPES.EVENTS)this.currentVisibility=this.anyoneVisibilityOptionType
else if(this.useStickyVisibility){const{unknownInitialVisibilityText:e}=this.args.initializationData
if(e)this.currentVisibility=new V.default({type:k.VALID_VISIBILITY_TYPES.SELECT_VISIBILITY,name:(0,G.default)(e)})
else{const{selectedVisibility:e,selectedCommentControlConfig:t}=(0,U.findSelectedOptions)(this.initializationStickyVisibilityData)
this.commentRestrictionUserSelectionType=t.allowedCommentersScope
this.currentVisibility=(0,U.formatSelectedStickyVisibilityItem)(e)}}else this.currentVisibility=this.anyoneVisibilityOptionType}_setPreviewFeedComponent(e,t,i){this.isDetourPreviewDash=i
if(e){this.previewedUpdateV2=i?(0,B.getDashUpdateWithFeedComponent)(this.storeShim,e,t):(0,B.getUpdateV2WithFeedComponent)(this.storeShim,e,t)
this.guiderManager&&this.guiderManager.updateHasAttachment(!0)}}_setupEditModeSharebox(e){var t
this.currentVisibility=(0,U.getVisibilityOptionFromUpdate)(e,this.i18n)
this.originalShareContentsData=(0,E.generateTextAndMentionsFromTextViewModelV2)(this.storeShim,null===(t=e.commentary)||void 0===t?void 0:t.text)
this.trackedPostContents.initializeDataFromDashUpdate(this.storeShim,e);(e.content||e.resharedUpdate)&&(this.previewedUpdateV2=e)}_setupShareboxWithInitialContent(){if(this.isInRepostMode){this.previewedUpdateV2=this.args.updateV2
this.repostEducationUtility=new L.default({legoResolver:this.legoResolver,legoTracking:this.legoTracking})}(0,b.isPresent)(this.args.urlToShare)&&!this.args.initialDetourManager&&this._fetchURLPreview(this.args.urlToShare,!0)
if((0,b.isPresent)(this.args.initialDetourManager)){const e=this.args.initialDetourManager
e.isValid()&&(0,n.default)(this,Ei,Ui).call(this,e)}else if(this.isInUnpublishedPostEditMode||this.isPrefilledWithCachedFailedPost){var e
null!==(e=this.originalUnpublishedPostData)&&void 0!==e&&e.hasMedia&&(this.protectedMediaPresentForDraft=!0)
if(this.args.pendingDraftUpdate){this.guiderManager&&this.guiderManager.updateHasAttachment(!0)
this.draftMediaIsLoading=!0
this.protectedMediaPresentForDraft=!0
this.args.pendingDraftUpdate.catch((e=>{if((0,d.isDestroying)(this))throw e;(0,M.fireSharingClientSensor)(this.clientSensor,F.SharingClientSensorMetrics.DRAFT_MEDIA_REQUEST_FAILURE)
const t=this._getI18nMessage("i18n_draft_media__load_fail")
this.feedbackManager.addFeedbackItem({feedbackMsgText:t,feedbackMsgType:w.FEEDBACK_MESSAGE_TYPE.POST_FAILURE})
this.guiderManager&&this.guiderManager.updateHasAttachment(!1)
this.draftMediaIsLoading=!1
this.protectedMediaPresentForDraft=!1
throw e})).then((e=>{if(!this.isDestroying){(0,M.fireSharingClientSensor)(this.clientSensor,F.SharingClientSensorMetrics.DRAFT_MEDIA_REQUEST_SUCCESS)
if(this.isPrefilledWithCachedFailedPost){var t
null!==(t=this.cachedPostManager)&&void 0!==t&&t.isVideoProcessing||(this.previewedUpdateV2=e)}else{var i,n
this.previewedUpdateV2=e.elements?null===(i=e.elements)||void 0===i?void 0:i[0]:null===(n=e.data.feedDashDraftMediaFeedByDraftMedia.elements)||void 0===n?void 0:n[0]}this.draftMediaIsLoading=!1}}))}const{commentary:t}=this.originalUnpublishedPostData||{}
if(t){this.originalShareContentsData=(0,E.generateTextAndMentionsFromTextViewModelV2)(this.storeShim,t)
this.trackedPostContents.initializeDataFromTVMV2(this.storeShim,t)}else this.originalShareContentsData={text:"",mentions:[]}}else if(this.args.prefilledTextTVMV2){this.trackedPostContents.initializeDataFromTVMV2(this.storeShim,this.args.prefilledTextTVMV2)
this.args.showPrefilledTextUnmodifiedWarning&&(this.originalShareContentsData=this.trackedPostContents.trackedPostContentsData)}else if(this.args.hashtag){this.trackedPostContents.initializeDataFromHashtag(this.args.hashtag)
this.cursorRange={startCursor:0}}else this.originalShareContentsData={text:"",mentions:[]}}_takePreDetourSnapshot(){this.preDetourCharCount=this.trackedPostContents.characterCount}_updateSavedDraft(){let{redirectUrl:e,onSuccessCallback:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const{ugcUrn:i}=this.originalUnpublishedPostData,r=this.newEditedCommentary,a=this.draftCommentRestrictionHasChanged?this.currentCommentRestriction.type:null,o=!this.shareboxHasAttachment&&this.draftAttachmentHasChanged
return(0,n.default)(this,mi,Ri).call(this).catch((e=>{if((0,d.isDestroying)(this))throw e
this.jet.logError(e,["sharebox-getShareMedia-fail"],!1)
throw e})).then((s=>{if((0,d.isDestroying)(this))return
const l=this.postingState===k.POST_STATES.SCHEDULED?this.scheduledAt:void 0,c=this.currentIsPaidEndorsementChanged?this.currentIsPaidEndorsement:void 0
return(0,N.partialShareUpdate)({store:this.storeShim,graphql:this.graphql,isEditingAScheduledPost:this.isEditingAScheduledPost,scheduledPostNowEnabled:this.scheduledPostNowEnabled,isEditingADraftPost:this.isEditingADraftPost,ugcUrn:i,shareContentsData:r,shareMedia:s,allowedCommentersScope:a,deleteMedia:o,postState:this.postingState,degradationPemTrackingMetaData:k.SHARING_UPDATE_DEGRADATION_TRACKING_METADATA[`PARTIAL_${this.postingState}`],scheduledAt:l,isPaidEndorsement:c}).then((i=>{if(!(0,d.isDestroying)(this)){this.isScheduledPostEditLixEnabled&&this.isEditingAScheduledPost&&(0,M.fireSharingClientSensor)(this.clientSensor,F.SharingClientSensorMetrics.SCHEDULE_EDIT_SUCCESS)
if(this.isScheduledPostEditLixEnabled&&t){this._renderSuccessToast({message:this._getI18nMessage(w.I18N_KEYS.SUCCESS_TOAST_DRAFT)})
t()}else(0,n.default)(this,Ii,Hi).call(this,i)
e&&this.navigateToPremiumUpsell()}})).catch((e=>{if((0,d.isDestroying)(this))throw e
const i=this.isScheduledPostEditLixEnabled&&t
this._onShareFailure(e,i)
if(!e||!e.errors)throw e})).finally((()=>{this.isDestroying||(this.isPostRequestPending=!1)}))}))}_updateGuiderManagerShareText(e){var t,i
null===(t=(i=this.args).onShareTextUpdate)||void 0===t||t.call(i,e)
!this.guiderManager||this.args.isWritingAssistantEnabled||this.isPremiumUpsellExperienceEnabled||this.guiderManager.updateShareText(e)}_updateEntryPointTextWithDraftCopy(e){var t,i
null===(t=(i=this.args).updateEntryPointTextWithDraftCopy)||void 0===t||t.call(i,e)}convertToInstantRepostViaDialogConfirm(){this.repostEducationUtility.sendRepostEducationPrimaryAction()
return this._callInstantRepost()}setHasUnsavedDetourChanges(e){this.hasUnsavedDetourChanges=e}closeWritingAssistant(){this.writingAssistantIsOpen=!1
this.isWritingAssistantRequestInProgress=!1}deleteDraft(){this._updateEntryPointTextWithDraftCopy("")
this.shareboxInteropService.isShareboxRenderedInsideInteropRoute&&this.shareboxInteropService.isSharingNileInteropEnabled&&this.interop.nilePostMessage("nile:server-request-action",{requestId:"com.linkedin.sdui.action.sharing.closed-sharebox.server-action",payload:{postingState:k.POST_STATES.DRAFT,draftText:"",postUrl:""}})
return this._deleteSavedDraft()}dropCallBack(e,t){if(!this.detourData&&!this.shareboxHasAttachment){if(e.length>K.IMAGE_UPLOAD_LIMIT){(0,n.default)(this,_i,Mi).call(this,{errorCode:K.UPLOAD_MEDIA_ERROR_CODES.MULTI_IMAGE_LIMIT_REACHED,contentType:K.UPLOAD_MEDIA_TYPES.IMAGE_SHARING})
return}this.mediaDataGenerator.process(e).then((e=>{if(!this.isDestroying){const i=k.MEDIA_TYPE_TO_DETOUR_TYPE[null==e?void 0:e.contentType]
if("IMAGE"===i||"VIDEO"===i){const n=(0,$.getTrackingTypeFromMediaData)(i,e);(0,Z.fireDragAndDropTrackingEvent)(this.tracking,"opensharebox",n,t)
this.detourData=(0,$.buildDragDropInitialDetourData)("IMAGE_VIDEO",e)
this.openDetour({detourType:"IMAGE_VIDEO"},null,!0)}else{this.detourData=void 0;(0,n.default)(this,_i,Mi).call(this,{errorCode:"filetype",contentType:K.UPLOAD_MEDIA_TYPES.MIXED_MEDIA})}}})).catch((e=>{if((0,d.isDestroying)(this))throw e
if(!e.errorCode)throw e
this.detourData=void 0;(0,n.default)(this,_i,Mi).call(this,e)}))}}editDetour(){this._takePreDetourSnapshot()
this.shareboxState=w.SHAREBOX_STATE.DETOUR}goToCreation(e){e&&this.args.scheduledPostAction===k.SCHEDULED_POST_ACTIONS.MODIFY_SCHEDULE?this.args.onReInitializeSharebox({ugcUrn:null,scheduledPostAction:null,datePickersOnBackPostView:this.args.datePickersOnBackPostView,sharePreview:this.args.scheduledPostSharePreview}):this._goToCreation()}goToPostManager(e){this.setActiveControl(w.SHAREBOX_STATE.MANAGEMENT);(0,n.default)(this,Ti,xi).call(this,e)}goToVisibilityScreen(e){this.setActiveControl(e)
this.visibilityScreen=e
this.shareboxState=w.SHAREBOX_STATE.VISIBILITY}improveWithAiHandler(){this.shouldCheckWordLengthForWritingAssistant=!0
this.tookWritingAssistantAction()
if(!this.isAiInputQueryTooShort){this.invalidAiInputErrorMessage=""
this.writingAssistantFeedbackCardView=te.FEEDBACK_CARD_VIEW.CLOSED
this.improveWithAiQuery={mentions:this.trackedPostContents.mentions,text:this.trackedPostContents.text}
this.openWritingAssistant()
this.shouldCheckWordLengthForWritingAssistant=!1}}onDetourComplete(e){this._onDetourComplete(e)}onEditShareMedia(e){this.editedShareMedia=e}onFoundUrl(e){const t=this.cachedFailedUrlsCollection.includes(e),i=this.cachedDismissedUrlsCollection.includes(e),n=this.isUrlPreviewFetchLastBeforePublishing?!this.shareboxHasAttachment||this.shareboxHasAttachment&&this.urlActivelyBeingDisplayed:!this.shareboxHasAttachment
this.broadcastContentAttached||!n||this.args.pendingDraftUpdate||this.isInEditMode||t||i||(0,T.debounceTask)(this,"_fetchURLPreview",e,(0,T.getTimeoutOrTestFallback)(500))}onScheduleSelected(e){this.scheduledAt=e}onWritingAssistantError(e,t){if(e){this.invalidAiInputQuery=e
this.invalidAiInputErrorMessage=t
this.closeWritingAssistant()}}onWAFeedbackCardAction(e){"FEEDBACK_SURVEY_SUBMITTED_PREMIUM"===e&&(this.gaiContentUrn=null)
this.writingAssistantFeedbackCardView=e}openDetour(e,t,i){if("photo_first"===this.mediaDetourTreatment||"video_first"===this.mediaDetourTreatment)if(e.initialDetourData){this.detourData=e.initialDetourData
const t=this.detourData.detourLaunchConfig
t&&["IMAGE_SHARING","VIDEO_SHARING"].includes(t.detourLaunchPage)&&!this.shareboxInteropService.isShareboxRenderedInsideInteropRoute&&(t.detourLaunchPage="MIXED_MEDIA")}else i||(this.detourData=void 0)
this._takePreDetourSnapshot()
this.shareboxState=w.SHAREBOX_STATE.DETOUR
this.detourType=e.detourType
this.setActiveControl(e.dataTestName)}openWritingAssistant(){this.writingAssistantIsOpen=!0
this.tookWritingAssistantAction()}pasteEventHandler(e){const{files:t,types:i}=e.clipboardData;(null==t?void 0:t.length)>0&&i.every((e=>"Files"===e))&&this.dropCallBack(t,"paste");(0,$.handlePasteEventTracking)({event:e,tracking:this.tracking,shareSessionUrn:this.args.shareBoxSessionUrn})}publishPost(){if(!this.confirmationDialogWasRendered&&this.promptConfirmationDialogBeforePosting){this.isConfirmationDialogOpen=!0
this.confirmationDialogWasRendered=!0
this.showInstantRepostEducationDialog&&this.repostEducationUtility.sendRepostEducationImpression()
return}this.isPostRequestPending=!0
if(this.isInEditMode){this._postEditShare()
return}const e=k.TIME_VALUES.TEN_MINS_MS
if(!this.scheduledAt||(0,$.isTimestampWithinBoundaries)(this.scheduledAt,e)){this.scheduledAt&&this.canBeScheduled?this.postingState=k.POST_STATES.SCHEDULED:this.postingState=k.POST_STATES.PUBLISHED
if(this.args.isEditingFailedScheduledPost||this.isPrefilledWithCachedFailedPost)this._createNormShareRecord()
else if(!this.isInUnpublishedPostEditMode||this.nonUgcSupportedDraftChangesMade||this.draftAttachmentHasChanged)if(this.shouldConvertToInstantRepost){(0,n.default)(this,bi,wi).call(this)
this._callInstantRepost()}else this._createNormShareRecord()
else this._updateSavedDraft()}else{const e=this._getI18nMessage("i18n_schedule_out_of_bounds_updated_v2")
this.feedbackManager.addFeedbackItem({feedbackMsgText:e,feedbackMsgType:w.FEEDBACK_MESSAGE_TYPE.POST_FAILURE})
this.isPostRequestPending=!1}}removeDetourPreview(){var e,t,i,n
if("URL_PREVIEW"===(null===(e=this.detourManager)||void 0===e?void 0:e.detourType)&&this.urlActivelyBeingDisplayed){this.cachedDismissedUrlsCollection.push(this.urlActivelyBeingDisplayed)
this.urlActivelyBeingDisplayed=null}const r=null===(t=this.detourManager)||void 0===t?void 0:t.detourPreview
r&&r.unsubscribe(this.detourPreviewHandler)
const a=null===(i=this.detourManager)||void 0===i?void 0:i.dashDetourPreview
a&&a.unsubscribe(this.dashDetourPreviewHandler)
const o=null===(n=this.detourManager)||void 0===n?void 0:n.detourStatus
o&&o.unsubscribe(this.detourStatusHandler)
const{detourManager:s}=this
if(this.isInUnpublishedPostEditMode&&this.protectedMediaPresentForDraft){this.protectedMediaPresentForDraft=!1
this.isRepostUrlPreview&&(this.nonUgcSupportedDraftChangesMade=!0)}if(s){var l
null===(l=s.onCancel)||void 0===l||l.call(s)
this.detourManager=null}this.previewedUpdateV2=void 0
this.isDetourPreviewDash=void 0
this.detourPreviewData=void 0
this.detourData=void 0
this.detourType=void 0
this.attachedShareMediaUrn=void 0
this.isInUnpublishedPostEditMode&&(this.draftAttachmentHasChanged=!0)
this.hasUnsavedDetourChanges=!1
if(this.guiderManager){this.guiderManager.updateHasAttachment(!1)
this.guiderManager.updateattachedShareMediaUrn(this.attachedShareMediaUrn)}}resetShareboxContents(){this.updateShareViewModel([],"")
this.removeDetourPreview()
this.scheduledAt=null}saveDraft(e){let{redirectUrl:t,onSuccessCallback:i}=e
this.postingState=k.POST_STATES.DRAFT
this.isPostRequestPending=!0
if(this.args.isEditingFailedScheduledPost||this.isPrefilledWithCachedFailedPost)this._createNormShareRecord({redirectUrl:t,onSuccessCallback:i})
else if(!this.isInUnpublishedPostEditMode||this.nonUgcSupportedDraftChangesMade||this.draftAttachmentHasChanged)this._createNormShareRecord({redirectUrl:t,onSuccessCallback:i})
else if(this.draftPostHasChanged)this._updateSavedDraft({redirectUrl:t,onSuccessCallback:i})
else{if(this.isScheduledPostEditLixEnabled&&i){this._renderSuccessToast({message:this._getI18nMessage(w.I18N_KEYS.SUCCESS_TOAST_DRAFT)})
this.isPostRequestPending=!1
i()}else this._getDraftSuccessToast()
t&&this.navigateToPremiumUpsell()}}setActiveControl(e){this.focusOnActive=e}showWAFeedbackCard(){this.writingAssistantFeedbackCardView=te.FEEDBACK_CARD_VIEW.REQUEST}tookWritingAssistantAction(){this.hasInteractedWithWritingAssistant=!0}undoAiDraftHandler(){this.improveWithAiQuery=null
this.writingAssistantFeedbackCardView=te.FEEDBACK_CARD_VIEW.CLOSED}updateAiGeneratedData(e,t){this.aiGeneratedText=e
this.gaiContentUrn=t}updateAuthorAndAudienceSettings(e){var t
if(e.actor){var i,r
null===(i=(r=this.args).onActorSelected)||void 0===i||i.call(r,e.actor)
this.localActor=e.actor
if(this.isOrganizationActor){(0,n.default)(this,Oi,Gi).call(this);(0,n.default)(this,Di,ji).call(this)}}if(e.commentRestriction){this.currentCommentRestriction=e.commentRestriction
this.isInUnpublishedPostEditMode&&(this.draftCommentRestrictionHasChanged=!0)}(null===(t=e.visibility)||void 0===t?void 0:t.type)===k.VALID_VISIBILITY_TYPES.TARGETED?this.currentTargetedAudience=e.targetedAudience:e.visibility&&(this.currentTargetedAudience=null)
if(e.visibility){this.currentVisibility=e.visibility
if(this.isInUnpublishedPostEditMode){this.nonUgcSupportedDraftChangesMade=!0
this.protectedMediaPresentForDraft&&this.removeDetourPreview()}}e.stickyVisibilityData&&(this.localStickyVisibilityData=e.stickyVisibilityData)
e.commentRestrictionUserSelectionType&&(this.commentRestrictionUserSelectionType=e.commentRestrictionUserSelectionType)
e.actor?this.guiderManager&&this.guiderManager.updateOrganizationActor(this.dashOrganizationActorUrn,e.visibility.containerEntity):e.visibility&&this.guiderManager&&this.guiderManager.updateContainerUrn(e.visibility.containerEntity)
"boolean"==typeof e.isPaidEndorsement&&(this.currentIsPaidEndorsement=e.isPaidEndorsement)}updateCreationState(e){e.then((e=>{if(!(0,d.isDestroying)(this)){var t,i
this.inlineCalloutModel=(null==e||null===(t=e.inlineShareboxMemberMessageUnions)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.genericInlineShareboxMemberMessage)||null
this.isPostButtonDisabled="DISABLE_POST_BUTTON"===(null==e?void 0:e.shareboxExperience)}}))}updateShareViewModel(e,t){this.trackedPostContents.updateData(t,e)
this.urlActivelyBeingDisplayed&&this.urlActivelyBeingDisplayed!==this.args.urlToShare&&-1===t.indexOf(this.urlActivelyBeingDisplayed)&&this._removeURLPreview();(0,T.debounceTask)(this,"_updateGuiderManagerShareText",t,(0,T.getTimeoutOrTestFallback)(200))}writingAssistantRequestInProgressHandler(e){this.isWritingAssistantRequestInProgress=e
e||this.closeWritingAssistant()}_onShareEditSuccess(e){var t,i,n,r,a,o,s,l,d
if(this.isDestroying)return
this.socialCountsService.registerSocialCounts(null===(t=e.status)||void 0===t||null===(i=t.updateV2)||void 0===i?void 0:i.socialDetail);(0,M.fireSharingClientSensor)(this.clientSensor,F.SharingClientSensorMetrics.SHARE_EDIT_SUCCESS)
const c=null===(n=e.data)||void 0===n||null===(r=n.updateContentcreationDashShares)||void 0===r||null===(a=r.entity)||void 0===a||null===(o=a.status)||void 0===o||null===(s=o.lifecycleState)||void 0===s?void 0:s.PublishedState
null===(l=(d=this.args).onEditShareSuccess)||void 0===l||l.call(d,c)
this.shareboxInteropService.isShareboxRenderedInsideInteropRoute&&this.shareboxInteropService.isSharingNileInteropEnabled?this.interop.nilePostMessage("nile:server-request-action",{requestId:"com.linkedin.sdui.requests.UpdatePlatform.refreshUpdate.interop",payload:{feedDashUpdateEntityUrnString:c.toString(),shouldRenderToast:!0}}):this._renderSuccessToast({message:this._getI18nMessage(w.I18N_KEYS.CHANGES_SAVED)})}}),Me=(0,r.default)(ke.prototype,"a11yNotification",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=(0,r.default)(ke.prototype,"cachedPostManager",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=(0,r.default)(ke.prototype,"lix",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=(0,r.default)(ke.prototype,"graphql",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=(0,r.default)(ke.prototype,"clientSensor",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=(0,r.default)(ke.prototype,"feedbackManager",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=(0,r.default)(ke.prototype,"shareboxInteropService",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=(0,r.default)(ke.prototype,"interop",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=(0,r.default)(ke.prototype,"formatter",[p.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=(0,r.default)(ke.prototype,"i18n",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=(0,r.default)(ke.prototype,"jet",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=(0,r.default)(ke.prototype,"locale",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=(0,r.default)(ke.prototype,"m3Schema",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=(0,r.default)(ke.prototype,"persistentToastManager",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=(0,r.default)(ke.prototype,"socialCountsService",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=(0,r.default)(ke.prototype,"sound",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=(0,r.default)(ke.prototype,"storeShim",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=(0,r.default)(ke.prototype,"tracking",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=(0,r.default)(ke.prototype,"typeaheadTracking",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=(0,r.default)(ke.prototype,"watchmanTracking",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=(0,r.default)(ke.prototype,"windowService",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=(0,r.default)(ke.prototype,"vectorMediaUpload",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=(0,r.default)(ke.prototype,"legoResolver",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=(0,r.default)(ke.prototype,"legoTracking",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=(0,r.default)(ke.prototype,"router",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=(0,r.default)(ke.prototype,"qualtricsSurvey",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=(0,r.default)(ke.prototype,"msgOverlayManager",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=(0,r.default)(ke.prototype,"authenticatedUser",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=(0,r.default)(ke.prototype,"internalTools",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=(0,r.default)(ke.prototype,"aiGeneratedText",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=(0,r.default)(ke.prototype,"attachedShareMediaUrn",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=(0,r.default)(ke.prototype,"commentRestrictionUserSelectionType",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=(0,r.default)(ke.prototype,"currentCommentRestriction",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=(0,r.default)(ke.prototype,"currentIsPaidEndorsement",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gt=(0,r.default)(ke.prototype,"currentIsPaidEndorsementChanged",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e,t
return(null===(e=this.args.initializationData)||void 0===e||null===(t=e.draft)||void 0===t?void 0:t.paidEndorsement)!==this.currentIsPaidEndorsement}}),mt=(0,r.default)(ke.prototype,"currentTargetedAudience",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=(0,r.default)(ke.prototype,"currentVisibility",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=(0,r.default)(ke.prototype,"cursorRange",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=(0,r.default)(ke.prototype,"dashDetourPreviewHandler",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=(0,r.default)(ke.prototype,"detourData",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=(0,r.default)(ke.prototype,"detourManager",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=(0,r.default)(ke.prototype,"detourPreviewData",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=(0,r.default)(ke.prototype,"detourPreviewHandler",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=(0,r.default)(ke.prototype,"detourStatusHandler",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=(0,r.default)(ke.prototype,"detourType",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=(0,r.default)(ke.prototype,"draftAttachmentHasChanged",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),At=(0,r.default)(ke.prototype,"draftCommentRestrictionHasChanged",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ot=(0,r.default)(ke.prototype,"draftMediaIsLoading",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dt=(0,r.default)(ke.prototype,"editedShareMedia",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=(0,r.default)(ke.prototype,"focusOnActive",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=(0,r.default)(ke.prototype,"gaiContentUrn",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=(0,r.default)(ke.prototype,"hasInteractedWithWritingAssistant",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wt=(0,r.default)(ke.prototype,"hasUnsavedDetourChanges",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kt=(0,r.default)(ke.prototype,"improveWithAiQuery",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=(0,r.default)(ke.prototype,"initialShareboxState",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=(0,r.default)(ke.prototype,"initSessionUrn",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=(0,r.default)(ke.prototype,"initTimestamp",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vt=(0,r.default)(ke.prototype,"inlineCalloutModel",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e,t,i,n,r,a
return this.isGraphqlEnabledForInitCall?null===(e=this.args.initializationData)||void 0===e||null===(t=e.inlineShareboxMemberMessage)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.genericInlineShareboxMemberMessage:null===(n=this.args.initializationData)||void 0===n||null===(r=n.inlineShareboxMemberMessageUnions)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.genericInlineShareboxMemberMessage}}),Ut=(0,r.default)(ke.prototype,"invalidAiInputErrorMessage",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=(0,r.default)(ke.prototype,"invalidAiInputQuery",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht=(0,r.default)(ke.prototype,"isDeeplinked",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=(0,r.default)(ke.prototype,"isDetourPreviewDash",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=(0,r.default)(ke.prototype,"isPostButtonDisabled",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e
return"DISABLE_POST_BUTTON"===(null===(e=this.args.initializationData)||void 0===e?void 0:e.shareboxExperience)}}),Gt=(0,r.default)(ke.prototype,"isPostRequestPending",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jt=(0,r.default)(ke.prototype,"isTextEditorFocused",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wt=(0,r.default)(ke.prototype,"isConfirmationDialogOpen",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yt=(0,r.default)(ke.prototype,"isWritingAssistantRequestInProgress",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kt=(0,r.default)(ke.prototype,"localActor",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qt=(0,r.default)(ke.prototype,"localStickyVisibilityData",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xt=(0,r.default)(ke.prototype,"nonUgcSupportedDraftChangesMade",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qt=(0,r.default)(ke.prototype,"originalShareContentsData",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zt=(0,r.default)(ke.prototype,"organizationActors",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$t=(0,r.default)(ke.prototype,"postingState",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jt=(0,r.default)(ke.prototype,"postManagementView",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ei=(0,r.default)(ke.prototype,"preDetourCharCount",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ti=(0,r.default)(ke.prototype,"previewedUpdateV2",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),ii=(0,r.default)(ke.prototype,"protectedMediaPresentForDraft",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ni=(0,r.default)(ke.prototype,"repostEducationTrackingToken",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ri=(0,r.default)(ke.prototype,"routedView",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ai=(0,r.default)(ke.prototype,"scheduledAt",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oi=(0,r.default)(ke.prototype,"shareboxState",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),si=(0,r.default)(ke.prototype,"shouldCheckWordLengthForWritingAssistant",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),li=(0,r.default)(ke.prototype,"timeZoneDescriptionTVMV2",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),di=(0,r.default)(ke.prototype,"trackedPostContents",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new W.default}}),ci=(0,r.default)(ke.prototype,"visibilityScreen",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ui=(0,r.default)(ke.prototype,"writingAssistantFeedbackCardView",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return te.FEEDBACK_CARD_VIEW.CLOSED}}),hi=(0,r.default)(ke.prototype,"writingAssistantIsOpen",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pi=(0,r.default)(ke.prototype,"organizationShareboxExperience",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gi=(0,r.default)(ke.prototype,"premiumPageUpsellData",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,r.default)(ke.prototype,"aiDataPromise",[h.cached],Object.getOwnPropertyDescriptor(ke.prototype,"aiDataPromise"),ke.prototype),(0,r.default)(ke.prototype,"availableActors",[h.cached],Object.getOwnPropertyDescriptor(ke.prototype,"availableActors"),ke.prototype),(0,r.default)(ke.prototype,"currentActor",[h.cached],Object.getOwnPropertyDescriptor(ke.prototype,"currentActor"),ke.prototype),(0,r.default)(ke.prototype,"deferredAiData",[h.cached],Object.getOwnPropertyDescriptor(ke.prototype,"deferredAiData"),ke.prototype),(0,r.default)(ke.prototype,"initializationStickyVisibilityData",[h.cached],Object.getOwnPropertyDescriptor(ke.prototype,"initializationStickyVisibilityData"),ke.prototype),(0,r.default)(ke.prototype,"originalUnpublishedPostData",[h.cached],Object.getOwnPropertyDescriptor(ke.prototype,"originalUnpublishedPostData"),ke.prototype),(0,r.default)(ke.prototype,"convertToInstantRepostViaDialogConfirm",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"convertToInstantRepostViaDialogConfirm"),ke.prototype),(0,r.default)(ke.prototype,"setHasUnsavedDetourChanges",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"setHasUnsavedDetourChanges"),ke.prototype),(0,r.default)(ke.prototype,"closeWritingAssistant",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"closeWritingAssistant"),ke.prototype),(0,r.default)(ke.prototype,"deleteDraft",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"deleteDraft"),ke.prototype),(0,r.default)(ke.prototype,"dropCallBack",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"dropCallBack"),ke.prototype),(0,r.default)(ke.prototype,"editDetour",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"editDetour"),ke.prototype),(0,r.default)(ke.prototype,"goToCreation",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"goToCreation"),ke.prototype),(0,r.default)(ke.prototype,"goToPostManager",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"goToPostManager"),ke.prototype),(0,r.default)(ke.prototype,"goToVisibilityScreen",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"goToVisibilityScreen"),ke.prototype),(0,r.default)(ke.prototype,"improveWithAiHandler",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"improveWithAiHandler"),ke.prototype),(0,r.default)(ke.prototype,"onDetourComplete",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"onDetourComplete"),ke.prototype),(0,r.default)(ke.prototype,"onEditShareMedia",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"onEditShareMedia"),ke.prototype),(0,r.default)(ke.prototype,"onFoundUrl",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"onFoundUrl"),ke.prototype),(0,r.default)(ke.prototype,"onScheduleSelected",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"onScheduleSelected"),ke.prototype),(0,r.default)(ke.prototype,"onWritingAssistantError",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"onWritingAssistantError"),ke.prototype),(0,r.default)(ke.prototype,"onWAFeedbackCardAction",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"onWAFeedbackCardAction"),ke.prototype),(0,r.default)(ke.prototype,"openDetour",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"openDetour"),ke.prototype),(0,r.default)(ke.prototype,"openWritingAssistant",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"openWritingAssistant"),ke.prototype),(0,r.default)(ke.prototype,"pasteEventHandler",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"pasteEventHandler"),ke.prototype),(0,r.default)(ke.prototype,"publishPost",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"publishPost"),ke.prototype),(0,r.default)(ke.prototype,"removeDetourPreview",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"removeDetourPreview"),ke.prototype),(0,r.default)(ke.prototype,"resetShareboxContents",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"resetShareboxContents"),ke.prototype),(0,r.default)(ke.prototype,"saveDraft",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"saveDraft"),ke.prototype),(0,r.default)(ke.prototype,"setActiveControl",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"setActiveControl"),ke.prototype),(0,r.default)(ke.prototype,"showWAFeedbackCard",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"showWAFeedbackCard"),ke.prototype),(0,r.default)(ke.prototype,"tookWritingAssistantAction",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"tookWritingAssistantAction"),ke.prototype),(0,r.default)(ke.prototype,"undoAiDraftHandler",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"undoAiDraftHandler"),ke.prototype),(0,r.default)(ke.prototype,"updateAiGeneratedData",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"updateAiGeneratedData"),ke.prototype),(0,r.default)(ke.prototype,"updateAuthorAndAudienceSettings",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"updateAuthorAndAudienceSettings"),ke.prototype),(0,r.default)(ke.prototype,"updateCreationState",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"updateCreationState"),ke.prototype),(0,r.default)(ke.prototype,"updateShareViewModel",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"updateShareViewModel"),ke.prototype),(0,r.default)(ke.prototype,"writingAssistantRequestInProgressHandler",[m.action],Object.getOwnPropertyDescriptor(ke.prototype,"writingAssistantRequestInProgressHandler"),ke.prototype),ke)
function Ri(){var e
const t={postingState:this.postingState}
if(this.isPrefilledWithCachedFailedPost){var i,n,r,a,o
const e=this.shareboxHasAttachment&&null!==(i=this.detourManager)&&void 0!==i&&i.getDashShareMedia?this.detourManager.getDashShareMedia(t):null,s=this.isPrefilledWithCachedFailedPost&&null!==(n=this.cachedPostManager)&&void 0!==n&&n.hasMediaAttachment?null===(r=this.cachedPostManager)||void 0===r||null===(a=r.draftPost)||void 0===a||null===(o=a.getMediaDataPromise)||void 0===o?void 0:o.call(a,t):null
return(e||s)??v.Promise.resolve()}return this.shareboxHasAttachment&&null!==(e=this.detourManager)&&void 0!==e&&e.getDashShareMedia?this.detourManager.getDashShareMedia(t):v.Promise.resolve()}function wi(){if(this.isPrefilledFailedCachedDraftPostEnabled){var e,t
const i=this.trackedPostContents.convertTrackedPostContentsToTVM()
null===(e=this.cachedPostManager)||void 0===e||e.setDraftPost({commentary:i,previewedUpdate:this.previewedUpdateV2,getMediaDataPromise:(null===(t=this.detourManager)||void 0===t?void 0:t.getDashShareMedia)??null})}}function ki(){var e
if(this.isPrefilledWithCachedFailedPost&&(null===(e=this.cachedPostManager)||void 0===e||!e.isVideoProcessing)){var t
null===(t=this.cachedPostManager)||void 0===t||t.clearDraftPost()}}function Mi(e){const t=(0,Q.generateErrorMessage)({mediaError:e,i18n:this.i18n,videoUploadDurationLimitTreatmentValue:this.lix.getTreatmentValue("voyager.feed.web.video-upload.duration-limit")})
this.feedbackManager.addFeedbackItem({feedbackMsgText:t,feedbackMsgType:w.FEEDBACK_MESSAGE_TYPE.DRAG_AND_DROP_ERROR})}function xi(e,t){this.postManagementView=e
this.shareboxState=w.SHAREBOX_STATE.MANAGEMENT
this.isDeeplinked=!!t}function Li(e){if(e.useDashPreview){const t=this._onDetourPreviewDataChanged.bind(this)
this.dashDetourPreviewHandler=t
e.dashDetourPreview.subscribe(t)}else{const t=this._onDetourPreviewDataChanged.bind(this)
this.detourPreviewHandler=t
e.detourPreview.subscribe(t)}const t=this._onDetourStatusDataChanged.bind(this)
this.detourStatusHandler=t
e.detourStatus.subscribe(t)
this.detourType=e.detourType}function Vi(e){e===k.ROUTABLE_VIEWS.MANAGEMENT&&(0,n.default)(this,Ti,xi).call(this,k.POST_MANAGEMENT_VIEW.POST_LIST,e)}function Ui(e){var t
this.detourManager=e;(0,n.default)(this,yi,Li).call(this,e)
const i=null===(t=e.getShareText)||void 0===t?void 0:t.call(e)
this.trackedPostContents.initializeDataFromTVMV2(this.storeShim,i)}function Bi(e){var t,i,n,r,a,o,s,l,d,c,u,h,p,g,m,b,f,_,T,y
if(this.isDestroying)return
this._updateEntryPointTextWithDraftCopy(this.postingState===k.POST_STATES.DRAFT?null===(t=this.trackedPostContents)||void 0===t?void 0:t.text:"");(this.nonUgcSupportedDraftChangesMade||this.draftAttachmentHasChanged||this.args.isEditingFailedScheduledPost)&&this._deleteSavedDraft()
const S=(null===(i=e.data)||void 0===i||null===(n=i.createContentcreationDashShares.entity)||void 0===n||null===(r=n.status)||void 0===r||null===(a=r.lifecycleState)||void 0===a||null===(o=a.PublishedState)||void 0===o?void 0:o.socialDetail)||(null===(s=e.status)||void 0===s||null===(l=s.updateV2)||void 0===l?void 0:l.socialDetail)
S&&this.socialCountsService.registerSocialCounts(S);(0,M.fireNormShareSuccessClientSensors)(this.clientSensor,this.shareTypeForClientSensors);(0,$.fireShareboxShareUpdateEvent)({ugcUrn:(null===(d=e.data)||void 0===d?void 0:d.createContentcreationDashShares.entity.entityUrn)||(null===(c=e.status)||void 0===c?void 0:c.urn),shareSessionUrn:this.args.shareBoxSessionUrn,promptsClicked:this.guiderManager.clickedPromptsCollection,postingState:this.postingState,sourceRef:this.args.sourceReference,tracking:this.tracking})
this.tracking.fireInteraction({viewHierarchy:[w.SHARING_VIEWS.SHARE_UPDATE_SHAREBOX_STATE],manualFireReason:w.MANUAL_FIRE_REASON.VIEW_NOT_ACCESSIBLE,interactionType:w.INTERACTION_TYPES.SHORT_PRESS,contentTrackingId:this.contentTrackingId})
this.aiGeneratedText&&(0,$.handleWritingAssistantPromptTracking)({wasNotModified:this.isAiDraftUnmodified,wasPrompted:this.confirmationDialogWasRendered,shareSessionUrn:this.args.shareBoxSessionUrn,tracking:this.tracking})
const E=((null===(u=e.status)||void 0===u?void 0:u.promptComponent)||(null===(h=e.status)||void 0===h?void 0:h.promptComponentV2)||(null===(p=e.data)||void 0===p||null===(g=p.createContentcreationDashShares.entity)||void 0===g||null===(m=g.status)||void 0===m||null===(b=m.feedbackData)||void 0===b?void 0:b.promptComponentV2))&&this.args.openPostPostPrompt,v=(null===(f=e.status)||void 0===f?void 0:f.mediaStatus)||(null===(_=e.data)||void 0===_||null===(T=_.createContentcreationDashShares.entity.status)||void 0===T||null===(y=T.lifecycleState)||void 0===y?void 0:y.UnpublishedState)
v===k.SHARE_MEDIA_STATUSES.PROCESSING||v===k.SHARE_MEDIA_STATUSES.PROCESSING_FAILED||v===k.SHARE_UNPUBLISHED_STATES.MEDIA_PROCESSING?this._buildShareStatusData(e):E&&!this.shareboxInteropService.isShareboxRenderedInsideInteropRoute?this._getPostPostPrompt(e):this._getPostSuccessToast(e)}function Hi(e){var t,i
if(this.isDestroying)return
this._updateEntryPointTextWithDraftCopy(this.postingState===k.POST_STATES.DRAFT?null===(t=this.trackedPostContents)||void 0===t?void 0:t.text:"");(this.nonUgcSupportedDraftChangesMade||this.draftAttachmentHasChanged)&&this._deleteSavedDraft();(0,M.fireNormShareSuccessClientSensors)(this.clientSensor,this.shareTypeForClientSensors)
const n=null==e||null===(i=e.status)||void 0===i?void 0:i.mediaStatus
n===k.SHARE_MEDIA_STATUSES.PROCESSING||n===k.SHARE_MEDIA_STATUSES.PROCESSING_FAILED?this._buildShareStatusData(e):this._getPostSuccessToast(e)}function Fi(e){let{message:t,ctaText:i,ctaRouteName:n}=e
this.args.disableSuccessToasts||this.persistentToastManager.error({message:t,ctaText:i,ctaRouteName:n})}function zi(){var e,t
null===(e=(t=this.args).onShareFail)||void 0===e||e.call(t)
this.sound.play(j.Sound.Error)}function Gi(){this.organizationShareboxExperience=null
if(this.isInEditMode)return null
const e={recipe:"com.linkedin.voyager.dash.deco.contentcreation.sharebox",origin:this.args.shareOrigin,organizationActorUrn:this.currentActor.dashUrn}
return this.storeShim.queryURL("/voyager/api/voyagerContentcreationDashSharebox",{method:"POST",params:e,queryParams:{action:"fetchShareboxWithDraft"},reload:!0}).then((e=>{this.isDestroying||(this.organizationShareboxExperience=e.shareboxExperience)}))}function ji(){this.premiumPageUpsellData=null
return this.isPremiumPagesWritingAssistantUpsellEnabled&&this.currentActor.dashUrn?(0,S.queryUpsellCardDataV2)({clientSensor:this.clientSensor,graphql:this.graphql},{upsellSlot:"PREMIUM_PAGE_ADMIN_WRITE_WITH_AI"},{vieweeCompanyUrn:this.currentActor.dashUrn},!0).then((e=>{var t
if(this.isDestroying)return
const i=null===(t=e.data.premiumDashUpsellSlotContentByPage.elements[0])||void 0===t?void 0:t.upsellCard
if(i){i.layoutStyle="EMBEDDED_CARD"
this.premiumPageUpsellData=i}return null})):null}(0,o.setComponentTemplate)(Pi,Ni)}))
define("sharing-v2/components/post-action-bar-wrapper",["exports","@ember/template-factory","@ember/component","@glimmer/component","global-helpers/helpers/or","@ember/helper","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-i18n/helpers/format-date","ember-cli-pemberly-tracking/modifiers/track-interaction"],(function(e,t,i,n,r,a,o,s,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class d extends n.default{}e.default=d;(0,i.setComponentTemplate)((0,t.createTemplateFactory)({id:"lr0IbSO0",block:'[[[1,"\\n"],[41,[30,1],[[[1,"      "],[11,"button"],[16,0,[28,[32,0],["display-flex t-14 t-black--light",[52,[51,[28,[32,1],[[30,2],[30,3]],null]]," align-items-center"]],null]],[16,"onclick",[28,[32,2],[[30,4],[30,5]],null]],[16,"aria-label",[52,[30,5,["scheduledAt"]],[28,[32,3],["i18n_a11y_button_preview_text","sharing-v2/components/post-action-bar-wrapper"],[["dateTime"],[[28,[32,0],[[28,[32,4],[[30,5,["scheduledAt"]]],[["format","useTimeZone"],["fmt_d_medium",true]]]," ",[28,[32,4],[[30,5,["scheduledAt"]]],[["format","useTimeZone"],["fmt_mdy_hm_long",true]]]],null]]]],[28,[32,3],["i18n_a11y_button_preview_text_generic","sharing-v2/components/post-action-bar-wrapper"],null]]],[24,4,"button"],[4,[32,5],[[30,6]],null],[12],[1,"\\n        "],[18,7,null],[1,"\\n      "],[13],[1,"\\n"]],[]],[[[1,"      "],[10,0],[15,0,[28,[32,0],["display-flex t-14 t-black--light",[52,[51,[28,[32,1],[[30,2],[30,3]],null]]," align-items-center"]],null]],[12],[1,"\\n        "],[18,7,null],[1,"\\n      "],[13],[1,"\\n"]],[]]],[1,"  "]],["@isButton","@shouldShowErrorMessage","@organizationActor","@goToPostDetail","@sharePreview","@scheduledPostSelectControlName","&default"],false,["if","unless","yield"]]',moduleName:"sharing-v2/components/post-action-bar-wrapper.gjs",scope:()=>[a.concat,r.default,a.fn,o.default,s.default,l.default],isStrictMode:!0}),d)}))
define("sharing-v2/components/post-action-bar",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/destroyable","@glimmer/component","sharing-shared/utils/sharing-shared-constants","@ember/debug","sharing-shared/utils/norm-share-utils","@ember/service","@glimmer/tracking","@ember/object","sharing-shared/utils/client-sensor-utils","sharing-shared/utils/client-sensor-constants"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g,m,b,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var _,T,y,S,E,v,I,C,A,O,D,P,N,R,w,k,M,x,L
const V=(0,s.createTemplateFactory)({id:"WU+9+Btk",block:'[[[10,0],[14,0,"share-post-action-bar__container"],[12],[1,"\\n"],[41,[28,[37,1],[[30,0,["shouldShowErrorMessage"]],[30,1]],null],[[[1,"    "],[8,[39,2],null,[["@isButton","@goToPostDetail","@shouldShowErrorMessage","@organizationActor","@sharePreview","@scheduledPostSelectControlName"],[[30,2],[30,3],[30,0,["shouldShowErrorMessage"]],[30,4],[30,5],[30,6]]],[["default"],[[[[1,"\\n"],[41,[30,0,["contextualIconSystemImageName"]],[[[1,"        "],[8,[39,3],[[16,0,[28,[37,4],["share-post-action-bar__contextual-icon",[52,[30,4]," share-post-action-bar__contextual-icon--is-organization"],[52,[30,0,["shouldShowErrorMessage"]]," share-post-action-bar__contextual-icon--error"]],null]]],[["@name"],[[30,0,["contextualIconSystemImageName"]]]],null],[1,"\\n"]],[]],null],[41,[30,0,["shouldShowErrorMessage"]],[[[1,"        "],[10,0],[14,0,"mr1"],[12],[1,"\\n          "],[8,[39,5],null,[["@tvm","@userGenerated"],[[30,7],true]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[1,"        "],[10,0],[12],[1,"\\n          "],[8,[39,5],null,[["@tvm","@userGenerated"],[[30,1],true]],null],[1,"\\n        "],[13],[1,"\\n"]],[]]],[1,"    "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,8],[[[1,"    "],[8,[39,6],[[24,0,"share-post-action-bar__dropdown"]],[["@justification","@isOpen","@onVisibilityChange","@useNewFocusModel"],["right",[30,0,["isDropdownOpen"]],[30,0,["onScheduleActionsMenuToggle"]],true]],[["default"],[[[[1,"\\n      "],[8,[30,9,["dropdown-trigger"]],[[16,"aria-label",[52,[30,0,["scheduledDateAndTime"]],[28,[37,7],["i18n_schedule_actions_a11y_text","sharing-v2/components/post-action-bar"],[["date"],[[30,0,["scheduledDateAndTime"]]]]],[28,[37,7],["i18n_schedule_actions_a11y_text_generic","sharing-v2/components/post-action-bar"],null]]],[24,0,"share-post-action-bar__dropdown-trigger"],[4,[38,8],["schedule_actions_menu_trigger"],null]],null,[["default"],[[[[1,"\\n        "],[8,[39,9],[[24,0,"t-black--light"]],[["@type","@size","@name"],["system","medium","overflow-web-ios"]],null],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[30,9,["dropdown-content"]],null,null,[["default"],[[[[1,"\\n"],[42,[28,[37,11],[[28,[37,11],[[30,5,["menuItemsV2"]]],null]],null],null,[[[1,"          "],[8,[39,12],[[16,"aria-label",[30,10,["title"]]],[24,0,"share-post-action-bar__dropdown-item"],[4,[38,8],[[30,10,["controlName"]]],null]],[["@itemSelected","@role"],[[28,[37,13],[[30,0,["menuItemSelected"]],[30,10,["menuItemActionType"]]],null],"button"]],[["default"],[[[[1,"\\n            "],[8,[39,3],[[24,0,"t-black--light mr2"]],[["@name"],[[30,10,["icon"]]]],null],[1,"\\n            "],[10,1],[14,0,"text-body-small-bold t-black--light white-space-nowrap"],[12],[1,"\\n              "],[1,[30,10,["title"]]],[1,"\\n            "],[13],[1,"\\n          "]],[]]]]],[1,"\\n"]],[10]],null],[1,"      "]],[]]]]],[1,"\\n    "]],[9]]]]],[1,"\\n"]],[]],[[[41,[28,[37,14],[[30,0,["deleteRequestPending"]]],null],[[[1,"      "],[8,[39,15],[[16,"aria-label",[28,[37,7],["i18n_delete_post","sharing-v2/components/post-action-bar"],null]],[4,[38,16],["click",[30,0,["showDeletePrompt"]]],null],[4,[38,8],[[30,12]],null]],[["@class","@type","@size","@circle","@color","@icon"],["share-post-action-bar__delete-btn","tertiary",2,true,"muted",[30,11]]],null],[1,"\\n"]],[]],[[[1,"      "],[8,[39,17],[[24,0,"share-post-action-bar__loader"],[16,"aria-label",[28,[37,7],["i18m_request_pending","sharing-v2/components/post-action-bar"],null]]],[["@size"],["xsmall"]],null],[1,"\\n"]],[]]],[1,"\\n    "],[8,[39,15],[[16,"aria-label",[28,[37,7],["i18n_reschedule_post","sharing-v2/components/post-action-bar"],null]],[4,[38,16],["click",[28,[37,13],[[30,14],[30,15],[30,5,["scheduledAt"]],[30,0,["shareUrn"]]],null]],null],[4,[38,8],[[30,16]],null]],[["@type","@size","@circle","@color","@icon"],["tertiary",2,true,"muted",[30,13]]],null],[1,"\\n"]],[]]],[13],[1,"\\n\\n"],[8,[39,18],null,[["@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@onPrimary","@onSecondary","@onEscape","@returnFocusTo"],[[30,0,["showDeletePostConfirmationDialog"]],[28,[37,7],["i18n_delete_confirm_title","sharing-v2/components/post-action-bar"],null],[28,[37,7],["i18n_delete_confirm_content","sharing-v2/components/post-action-bar"],null],[28,[37,7],["i18n_delete_confirm_delete","sharing-v2/components/post-action-bar"],null],[28,[37,7],["i18n_delete_confirm_cancel","sharing-v2/components/post-action-bar"],null],[30,0,["deletePost"]],[30,0,["cancelDelete"]],[30,0,["cancelDelete"]],[52,[30,8],".share-post-action-bar__dropdown-trigger"]]],null]],["@contextualDescription","@shouldRenderButton","@goToPostDetail","@organizationActor","@sharePreview","@scheduledPostSelectControlName","@errorMessage","@isLadderFeaturesEnabledForScheduledPosts","dropdown","menuItem","@deleteIcon","@deleteControlName","@rescheduleIcon","@rescheduleAction","@goBackAction","@rescheduleControlName"],false,["if","global-helpers@or","sharing-v2@post-action-bar-wrapper","system-image@system-image","concat","text-view-model@text-view-model-v2","artdeco-dropdown@artdeco-dropdown","t","ember-cli-pemberly-tracking@track-interaction","hue-web-icons@icon","each","-track-array","artdeco-dropdown@artdeco-dropdown-item","fn","global-helpers@not","artdeco-button@artdeco-button","on","artdeco-loader@artdeco-loader","artdeco-modal@artdeco-confirmation-dialog"]]',moduleName:"sharing-v2/components/post-action-bar.hbs",isStrictMode:!1})
let U=e.default=(_=(0,p.inject)("client-sensor-web@client-sensor"),T=(0,p.inject)("@linkedin/ember-restli-graphql@graphql"),y=(0,p.inject)("i18n"),S=(0,p.inject)("lix"),E=(0,p.inject)("persistent-toast-manager@persistent-toast-manager"),v=(0,p.inject)("global-services@store-shim"),I=(0,p.inject)("formatter"),C=(L=new WeakSet,class extends d.default{get contextualIconSystemImageName(){return this.args.contextualIcon}get scheduledDateAndTime(){var e
return null!==(e=this.args.sharePreview)&&void 0!==e&&e.scheduledAt?this.formatter.formatDate(this.args.sharePreview.scheduledAt,"fmt_d_medium",!0).concat(" ",this.formatter.formatDate(this.args.sharePreview.scheduledAt,"fmt_mdy_hm_long",!0)):null}get isScheduledPostErrorMessagingEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.sharing-enable-scheduled-post-error-messaging")}get shouldShowErrorMessage(){return this.isScheduledPostErrorMessagingEnabled&&this.args.errorMessage}constructor(){var e,i,n
super(...arguments)
L.add(this);(0,t.default)(this,"clientSensor",A,this);(0,t.default)(this,"graphql",O,this);(0,t.default)(this,"i18n",D,this);(0,t.default)(this,"lix",P,this);(0,t.default)(this,"persistentToastManager",N,this);(0,t.default)(this,"storeShim",R,this);(0,t.default)(this,"formatter",w,this);(0,t.default)(this,"deleteRequestPending",k,this);(0,t.default)(this,"isDropdownOpen",M,this);(0,t.default)(this,"showDeletePostConfirmationDialog",x,this)
this.shareUrn=null===(e=this.args.sharePreview)||void 0===e||null===(i=e.miniUpdate)||void 0===i||null===(n=i.metadata)||void 0===n?void 0:n.backendUrn}cancelDelete(){this.showDeletePostConfirmationDialog=!1}deletePost(){this.deleteRequestPending=!0
this.showDeletePostConfirmationDialog=!1
return(0,h.deletePostGraphql)(this.storeShim,this.shareUrn,this.graphql,c.SHARING_DELETE_DEGRADATION_TRACKING_METADATA.DELETE_SCHEDULED,c.POST_STATES.SCHEDULED).then((()=>{if(!this.isDestroying){var e,t
this.storeShim.unloadAll(c.SHARE_PREVIEWS_CACHE_MODEL_NAME);(0,b.fireSharingClientSensor)(this.clientSensor,f.SharingClientSensorMetrics.SCHEDULE_DELETE_SUCCESS)
this.persistentToastManager.success({message:(0,n.default)(this,L,B).call(this,"i18n_deletion-success")})
null===(e=(t=this.args).onDeleteSuccess)||void 0===e||e.call(t)}})).catch((e=>{if((0,l.isDestroying)(this))throw e;(0,b.fireScheduledPostDeleteErrorClientSensors)(this.clientSensor,e)
this.persistentToastManager.error({message:(0,n.default)(this,L,B).call(this,"i18n_deletion-failed")})
throw e})).finally((()=>{(0,l.isDestroying)(this)||(this.deleteRequestPending=!1)}))}menuItemSelected(e){if("POST_NOW"===e){var t
this.args.onReInitializeSharebox({ugcUrn:this.shareUrn,scheduledPostAction:c.SCHEDULED_POST_ACTIONS.POST_NOW,nonMemberActorUrn:(null===(t=this.args.organizationActor)||void 0===t?void 0:t.dashUrn)||null})}else if("RESCHEDULE"===e){var i
this.args.onReInitializeSharebox({ugcUrn:this.shareUrn,scheduledPostAction:c.SCHEDULED_POST_ACTIONS.MODIFY_SCHEDULE,datePickersOnBackPostView:this.args.scheduledPostView,sharePreview:this.args.sharePreview,nonMemberActorUrn:(null===(i=this.args.organizationActor)||void 0===i?void 0:i.dashUrn)||null})}else if("EDIT"===e){var n
this.args.onReInitializeSharebox({ugcUrn:this.shareUrn,scheduledPostAction:c.SCHEDULED_POST_ACTIONS.EDIT_POST,nonMemberActorUrn:(null===(n=this.args.organizationActor)||void 0===n?void 0:n.dashUrn)||null,isEditingFailedPost:!!this.shouldShowErrorMessage})}else"DELETE"===e&&this.showDeletePrompt()}showDeletePrompt(){this.showDeletePostConfirmationDialog=!0}onScheduleActionsMenuToggle(e){this.isDropdownOpen=e}}),A=(0,r.default)(C.prototype,"clientSensor",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(C.prototype,"graphql",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,r.default)(C.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,r.default)(C.prototype,"lix",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,r.default)(C.prototype,"persistentToastManager",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,r.default)(C.prototype,"storeShim",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,r.default)(C.prototype,"formatter",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,r.default)(C.prototype,"deleteRequestPending",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=(0,r.default)(C.prototype,"isDropdownOpen",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=(0,r.default)(C.prototype,"showDeletePostConfirmationDialog",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(C.prototype,"cancelDelete",[m.action],Object.getOwnPropertyDescriptor(C.prototype,"cancelDelete"),C.prototype),(0,r.default)(C.prototype,"deletePost",[m.action],Object.getOwnPropertyDescriptor(C.prototype,"deletePost"),C.prototype),(0,r.default)(C.prototype,"menuItemSelected",[m.action],Object.getOwnPropertyDescriptor(C.prototype,"menuItemSelected"),C.prototype),(0,r.default)(C.prototype,"showDeletePrompt",[m.action],Object.getOwnPropertyDescriptor(C.prototype,"showDeletePrompt"),C.prototype),(0,r.default)(C.prototype,"onScheduleActionsMenuToggle",[m.action],Object.getOwnPropertyDescriptor(C.prototype,"onScheduleActionsMenuToggle"),C.prototype),C)
function B(e){return this.i18n.lookupTranslation("components/sharing-v2@post-action-bar",e)()}(0,o.setComponentTemplate)(V,U)}))
define("sharing-v2/components/post-detail-view",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/destroyable","sharing-shared/utils/sharing-shared-constants","graphql-queries/queries/sharing/share-details-by-share-urn.graphql","@glimmer/component","@ember/service","sharing-v2/utils/sharing-constants","sharing-shared/utils/client-sensor-utils","sharing-shared/utils/client-sensor-constants"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,b,f,_,T,y,S
const E=(0,o.createTemplateFactory)({id:"Tg2sRgZn",block:'[[[8,[39,0],null,[["@modalComponents","@shouldFocusOnHeader","@showInlineHeader","@selector"],[[30,1],[30,2],[30,3],[30,4]]],[["shareBoxHeader","shareBoxContent","shareBoxFooter"],[[[[1,"\\n    "],[1,[28,[35,1],["i18n_scheduled-post-detail-title","sharing-v2/components/post-detail-view"],null]],[1,"\\n  "]],[]],[[[1,"\\n    "],[11,0],[16,0,[29,["share-post-detail-view__container",[52,[30,5]," share-post-detail-view__container--dropdown-menu"]]]],[4,[38,3],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,4],[[53,"outletState"],"render.name"],null],[28,[37,4],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[44,[[28,[37,7],[[30,0,["fetchShareDetail"]]],null]],[[[41,[30,6,["isPending"]],[[[1,"          "],[8,[39,8],null,null,null],[1,"\\n"]],[]],[[[41,[30,6,["isRejected"]],[[[1,"          "],[8,[39,9],[[24,0,"share-post-detail-view__error"]],[["@headline","@message","@actionText","@onButtonClick","@buttonType","@illustration","@mercadoSize"],[[28,[37,1],["i18n_error-state-headline","sharing-v2/components/post-detail-view"],null],[28,[37,1],["i18n_error-state-message","sharing-v2/components/post-detail-view"],null],[28,[37,1],["i18n_error-state-action","sharing-v2/components/post-detail-view"],null],[30,7],"secondary","error-server",1]],null],[1,"\\n"]],[]],[[[41,[30,6,["isResolved"]],[[[1,"          "],[10,0],[14,0,"share-post-detail-view__action-bar"],[12],[1,"\\n            "],[8,[39,10],null,[["@contextualDescription","@contextualIcon","@deleteControlName","@deleteIcon","@errorMessage","@goBackAction","@isLadderFeaturesEnabledForScheduledPosts","@onDeleteSuccess","@onReInitializeSharebox","@organizationActor","@rescheduleAction","@rescheduleControlName","@rescheduleIcon","@scheduledPostView","@sharePreview"],[[30,6,["value","contextualDescription"]],[30,6,["value","contextualIcon"]],[30,0,["controlInteractionEvents","SCHEDULE_DETAIL_DELETE"]],"trash-icon",[30,6,["value","errorMessage"]],[28,[37,11],[[30,8],[30,9]],null],[30,5],[30,10],[30,11],[30,12],[30,13],[30,0,["controlInteractionEvents","SCHEDULE_DETAIL_PICKER_OPEN"]],"clock",[30,0,["datePickersOnBackPostView"]],[30,9]]],null],[1,"\\n          "],[13],[1,"\\n"],[44,[[30,6,["value","update"]]],[[[1,"            "],[8,[39,12],null,[["@commentaryClass","@isDashEnabled","@isDetailView","@isPreviewMode","@preventCommentaryLink","@showNestedShares","@update","@shouldTrackImpression"],["share-post-detail-view__update-commentary",true,true,true,true,true,[30,14],true]],null],[1,"\\n"]],[14]]],[1,"        "]],[]],null]],[]]]],[]]]],[6]]],[1,"    "],[13],[1,"\\n  "]],[]],[[[1,"\\n    "],[8,[39,13],null,[["@isSimplifiedFooterStyles","@secondaryAction","@secondaryButtonKey","@secondaryControlName"],[true,[30,10],"BACK",[30,0,["controlInteractionEvents","SCHEDULE_DETAIL_BACK"]]]],null],[1,"\\n  "]],[]]]]]],["@layoutComponents","@shouldFocusOnHeader","@showInlineHeader","@selector","@isLadderFeaturesEnabledForScheduledPosts","shareDetailResult","@reloadView","@goToPostDetail","@sharePreview","@onBackClick","@onReInitializeSharebox","@organizationActor","@goToDatePickerForRescheduling","update"],false,["sharing-v2@share-box-layout","t","if","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","let","ember-async-data@load","artdeco-loader@artdeco-loader","artdeco-empty-state@artdeco-empty-state","sharing-v2@post-action-bar","fn","update-components@mini-update-v2","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/post-detail-view.hbs",isStrictMode:!1})
let v=e.default=(m=(0,u.inject)("client-sensor-web@client-sensor"),b=(0,u.inject)("@linkedin/ember-restli-graphql@graphql"),f=(0,u.inject)("i18n"),_=class extends c.default{get fetchShareDetail(){var e,t,i
const n=null===(e=this.args.sharePreview)||void 0===e||null===(t=e.miniUpdate)||void 0===t||null===(i=t.metadata)||void 0===i?void 0:i.backendUrn,r={degradations:[l.SCHEDULE_POST_DETAIL_DEGRADATION_TRACKING_METADATA],degradedEntityIDsToRemove:[]}
return n?this.graphql.executeQuery(d.default,{shareUrn:n},{adapterOptions:r,reload:!0}).then((e=>{if(!(0,s.isDestroying)(this)){if(!e.errors){(0,p.fireSharingClientSensor)(this.clientSensor,g.SharingClientSensorMetrics.SCHEDULE_DETAIL_SUCCESS)
return e.data.contentcreationDashShareDetailsByShareUrn.elements[0]}throw e}})).catch((e=>{if((0,s.isDestroying)(this))throw e;(0,p.fireScheduledPostDetailViewErrorClientSensors)(this.clientSensor,e)
throw e})):Promise.reject()}constructor(){var e,n
super(...arguments);(0,t.default)(this,"clientSensor",T,this);(0,t.default)(this,"graphql",y,this);(0,t.default)(this,"i18n",S,this);(0,i.default)(this,"controlInteractionEvents",h.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"datePickersOnBackPostView",l.POST_MANAGEMENT_VIEW.POST_DETAIL);(0,i.default)(this,"pageKey",h.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.POST_DETAIL_VIEW)
null===(e=(n=this.args).updateModalConfig)||void 0===e||e.call(n,{modalHeader:this.i18n.lookupTranslation("components/sharing-v2@post-detail-view","i18n_scheduled-post-detail-title")(),controlName:this.controlInteractionEvents.SCHEDULE_DETAIL_EXIT,shouldFocusOnHeader:!0})}},T=(0,n.default)(_.prototype,"clientSensor",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,n.default)(_.prototype,"graphql",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,n.default)(_.prototype,"i18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_);(0,a.setComponentTemplate)(E,v)}))
define("sharing-v2/components/post-list-view",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/destroyable","sharing-shared/utils/sharing-shared-constants","@glimmer/component","tracked-built-ins","@ember/service","sharing-v2/utils/sharing-constants","@glimmer/tracking","@ember/object","detour-framework/utils/detour-constants","graphql-queries/queries/sharing/content-creation-share-previews-by-share-life-cycle-state.graphql","sharing-shared/utils/client-sensor-utils","sharing-shared/utils/client-sensor-constants"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g,m,b,f,_,T){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,S,E,v,I,C,A,O,D,P,N,R,w
const k=(0,s.createTemplateFactory)({id:"2J7qFgVE",block:'[[[8,[39,0],null,[["@modalComponents","@shouldFocusOnHeader","@showInlineHeader","@headerType","@hideFooter","@selector"],[[30,1],[30,2],[30,3],[30,4],[30,5],[30,6]]],[["shareBoxHeader","shareBoxContent","shareBoxFooter"],[[[[1,"\\n    "],[1,[30,0,["titleText"]]],[1,"\\n  "]],[]],[[[1,"\\n    "],[11,0],[16,0,[29,[[52,[30,7],"share-box-modal-content__container"],"\\n        ",[52,[30,8]," share-post-list-view__container--dropdown-menu"]]]],[4,[38,2],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,3],[[53,"outletState"],"render.name"],null],[28,[37,3],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[44,[[28,[37,6],[[30,0,["getInitialSharePreviews"]]],null]],[[[41,[30,9,["isPending"]],[[[1,"          "],[10,0],[14,0,"share-box__loader-container"],[12],[1,"\\n            "],[8,[39,7],null,[["@size"],["small"]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[41,[30,9,["isRejected"]],[[[1,"          "],[8,[39,8],[[24,0,"share-post-list-view__error"]],[["@headline","@message","@actionText","@onButtonClick","@buttonType","@illustration","@mercadoSize"],[[28,[37,9],["i18n_error-state-headline","sharing-v2/components/post-list-view"],null],[28,[37,9],["i18n_error-state-message","sharing-v2/components/post-list-view"],null],[28,[37,9],["i18n_error-state-action","sharing-v2/components/post-list-view"],null],[30,10],"secondary","error-server",1]],null],[1,"\\n"]],[]],[[[41,[30,9,["isResolved"]],[[[1,"          "],[8,[39,10],null,[["@isDisabled","@onTrigger","@items","@resultType"],[[28,[37,11],[[30,0,["canInfiniteScroll"]]],null],[30,0,["onInfiniteScroll"]],[30,0,["sharePreviewList"]],[28,[37,9],["i18n_scheduled-post-title","sharing-v2/components/post-list-view"],null]]],[["content","empty"],[[[[1,"\\n              "],[10,"ul"],[14,0,"artdeco-list"],[12],[1,"\\n"],[42,[28,[37,13],[[28,[37,13],[[30,12]],null]],null],null,[[[41,[30,13],[[[1,"                    "],[10,"li"],[14,0,"artdeco-list__item share-post-list-view__item"],[12],[1,"\\n                      "],[8,[30,11],null,[["@index"],[[30,14]]],[["default"],[[[[1,"\\n                        "],[8,[39,14],null,[["@contextualDescription","@contextualIcon","@deleteControlName","@deleteIcon","@errorMessage","@goBackAction","@isLadderFeaturesEnabledForScheduledPosts","@onDeleteSuccess","@onReInitializeSharebox","@organizationActor","@rescheduleAction","@rescheduleControlName","@rescheduleIcon","@scheduledPostView","@goToPostDetail","@sharePreview","@shouldRenderButton","@scheduledPostSelectControlName"],[[30,13,["contextualDescription"]],[30,13,["contextualIcon"]],[30,0,["controlInteractionEvents","SCHEDULE_POST_LIST_DELETE"]],"trash-icon",[30,13,["errorMessage"]],[30,15],[30,8],[28,[37,15],[[30,0,["onDeleteSuccess"]],[30,14]],null],[30,16],[30,17],[30,18],[30,0,["controlInteractionEvents","SCHEDULE_POST_LIST_PICKER_OPEN"]],"clock",[30,0,["datePickersOnBackPostView"]],[30,19],[30,13],true,[30,0,["controlInteractionEvents","SCHEDULE_POST_LIST_SELECT"]]]],null],[1,"\\n                        "],[8,[39,16],[[24,0,"pt1"]],[["@miniUpdate","@hideActor","@hideContextualDescription","@overrideInteractiveControls","@listPositionIndex","@handleShowMoreClick"],[[30,13,["miniUpdate"]],true,true,true,[28,[37,17],[[30,14],1],null],[28,[37,15],[[30,19],[30,13]],null]]],null],[1,"\\n                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n"]],[]],null]],[13,14]],null],[1,"              "],[13],[1,"\\n            "]],[11,12]],[[[1,"\\n              "],[8,[39,8],[[24,0,"share-post-list-view__empty-state"]],[["@headline","@message","@actionText","@onButtonClick","@buttonType","@illustration","@mercadoSize"],[[28,[37,9],["i18n_empty-state-headline","sharing-v2/components/post-list-view"],null],[28,[37,9],["i18n_empty-state-message","sharing-v2/components/post-list-view"],null],[28,[37,9],["i18n_empty-state-action","sharing-v2/components/post-list-view"],null],[28,[37,15],[[30,20],"DATE_PICKER"],null],"secondary","empty-room",1]],null],[1,"\\n            "]],[]]]]],[1,"\\n        "]],[]],null]],[]]]],[]]]],[9]]],[1,"    "],[13],[1,"\\n  "]],[]],[[[1,"\\n"],[41,[51,[30,5]],[[[1,"      "],[8,[39,19],null,[["@isSimplifiedFooterStyles","@secondaryAction","@secondaryButtonKey","@secondaryBtnAriaLabel","@secondaryControlName"],[true,[30,0,["onBackButton"]],[30,0,["footerSecondaryButtonKeys","BACK"]],[30,0,["backButtonAriaLabel"]],[30,0,["controlInteractionEvents","SCHEDULE_POST_LIST_BACK"]]]],null],[1,"\\n"]],[]],null],[1,"  "]],[]]]]]],["@layoutComponents","@shouldFocusOnHeader","@showInlineHeader","@headerType","@isDeeplinked","@selector","@isInModal","@isLadderFeaturesEnabledForScheduledPosts","promise","@reloadView","ItemContainer","items","sharePreview","index","@goToPostList","@onReInitializeSharebox","@organizationActor","@goToDatePickerForRescheduling","@goToPostDetail","@goToDatePicker"],false,["sharing-v2@share-box-layout","if","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","let","ember-async-data@load","artdeco-loader@artdeco-loader","artdeco-empty-state@artdeco-empty-state","t","scaffold-finite-scroll@finite-scroll","global-helpers@not","each","-track-array","sharing-v2@post-action-bar","fn","mini-update@mini-update-base","global-helpers@sum","unless","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/post-list-view.hbs",isStrictMode:!1})
let M=e.default=(y=(0,h.inject)("client-sensor-web@client-sensor"),S=(0,h.inject)("@linkedin/ember-restli-graphql@graphql"),E=(0,h.inject)("i18n"),v=(0,h.inject)("global-services@store-shim"),I=(w=new WeakSet,class extends c.default{get getInitialSharePreviews(){return(0,n.default)(this,w,x).call(this).then((e=>{this.isDestroying||this.sharePreviewList.push(...e)}))}get titleText(){if(this.args.organizationActor){const e=this.i18n.lookupTranslation("components/sharing-v2@post-list-view","i18n_company-scheduled-post-title")([{companyName:this.args.organizationActor.name}])
return jSecure.htmlUnencode(e)}return this.i18n.lookupTranslation("components/sharing-v2@post-list-view","i18n_scheduled-post-title")()}get backButtonAriaLabel(){return this.args.isLadderFeaturesEnabledForScheduledPosts?this.i18n.lookupTranslation("components/sharing-v2@post-list-view","i18n_back_btn_aria_label_text")():null}constructor(){var e,n
super(...arguments)
w.add(this);(0,t.default)(this,"clientSensor",C,this);(0,t.default)(this,"graphql",A,this);(0,t.default)(this,"i18n",O,this);(0,t.default)(this,"storeShim",D,this);(0,i.default)(this,"controlInteractionEvents",p.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"datePickersOnBackPostView",d.POST_MANAGEMENT_VIEW.POST_LIST);(0,i.default)(this,"pageKey",p.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.POST_VIEW_LIST);(0,i.default)(this,"footerSecondaryButtonKeys",b.SHARE_BOX_FOOTER_SECONDARY_KEYS);(0,t.default)(this,"canInfiniteScroll",P,this);(0,t.default)(this,"sharePreviewList",N,this);(0,t.default)(this,"paginationStart",R,this)
null===(e=(n=this.args).updateModalConfig)||void 0===e||e.call(n,{modalHeader:this.titleText,controlName:this.controlInteractionEvents.SCHEDULE_POST_LIST_EXIT,shouldFocusOnHeader:!0,suppressConfirmationDialog:!0})}onInfiniteScroll(){return(0,n.default)(this,w,x).call(this,this.paginationStart).then((e=>{(0,l.isDestroying)(this)||(null==e?void 0:e.length)>0&&this.sharePreviewList.push(...e)}))}onDeleteSuccess(e){this.sharePreviewList.splice(e,1)}onBackButton(){this.args.isLadderFeaturesEnabledForScheduledPosts?this.args.onReInitializeSharebox({reload:!0}):this.args.goToDatePicker("DATE_PICKER")}}),C=(0,r.default)(I.prototype,"clientSensor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,r.default)(I.prototype,"graphql",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(I.prototype,"i18n",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,r.default)(I.prototype,"storeShim",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,r.default)(I.prototype,"canInfiniteScroll",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),N=(0,r.default)(I.prototype,"sharePreviewList",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u.TrackedArray}}),R=(0,r.default)(I.prototype,"paginationStart",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),(0,r.default)(I.prototype,"onInfiniteScroll",[m.action],Object.getOwnPropertyDescriptor(I.prototype,"onInfiniteScroll"),I.prototype),(0,r.default)(I.prototype,"onDeleteSuccess",[m.action],Object.getOwnPropertyDescriptor(I.prototype,"onDeleteSuccess"),I.prototype),(0,r.default)(I.prototype,"onBackButton",[m.action],Object.getOwnPropertyDescriptor(I.prototype,"onBackButton"),I.prototype),I)
function x(){var e=this
const t={shareLifeCycleState:"SCHEDULED",start:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,count:10}
if(!this.args.isLadderFeaturesEnabledForScheduledPosts){t.recipe="com.linkedin.voyager.dash.deco.contentcreation.SharePreviewsByLifeCycleState"
t.q="shareLifeCycleState"}this.args.organizationActor&&(t.organizationActorUrn=this.args.organizationActor.dashUrn)
const i={degradations:[d.SCHEDULE_POST_MGMNT_DEGRADATION_TRACKING_METADATA],degradedEntityIDsToRemove:[]}
return(this.args.isLadderFeaturesEnabledForScheduledPosts?this.graphql.executeQuery(f.default,t,{adapterOptions:i,reload:!0}):this.storeShim.queryURL("/voyager/api/voyagerContentcreationDashSharePreviews",{params:t,adapterOptions:i})).then((function(){var t,i
let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if((0,l.isDestroying)(e))return;(0,_.fireSharingClientSensor)(e.clientSensor,T.SharingClientSensorMetrics.SCHEDULE_MANAGEMENT_SUCCESS)
const r=(e.args.isLadderFeaturesEnabledForScheduledPosts?n.data.contentcreationDashSharePreviewsByShareLifeCycleState.elements:n.elements)||[]
e.paginationStart+=(null==r?void 0:r.length)>10?r.length:10
const a=e.args.isLadderFeaturesEnabledForScheduledPosts?null===(t=n.data)||void 0===t||null===(i=t.contentcreationDashSharePreviewsByShareLifeCycleState)||void 0===i?void 0:i.paging:null==n?void 0:n.paging
e.canInfiniteScroll=(null==a?void 0:a.total)>e.paginationStart
return r})).catch((e=>{if((0,l.isDestroying)(this))throw e;(0,_.fireScheduledPostManagementViewErrorClientSensors)(this.clientSensor,e)
throw e}))}(0,o.setComponentTemplate)(k,M)}))
define("sharing-v2/components/post-manager",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","sharing-shared/utils/sharing-shared-constants","ember-lifeline","@ember/object","@glimmer/tracking","@ember/service"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,m,b,f,_,T,y,S,E,v
const I=(0,s.createTemplateFactory)({id:"y9QIdXfW",block:'[[[41,[28,[37,1],[[30,0,["viewState"]],"DATE_PICKER"],null],[[[1,"  "],[8,[39,2],null,[["@modalComponents","@selector"],[[30,1],[30,2]]],[["shareBoxHeader","shareBoxContent"],[[[[1,"\\n      "],[1,[30,3]],[1,"\\n    "]],[]],[[[1,"\\n      "],[8,[39,3],null,[["@canBeScheduled","@goBackAction","@goToPostList","@isEditingAScheduledPost","@isLadderFeaturesEnabledForScheduledPosts","@isPostRequestPending","@onNextClick","@shareUrn","@shouldShowScheduledPostAlert","@timestamp","@updateModalConfig"],[[30,4],[30,0,["goBackAction"]],[30,0,["goToPostList"]],[30,5],[30,6],[30,7],[30,8],[30,0,["shareUrn"]],[30,9],[30,0,["timestamp"]],[30,10]]],null],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["viewState"]],"POST_LIST"],null],[[[1,"  "],[8,[39,4],null,[["@goToDatePicker","@goToDatePickerForRescheduling","@goToPostDetail","@goToPostList","@isDeeplinked","@isEditingAScheduledPost","@isInModal","@isLadderFeaturesEnabledForScheduledPosts","@layoutComponents","@onReInitializeSharebox","@organizationActor","@reloadView","@selector","@shouldFocusOnHeader","@showInlineHeader","@updateModalConfig"],[[30,0,["goToDatePicker"]],[30,0,["goToDatePickerForRescheduling"]],[30,0,["goToPostDetail"]],[30,0,["goToPostList"]],[30,11],[30,5],[30,12],[30,6],[30,1],[30,13],[30,14],[30,0,["reloadView"]],[30,2],[30,15],[30,16],[30,10]]],null],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["viewState"]],"POST_DETAIL"],null],[[[1,"  "],[8,[39,5],null,[["@goToDatePickerForRescheduling","@goToPostDetail","@isInModal","@isLadderFeaturesEnabledForScheduledPosts","@layoutComponents","@onBackClick","@onReInitializeSharebox","@organizationActor","@reloadView","@selector","@sharePreview","@shouldFocusOnHeader","@showInlineHeader","@updateModalConfig"],[[30,0,["goToDatePickerForRescheduling"]],[30,0,["goToPostDetail"]],[30,12],[30,6],[30,1],[30,0,["goToPostList"]],[30,13],[30,14],[30,0,["reloadView"]],[30,2],[30,0,["sharePreview"]],[30,15],[30,16],[30,10]]],null],[1,"\\n"]],[]],null]],[]]]],[]]]],["@layoutComponents","@selector","@modalHeader","@canBeScheduled","@isEditingAScheduledPost","@isLadderFeaturesEnabledForScheduledPosts","@isPostRequestPending","@onScheduleSelected","@shouldShowScheduledPostAlert","@updateModalConfig","@isDeeplinked","@isInModal","@onReInitializeSharebox","@organizationActor","@shouldFocusOnHeader","@showInlineHeader"],false,["if","global-helpers@eq","sharing-v2@share-box-layout","sharing-shared@date-time-picker","sharing-v2@post-list-view","sharing-v2@post-detail-view"]]',moduleName:"sharing-v2/components/post-manager.hbs",isStrictMode:!1})
let C=e.default=(g=(0,p.inject)("global-services@store-shim"),m=(E=new WeakSet,v=new WeakSet,class extends l.default{constructor(){super(...arguments)
v.add(this)
E.add(this);(0,t.default)(this,"storeShim",b,this);(0,t.default)(this,"goBackAction",f,this);(0,t.default)(this,"sharePreview",_,this);(0,t.default)(this,"shareUrn",T,this);(0,t.default)(this,"timestamp",y,this);(0,t.default)(this,"viewState",S,this)
this.args.scheduledPostManagementView?this.args.scheduledPostManagementView===d.POST_MANAGEMENT_VIEW.DATE_PICKER?(0,n.default)(this,E,A).call(this,this.args.goToCreation,this.args.timestamp):this.args.scheduledPostManagementView===d.POST_MANAGEMENT_VIEW.POST_LIST?(0,n.default)(this,v,O).call(this):this.args.scheduledPostManagementView===d.POST_MANAGEMENT_VIEW.POST_DETAIL&&this.goToPostDetail(this.args.scheduledPostSharePreview):(0,n.default)(this,E,A).call(this,this.args.goToCreation,this.args.timestamp)}willDestroy(){super.willDestroy(...arguments)
this.isDestroyed||this.storeShim.unloadAll(d.SHARE_PREVIEWS_CACHE_MODEL_NAME)}goToDatePickerForRescheduling(e,t,i){(0,n.default)(this,E,A).call(this,e,t,i)}goToDatePicker(){(0,n.default)(this,E,A).call(this,this.args.goToCreation,this.args.timestamp)}goToPostList(){this.args.isLadderFeaturesEnabledForScheduledPosts&&(this.args.shareboxHasValidContent||this.args.isEditingADraftPost)?this.args.showDraftDialogForScheduledPosts((0,n.default)(this,v,O).bind(this)):(0,n.default)(this,v,O).call(this)}goToPostDetail(e){this.sharePreview=e
this.viewState=d.POST_MANAGEMENT_VIEW.POST_DETAIL}reloadView(){const e=this.viewState
this.viewState=null;(0,c.runTask)(this,(()=>{this.viewState=e}))}}),b=(0,r.default)(m.prototype,"storeShim",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,r.default)(m.prototype,"goBackAction",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,r.default)(m.prototype,"sharePreview",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,r.default)(m.prototype,"shareUrn",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,r.default)(m.prototype,"timestamp",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,r.default)(m.prototype,"viewState",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(m.prototype,"goToDatePickerForRescheduling",[u.action],Object.getOwnPropertyDescriptor(m.prototype,"goToDatePickerForRescheduling"),m.prototype),(0,r.default)(m.prototype,"goToDatePicker",[u.action],Object.getOwnPropertyDescriptor(m.prototype,"goToDatePicker"),m.prototype),(0,r.default)(m.prototype,"goToPostList",[u.action],Object.getOwnPropertyDescriptor(m.prototype,"goToPostList"),m.prototype),(0,r.default)(m.prototype,"goToPostDetail",[u.action],Object.getOwnPropertyDescriptor(m.prototype,"goToPostDetail"),m.prototype),(0,r.default)(m.prototype,"reloadView",[u.action],Object.getOwnPropertyDescriptor(m.prototype,"reloadView"),m.prototype),m)
function A(e,t,i){this.viewState=d.POST_MANAGEMENT_VIEW.DATE_PICKER
this.shareUrn=i
this.goBackAction=e
this.timestamp=t}function O(){this.viewState=d.POST_MANAGEMENT_VIEW.POST_LIST}(0,o.setComponentTemplate)(I,C)}))
define("sharing-v2/components/promoted-detour-button",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@glimmer/component","@ember/service","artdeco-hoverables/components/artdeco-hoverable-trigger","ember-cli-pemberly-tracking/modifiers/track-interaction","ember-cli-pemberly-tracking/modifiers/track-view","@ember/modifier","hue-web-icons/components/icon"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,b,f
e.default=(0,s.setComponentTemplate)((0,a.createTemplateFactory)({id:"5qsYWdJk",block:'[[[1,"\\n    "],[8,[32,0],null,[["@disableHoverable"],[[30,1]]],[["default"],[[[[1,"\\n      "],[11,"button"],[16,"aria-label",[30,3]],[16,"aria-describedby",[30,2,["ariaId"]]],[16,"disabled",[30,1]],[24,0,"share-promoted-detour-button"],[16,"data-view-name",[30,0,["jobsTrackingViewName"]]],[24,4,"button"],[4,[32,1],[[30,4]],null],[4,[32,2],null,[["viewName","routeName","currentRoute"],[[30,0,["jobsTrackingViewName"]],[28,[32,3],[[53,"outletState"],"render.name"],null],[28,[32,3],[[53,"outletState"],"render"],null]]]],[4,[32,4],["click",[30,5]],null],[12],[1,"\\n        "],[10,1],[14,0,"share-promoted-detour-button__icon-container"],[12],[1,"\\n          "],[8,[32,5],null,[["@name","@size"],[[30,6],"medium"]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[8,[30,2,["artdeco-hoverable-content"]],null,[["@theme","@contentClass"],["inverse","share-creation-state__hoverable-content"]],[["default"],[[[[1,"\\n        "],[10,0],[12],[1,"\\n          "],[1,[30,3]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[2]]]]],[1,"\\n  "]],["@disabled","trigger","@hoverText","@toolbarControlName","@clickHandler","@iconName"],false,["-get-dynamic-var"]]',moduleName:"sharing-v2/components/promoted-detour-button.gjs",scope:()=>[c.default,u.default,h.default,o.get,p.on,g.default],isStrictMode:!0}),(m=(0,d.inject)("router"),b=class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"router",f,this);(0,i.default)(this,"shareboxRoutesLocations",{FEED:"feed.index.index",ADMIN:"admin.page-posts.published"})}get jobsTrackingViewName(){var e,t,i,n,r
let a=""
null!==(e=this.router)&&void 0!==e&&null!==(t=e.currentRoute)&&void 0!==t&&null!==(i=t.name)&&void 0!==i&&i.includes(this.shareboxRoutesLocations.ADMIN)?a="hiring-growth-organization-admin-sharebox":(null===(n=this.router)||void 0===n||null===(r=n.currentRoute)||void 0===r?void 0:r.name)===this.shareboxRoutesLocations.FEED&&(a="hiring-growth-member-sharebox")
return a}},f=(0,n.default)(b.prototype,"router",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b))}))
define("sharing-v2/components/render-model-inline-callout",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@ember/object","@glimmer/component","@ember/service","system-image/components/system-image","text-view-model/components/text-view-model-v2","ember-cli-pemberly-tracking/modifiers/track-render"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,m,b
e.default=(0,s.setComponentTemplate)((0,a.createTemplateFactory)({id:"rdYxPzTR",block:'[[[1,"\\n"],[41,[30,0,["canRender"]],[[[1,"      "],[11,0],[24,0,"share-render-model-inline-callout share-render-model-inline-callout__signal-caution"],[4,[32,0],null,[["onRender","routeName","currentRoute"],[[30,0,["firePageViewEvent"]],[28,[32,1],[[53,"outletState"],"render.name"],null],[28,[32,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[41,[30,1,["image"]],[[[1,"          "],[8,[32,2],[[24,0,"share-render-model-inline-callout__icon mr2"]],[["@name"],[[30,1,["image"]]]],null],[1,"\\n"]],[]],null],[1,"        "],[10,0],[14,0,"text-body-medium"],[12],[1,"\\n          "],[8,[32,3],null,[["@tvm","@onAttributeClick"],[[30,1,["message"]],[30,0,["onCalloutLinkClick"]]]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "]],["@model"],false,["if","-get-dynamic-var"]]',moduleName:"sharing-v2/components/render-model-inline-callout.gjs",scope:()=>[p.default,o.get,u.default,h.default],isStrictMode:!0}),(g=(0,c.inject)("tracking"),m=class extends d.default{constructor(){super(...arguments);(0,t.default)(this,"tracking",b,this)}get canRender(){var e
return null===(e=this.args.model)||void 0===e?void 0:e.message}firePageViewEvent(){this.args.impressionPagekey&&this.tracking.firePageViewEvent(this.args.impressionPagekey)
return[]}onCalloutLinkClick(){this.args.controlName&&this.tracking.fireInteractionEvent(this.args.controlName)}},b=(0,n.default)(m.prototype,"tracking",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(m.prototype,"firePageViewEvent",[l.action],Object.getOwnPropertyDescriptor(m.prototype,"firePageViewEvent"),m.prototype),(0,n.default)(m.prototype,"onCalloutLinkClick",[l.action],Object.getOwnPropertyDescriptor(m.prototype,"onCalloutLinkClick"),m.prototype),m))}))
define.alias("helpcenter-in-product-ember/components/search-bar","sharing-v2/components/search-bar")
define.alias("helpcenter-in-product-ember/components/search-results-list","sharing-v2/components/search-results-list")
define.alias("ember-finite-scroll/components/sentinel","sharing-v2/components/sentinel")
define("sharing-v2/components/share-box-inline-callout",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@glimmer/tracking","@glimmer/component","@ember/service"],(function(e,t,i,n,r,a,o,s,l,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,h,p,g
const m=(0,o.createTemplateFactory)({id:"bQc5fJKB",block:'[[[1,"\\n"],[41,[30,0,["isVisible"]],[[[1,"  "],[11,0],[16,0,[29,["share-inline-callout__main-wrapper\\n      ",[52,[30,1]," share-inline-callout__with-header"]]]],[4,[38,1],null,[["onRender","routeName","currentRoute"],[[30,0,["onImpression"]],[28,[37,2],[[53,"outletState"],"render.name"],null],[28,[37,2],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n    "],[10,0],[14,0,"share-inline-callout__text-wrapper"],[12],[1,"\\n"],[41,[30,1],[[[1,"        "],[10,2],[14,0,"share-inline-callout__header-text text-body-large-bold"],[12],[1,[30,1]],[13],[1,"\\n"]],[]],null],[1,"      "],[10,2],[14,0,"text-body-medium"],[12],[1,"\\n"],[41,[28,[37,4],[[30,2],"CONNECTIONS_ONLY"],null],[[[1,"          "],[1,[28,[35,5],["i18n_educational_message_connections","sharing-v2/components/share-box-inline-callout"],null]],[1,"\\n"]],[]],[[[41,[28,[37,4],[[30,2],"CONTAINER"],null],[[[1,"          "],[1,[28,[35,5],["i18n_educational_message_group","sharing-v2/components/share-box-inline-callout"],null]],[1,"\\n"]],[]],[[[41,[30,3],[[[1,"          "],[10,1],[14,0,"share-inline-callout__content-text"],[12],[1,[30,3]],[13],[1,"\\n        "]],[]],null]],[]]]],[]]],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[15,0,[29,["share-inline-callout__dismiss-button\\n        ",[52,[30,1]," share-inline-callout__dismiss-button--with-header "]]]],[12],[1,"\\n      "],[8,[39,6],[[4,[38,7],["click",[30,0,["onDismiss"]]],null]],[["@type","@icon","@circle","@color","@size","@aria-label"],["tertiary","close",true,"muted",1,[28,[37,5],["dismiss_button_text","sharing-v2/components/share-box-inline-callout"],null]]],null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],["@heading","@visibilityType","@content"],false,["if","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","global-helpers@eq","t","artdeco-button@artdeco-button","on"]]',moduleName:"sharing-v2/components/share-box-inline-callout.hbs",isStrictMode:!1})
let b=e.default=(u=(0,c.inject)("tracking"),h=class extends d.default{constructor(){super(...arguments);(0,t.default)(this,"tracking",p,this);(0,t.default)(this,"isVisible",g,this)}onDismiss(){var e,t
this.isVisible=!1
null===(e=(t=this.args).closeActionHandler)||void 0===e||e.call(t)
this.args.controlName&&this.tracking.fireInteractionEvent(this.args.controlName)}},p=(0,n.default)(h.prototype,"tracking",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,n.default)(h.prototype,"isVisible",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),(0,n.default)(h.prototype,"onDismiss",[s.action],Object.getOwnPropertyDescriptor(h.prototype,"onDismiss"),h.prototype),h);(0,a.setComponentTemplate)(m,b)}))
define("sharing-v2/components/share-box-layout",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,i.createTemplateFactory)({id:"VP/hV4Sr",block:'[[[1,"\\n"],[41,[30,1],[[[1,"  "],[8,[30,1,["artdeco-modal-header"]],[[16,0,[30,2]]],null,[["default"],[[[[1,"\\n"],[41,[30,3],[[[1,"      "],[18,10,null],[1,"\\n"]],[]],[[[1,"      "],[10,0],[14,0,"display-flex align-items-center"],[12],[1,"\\n        "],[11,"h2"],[24,1,"share-to-linkedin-modal__header"],[24,"tabindex","-1"],[4,[38,2],null,[["shouldFocus","selector"],[[30,4],[30,5]]]],[12],[1,"\\n          "],[18,10,null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]]],[1,"\\n  "]],[]]]]],[1,"\\n  "],[8,[30,1,["artdeco-modal-content"]],null,[["@classNames"],["p0"]],[["default"],[[[[1,"\\n    "],[18,11,null],[1,"\\n  "]],[]]]]],[1,"\\n"],[41,[28,[37,3],[[48,[30,12]],[28,[37,5],[[30,6]],null]],null],[[[1,"    "],[8,[30,1,["artdeco-modal-footer"]],null,[["@class"],[[29,[[52,[30,7],"bt0"]]]]],[["default"],[[[[1,"\\n      "],[18,12,null],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],null]],[]],[[[41,[30,8],[[[1,"    "],[8,[39,6],null,[["@shouldFocusOnHeader","@headerType"],[[30,4],[30,9]]],[["default"],[[[[1,"\\n      "],[18,10,null],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n  "],[18,11,null],[1,"\\n  "],[18,12,null],[1,"\\n"]],[]]]],["@modalComponents","@headerClass","@headerOverride","@shouldFocusOnHeader","@selector","@hideFooter","@hasFooterErrorState","@showInlineHeader","@headerType","&shareBoxHeader","&shareBoxContent","&shareBoxFooter"],false,["if","yield","sharing-v2@share-modal-focus","global-helpers@and","has-block","global-helpers@not","detour-framework@title-bar"]]',moduleName:"sharing-v2/components/share-box-layout.hbs",isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(r,(0,n.default)())}))
define("sharing-v2/components/share-box-v2",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/tracking","@ember/service","sharing-v2/components/open-share-box","@ember/runloop","@ember/object","sharing-v2/utils/sharing-constants","global-utils/utils/keyboard-utils","sharing-v2/utils/confirmation-dialog-utils","global-utils/utils/url","sharing-shared/utils/sharing-shared-constants","global-helpers/helpers/get-class-hash"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g,m,b,f,_){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var T,y,S,E,v,I,C,A,O,D,P,N,R,w,k,M,x,L,V,U,B,H
const F=(0,s.createTemplateFactory)({id:"snkUH585",block:'[[[11,0],[17,1],[12],[1,"\\n  "],[8,[39,0],null,[["@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@onPrimary","@onSecondary","@primaryControlName","@secondaryControlName","@onEscape","@testId","@setPreventScroll"],[[30,0,["isConfirmationDialogOpen"]],[30,0,["confirmationDialogTextConfig","title"]],[30,0,["confirmationDialogTextConfig","content"]],[30,0,["confirmationDialogTextConfig","primaryActionText"]],[30,0,["confirmationDialogTextConfig","secondaryActionText"]],[30,0,["confirmationDialogTextConfig","primaryAction"]],[30,0,["confirmationDialogTextConfig","secondaryAction"]],[30,0,["confirmationDialogTextConfig","primaryControlName"]],[30,0,["confirmationDialogTextConfig","secondaryControlName"]],[30,0,["onEscapeConfirmationDialog"]],[30,0,["confirmationDialogTextConfig","testId"]],[30,0,["setPreventScroll"]]]],null],[1,"\\n"],[1,"  "],[8,[39,1],null,[["@modalClasses","@size","@isOpen","@headerId","@dismissModal","@testId","@setPreventScroll","@returnFocusTo","@hideDismiss"],[[29,["share-box-v2__modal ",[52,[30,2],"share-box-v2__modal-phoenix-redesign"],"\\n      ",[52,[30,0,["modalHeightFull"]],"share-box-v2__modal-height-full"]]],[30,0,["modalSize"]],true,"share-to-linkedin-modal__header",[30,0,["onDismissModal"]],"sharebox",[30,0,["setPreventScroll"]],[30,3],[30,0,["hideModalHeader"]]]],[["default"],[[[[1,"\\n    "],[10,0],[14,0,"share-box"],[12],[1,"\\n"],[41,[28,[37,3],[[30,0,["currentShareboxState"]],"CREATION"],null],[[[1,"        "],[8,[39,4],null,[["@modalComponents","@shouldFocusOnHeader","@headerOverride","@headerClass"],[[30,4],[30,0,["shouldFocusOnHeader"]],[30,0,["isPhoenixUIEnabled"]],[52,[30,2],"share-box-v2__modal-redesigned-header",""]]],[["shareBoxHeader","shareBoxContent"],[[[[1,"\\n"],[41,[30,0,["isPhoenixUIEnabled"]],[[[1,"              "],[11,0],[4,[38,5],null,[["when","onSelector"],[[28,[37,6],[[30,0,["focusOnActive"]],"UNIFIED_SETTINGS"],null],"button"]]],[12],[1,"\\n                "],[8,[39,7],null,[["@clickHandler","@currentActor","@isInEditMode","@currentVisibility","@dataControlName","@disabled"],[[28,[37,8],[[30,0,["goToVisibilityScreen"]],"UNIFIED_SETTINGS"],null],[30,0,["currentActor"]],[30,0,["isInEditMode"]],[30,0,["currentVisibility"]],[30,0,["controlInteractionEvents","UNIFIED_SETTINGS_ENTRY"]],[28,[37,9],[[30,0,["isWritingAssistantRequestInProgress"]],[30,0,["showDeferredAiTextLoader"]]],null]]],null],[1,"\\n              "],[13],[1,"\\n"]],[]],[[[1,"              "],[1,[30,0,["modalHeader"]]],[1,"\\n"]],[]]],[1,"          "]],[]],[[[1,"\\n            "],[8,[39,10],null,[["@aiDataPromise","@aiGeneratedText","@aiInputQueryWordCount","@autoFocusTexteditor","@broadcastContentAttached","@canBeScheduled","@chooserMenuButtons","@closeSharebox","@closeWritingAssistant","@currentActor","@currentCommentRestriction","@currentVisibility","@cursorRange","@customPrimaryButtonText","@deferredAiPrefilledTextConfig","@detourData","@detourPreviewEditControlInteractionEventName","@detourPreviewRemoveControlInteractionEventName","@detourPreviewStatusData","@detourType","@disableFocusableEntityElements","@dragAndDropCallback","@editDetour","@editedShareHasChanged","@firstTextChangeHandler","@focusOnActive","@gaiContentUrn","@goToPostManager","@goToVisibilityScreen","@groupId","@guiderManager","@hasInteractedWithWritingAssistant","@hideCreationStateFooter","@improveWithAiHandler","@improveWithAiQuery","@initialHeader","@inlineCalloutConfig","@inlineCalloutModel","@invalidAiInputErrorMessage","@invalidAiInputQuery","@isAiDraftUnmodified","@isAiInputQueryTooShort","@isEditingAScheduledPost","@isExtendedDetoursVisible","@isInBroadcastMode","@isModalSharebox","@isOrganizationActor","@isPhoenixUIEnabled","@isPostButtonDisabled","@isPostRequestPending","@isPremiumUpsellExperienceEnabled","@isScheduledPostsEnabled","@isShowingDetourPreview","@isWritingAssistantEnabled","@isWritingAssistantRequestInProgress","@onEditShareMedia","@onFoundUrl","@onScheduleSelected","@onUpsellContainerClickHandler","@onWAFeedbackCardAction","@onWritingAssistantError","@openDetour","@openWritingAssistant","@pasteEventHandler","@prefilledTextTVMV2","@previewedUpdateV2","@publishPost","@removeDetourPreview","@removeFocus","@scheduledDate","@scheduledPostNowEnabled","@scheduledTimestamp","@shareboxHasAttachment","@shareboxHasValidContent","@shareboxHasValidInteraction","@shareBoxSessionId","@shareBoxSessionUrn","@shareContentsData","@shareOrigin","@shareType","@shouldReturnToArticleManagementList","@shouldShowScheduledPostAlert","@showActorToggle","@showDeferredAiTextLoader","@showDetourPreviewEditButton","@showDetourPreviewError","@showDetourPreviewRemoveButton","@showDraftDialogForScheduledPosts","@showExtendedDetours","@showInlineHeader","@showWAFeedbackCard","@showWritingAssistantErrorMessage","@textInputI18nPlaceholderText","@tookWritingAssistantAction","@undoAiDraftHandler","@updateAiGeneratedData","@updateModalConfig","@updateShareViewModel","@updateV2","@upsellCardData","@usingStickyVisibility","@waFeedbackCardView","@waMinInputWordsRequired","@writingAssistantIsOpen","@writingAssistantRequestInProgressHandler","@onNavigateBackToArticleManagement"],[[30,0,["aiDataPromise"]],[30,0,["aiGeneratedText"]],[30,0,["aiInputQueryWordCount"]],[30,0,["autoFocusTexteditor"]],[30,0,["broadcastContentAttached"]],[30,0,["canBeScheduled"]],[30,0,["chooserMenuDetourButtons"]],[30,0,["onDismissModal"]],[30,0,["closeWritingAssistant"]],[30,0,["currentActor"]],[30,0,["currentCommentRestriction"]],[30,0,["currentVisibility"]],[30,0,["cursorRange"]],[30,5],[30,6],[30,0,["detourData"]],[30,0,["detourPreviewEditControlInteractionEventName"]],[30,0,["detourPreviewRemoveControlInteractionEventName"]],[30,0,["detourPreviewStatusData"]],[30,0,["detourType"]],[30,7],[30,0,["dropCallBack"]],[30,0,["editDetour"]],[30,0,["editedShareHasChanged"]],[30,0,["firstTextChangeHandler"]],[30,0,["focusOnActive"]],[30,0,["gaiContentUrn"]],[30,0,["goToPostManager"]],[30,0,["goToVisibilityScreen"]],[30,8],[30,0,["guiderManager"]],[30,0,["hasInteractedWithWritingAssistant"]],[30,9],[30,0,["improveWithAiHandler"]],[30,0,["improveWithAiQuery"]],[30,10],[30,11],[30,0,["inlineCalloutModel"]],[30,0,["invalidAiInputErrorMessage"]],[30,0,["invalidAiInputQuery"]],[30,0,["isAiDraftUnmodified"]],[30,0,["isAiInputQueryTooShort"]],[30,0,["isEditingAScheduledPost"]],[30,0,["isExtendedDetoursVisible"]],[30,0,["isInBroadcastMode"]],[30,0,["isModalSharebox"]],[30,0,["isOrganizationActor"]],[30,0,["isPhoenixUIEnabled"]],[30,0,["isPostButtonDisabled"]],[30,0,["isPostRequestPending"]],[30,0,["isPremiumUpsellExperienceEnabled"]],[30,0,["isScheduledPostsEnabled"]],[30,0,["isShowingDetourPreview"]],[30,0,["isWritingAssistantEnabled"]],[30,0,["isWritingAssistantRequestInProgress"]],[30,0,["onEditShareMedia"]],[30,0,["onFoundUrl"]],[30,0,["onScheduleSelected"]],[30,0,["onUpsellContainerClickHandler"]],[30,0,["onWAFeedbackCardAction"]],[30,0,["onWritingAssistantError"]],[30,0,["openDetour"]],[30,0,["openWritingAssistant"]],[30,0,["pasteEventHandler"]],[30,12],[30,0,["previewedUpdateV2"]],[30,0,["publishPost"]],[30,0,["removeDetourPreview"]],[30,0,["removeFocus"]],[30,0,["scheduledDate"]],[30,0,["scheduledPostNowEnabled"]],[30,0,["scheduledAt"]],[30,0,["shareboxHasAttachment"]],[30,0,["shareboxHasValidContent"]],[30,0,["shareboxHasValidInteraction"]],[30,13],[30,14],[30,0,["trackedPostContents"]],[30,15],[30,16],[30,0,["shouldReturnToArticleManagementList"]],[30,0,["shouldShowScheduledPostAlert"]],[30,0,["showActorToggle"]],[30,0,["showDeferredAiTextLoader"]],[30,0,["showDetourPreviewEditButton"]],[30,0,["showDetourPreviewError"]],[30,0,["showDetourPreviewRemoveButton"]],[30,0,["onNavigateToScheduledPosts"]],[30,0,["showExtendedDetours"]],[30,17],[30,0,["showWAFeedbackCard"]],[30,0,["showWritingAssistantErrorMessage"]],[30,0,["textInputI18nPlaceholderText"]],[30,0,["tookWritingAssistantAction"]],[30,0,["undoAiDraftHandler"]],[30,0,["updateAiGeneratedData"]],[30,0,["updateModalConfig"]],[30,0,["updateShareViewModel"]],[30,18],[30,0,["upsellCardData"]],[30,0,["useStickyVisibility"]],[30,0,["waFeedbackCardView"]],[30,0,["waMinInputWordsRequired"]],[30,0,["writingAssistantIsOpen"]],[30,0,["writingAssistantRequestInProgressHandler"]],[30,0,["onNavigateBackToArticleManagement"]]]],null],[1,"\\n          "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[37,3],[[30,0,["currentShareboxState"]],"DETOUR"],null],[[[44,[[50,[28,[37,13],[[30,0,["detourPath"]]],null],0,null,null]],[[[1,"          "],[8,[39,4],null,[["@modalComponents","@shouldFocusOnHeader","@headerClass","@selector"],[[30,4],[30,0,["shouldFocusOnHeader"]],[52,[30,0,["hideModalHeader"]],"visually-hidden",""],".artdeco-modal__dismiss"]],[["shareBoxHeader","shareBoxContent"],[[[[1,"\\n              "],[1,[30,0,["modalHeader"]]],[1,"\\n            "]],[]],[[[1,"\\n              "],[8,[30,19],null,[["@class","@closeSharebox","@detourData","@goToCreation","@isInModal","@nonMemberActor","@onDetourComplete","@setHasUnsavedDetourChanges","@shareboxSessionId","@shareboxText","@shouldShowBackButton","@shouldShowCancelButton","@updateShareboxModalConfig"],["full-height",[30,0,["onDismissModal"]],[30,0,["detourData"]],[30,0,["goToCreation"]],[30,0,["isModalSharebox"]],[52,[30,0,["currentActor","isNonMemberActor"]],[30,0,["currentActor"]]],[30,0,["onDetourComplete"]],[30,0,["setHasUnsavedDetourChanges"]],[30,13],[30,0,["trackedPostContents","trackedPostContentsData","text"]],[28,[37,14],[[30,20]],null],[52,[30,20],true,false],[30,0,["updateModalConfig"]]]],null],[1,"\\n            "]],[]]]]],[1,"\\n"]],[19]]]],[]],null],[41,[28,[37,3],[[30,0,["currentShareboxState"]],"VISIBILITY"],null],[[[41,[30,0,["isPhoenixUIEnabled"]],[[[1,"          "],[8,[39,15],null,[["@authorAndAudienceSettings","@availableActors","@eventContentVisibilityRestriction","@goToCreation","@isFixedVisibility","@isInBroadcastMode","@isInEditMode","@isInModal","@isInRepostMode","@shouldHidePaidEndorsementToggle","@showPaidEndorsement","@isPhoenixUIEnabled","@layoutComponents","@modalHeader","@previewIsRemovable","@protectedMediaPresentForDraft","@selector","@shareboxHasAttachment","@shouldFocusOnHeader","@showHeaderNotice","@showInlineHeader","@updateAuthorAndAudienceSettings","@updateCreationState","@updateModalConfig"],[[30,0,["authorAndAudienceSettings"]],[30,0,["availableActors"]],[30,0,["eventContentVisibilityRestriction"]],[30,0,["goToCreation"]],[30,0,["isFixedVisibility"]],[30,0,["isInBroadcastMode"]],[30,0,["isInEditMode"]],[30,0,["isModalSharebox"]],[30,0,["isInRepostMode"]],[30,0,["shouldHidePaidEndorsementToggle"]],[30,0,["showPaidEndorsement"]],[30,0,["isPhoenixUIEnabled"]],[30,4],[30,0,["modalHeader"]],[30,0,["previewIsRemovable"]],[30,0,["protectedMediaPresentForDraft"]],".artdeco-modal__dismiss",[30,0,["shareboxHasAttachment"]],[30,0,["shouldFocusOnHeader"]],[30,0,["showHeaderNotice"]],[30,17],[30,0,["updateAuthorAndAudienceSettings"]],[30,0,["updateCreationState"]],[30,0,["updateModalConfig"]]]],null],[1,"\\n"]],[]],[[[1,"          "],[8,[39,16],null,[["@authorAndAudienceSettings","@availableActors","@eventContentVisibilityRestriction","@goToCreation","@isFixedVisibility","@isInBroadcastMode","@isInEditMode","@isInModal","@isInRepostMode","@layoutComponents","@protectedMediaPresentForDraft","@modalHeader","@selector","@shareboxHasAttachment","@shouldFocusOnHeader","@showInlineHeader","@updateAuthorAndAudienceSettings","@updateCreationState","@updateModalConfig","@visibilityScreen"],[[30,0,["authorAndAudienceSettings"]],[30,0,["availableActors"]],[30,0,["eventContentVisibilityRestriction"]],[30,0,["goToCreation"]],[30,0,["isFixedVisibility"]],[30,0,["isInBroadcastMode"]],[30,0,["isInEditMode"]],[30,0,["isModalSharebox"]],[30,0,["isInRepostMode"]],[30,4],[30,0,["protectedMediaPresentForDraft"]],[30,0,["modalHeader"]],".artdeco-modal__dismiss",[30,0,["shareboxHasAttachment"]],[30,0,["shouldFocusOnHeader"]],[30,17],[30,0,["updateAuthorAndAudienceSettings"]],[30,0,["updateCreationState"]],[30,0,["updateModalConfig"]],[30,0,["visibilityScreen"]]]],null],[1,"\\n"]],[]]]],[]],null],[41,[28,[37,3],[[30,0,["currentShareboxState"]],"MANAGEMENT"],null],[[[1,"        "],[8,[39,17],null,[["@canBeScheduled","@goToCreation","@isDeeplinked","@isEditingAScheduledPost","@isInModal","@isInUnpublishedPostEditMode","@isLadderFeaturesEnabledForScheduledPosts","@isPostRequestPending","@layoutComponents","@modalHeader","@onReInitializeSharebox","@onScheduleSelected","@organizationActor","@postManagementView","@scheduledPostManagementView","@scheduledPostSharePreview","@selector","@shareboxHasUnsavedContent","@shareboxHasValidContent","@shouldFocusOnHeader","@shouldShowScheduledPostAlert","@showDraftDialogForScheduledPosts","@showInlineHeader","@timestamp","@updateModalConfig"],[[30,0,["canBeScheduled"]],[30,0,["goToCreation"]],[30,0,["isDeeplinked"]],[30,0,["isEditingAScheduledPost"]],[30,0,["isModalSharebox"]],[30,0,["isInUnpublishedPostEditMode"]],[30,0,["isScheduledPostEditLixEnabled"]],[30,0,["isPostRequestPending"]],[30,4],[30,0,["modalHeader"]],[30,21],[30,0,["onScheduleSelected"]],[52,[30,0,["isOrganizationActor"]],[30,0,["currentActor"]]],[30,0,["postManagementView"]],[30,0,["scheduledPostManagementView"]],[30,22],".artdeco-modal__dismiss",[30,0,["shareboxHasUnsavedContent"]],[30,0,["shareboxHasValidContent"]],[30,0,["shouldFocusOnHeader"]],[30,0,["shouldShowScheduledPostAlert"]],[30,0,["onNavigateToScheduledPosts"]],[30,17],[30,0,["scheduledAt"]],[30,0,["updateModalConfig"]]]],null],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],[4]]]]],[1,"\\n"],[13]],["&attrs","@isPhoenixUIEnabled","@returnFocusTo","modalComponents","@customPrimaryButtonText","@deferredAiPrefilledTextConfig","@disableFocusableEntityElements","@groupId","@hideCreationStateFooter","@initialHeader","@inlineCalloutConfig","@prefilledTextTVMV2","@shareBoxSessionId","@shareBoxSessionUrn","@shareOrigin","@shareType","@showInlineHeader","@updateV2","DetourComponent","@initialDetourType","@onReInitializeSharebox","@scheduledPostSharePreview"],false,["artdeco-modal@artdeco-confirmation-dialog","artdeco-modal@artdeco-modal","if","global-helpers@eq","sharing-v2@share-box-layout","global-modifiers@focus","eq","sharing-v2@unified-settings-entry-button","fn","global-helpers@or","sharing-v2@creation-state","let","component","ember-holy-futuristic-template-namespacing-batman-translate-dynamic-2","global-helpers@is-empty","sharing-v2@visibility/phoenix-visibility-manager","sharing-v2@visibility/visibility-manager","sharing-v2@post-manager"]]',moduleName:"sharing-v2/components/share-box-v2.hbs",isStrictMode:!1})
let z=e.default=(T=(0,d.inject)("tracking"),y=(0,d.inject)("i18n"),S=(0,d.inject)("sharing-shared@sharebox-interop"),E=(H=new WeakSet,class extends c.default{constructor(){super(...arguments)
H.add(this);(0,t.default)(this,"tracking",v,this);(0,t.default)(this,"i18n",I,this);(0,t.default)(this,"shareboxInteropService",C,this);(0,i.default)(this,"isModalSharebox",!0);(0,i.default)(this,"isPhoenixUIEnabled",!0);(0,t.default)(this,"isExtendedDetoursVisible",A,this);(0,t.default)(this,"isClosedByDismissButton",O,this);(0,t.default)(this,"isNavigatingToScheduledPosts",D,this);(0,t.default)(this,"scheduledPostsCallback",P,this);(0,t.default)(this,"modalHeader",N,this);(0,t.default)(this,"shareboxCloseControlName",R,this);(0,t.default)(this,"returnToArticleManagement",w,this);(0,t.default)(this,"shareboxHasValidInteraction",k,this);(0,t.default)(this,"shouldFocusOnHeader",M,this);(0,t.default)(this,"showHeaderNotice",x,this);(0,t.default)(this,"modalSizeOverride",L,this);(0,t.default)(this,"modalHeightFull",V,this);(0,t.default)(this,"hideModalHeader",U,this);(0,t.default)(this,"suppressConfirmationDialog",B,this)}get closeShareboxFromWithinDetour(){return this.args.initialDetourType&&!this.shareboxHasValidContent}get isPostBtnTriggeredConfirmationDialog(){return!this.isClosedByDismissButton&&this.promptConfirmationDialogBeforePosting}_handleCloseShareboxModal(e){var t,i
null===(t=(i=this.args).onCloseShareboxModal)||void 0===t||t.call(i,e)}_onShareEditSuccess(){super._onShareEditSuccess(...arguments)
this._handleCloseShareboxModal()}_getDraftSuccessToast(){super._getDraftSuccessToast()
this._handleCloseShareboxModal()}_getPostSuccessToast(){super._getPostSuccessToast(...arguments)
this._handleCloseShareboxModal()}_getPostPostPrompt(){super._getPostPostPrompt(...arguments)
this._handleCloseShareboxModal()}_buildShareStatusData(){super._buildShareStatusData(...arguments)
this._handleCloseShareboxModal()}_updateModalConfig(e){this.shouldFocusOnHeader=!1
const{modalHeader:t,controlName:i,shouldFocusOnHeader:r=!1,showHeaderNotice:a=!1,modalSizeOverride:o,modalHeightFull:s=!1,hideModalHeader:l=!1,suppressConfirmationDialog:d=!1}=e;(0,u.scheduleOnce)("afterRender",this,(0,n.default)(this,H,G),a,t,i,r,o,s,l,d)}_detourDismissModalAction(){this.promptConfirmationDialogBeforeClosingDetour?this.isConfirmationDialogOpen=!0:this.closeShareboxFromWithinDetour?this._shareboxDismissModalAction():this.closeConfirmationDialogReturnToCreationState()}_scheduledPostListDismissModalAction(){this.isScheduledPostEditLixEnabled&&this._shareboxDismissModalAction(this.suppressConfirmationDialog)
this._shareboxDismissModalAction()}_shareboxDismissModalAction(e){this.isClosedByDismissButton=!0
this.tracking.fireInteractionEvent(this.shareboxCloseControlName,"SHORT_PRESS")
if(this.isEditingADraftPost&&!this.shareboxHasValidContent)super.deleteDraft().finally((()=>{var e,t
if(!this.isDestroying){null===(e=(t=this.args).onCancelSharebox)||void 0===e||e.call(t)
this._handleCloseShareboxModal()}}))
else if(this.promptConfirmationDialogBeforeClosingSharebox&&!e)this.isConfirmationDialogOpen=!0
else{var t,i
null===(t=(i=this.args).onCancelSharebox)||void 0===t||t.call(i)
this._handleCloseShareboxModal()}}_getPostTriggeredConfirmationDialog(){const e=this.isAiDraftUnmodified?"ai":"thought_starters"
return this.scheduledAt?(0,m.buildScheduleAddThoughtsDialog)(this.i18n,this.onDismissConfirmationDialog,this.publishPost,e):this.showInstantRepostEducationDialog?(0,m.buildConvertRepostDialog)(this.i18n,this.convertToInstantRepostViaDialogConfirm,this.onDismissConfirmationDialog,this.previewedUpdateV2):"PROFILE_SKILL_NEXT_BEST_ACTION"===this.args.shareOrigin?(0,m.buildSkillAddThoughtsDialog)(this.i18n,this.onDismissConfirmationDialog,this.publishPost):(0,m.buildPostAddThoughtsDialog)(this.i18n,this.onDismissConfirmationDialog,this.publishPost,e)}_getDismissTriggeredConfirmationDialog(){return this.promptConfirmationDialogBeforeClosingDetour?(0,m.buildUnsavedDetourDialog)(this.i18n,this.closeShareboxFromWithinDetour?this.closeConfirmationDialogAndSharebox:this.closeConfirmationDialogReturnToCreationState,this.onDismissConfirmationDialog):this.isInEditMode?(0,m.buildDiscardEditDialog)(this.i18n,this.closeConfirmationDialogAndSharebox,this.onDismissConfirmationDialog):this.isEditingAScheduledPost?(0,m.buildScheduleEditDiscardDialog)(this.i18n,this.closeConfirmationDialogAndSharebox,this.onDismissConfirmationDialog):this.canBeSavedAsDraft?(0,m.buildSaveDraftDialog)(this.i18n,this.saveDraft,this.closeConfirmationDialogAndSharebox,this.args.shareOrigin,super.currentTargetedAudience,super.currentCommentRestriction):(0,m.buildDiscardDraftDialog)(this.i18n,this.closeConfirmationDialogAndSharebox,this.onDismissConfirmationDialog)}_getPostListTriggeredConfirmationDialog(){return this.canBeSavedAsDraft?(0,m.buildSaveDraftDialog)(this.i18n,this.saveDraft,this.closeConfirmationDialogAndSharebox,this.args.shareOrigin,super.currentTargetedAudience,super.currentCommentRestriction):this.isEditingAScheduledPost?(0,m.buildScheduleEditDiscardDialog)(this.i18n,this.closeConfirmationDialogAndSharebox,this.onDismissConfirmationDialog):void 0}get confirmationDialogTextConfig(){return this.isPostBtnTriggeredConfirmationDialog?this._getPostTriggeredConfirmationDialog():this._getDismissTriggeredConfirmationDialog()}get isRedesignedHeaderEnabledOnCreation(){return this.args.isPhoenixUIEnabled&&this.currentShareboxState===p.SHAREBOX_STATE.CREATION}get modalSize(){return this.modalSizeOverride?this.modalSizeOverride:this.currentShareboxState===p.SHAREBOX_STATE.CREATION&&this.args.isPhoenixUIEnabled?"large":"medium"}updateModalConfig(e){this._updateModalConfig(e)}onUpsellContainerClickHandler(e){if(Array.from(e.target.classList).includes((0,_.getClassHashString)("app-aware-link"))){var t,i,n,r,a,o,s,l,d
e.preventDefault()
e.stopPropagation()
const u=(0,b.parseQueryString)(e.target.href,!1).destRedirectURL,h=(0,b.addQueryParams)(decodeURIComponent(u),{shareActive:"true",linkOrigin:f.SHARE_ORIGIN.FEED})
this.premiumTargetUrl=null===(t=e.target.href)||void 0===t?void 0:t.replace(u,encodeURIComponent(h))
this.promptConfirmationDialogBeforeNavigatingToPremium&&this.shareboxInteropService.isSharingNileInteropEnabled?this.saveDraft():this.promptConfirmationDialogBeforeNavigatingToPremium?this.isConfirmationDialogOpen=!0:this.navigateToPremiumUpsell()
let p
if((null===(i=this.upsellCardData)||void 0===i||null===(n=i.upsellOrderOrigin)||void 0===n?void 0:n.toLowerCase().includes("tracking:v1"))&&null!==(r=this.upsellCardData)&&void 0!==r&&r.controlName)p=this.upsellCardData.controlName
else{var c
p=`${null===(c=this.upsellCardData)||void 0===c?void 0:c.upsellOrderOrigin}_click`}this.tracking.fireInteractionEvent(p,"SHORT_PRESS")
const g={premiumFunnelCommonHeader:{referenceId:null===(a=this.upsellCardData)||void 0===a||null===(o=a.funnelCommonHeader)||void 0===o?void 0:o.referenceId,utype:null===(s=this.upsellCardData)||void 0===s||null===(l=s.funnelCommonHeader)||void 0===l?void 0:l.utype},contextUrn:this.upsellCardData.contextUrn,upsellOrderOrigin:null===(d=this.upsellCardData)||void 0===d?void 0:d.upsellOrderOrigin}
this.tracking.fireTrackingPayload("PremiumUpsellClickActionEvent",g)}}onDismissModal(){this.currentShareboxState===p.SHAREBOX_STATE.MANAGEMENT?this._scheduledPostListDismissModalAction():this.currentShareboxState===p.SHAREBOX_STATE.DETOUR?this._detourDismissModalAction():this._shareboxDismissModalAction()}onNavigateToScheduledPosts(e){this.isNavigatingToScheduledPosts=!0
this.scheduledPostsCallback=e
if(super.promptConfirmationDialogBeforeNavigatingToPostList){this._getPostListTriggeredConfirmationDialog()
this.isConfirmationDialogOpen=!0}else this.scheduledPostsCallback()}onNavigateBackToArticleManagement(){this.returnToArticleManagement=!0
this.promptConfirmationDialogBeforeClosingSharebox?this.isConfirmationDialogOpen=!0:this._handleCloseShareboxModal(this.returnToArticleManagement)}closeConfirmationDialogAndSharebox(){if(super.isPrefilledWithCachedFailedPost){var e
null===(e=super.cachedPostManager)||void 0===e||e.clearDraftPost()}let t=Promise.resolve()
super.isInUnpublishedPostEditMode&&this.isEditingADraftPost&&(t=super.deleteDraft())
this.isConfirmationDialogOpen=!1
this.isClosedByDismissButton=!1
this.promptConfirmationDialogBeforeNavigatingToPremium&&this.navigateToPremiumUpsell()
if(this.isNavigatingToScheduledPosts){var i
super.resetShareboxContents()
null===(i=this.scheduledPostsCallback)||void 0===i||i.call(this)
this.isNavigatingToScheduledPosts=!1}else t.finally((()=>{var e,t
if(!this.isDestroying){null===(e=(t=this.args).onCancelSharebox)||void 0===e||e.call(t)
this._handleCloseShareboxModal(this.returnToArticleManagement)}}))}onDismissConfirmationDialog(){this.isConfirmationDialogOpen=!1
this.isClosedByDismissButton=!1}saveDraft(){this.isConfirmationDialogOpen=!1
this.isClosedByDismissButton=!1
if(this.promptConfirmationDialogBeforeNavigatingToPremium)super.saveDraft({redirectUrl:this.premiumTargetUrl})
else{const e=this.isNavigatingToScheduledPosts&&this.scheduledPostsCallback?()=>{super.originalShareContentsData=super.trackedPostContents.trackedPostContentsData
this.scheduledPostsCallback()}:void 0
super.saveDraft({onSuccessCallback:e})
this.isNavigatingToScheduledPosts=!1}}onEscapeConfirmationDialog(){this.isAiDraftUnmodified?this.tracking.fireInteractionEvent(p.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.AI_CONFIRMATION_DIALOG_EXIT,"SHORT_PRESS"):"PROFILE_SKILL_NEXT_BEST_ACTION"===this.args.shareOrigin?this.tracking.fireInteractionEvent(p.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.SKILLS_EDIT_DISMISS,"SHORT_PRESS"):this.tracking.fireInteractionEvent(p.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.CONFIRMATION_DIALOG_EXIT,"SHORT_PRESS")
this.isConfirmationDialogOpen=!1}removeFocus(e){(0,g.isEscapeKey)(e)&&e.stopPropagation()}showExtendedDetours(e){var t
this.isExtendedDetoursVisible=!0
this.setActiveControl(null===(t=e[0])||void 0===t?void 0:t.dataTestName)}firstTextChangeHandler(){this.shareboxHasValidInteraction||(this.shareboxHasValidInteraction=!0)}closeConfirmationDialogReturnToCreationState(){this.hasUnsavedDetourChanges=!1
this.isConfirmationDialogOpen=!1
this.shareboxState=p.SHAREBOX_STATE.CREATION}convertToInstantRepostViaDialogConfirm(){this.onDismissConfirmationDialog()
super.convertToInstantRepostViaDialogConfirm()}}),v=(0,r.default)(E.prototype,"tracking",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,r.default)(E.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,r.default)(E.prototype,"shareboxInteropService",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,r.default)(E.prototype,"isExtendedDetoursVisible",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=(0,r.default)(E.prototype,"isClosedByDismissButton",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=(0,r.default)(E.prototype,"isNavigatingToScheduledPosts",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=(0,r.default)(E.prototype,"scheduledPostsCallback",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,r.default)(E.prototype,"modalHeader",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,r.default)(E.prototype,"shareboxCloseControlName",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,r.default)(E.prototype,"returnToArticleManagement",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=(0,r.default)(E.prototype,"shareboxHasValidInteraction",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),M=(0,r.default)(E.prototype,"shouldFocusOnHeader",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=(0,r.default)(E.prototype,"showHeaderNotice",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=(0,r.default)(E.prototype,"modalSizeOverride",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),V=(0,r.default)(E.prototype,"modalHeightFull",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=(0,r.default)(E.prototype,"hideModalHeader",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=(0,r.default)(E.prototype,"suppressConfirmationDialog",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(E.prototype,"updateModalConfig",[h.action],Object.getOwnPropertyDescriptor(E.prototype,"updateModalConfig"),E.prototype),(0,r.default)(E.prototype,"onUpsellContainerClickHandler",[h.action],Object.getOwnPropertyDescriptor(E.prototype,"onUpsellContainerClickHandler"),E.prototype),(0,r.default)(E.prototype,"onDismissModal",[h.action],Object.getOwnPropertyDescriptor(E.prototype,"onDismissModal"),E.prototype),(0,r.default)(E.prototype,"onNavigateToScheduledPosts",[h.action],Object.getOwnPropertyDescriptor(E.prototype,"onNavigateToScheduledPosts"),E.prototype),(0,r.default)(E.prototype,"onNavigateBackToArticleManagement",[h.action],Object.getOwnPropertyDescriptor(E.prototype,"onNavigateBackToArticleManagement"),E.prototype),(0,r.default)(E.prototype,"closeConfirmationDialogAndSharebox",[h.action],Object.getOwnPropertyDescriptor(E.prototype,"closeConfirmationDialogAndSharebox"),E.prototype),(0,r.default)(E.prototype,"onDismissConfirmationDialog",[h.action],Object.getOwnPropertyDescriptor(E.prototype,"onDismissConfirmationDialog"),E.prototype),(0,r.default)(E.prototype,"saveDraft",[h.action],Object.getOwnPropertyDescriptor(E.prototype,"saveDraft"),E.prototype),(0,r.default)(E.prototype,"onEscapeConfirmationDialog",[h.action],Object.getOwnPropertyDescriptor(E.prototype,"onEscapeConfirmationDialog"),E.prototype),(0,r.default)(E.prototype,"removeFocus",[h.action],Object.getOwnPropertyDescriptor(E.prototype,"removeFocus"),E.prototype),(0,r.default)(E.prototype,"showExtendedDetours",[h.action],Object.getOwnPropertyDescriptor(E.prototype,"showExtendedDetours"),E.prototype),(0,r.default)(E.prototype,"firstTextChangeHandler",[h.action],Object.getOwnPropertyDescriptor(E.prototype,"firstTextChangeHandler"),E.prototype),(0,r.default)(E.prototype,"closeConfirmationDialogReturnToCreationState",[h.action],Object.getOwnPropertyDescriptor(E.prototype,"closeConfirmationDialogReturnToCreationState"),E.prototype),(0,r.default)(E.prototype,"convertToInstantRepostViaDialogConfirm",[h.action],Object.getOwnPropertyDescriptor(E.prototype,"convertToInstantRepostViaDialogConfirm"),E.prototype),E)
function G(e,t,i,n,r,a,o,s){this.showHeaderNotice=e
this.modalHeader=t
this.shareboxCloseControlName=i
this.shouldFocusOnHeader=n
this.modalSizeOverride=r
this.modalHeightFull=a
this.hideModalHeader=o
this.suppressConfirmationDialog=s}(0,o.setComponentTemplate)(F,z)}))
define.alias("ember-cloud-filepicker/components/slideshare-file-picker","sharing-v2/components/slideshare-file-picker")
define("sharing-v2/components/sortable-objects",["exports","ember-drag-drop/components/sortable-objects"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=t.default}))
define("sharing-v2/components/state-change-button",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service","sharing-v2/utils/state-change-button-config","sharing-v2/utils/sharing-constants"],(function(e,t,i,n,r,a,o,s,l,d,c,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,p,g
const m=(0,o.createTemplateFactory)({id:"P8xItc7P",block:'[[[11,"button"],[16,0,[29,["share-state-change-button__button artdeco-button artdeco-button--muted artdeco-button--",[30,0,["toggleConfig","buttonSize"]],"\\n    artdeco-button--",[30,0,["toggleConfig","buttonType"]]]]],[16,"aria-label",[30,0,["toggleConfig","ariaLabel"]]],[16,"disabled",[30,1]],[24,4,"button"],[4,[38,0],[[30,0,["toggleConfig","controlName"]]],null],[4,[38,1],["click",[30,0,["onButtonClick"]]],null],[12],[1,"\\n"],[41,[30,0,["toggleConfig","iconType"]],[[[1,"\\n    "],[8,[39,3],[[24,0,"share-state-change-button__icon"]],[["@name","@type","@size"],[[30,0,["toggleConfig","iconType"]],"system","small"]],null],[1,"\\n\\n"]],[]],null],[1,"  "],[10,1],[14,0,"share-state-change-button__label"],[12],[1,"\\n    "],[1,[28,[35,4],[[30,0,["toggleConfig","label"]]],[["length"],[40]]]],[1,"\\n  "],[13],[1,"\\n"],[41,[30,0,["toggleConfig","showCaretIcon"]],[[[1,"    "],[8,[39,3],[[24,0,"share-state-change-button__icon"]],[["@type","@size","@name"],["system","small","caret"]],null],[1,"\\n"]],[]],null],[13]],["@disabled"],false,["ember-cli-pemberly-tracking@track-interaction","on","if","hue-web-icons@icon","global-helpers@truncate-text"]]',moduleName:"sharing-v2/components/state-change-button.hbs",isStrictMode:!1})
let b=e.default=(h=(0,d.inject)("i18n"),p=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",g,this)}get isCommentRestrictionToggleMode(){return"comment-restriction"===this.toggleConfig.type}get isActorToggleMode(){return"actor"===this.toggleConfig.type}get isVisibilityMode(){return"visibility"===this.toggleConfig.type}get toggleConfig(){return new c.default(this.args.stateChangeButton,this.i18n,"sharing-v2@state-change-button")}get visibilityScreen(){return this.isActorToggleMode?u.VISIBILITY_SCREEN.ACTOR_TOGGLE:this.isCommentRestrictionToggleMode?u.VISIBILITY_SCREEN.COMMENT_CONTROLS:u.VISIBILITY_SCREEN.VISIBILITY_OPTIONS}onButtonClick(){var e,t
null===(e=(t=this.args).goToVisibilityScreen)||void 0===e||e.call(t,this.visibilityScreen)}},g=(0,n.default)(p.prototype,"i18n",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(p.prototype,"onButtonClick",[l.action],Object.getOwnPropertyDescriptor(p.prototype,"onButtonClick"),p.prototype),p);(0,a.setComponentTemplate)(m,b)}))
define("sharing-v2/components/unified-settings-entry-button",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","sharing-shared/utils/sharing-shared-constants"],(function(e,t,i,n,r,a,o,s,l,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,h,p,g,m,b
const f=(0,s.createTemplateFactory)({id:"bJsDA3hv",block:'[[[10,"h2"],[14,1,"share-to-linkedin-modal__header"],[12],[1,"\\n  "],[11,"button"],[16,"disabled",[30,1]],[24,0,"share-unified-settings-entry-button"],[24,4,"button"],[4,[38,0],["click",[30,2]],null],[4,[38,1],[[30,3]],null],[12],[1,"\\n    "],[8,[39,2],null,[["@class","@size"],["relative",4]],[["default"],[[[[1,"\\n      "],[8,[30,4,["image"]],null,[["@type"],[[30,5,["lockupImageShape"]]]],[["default"],[[[[1,"\\n"],[41,[28,[37,4],[[30,5,["image"]],[30,5,["vectorImageGhostType"]]],null],[[[41,[28,[37,5],[[30,5,["image"]]],null],[[[1,"            "],[8,[39,6],null,[["@a11yText","@entitySize","@images"],[[30,5,["name"]],3,[30,5,["image"]]]],null],[1,"\\n"]],[]],[[[1,"            "],[8,[39,7],null,[["@alt","@class","@desiredWidth","@ghostType","@image"],[[30,5,["name"]],[30,5,["imageEntityClass"]],50,[30,5,["vectorImageGhostType"]],[30,5,["image"]]]],null],[1,"\\n"]],[]]]],[]],null],[1,"      "]],[]]]]],[1,"\\n      "],[8,[30,4,["content"]],null,[["@class"],["share-unified-settings-entry-button__lockup-content"]],[["default"],[[[[1,"\\n        "],[8,[30,4,["title"]],null,[["@altLink","@class"],[false,"display-flex align-items-center"]],[["default"],[[[[1,"\\n          "],[10,1],[14,0,"text-body-large-bold truncate"],[12],[1,[30,5,["name"]]],[13],[1,"\\n          "],[8,[39,8],[[24,0,"share-unified-settings-entry-button__chevron-icon"]],[["@name","@size"],["caret","medium"]],null],[1,"\\n        "]],[]]]]],[1,"\\n        "],[8,[30,4,["subtitle"]],null,[["@class"],["truncate"]],[["default"],[[[[1,"\\n"],[41,[30,0,["isVisibilityTypeUnknown"]],[[[41,[30,0,["showSelectVisibilityInlineFeedbackMessage"]],[[[1,"              "],[10,0],[14,0,"share-unified-settings-entry-button__inline-feedback"],[12],[1,"\\n                "],[8,[39,9],null,[["@message","@type"],[[28,[37,10],["i18n_visibility_selection","sharing-v2/components/unified-settings-entry-button"],null],"yield"]],null],[1,"\\n              "],[13],[1,"\\n"]],[]],null]],[]],[[[1,"            "],[1,[30,0,["subtitleI18nKey"]]],[1,"\\n"]],[]]],[1,"        "]],[]]]]],[1,"\\n      "]],[]]]]],[1,"\\n"],[41,[30,6,["logo"]],[[[1,"        "],[10,0],[14,0,"share-unified-settings-entry-button__group-image"],[12],[1,"\\n"],[41,[28,[37,5],[[30,6,["logo"]]],null],[[[1,"            "],[8,[39,6],null,[["@a11yText","@entitySize","@images","@desiredHeight","@imgClasses"],["",1,[30,6,["logo"]],32,[30,6,["imageEntityClass"]]]],null],[1,"\\n"]],[]],[[[1,"            "],[8,[39,7],null,[["@image","@alt","@desiredWidth","@class","@ghostType"],[[30,6,["logo"]],"",50,"",[30,6,["iconName"]]]],null],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n"]],[]],null],[1,"    "]],[4]]]]],[1,"\\n  "],[13],[1,"\\n"],[13]],["@disabled","@clickHandler","@dataControlName","elements","@currentActor","@currentVisibility"],false,["on","ember-cli-pemberly-tracking@track-interaction","artdeco-entity-lockup@artdeco-entity-lockup","if","global-helpers@or","global-helpers@is-ivm-image","image-view-model@image-view-model","ember-vector-images@lazy-image","hue-web-icons@icon","artdeco-inline-feedback@artdeco-inline-feedback","t"]]',moduleName:"sharing-v2/components/unified-settings-entry-button.hbs",isStrictMode:!1})
let _=e.default=(u=(0,d.inject)("lix"),h=(0,d.inject)("i18n"),p=(b=new WeakSet,class extends l.default{constructor(){super(...arguments)
b.add(this);(0,t.default)(this,"lix",g,this);(0,t.default)(this,"i18n",m,this)}get showSelectVisibilityInlineFeedbackMessage(){return this.lix.getTreatmentIsEnabled("voyager.web.sharing-select-visibility-inline-feedback-message")}get isVisibilityTypeUnknown(){return this.args.currentVisibility.type===c.VALID_VISIBILITY_TYPES.SELECT_VISIBILITY}get subtitleI18nKey(){return this.args.isInEditMode?this.args.currentVisibility.type===c.VALID_VISIBILITY_TYPES.CONTAINER?(0,n.default)(this,b,T).call(this,"i18n_edit_post_visibility_text_container"):(0,n.default)(this,b,T).call(this,"i18n_edit_post_visibility_text_anyone_connections"):this.args.currentVisibility.type===c.VALID_VISIBILITY_TYPES.CONTAINER?(0,n.default)(this,b,T).call(this,"i18n_visibility_text_container"):(0,n.default)(this,b,T).call(this,"i18n_visibility_text_anyone_connections")}}),g=(0,r.default)(p.prototype,"lix",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=(0,r.default)(p.prototype,"i18n",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p)
function T(e){var t
const i=null===(t=this.args.currentVisibility.name)||void 0===t?void 0:t.text
return jSecure.htmlUnencode(this.i18n.lookupTranslation("components/sharing-v2@unified-settings-entry-button",e)({visibilityText:i}))}(0,o.setComponentTemplate)(f,_)}))
define("sharing-v2/components/visibility/actor-toggle",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","@glimmer/tracking","@ember/object","sharing-v2/utils/sharing-constants","sharing-shared/utils/generic-list-item","sharing-shared/utils/text-view-model-helpers","sharing-shared/utils/sharebox-list-item","detour-framework/utils/detour-constants"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,f,_,T
const y=(0,o.createTemplateFactory)({id:"834ERsZ/",block:'[[[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@headerType","@titleText"],[[30,2],[28,[37,2],["i18n_posting_as","sharing-v2/components/visibility/actor-toggle"],null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[11,0],[16,0,[29,[[52,[30,3],"share-box-modal-content__container","share-box-modal-content__inline-container"]]]],[4,[38,3],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,4],[[53,"outletState"],"render.name"],null],[28,[37,4],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[41,[30,0,["actorToggleDisabled"]],[[[1,"    "],[8,[39,6],null,[["@linkText","@type","@onClick","@message","@class"],[[28,[37,2],["i18n_go_back","sharing-v2/components/visibility/actor-toggle"],null],"error",[52,[30,4],[30,5],[30,6]],[28,[37,2],["i18n_actor_toggle_error","sharing-v2/components/visibility/actor-toggle"],null],"share-visibility__error-feedback"]],null],[1,"\\n"]],[]],null],[1,"\\n  "],[10,"fieldset"],[14,0,"share-visibility__fieldset"],[12],[1,"\\n    "],[10,"legend"],[14,0,"visually-hidden"],[12],[1,"\\n      "],[1,[28,[35,2],["i18n_actor_btn_a11y_label","sharing-v2/components/visibility/actor-toggle"],[["label"],[[30,0,["currentActor","name"]]]]]],[1,"\\n    "],[13],[1,"\\n"],[41,[30,4],[[[1,"      "],[8,[39,7],null,[["@listItems","@currentSelectionId","@setItem","@isInModal","@isDisabled"],[[30,0,["listItemsPhoenix"]],[30,0,["currentActor","dashUrn"]],[30,0,["onActorSelect"]],[30,3],[30,0,["actorToggleDisabled"]]]],null],[1,"\\n"]],[]],[[[1,"      "],[8,[39,8],null,[["@listItems","@currentSelectionId","@setItem","@isInModal","@isDisabled"],[[30,0,["listItems"]],[30,0,["currentActor","dashUrn"]],[30,0,["onActorSelect"]],[30,3],[30,0,["actorToggleDisabled"]]]],null],[1,"\\n"]],[]]],[1,"  "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[8,[39,9],null,[["@primaryAction","@primaryControlName","@primaryButtonKey","@isPrimaryDisabled","@secondaryAction","@secondaryControlName","@secondaryButtonKey"],[[30,0,["onSave"]],[52,[30,4],[30,0,["controlInteractionEvents","ACTOR_SELECT_SAVE_V2"]],[30,0,["controlInteractionEvents","ACTOR_SELECT_SAVE"]]],[30,0,["footerPrimaryButtonKeys","SAVE"]],[30,0,["disableSaveButton"]],[30,0,["onSecondaryAction"]],[52,[30,4],[30,0,["controlInteractionEvents","ACTOR_SELECT_BACK_V2"]],[30,0,["controlInteractionEvents","ACTOR_SELECT_BACK"]]],[30,0,["footerSecondaryButtonKeys","BACK"]]]],null]],["@showInlineHeader","@headerType","@isInModal","@isPhoenixUIEnabled","@goToUnifiedSettingsMenu","@goToCreation"],false,["if","detour-framework@title-bar","t","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","artdeco-inline-feedback@artdeco-inline-feedback","sharing-shared@generic-list","sharing-shared@detour-generic-list","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/visibility/actor-toggle.hbs",isStrictMode:!1})
let S=e.default=(b=(0,l.inject)("i18n"),f=class extends s.default{get disableSaveButton(){var e
return(null===(e=this.args.initialActor)||void 0===e?void 0:e.dashUrn)===this.currentActor.dashUrn}get currentActor(){return this.selectedActor??this.args.initialActor}get listItems(){return this.args.availableActors.map((e=>new h.default({entityImageShape:e.lockupImageShape,itemId:e.dashUrn,image:e.image,controlName:this.controlInteractionEvents.ACTOR_SELECT,text:(0,p.createTextViewModelV2)(e.name),imageAltText:e.name,vectorImageGhostType:e.vectorImageGhostType})))}get listItemsPhoenix(){return this.args.availableActors.map((e=>new g.default({entityImageShape:e.lockupImageShape,itemId:e.dashUrn,image:e.image,controlName:this.controlInteractionEvents.ACTOR_SELECT,mainText:(0,p.createTextViewModelV2)(e.name),imageAltText:e.name,vectorImageGhostType:e.vectorImageGhostType})))}get actorToggleDisabled(){return!this.args.isInRepostMode&&this.args.shareboxHasAttachment}constructor(){var e,n
super(...arguments);(0,t.default)(this,"i18n",_,this);(0,i.default)(this,"controlInteractionEvents",u.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"pageKey",this.args.isPhoenixUIEnabled?u.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.ACTOR_TOGGLE_V2:u.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.ACTOR_TOGGLE);(0,i.default)(this,"footerPrimaryButtonKeys",m.SHARE_BOX_FOOTER_PRIMARY_KEYS);(0,i.default)(this,"footerSecondaryButtonKeys",m.SHARE_BOX_FOOTER_SECONDARY_KEYS);(0,t.default)(this,"selectedActor",T,this)
null===(e=(n=this.args).updateModalConfig)||void 0===e||e.call(n,{modalHeader:this.i18n.lookupTranslation("components/sharing-v2@visibility/actor-toggle","i18n_posting_as")(),controlName:this.controlInteractionEvents.ACTOR_SELECT_EXIT,shouldFocusOnHeader:!0})}onActorSelect(e){this.selectedActor=this.args.availableActors.find((t=>t.dashUrn===e))}onSave(){var e,t
null===(e=(t=this.args).onActorSelected)||void 0===e||e.call(t,this.currentActor)}onSecondaryAction(){this.args.isPhoenixUIEnabled?this.args.goToUnifiedSettingsMenu(u.UNIFIED_SETTINGS_CTAS.ACTOR):this.args.goToCreation()}},_=(0,n.default)(f.prototype,"i18n",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,n.default)(f.prototype,"selectedActor",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(f.prototype,"onActorSelect",[c.action],Object.getOwnPropertyDescriptor(f.prototype,"onActorSelect"),f.prototype),(0,n.default)(f.prototype,"onSave",[c.action],Object.getOwnPropertyDescriptor(f.prototype,"onSave"),f.prototype),(0,n.default)(f.prototype,"onSecondaryAction",[c.action],Object.getOwnPropertyDescriptor(f.prototype,"onSecondaryAction"),f.prototype),f);(0,a.setComponentTemplate)(y,S)}))
define("sharing-v2/components/visibility/comment-controls",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/debug","@glimmer/component","@ember/object","@glimmer/tracking","@ember/service","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants","sharing-shared/utils/text-view-model-helpers","sharing-shared/utils/generic-list-item","sharing-shared/utils/sharebox-list-item","image-view-model/utils/hue-icon","sharing-v2/utils/sharing-utils","detour-framework/utils/detour-constants"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g,m,b,f,_,T,y){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var S,E,v,I,C,A,O,D,P,N,R,w,k
const M=(0,s.createTemplateFactory)({id:"X+CuTUR/",block:'[[[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@headerType","@titleText"],[[30,2],[28,[37,2],["i18n_who_can_comment","sharing-v2/components/visibility/comment-controls"],null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[11,0],[16,0,[52,[30,3],"share-box-modal-content__container"]],[4,[38,3],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,4],[[53,"outletState"],"render.name"],null],[28,[37,4],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[41,[30,0,["showCommentControlsFeedbackMessage"]],[[[1,"    "],[8,[39,6],null,[["@type","@message","@class"],["note",[28,[37,2],["i18n_sticky_comment_controls_message","sharing-v2/components/visibility/comment-controls"],null],"share-visibility__comment-controls-initialization-msg"]],null],[1,"\\n"]],[]],null],[1,"\\n  "],[10,"fieldset"],[14,0,"share-visibility__fieldset"],[12],[1,"\\n"],[41,[30,4],[[[1,"      "],[10,"legend"],[14,0,"visually-hidden"],[12],[1,[28,[35,2],["i18n_who_can_comment","sharing-v2/components/visibility/comment-controls"],null]],[13],[1,"\\n      "],[8,[39,7],null,[["@listItems","@currentSelectionId","@setItem","@isInModal"],[[30,0,["listItemsPhoenix"]],[30,0,["currentSelection"]],[30,0,["setCurrentSelection"]],[30,3]]],null],[1,"\\n"]],[]],[[[1,"      "],[8,[39,8],null,[["@listItems","@currentSelectionId","@setItem","@isInModal"],[[30,0,["listItems"]],[30,0,["currentSelection"]],[30,0,["setCurrentSelection"]],[30,3]]],null],[1,"\\n"]],[]]],[1,"  "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[8,[39,9],null,[["@primaryAction","@primaryControlName","@primaryButtonKey","@isPrimaryDisabled","@secondaryAction","@secondaryControlName","@secondaryButtonKey"],[[30,0,["onSaveButtonClick"]],[52,[30,4],[30,0,["controlInteractionEvents","COMMENT_CONTROLS_SELECT_SAVE_V2"]],[30,0,["controlInteractionEvents","COMMENT_CONTROLS_SELECT_SAVE"]]],[30,0,["footerPrimaryButtonKeys","SAVE"]],[30,0,["isSaveButtonDisabled"]],[30,0,["onSecondaryAction"]],[52,[30,4],[30,0,["controlInteractionEvents","COMMENT_CONTROLS_SELECT_BACK_V2"]],[30,0,["controlInteractionEvents","COMMENT_CONTROLS_SELECT_BACK"]]],[30,0,["footerSecondaryButtonKeys","BACK"]]]],null]],["@showInlineHeader","@headerType","@isInModal","@isPhoenixUIEnabled"],false,["if","detour-framework@title-bar","t","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","artdeco-inline-feedback@artdeco-inline-feedback","sharing-shared@generic-list","sharing-shared@detour-generic-list","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/visibility/comment-controls.hbs",isStrictMode:!1})
let x=e.default=(S=(0,h.inject)("i18n"),E=(0,h.inject)("lego@resolver"),v=(0,h.inject)("lego@tracking"),I=(N=new WeakSet,R=new WeakSet,w=new WeakSet,k=new WeakSet,class extends d.default{get listItems(){return this.args.currentCommentControlsList?this.args.currentCommentControlsList.map((e=>{const t=e.menuItem
return new b.default({itemId:e.allowedCommentersScope,controlName:t.controlName,text:t.title,subtext:t.description,iconType:(0,_.getHueIcon)(t.iconName).name,entityImageShape:"square"})})):this.args.isNonMemberActor?[(0,n.default)(this,N,L).call(this,p.COMMENT_RESTRICTION_CONFIGS.ALL),(0,n.default)(this,N,L).call(this,p.COMMENT_RESTRICTION_CONFIGS.NONE)]:this.args.currentVisibility.containerEntity?[(0,n.default)(this,N,L).call(this,p.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.ENABLED),(0,n.default)(this,N,L).call(this,p.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.DISABLED)]:this.args.currentVisibility.type===g.VALID_VISIBILITY_TYPES.CONNECTIONS?[(0,n.default)(this,N,L).call(this,p.COMMENT_RESTRICTION_CONFIGS.CONNECTIONS_ONLY),(0,n.default)(this,N,L).call(this,p.COMMENT_RESTRICTION_CONFIGS.NONE)]:[(0,n.default)(this,N,L).call(this,p.COMMENT_RESTRICTION_CONFIGS.ALL),(0,n.default)(this,N,L).call(this,p.COMMENT_RESTRICTION_CONFIGS.CONNECTIONS_ONLY),(0,n.default)(this,N,L).call(this,p.COMMENT_RESTRICTION_CONFIGS.NONE)]}get listItemsPhoenix(){return this.args.currentCommentControlsList?this.args.currentCommentControlsList.map((e=>{const t=e.menuItem
return new f.default({itemId:e.allowedCommentersScope,controlName:t.controlName,mainText:t.title,iconType:(0,_.getHueIcon)(t.iconName).name})})):this.args.isNonMemberActor?[(0,n.default)(this,R,V).call(this,p.COMMENT_RESTRICTION_CONFIGS.ALL),(0,n.default)(this,R,V).call(this,p.COMMENT_RESTRICTION_CONFIGS.NONE)]:this.args.currentVisibility.containerEntity?[(0,n.default)(this,R,V).call(this,p.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.ENABLED),(0,n.default)(this,R,V).call(this,p.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.DISABLED)]:this.args.currentVisibility.type===g.VALID_VISIBILITY_TYPES.CONNECTIONS?[(0,n.default)(this,R,V).call(this,p.COMMENT_RESTRICTION_CONFIGS.CONNECTIONS_ONLY),(0,n.default)(this,R,V).call(this,p.COMMENT_RESTRICTION_CONFIGS.NONE)]:[(0,n.default)(this,R,V).call(this,p.COMMENT_RESTRICTION_CONFIGS.ALL),(0,n.default)(this,R,V).call(this,p.COMMENT_RESTRICTION_CONFIGS.CONNECTIONS_ONLY),(0,n.default)(this,R,V).call(this,p.COMMENT_RESTRICTION_CONFIGS.NONE)]}get isInModal(){return this.args.isInModal??!1}get isSaveButtonDisabled(){return this.args.initialCommentRestrictionSetting.type===this.currentSelection}constructor(){var e,r
super(...arguments)
k.add(this)
w.add(this)
R.add(this)
N.add(this);(0,t.default)(this,"i18n",C,this);(0,t.default)(this,"legoResolver",A,this);(0,t.default)(this,"legoTracking",O,this);(0,i.default)(this,"controlInteractionEvents",p.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"pageKey",this.args.isPhoenixUIEnabled?p.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.COMMENT_CONTROLS_V2:p.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.COMMENT_CONTROLS);(0,i.default)(this,"footerPrimaryButtonKeys",y.SHARE_BOX_FOOTER_PRIMARY_KEYS);(0,i.default)(this,"footerSecondaryButtonKeys",y.SHARE_BOX_FOOTER_SECONDARY_KEYS);(0,t.default)(this,"currentSelection",D,this);(0,t.default)(this,"showCommentControlsFeedbackMessage",P,this)
const a=this.getLocalizedString("i18n_comment_control"),o=this.getLocalizedString(this.args.currentVisibility.containerEntity?"i18n_commenting_for_post":"i18n_who_can_comment")
null===(e=(r=this.args).updateModalConfig)||void 0===e||e.call(r,{modalHeader:this.args.isPhoenixUIEnabled?a:o,controlName:p.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.COMMENTS_CONTROLS_SELECT_EXIT,shouldFocusOnHeader:!0})
this.args.currentCommentControlsList&&(0,n.default)(this,w,U).call(this)
this.currentSelection=this.args.initialCommentRestrictionSetting.type}getLocalizedString(e){return this.i18n.lookupTranslation("components/sharing-v2@visibility/comment-controls",e)()}onSaveButtonClick(){this.args.onCommentRestrictionSelected(this.currentSelection)}setCurrentSelection(e){this.currentSelection=e}onSecondaryAction(){this.args.isPhoenixUIEnabled?this.args.goToUnifiedSettingsMenu(p.UNIFIED_SETTINGS_CTAS.COMMENT):this.args.goToCreation()}}),C=(0,r.default)(I.prototype,"i18n",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,r.default)(I.prototype,"legoResolver",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(I.prototype,"legoTracking",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,r.default)(I.prototype,"currentSelection",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,r.default)(I.prototype,"showCommentControlsFeedbackMessage",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(I.prototype,"onSaveButtonClick",[c.action],Object.getOwnPropertyDescriptor(I.prototype,"onSaveButtonClick"),I.prototype),(0,r.default)(I.prototype,"setCurrentSelection",[c.action],Object.getOwnPropertyDescriptor(I.prototype,"setCurrentSelection"),I.prototype),(0,r.default)(I.prototype,"onSecondaryAction",[c.action],Object.getOwnPropertyDescriptor(I.prototype,"onSecondaryAction"),I.prototype),I)
function L(e){return new b.default({itemId:e.TYPE,controlName:e.CONTROL_NAME,text:(0,m.createTextViewModelV2)(this.getLocalizedString(e.I18N_TEXT_KEY)),subtext:(0,m.createTextViewModelV2)(this.getLocalizedString(e.I18N_SUBTEXT_KEY)),iconType:e.ICON_NAME,entityImageShape:"square"})}function V(e){return new f.default({itemId:e.TYPE,controlName:e.CONTROL_NAME_V2,mainText:(0,m.createTextViewModelV2)(this.getLocalizedString(e.I18N_TEXT_KEY)),iconType:e.ICON_NAME})}function U(){(0,T.fireLegoRequestHelper)(this.legoResolver,{pageKey:"feed_share",slotId:"sticky_visibility_inline_feedback",groupId:"sticky_visibility_inline_feedback",widgetId:"sharing:_show_sticky_vis_inline_feedback_com"},(e=>(0,n.default)(this,k,B).call(this,null==e?void 0:e.trackingToken)))}function B(e){this.showCommentControlsFeedbackMessage=!0
this.legoTracking.sendLegoImpression(e,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}(0,o.setComponentTemplate)(M,x)}))
define("sharing-v2/components/visibility/dash-containers-list",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/destroyable","@ember/object","@ember/service","@glimmer/component","@glimmer/tracking","image-view-model/utils/hue-icon","sharing-shared/utils/client-sensor-constants","sharing-shared/utils/client-sensor-utils","sharing-shared/utils/sharing-shared-constants","sharing-shared/utils/visibility-utils","sharing-v2/utils/sharing-constants","sharing-v2/utils/visibility/visibility-option","detour-framework/utils/detour-constants"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g,m,b,f,_,T,y){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var S,E,v,I,C,A,O,D,P,N,R,w,k,M,x
const L=(0,s.createTemplateFactory)({id:"IIZ5uS7L",block:'[[[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@headerType","@titleText"],[[30,2],[30,0,["containerHeader"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[11,0],[16,0,[29,[[52,[30,3],"share-box-modal-content__container"]]]],[4,[38,2],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,3],[[53,"outletState"],"render.name"],null],[28,[37,3],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n  "],[10,0],[14,1,"phoenix-sharebox-hoverable-outlet"],[12],[13],[1,"\\n  "],[8,[39,5],null,[["@contentClass","@theme","@to","@id"],["share-visibility__groups-disclaimer","inverse","phoenix-sharebox-hoverable-outlet","groups-disclaimer"]],[["default"],[[[[1,"\\n    "],[1,[28,[35,6],["i18n_group_disclaimer","sharing-v2/components/visibility/dash-containers-list"],null]],[1,"\\n  "]],[]]]]],[1,"\\n"],[41,[30,4,["subheader"]],[[[1,"    "],[10,"h3"],[14,0,"share-visibility__subheader"],[12],[1,"\\n      "],[1,[30,4,["subheader"]]],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[41,[30,0,["hasContainersListError"]],[[[1,"    "],[10,0],[14,0,"share-visibility__error-feedback"],[12],[1,"\\n      "],[8,[39,7],null,[["@message","@role","@type"],[[28,[37,6],["i18n_containers_error","sharing-v2/components/visibility/dash-containers-list"],null],"status","error"]],null],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"\\n    "],[10,0],[15,0,[28,[37,8],["share-visibility__containers-list-loader ",[52,[30,0,["containerListLoaded"]],"visually-hidden"]],null]],[12],[1,"\\n      "],[8,[39,9],null,[["@size"],["small"]],null],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,"fieldset"],[14,0,"share-visibility__fieldset"],[12],[1,"\\n      "],[10,"legend"],[14,0,"visually-hidden"],[12],[1,[30,0,["containerHeader"]]],[13],[1,"\\n"],[41,[30,0,["containerListLoaded"]],[[[41,[30,5],[[[1,"          "],[8,[39,10],null,[["@currentSelectionId","@isInModal","@listItems","@setItem"],[[30,0,["currentVisibility","containerEntity"]],[30,3],[30,0,["containerListItemsPhoenix"]],[30,0,["setItem"]]]],null],[1,"\\n"]],[]],[[[1,"          "],[8,[39,11],null,[["@currentSelectionId","@isInModal","@listItems","@setItem"],[[30,0,["currentVisibility","containerEntity"]],[30,3],[30,0,["containerListItems"]],[30,0,["setItem"]]]],null],[1,"\\n"]],[]]]],[]],null],[1,"    "],[13],[1,"\\n"]],[]]],[13],[1,"\\n\\n"],[8,[39,12],null,[["@primaryAction","@primaryControlName","@primaryButtonKey","@isPrimaryDisabled","@secondaryAction","@secondaryControlName","@secondaryButtonKey","@errorState"],[[30,0,["footerPrimaryAction"]],[30,0,["footerPrimaryActionControlName"]],[30,0,["footerPrimaryActionKey"]],[30,0,["disableSaveButton"]],[30,0,["onSecondaryAction"]],[30,4,["backControlName"]],[30,0,["footerSecondaryButtonKeys","BACK"]],[30,0,["hasContainersListError"]]]],null]],["@showInlineHeader","@headerType","@isInModal","@dashContainerMetadata","@isPhoenixUIEnabled"],false,["if","detour-framework@title-bar","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","artdeco-hoverables@artdeco-hoverable-content","t","artdeco-inline-feedback@artdeco-inline-feedback","concat","artdeco-loader@artdeco-loader","sharing-shared@generic-list","sharing-shared@detour-generic-list","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/visibility/dash-containers-list.hbs",isStrictMode:!1})
let V=e.default=(S=(0,c.inject)("global-services@store-shim"),E=(0,c.inject)("client-sensor-web@client-sensor"),v=(0,c.inject)("router"),I=(0,c.inject)("sharing-shared@sharebox-interop"),C=(M=new WeakSet,x=new WeakSet,class extends u.default{get disableSaveButton(){var e
return!this.hasContainersListError&&(!this.currentVisibility||!this.containerOptions.some((e=>e.containerEntity===this.currentVisibility.containerEntity))||this.currentVisibility.containerEntity===(null===(e=this.args.initialVisibility)||void 0===e?void 0:e.containerEntity))}get currentVisibility(){return this.selectedVisibility??this.args.initialVisibility}get footerPrimaryActionControlName(){return this.hasContainersListError?this.args.dashContainerMetadata.retryControlName:this.args.dashContainerMetadata.saveControlName}get footerPrimaryAction(){return this.hasContainersListError?this.tryAgain:this.onSave}get footerPrimaryActionKey(){return this.hasContainersListError?this.footerPrimaryButtonKeys.RETRY:this.footerPrimaryButtonKeys.SAVE}constructor(){var e,r,a,o,s
super(...arguments)
x.add(this)
M.add(this);(0,t.default)(this,"storeShim",A,this);(0,t.default)(this,"clientSensor",O,this);(0,t.default)(this,"router",D,this);(0,t.default)(this,"shareboxInteropService",P,this);(0,i.default)(this,"pageKey",this.args.isPhoenixUIEnabled?_.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.CONTAINER_MENU_V2:_.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.CONTAINER_MENU);(0,i.default)(this,"footerPrimaryButtonKeys",y.SHARE_BOX_FOOTER_PRIMARY_KEYS);(0,i.default)(this,"footerSecondaryButtonKeys",y.SHARE_BOX_FOOTER_SECONDARY_KEYS);(0,t.default)(this,"containerListLoaded",N,this);(0,t.default)(this,"hasContainersListError",R,this);(0,t.default)(this,"selectedVisibility",w,this);(0,t.default)(this,"containerOptions",k,this)
this.containerHeader=null===(e=this.args.dashContainerMetadata)||void 0===e?void 0:e.header
this.containerTypeUrn=null===(r=this.args.dashContainerMetadata)||void 0===r?void 0:r.containerTypeUrn
const l=this.isSharingNileInteropEnabled&&this.isShareboxRenderedInsideInteropRoute,d=this.args.isPhoenixUIEnabled&&!l
null===(a=(o=this.args).updateModalConfig)||void 0===a||a.call(o,{showHeaderNotice:d,modalHeader:this.containerHeader,controlName:null===(s=this.args.dashContainerMetadata)||void 0===s?void 0:s.exitControlName,shouldFocusOnHeader:!0});(0,n.default)(this,M,U).call(this)}get isSharingNileInteropEnabled(){return this.shareboxInteropService.isSharingNileInteropEnabled}get isShareboxRenderedInsideInteropRoute(){const{currentRouteName:e}=this.router
return null==e?void 0:e.includes("preload.sharebox")}setItem(e){const t=this.containerOptions.find((t=>t.containerEntity===e))
this.selectedVisibility=(0,n.default)(this,x,B).call(this,t)}tryAgain(){this.containerListLoaded=!1;(0,n.default)(this,M,U).call(this)}onSave(){var e,t
null===(e=(t=this.args).onOptionSelected)||void 0===e||e.call(t,this.selectedVisibility)}onSecondaryAction(){this.args.isPhoenixUIEnabled?this.args.goToUnifiedSettingsMenu(_.UNIFIED_SETTINGS_CTAS.CONTAINER):this.args.goToPreviousPage(_.UNIFIED_SETTINGS_CTAS.CONTAINER)}}),A=(0,r.default)(C.prototype,"storeShim",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(C.prototype,"clientSensor",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,r.default)(C.prototype,"router",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,r.default)(C.prototype,"shareboxInteropService",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,r.default)(C.prototype,"containerListLoaded",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=(0,r.default)(C.prototype,"hasContainersListError",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,r.default)(C.prototype,"selectedVisibility",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,r.default)(C.prototype,"containerOptions",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,r.default)(C.prototype,"setItem",[d.action],Object.getOwnPropertyDescriptor(C.prototype,"setItem"),C.prototype),(0,r.default)(C.prototype,"tryAgain",[d.action],Object.getOwnPropertyDescriptor(C.prototype,"tryAgain"),C.prototype),(0,r.default)(C.prototype,"onSave",[d.action],Object.getOwnPropertyDescriptor(C.prototype,"onSave"),C.prototype),(0,r.default)(C.prototype,"onSecondaryAction",[d.action],Object.getOwnPropertyDescriptor(C.prototype,"onSecondaryAction"),C.prototype),C)
function U(){this.hasContainersListError=!1
return(0,f.getDashContainersList)(this.storeShim,this.args.dashContainerMetadata.containerTypeUrn,0,100).then((e=>{var t
if(!(0,l.isDestroying)(this)&&!this.isDestroying&&this.args.dashContainerMetadata.containerTypeUrn===this.containerTypeUrn){(0,m.fireSharingClientSensor)(this.clientSensor,g.SharingClientSensorMetrics.CONTAINER_LIST_LOAD_SUCCESS)
this.containerOptions=(null===(t=e.elements)||void 0===t?void 0:t.content)??[]
if(this.args.isPhoenixUIEnabled){var i
this.containerListItemsPhoenix=(0,f.createShareboxListItemsFromContainers)(this.containerOptions,null===(i=this.args.dashContainerMetadata)||void 0===i?void 0:i.selectionControlName)}else{var n
this.containerListItems=(0,f.createGenericListItemsFromContainers)(this.containerOptions,null===(n=this.args.dashContainerMetadata)||void 0===n?void 0:n.selectionControlName)}}})).catch((e=>{if(this.isDestroying)throw e;(0,m.fireSharingClientSensor)(this.clientSensor,g.SharingClientSensorMetrics.CONTAINER_LIST_LOAD_FAILURE)
if(!e)throw e
this.hasContainersListError=!0})).finally((()=>{this.isDestroying||(this.containerListLoaded=!0)}))}function B(e){var t,i,n,r,a
const o=null===(t=e.visibilityIcon)||void 0===t||null===(i=t.attributes)||void 0===i||null===(n=i[0])||void 0===n||null===(r=n.detailDataUnion)||void 0===r?void 0:r.icon,s=(null===(a=(0,p.getHueIcon)(o))||void 0===a?void 0:a.name)??this.args.containerIconType
return new T.default({type:b.VALID_VISIBILITY_TYPES.CONTAINER,name:e.name,logo:e.logo,iconName:s,controlName:this.args.dashContainerMetadata.selectionControlName,containerTypeUrn:this.containerTypeUrn,containerEntity:e.containerEntity,selectedDescription:e.selectionDescription,isPrivateContainer:e.isContainerPrivate})}(0,o.setComponentTemplate)(L,V)}))
define("sharing-v2/components/visibility/media-remove-warn-dialog",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/initializerWarningHelper","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","sharing-v2/utils/sharing-constants","@ember/object","detour-framework/utils/detour-constants"],(function(e,t,i,n,r,a,o,s,l,d,c,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,p,g
const m=(0,o.createTemplateFactory)({id:"2Txkjn/l",block:'[[[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@headerType","@titleText"],[[30,2],[28,[37,2],["i18n_change_setting","sharing-v2/components/visibility/media-remove-warn-dialog"],null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[11,0],[16,0,[52,[30,3],"share-box-modal-content__container"]],[4,[38,3],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,4],[[53,"outletState"],"render.name"],null],[28,[37,4],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n  "],[10,2],[14,0,"share-visibility__media-dialog t-14 t-black"],[12],[1,"\\n    "],[1,[28,[35,2],["i18n_are_you_sure_dialog","sharing-v2/components/visibility/media-remove-warn-dialog"],null]],[1,"\\n  "],[13],[1,"\\n\\n"],[13],[1,"\\n"],[8,[39,6],null,[["@secondaryAction","@secondaryControlName","@secondaryButtonKey","@primaryAction","@primaryControlName","@primaryButtonKey"],[[30,4],[30,0,["controlInteractionEvents","MEDIA_REMOVE_WARN_DIALOG_CANCEL"]],[30,0,["footerSecondaryButtonKeys","CANCEL"]],[30,0,["goToMainVisibilityScreen"]],[30,0,["controlInteractionEvents","MEDIA_REMOVE_WARN_DIALOG_CONFIRM"]],[30,0,["footerPrimaryButtonKeys","VISIBILITY"]]]],null]],["@showInlineHeader","@headerType","@isInModal","@onCancel"],false,["if","detour-framework@title-bar","t","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/visibility/media-remove-warn-dialog.hbs",isStrictMode:!1})
let b=e.default=(h=(0,l.inject)("i18n"),p=class extends s.default{goToMainVisibilityScreen(){var e,t
return null===(e=(t=this.args).goToMainVisibilityScreen)||void 0===e?void 0:e.call(t)}constructor(){var e,n
super(...arguments);(0,i.default)(this,"pageKey",d.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.MEDIA_REMOVE_WARN_DIALOG);(0,i.default)(this,"controlInteractionEvents",d.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"footerPrimaryButtonKeys",u.SHARE_BOX_FOOTER_PRIMARY_KEYS);(0,i.default)(this,"footerSecondaryButtonKeys",u.SHARE_BOX_FOOTER_SECONDARY_KEYS);(0,t.default)(this,"i18n",g,this)
null===(e=(n=this.args).updateModalConfig)||void 0===e||e.call(n,{modalHeader:this.i18n.lookupTranslation("components/sharing-v2@visibility/media-remove-warn-dialog","i18n_change_setting")(),controlName:this.controlInteractionEvents.MEDIA_REMOVE_WARN_DIALOG_EXIT,shouldFocusOnHeader:!0})}},(0,r.default)(p.prototype,"goToMainVisibilityScreen",[c.action],Object.getOwnPropertyDescriptor(p.prototype,"goToMainVisibilityScreen"),p.prototype),g=(0,r.default)(p.prototype,"i18n",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p);(0,a.setComponentTemplate)(m,b)}))
define("sharing-v2/components/visibility/paid-endorsement-toggle",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,i.createTemplateFactory)({id:"8ysGJYP9",block:'[[[10,0],[14,1,"brand-partnership-hoverable-outlet"],[12],[13],[1,"\\n"],[10,0],[14,0,"share-paid-endorsement-toggle"],[12],[1,"\\n  "],[10,1],[14,0,"share-paid-endorsement-toggle__text-wrapper"],[12],[1,"\\n    "],[10,1],[15,0,[29,["share-paid-endorsement-toggle__header\\n        ",[52,[30,1],"share-paid-endorsement-toggle__text--disabled"]]]],[12],[1,"\\n      "],[1,[28,[35,1],["i18n_brand_partnership","sharing-v2/components/visibility/paid-endorsement-toggle"],null]],[1,"\\n\\n"],[41,[51,[30,2]],[[[1,"        "],[8,[39,3],null,[["@class","@for","@to","@on","@placement"],["","brand-partnership-disclaimer","brand-partnership-hoverable-outlet","click","top"]],[["default"],[[[[1,"\\n          "],[10,"button"],[14,0,"share-paid-endorsement-toggle__disclaimer-btn"],[15,"aria-controls",[30,3,["ariaId"]]],[15,"aria-expanded",[30,3,["ariaExpanded"]]],[15,"aria-label",[28,[37,1],["i18n_brand_partnership_tooltip","sharing-v2/components/visibility/paid-endorsement-toggle"],null]],[14,4,"button"],[12],[1,"\\n            "],[8,[39,4],null,[["@type","@size","@name","@class"],["system","small","signal-notice","share-paid-endorsement-toggle__disclaimer-btn"]],null],[1,"\\n          "],[13],[1,"\\n        "]],[3]]]]],[1,"\\n"]],[]],null],[1,"\\n      "],[8,[39,5],null,[["@contentClass","@theme","@id","@to"],["share-paid-endorsement-toggle__disclaimer-content","inverse","brand-partnership-disclaimer","brand-partnership-hoverable-outlet"]],[["default"],[[[[1,"\\n        "],[1,[28,[35,1],["i18n_brand_partnership_disclaimer","sharing-v2/components/visibility/paid-endorsement-toggle"],[["linkInfo"],[[28,[37,6],null,[["target","href","rel","aria-label"],["_blank","/help/linkedin/answer/a1627083","noopener noreferrer",[28,[37,1],["i18n_brand_partnership_disclaimer_link_a11y","sharing-v2/components/visibility/paid-endorsement-toggle"],null]]]]]]]],[1,"\\n      "]],[]]]]],[1,"\\n    "],[13],[1,"\\n    "],[10,1],[15,0,[29,["share-paid-endorsement-toggle__subtext\\n        ",[52,[30,1],"share-paid-endorsement-toggle__text--disabled"]]]],[12],[1,"\\n      "],[1,[52,[30,4],[28,[37,1],["i18n_toggled_text","sharing-v2/components/visibility/paid-endorsement-toggle"],null],[28,[37,1],["i18n_untoggled_text","sharing-v2/components/visibility/paid-endorsement-toggle"],null]]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n\\n  "],[8,[39,7],null,[["@class","@labelText","@isLabelHidden","@toggled","@onToggle","@disabled"],["share-paid-endorsement-toggle__switch",[28,[37,1],["i18n_brand_partnership","sharing-v2/components/visibility/paid-endorsement-toggle"],null],true,[30,4],[30,5],[30,1]]],null],[1,"\\n"],[13]],["@disableBrandPartnershipToggle","@shouldHidePaidEndorsementToggle","trigger","@isPaidEndorsementToggleState","@onPaidEndorsementToggle"],false,["if","t","unless","artdeco-hoverables@artdeco-hoverable-trigger","hue-web-icons@icon","artdeco-hoverables@artdeco-hoverable-content","hash","artdeco-toggle@artdeco-toggle"]]',moduleName:"sharing-v2/components/visibility/paid-endorsement-toggle.hbs",isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(r,(0,n.default)())}))
define("sharing-v2/components/visibility/phoenix-visibility-manager",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","sharing-v2/utils/sharing-utils","@glimmer/tracking","@ember/service","@ember/object","@ember/debug","sharing-shared/utils/sharing-shared-constants","sharing-v2/utils/sharing-constants","sharing-v2/utils/visibility/visibility-utils","sharing-v2/utils/visibility/comment-restriction","sharing-v2/utils/visibility/visibility-option-configs"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g,m,b,f,_){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var T,y,S,E,v,I,C,A,O,D,P,N,R,w,k,M,x,L,V,U,B,H,F,z,G,j,W,Y,K
const q=(0,s.createTemplateFactory)({id:"CxP98D7j",block:'[[[41,[28,[37,1],[[30,0,["currentScreen"]],"UNIFIED_SETTINGS"],null],[[[1,"  "],[8,[39,2],null,[["@modalComponents","@shouldFocusOnHeader","@selector"],[[30,1],[30,2],[30,3]]],[["shareBoxHeader","shareBoxContent"],[[[[1,"\\n      "],[1,[30,4]],[1,"\\n    "]],[]],[[[1,"\\n\\n      "],[10,0],[14,0,"share-visibility__manager"],[12],[1,"\\n        "],[8,[39,3],null,[["@actor","@commentRestrictionSetting","@disableBrandPartnershipToggle","@enableUnifiedSettingsMenuSaveBtn","@excludedVisibilityTypes","@focusOnOption","@goToCreation","@goToDashContainersList","@goToSecondarySettingsScreen","@headerType","@initialVisibility","@isFixedVisibility","@isInBroadcastMode","@isInModal","@isOrganizationActor","@shouldHidePaidEndorsementToggle","@showPaidEndorsement","@isPaidEndorsementToggleState","@isScrollFixIsEnabled","@onPaidEndorsementSelected","@onSave","@onVisibilityOptionSelected","@showActorToggleButton","@showInlineHeader","@updateModalConfig","@usingStickyVisibility","@visibilityOptions"],[[30,0,["currentActor"]],[30,0,["currentCommentRestriction"]],[30,0,["disableBrandPartnershipToggle"]],[30,0,["enableUnifiedSettingsMenuSaveBtn"]],[30,5],[30,0,["optionToFocus"]],[30,6],[30,0,["goToDashContainersList"]],[30,0,["goToSecondarySettingsScreen"]],[30,7],[30,0,["currentVisibility"]],[30,8],[30,9],[30,10],[30,0,["isOrganizationActor"]],[30,11],[30,12],[30,0,["currentIsPaidEndorsement"]],[30,0,["isScrollFixIsEnabled"]],[30,0,["setUserSelectedIsPaidEndorsement"]],[30,0,["onUnifiedSettingMenuSave"]],[30,0,["setUserSelectedVisibility"]],[30,0,["showActorToggleButton"]],[30,13],[30,14],[30,0,["usingStickyVisibility"]],[30,0,["visibilityOptions"]]]],null],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["currentScreen"]],"MEDIA_WARN_DIALOG"],null],[[[1,"  "],[8,[39,2],null,[["@modalComponents","@shouldFocusOnHeader","@selector"],[[30,1],[30,2],[30,3]]],[["shareBoxHeader","shareBoxContent"],[[[[1,"\\n      "],[1,[30,4]],[1,"\\n    "]],[]],[[[1,"\\n      "],[10,0],[14,0,"share-visibility__manager"],[12],[1,"\\n        "],[8,[39,4],null,[["@onCancel","@goToMainVisibilityScreen","@isInModal","@updateModalConfig"],[[30,6],[30,0,["goToUnifiedSettingsMenu"]],[30,10],[30,14]]],null],[1,"\\n      "],[13],[1,"\\n\\n    "]],[]]]]],[1,"\\n\\n"]],[]],[[[41,[28,[37,1],[[30,0,["currentScreen"]],"DASH_CONTAINERS_LIST"],null],[[[1,"  "],[8,[39,2],null,[["@modalComponents","@shouldFocusOnHeader","@headerOverride"],[[30,1],[30,2],true]],[["shareBoxHeader","shareBoxContent"],[[[[1,"\\n"],[1,"      "],[10,0],[14,0,"display-flex align-items-center"],[12],[1,"\\n        "],[11,"h2"],[24,1,"share-to-linkedin-modal__header"],[24,"tabindex","-1"],[4,[38,5],null,[["shouldFocus","selector"],[[30,2],[30,3]]]],[12],[1,"\\n          "],[1,[30,4]],[1,"\\n        "],[13],[1,"\\n"],[41,[30,15],[[[1,"          "],[8,[39,6],null,[["@on","@to","@placement","@for"],["click","phoenix-sharebox-hoverable-outlet","bottom","groups-disclaimer"]],[["default"],[[[[1,"\\n            "],[11,"button"],[24,0,"share-box-v2__groups-disclaimer-btn"],[16,"aria-controls",[30,16,["ariaId"]]],[16,"aria-expanded",[30,16,["ariaExpanded"]]],[16,"aria-label",[28,[37,7],["i18n_groups_disclaimer_tooltip_trigger","sharing-v2/components/visibility/phoenix-visibility-manager"],null]],[24,4,"button"],[4,[38,8],[[30,0,["controlInteractionEvents","GROUP_INFO_NOTICE"]]],null],[12],[1,"\\n              "],[8,[39,9],null,[["@type","@size","@name"],["system","medium","signal-notice"]],null],[1,"\\n            "],[13],[1,"\\n          "]],[16]]]]],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n    "]],[]],[[[1,"\\n      "],[10,0],[14,0,"share-visibility__manager"],[12],[1,"\\n        "],[8,[39,10],null,[["@containerIconType","@dashContainerMetadata","@goToUnifiedSettingsMenu","@headerType","@initialVisibility","@isInModal","@isPhoenixUIEnabled","@isScrollFixIsEnabled","@onOptionSelected","@showInlineHeader","@updateModalConfig"],[[30,0,["containerIconType"]],[30,0,["dashContainerMetadata"]],[30,0,["goToUnifiedSettingsMenu"]],[30,7],[30,0,["currentVisibility"]],[30,10],[30,17],[30,0,["isScrollFixIsEnabled"]],[30,0,["setUserSelectedVisibility"]],[30,13],[30,14]]],null],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["currentScreen"]],"TARGETED_AUDIENCE"],null],[[[1,"  "],[8,[39,2],null,[["@modalComponents","@shouldFocusOnHeader","@selector"],[[30,1],[30,2],[30,3]]],[["shareBoxHeader","shareBoxContent"],[[[[1,"\\n      "],[1,[30,4]],[1,"\\n    "]],[]],[[[1,"\\n      "],[10,0],[14,0,"share-visibility__manager"],[12],[1,"\\n        "],[8,[39,11],null,[["@followedCompanyUrn","@targetAudience"],[[30,0,["normalizedOrganizationUrn"]],[30,0,["currentTargetedAudience"]]]],[["default"],[[[[1,"\\n          "],[8,[39,12],null,[["@dashOrganizationUrn","@goToUnifiedSettingsMenu","@headerType","@isEstimatedTargetAudienceLoading","@isInModal","@isPhoenixUIEnabled","@isScrollFixIsEnabled","@numMembersTargeted","@onTargetingSelected","@showInlineHeader","@targetAudience","@updateModalConfig","@updateTargetedSettings","@class"],[[30,0,["dashOrganizationUrn"]],[30,0,["goToUnifiedSettingsMenu"]],[30,7],[30,18,["state","isEstimatedTargetAudienceLoading"]],[30,10],[30,17],[30,0,["isScrollFixIsEnabled"]],[30,18,["state","numMembersTargeted"]],[30,0,["setUserSelectedVisibility"]],[30,13],[30,0,["currentTargetedAudience"]],[30,14],[30,18,["actions","updateTargetedSettings"]],"full-height display-flex flex-column flex-grow-1"]],null],[1,"\\n        "]],[18]]]]],[1,"\\n      "],[13],[1,"\\n\\n    "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["currentScreen"]],"ACTOR_TOGGLE"],null],[[[1,"  "],[8,[39,2],null,[["@modalComponents","@shouldFocusOnHeader","@selector"],[[30,1],[30,2],[30,3]]],[["shareBoxHeader","shareBoxContent"],[[[[1,"\\n      "],[1,[30,4]],[1,"\\n    "]],[]],[[[1,"\\n      "],[10,0],[14,0,"share-visibility__manager"],[12],[1,"\\n        "],[8,[39,13],null,[["@availableActors","@goToUnifiedSettingsMenu","@headerType","@initialActor","@isInModal","@isInRepostMode","@isPhoenixUIEnabled","@onActorSelected","@shareboxHasAttachment","@showInlineHeader","@updateModalConfig"],[[30,19],[30,0,["goToUnifiedSettingsMenu"]],[30,7],[30,0,["currentActor"]],[30,10],[30,20],[30,17],[30,0,["setUserSelectedActor"]],[30,21],[30,13],[30,14]]],null],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["currentScreen"]],"COMMENT_CONTROLS"],null],[[[1,"  "],[8,[39,2],null,[["@modalComponents","@shouldFocusOnHeader","@selector"],[[30,1],[30,2],[30,3]]],[["shareBoxHeader","shareBoxContent"],[[[[1,"\\n      "],[1,[30,4]],[1,"\\n    "]],[]],[[[1,"\\n      "],[10,0],[14,0,"share-visibility__manager"],[12],[1,"\\n        "],[8,[39,14],null,[["@currentCommentControlsList","@currentVisibility","@goToUnifiedSettingsMenu","@headerType","@initialCommentRestrictionSetting","@isInBroadcastMode","@isInModal","@isNonMemberActor","@isPhoenixUIEnabled","@onCommentRestrictionSelected","@showInlineHeader","@updateModalConfig"],[[30,0,["currentCommentControlsList"]],[30,0,["currentVisibility"]],[30,0,["goToUnifiedSettingsMenu"]],[30,7],[30,0,["currentCommentRestriction"]],[30,9],[30,10],[30,0,["currentActor","isNonMemberActor"]],[30,17],[30,0,["setUserSelectedCommentRestriction"]],[30,13],[30,14]]],null],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],null]],[]]]],[]]]],[]]]],[]]]],[]]]],["@layoutComponents","@shouldFocusOnHeader","@selector","@modalHeader","@excludedVisibilityTypes","@goToCreation","@headerType","@isFixedVisibility","@isInBroadcastMode","@isInModal","@shouldHidePaidEndorsementToggle","@showPaidEndorsement","@showInlineHeader","@updateModalConfig","@showHeaderNotice","trigger","@isPhoenixUIEnabled","container","@availableActors","@isInRepostMode","@shareboxHasAttachment"],false,["if","global-helpers@eq","sharing-v2@share-box-layout","sharing-v2@visibility/unified-settings-menu","sharing-v2@visibility/media-remove-warn-dialog","sharing-v2@share-modal-focus","artdeco-hoverables@artdeco-hoverable-trigger","t","ember-cli-pemberly-tracking@track-interaction","hue-web-icons@icon","sharing-v2@visibility/dash-containers-list","organization-targeting-audience@targeted-settings-container","sharing-v2@visibility/targeting-audience","sharing-v2@visibility/actor-toggle","sharing-v2@visibility/comment-controls"]]',moduleName:"sharing-v2/components/visibility/phoenix-visibility-manager.hbs",isStrictMode:!1})
let X=e.default=(T=(0,u.inject)("global-services@store-shim"),y=(0,u.inject)("i18n"),S=(0,u.inject)("lego@resolver"),E=(0,u.inject)("lego@tracking"),v=(0,u.inject)("persistent-toast-manager@persistent-toast-manager"),I=(H=new WeakSet,F=new WeakSet,z=new WeakSet,G=new WeakSet,j=new WeakSet,W=new WeakSet,Y=new WeakSet,K=new WeakSet,class extends l.default{constructor(){super(...arguments)
K.add(this)
Y.add(this)
W.add(this)
j.add(this)
G.add(this)
z.add(this)
F.add(this)
H.add(this);(0,t.default)(this,"storeShim",C,this);(0,t.default)(this,"i18n",A,this);(0,t.default)(this,"legoResolver",O,this);(0,t.default)(this,"legoTracking",D,this);(0,t.default)(this,"persistentToastManager",P,this);(0,i.default)(this,"controlInteractionEvents",m.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"anyoneVisibilityOptionType",(0,b.buildVisibilityOptionFromConfig)(this.i18n,_.ANYONE_VISIBILITY_CONFIG));(0,i.default)(this,"defaultOrganizationalPageActorVisibilityOptions",(0,b.buildVisibilityOptionsFromConfigs)(this.i18n,_.DEFAULT_ORGANIZATIONAL_PAGE_ACTOR_VISIBILITY_CONFIGS,!0));(0,i.default)(this,"defaultOrganizationActorVisibilityOptions",(0,b.buildVisibilityOptionsFromConfigs)(this.i18n,_.DEFAULT_ORGANIZATION_ACTOR_VISIBILITY_CONFIGS,!0));(0,i.default)(this,"defaultFallbackVisibilityOptions",(0,b.buildVisibilityOptionsFromConfigs)(this.i18n,_.FALLBACK_INITIALIZATION_VISIBILITY_CONFIGS,!0));(0,i.default)(this,"memberViewedToastThisSession",!1);(0,t.default)(this,"containerIconType",N,this);(0,t.default)(this,"enableUnifiedSettingsMenuSaveBtn",R,this);(0,t.default)(this,"userSelectedActor",w,this);(0,t.default)(this,"userSelectedCommentRestriction",k,this);(0,t.default)(this,"userSelectedCommentRestrictionType",M,this);(0,t.default)(this,"userSelectedTargetedAudience",x,this);(0,t.default)(this,"userSelectedIsPaidEndorsement",L,this);(0,t.default)(this,"userSelectedVisibility",V,this);(0,t.default)(this,"userSelectedVisibilityScreen",U,this);(0,t.default)(this,"optionToFocus",B,this)}get currentActor(){return this.userSelectedActor?this.userSelectedActor:this.initialActor}get currentCommentRestriction(){return this.userSelectedCommentRestriction?this.userSelectedCommentRestriction:this.initialCommentRestriction}get currentScreen(){return this.userSelectedVisibilityScreen?this.userSelectedVisibilityScreen:this.initialVisibilityScreen}get currentStickyVisiblityCommentControlsList(){if(this.usingStickyVisibility){const[e]=this.stickyVisibilityData.filter((e=>{var t,i,n
return(null===(t=e.visibilityDataUnion)||void 0===t?void 0:t.visibilityType)===this.currentVisibility.type||(null===(i=e.visibilityDataUnion)||void 0===i||null===(n=i.containerVisibility)||void 0===n?void 0:n.containerTypeUrn)}))
return e.commentControls}}get currentTargetedAudience(){return this.userSelectedTargetedAudience?this.userSelectedTargetedAudience:this.initialTargetedAudience}get currentIsPaidEndorsement(){return"boolean"==typeof this.userSelectedIsPaidEndorsement?this.userSelectedIsPaidEndorsement:this.initialIsPaidEndorsement}get currentVisibility(){return this.userSelectedVisibility?this.userSelectedVisibility:this.initialVisibility}get dashContainersMetadata(){if(this.stickyVisibilityData)return(0,b.getDashContainersMetadata)(this.stickyVisibilityData)}get dashOrganizationUrn(){return this.isOrganizationActor?this.currentActor.dashUrn:null}get disableBrandPartnershipToggle(){return!(0,b.isValidPaidEndorsementVisibility)(this.currentVisibility)}get initialActor(){return this.args.authorAndAudienceSettings.actor}get initialCommentRestriction(){return this.args.authorAndAudienceSettings.commentRestriction}get initialTargetedAudience(){return this.args.authorAndAudienceSettings.targetedAudience}get initialIsPaidEndorsement(){return this.args.authorAndAudienceSettings.isPaidEndorsement}get initialVisibility(){return this.args.authorAndAudienceSettings.visibility}get initialVisibilityScreen(){return this.args.protectedMediaPresentForDraft?m.VISIBILITY_SCREEN.MEDIA_WARN_DIALOG:m.VISIBILITY_SCREEN.UNIFIED_SETTINGS}get isOrganizationActor(){return this.currentActor.actorType===g.ACTOR_TYPES.company}get normalizedOrganizationUrn(){return this.isOrganizationActor?this.currentActor.urn:null}get showActorToggleButton(){const e=this.args.shareboxHasAttachment&&!this.args.isInRepostMode&&!this.args.previewIsRemovable
return this.args.availableActors.length>1&&!this.args.isInEditMode&&!e}get stickyVisibilityData(){return this.args.authorAndAudienceSettings.stickyVisibilityData}get usingStickyVisibility(){return!(!this.stickyVisibilityData||this.currentActor.isNonMemberActor)}get visibilityOptions(){if(this.args.isFixedVisibility||this.args.isInEditMode)return[this.currentVisibility]
if(this.currentActor.isNonMemberActor)return(0,n.default)(this,W,te).call(this)
if(!this.stickyVisibilityData)return this.args.eventContentVisibilityRestriction?[this.defaultFallbackVisibilityOptions[0]]:this.defaultFallbackVisibilityOptions
const e=(0,n.default)(this,H,Q).call(this)
return this.args.eventContentVisibilityRestriction?e.slice(0,1):e}setUserSelectedActor(e){this.userSelectedActor=e
const t=e.actorType===g.ACTOR_TYPES.member&&this.stickyVisibilityData;(0,n.default)(this,j,ee).call(this,t)
this.enableUnifiedSettingsMenuSaveBtn=!0
this.userSelectedVisibilityScreen=m.VISIBILITY_SCREEN.UNIFIED_SETTINGS
this.optionToFocus=m.UNIFIED_SETTINGS_CTAS.ACTOR}setUserSelectedCommentRestriction(e){this.userSelectedCommentRestriction=new f.default(this.currentVisibility,e,this.currentActor.isNonMemberActor,this.args.isInBroadcastMode)
this.userSelectedCommentRestrictionType=e
this.enableUnifiedSettingsMenuSaveBtn=!0
this.userSelectedVisibilityScreen=m.VISIBILITY_SCREEN.UNIFIED_SETTINGS
this.optionToFocus=m.UNIFIED_SETTINGS_CTAS.COMMENT}setUserSelectedIsPaidEndorsement(e){this.userSelectedIsPaidEndorsement=e
this.enableUnifiedSettingsMenuSaveBtn=this.initialIsPaidEndorsement!==e}setUserSelectedVisibility(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null
if(this.args.isFixedVisibility)return
const i=(0,n.default)(this,z,$).call(this,e);(0,n.default)(this,Y,ie).call(this,e)
this.userSelectedVisibility=e
this.userSelectedTargetedAudience=t
this.userSelectedCommentRestriction=new f.default(this.currentVisibility,i,this.currentActor.isNonMemberActor,this.args.isInBroadcastMode)
this.enableUnifiedSettingsMenuSaveBtn=!0
this.currentScreen!==m.VISIBILITY_SCREEN.UNIFIED_SETTINGS&&(this.userSelectedVisibilityScreen=m.VISIBILITY_SCREEN.UNIFIED_SETTINGS)}onUnifiedSettingMenuSave(){const e={}
let t
if(this.usingStickyVisibility){this.updatedVisibilities=(0,n.default)(this,G,J).call(this)
if(this.updatedVisibilities){e.stickyVisibilityData=this.updatedVisibilities
t=(0,b.saveVisibilityAndCommentControlsPayload)(this.updatedVisibilities,this.storeShim)}}this.userSelectedActor&&(e.actor=this.currentActor)
this.userSelectedCommentRestriction&&(e.commentRestriction=this.currentCommentRestriction)
this.userSelectedVisibility&&(e.visibility=this.currentVisibility)
this.userSelectedTargetedAudience&&(e.targetedAudience=this.currentTargetedAudience)
"boolean"==typeof this.userSelectedIsPaidEndorsement&&(e.isPaidEndorsement=this.currentIsPaidEndorsement)
this.updatedVisibilities&&(e.stickyVisibilityData=this.updatedVisibilities)
this.userSelectedCommentRestrictionType&&(e.commentRestrictionUserSelectionType=this.userSelectedCommentRestrictionType)
t&&this.args.updateCreationState(t)
this.args.updateAuthorAndAudienceSettings(e)
this.args.goToCreation()}goToDashContainersList(e){this.dashContainerMetadata=(0,n.default)(this,F,Z).call(this,e)
this.userSelectedVisibilityScreen=m.VISIBILITY_SCREEN.DASH_CONTAINERS_LIST
this.containerIconType=e.iconName}goToUnifiedSettingsMenu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null
this.userSelectedVisibilityScreen=m.VISIBILITY_SCREEN.UNIFIED_SETTINGS
this.optionToFocus=e}goToSecondarySettingsScreen(e){this.userSelectedVisibilityScreen=e}}),C=(0,r.default)(I.prototype,"storeShim",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,r.default)(I.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(I.prototype,"legoResolver",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,r.default)(I.prototype,"legoTracking",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,r.default)(I.prototype,"persistentToastManager",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,r.default)(I.prototype,"containerIconType",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),R=(0,r.default)(I.prototype,"enableUnifiedSettingsMenuSaveBtn",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,r.default)(I.prototype,"userSelectedActor",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,r.default)(I.prototype,"userSelectedCommentRestriction",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,r.default)(I.prototype,"userSelectedCommentRestrictionType",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,r.default)(I.prototype,"userSelectedTargetedAudience",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,r.default)(I.prototype,"userSelectedIsPaidEndorsement",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,r.default)(I.prototype,"userSelectedVisibility",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,r.default)(I.prototype,"userSelectedVisibilityScreen",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,r.default)(I.prototype,"optionToFocus",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(I.prototype,"setUserSelectedActor",[h.action],Object.getOwnPropertyDescriptor(I.prototype,"setUserSelectedActor"),I.prototype),(0,r.default)(I.prototype,"setUserSelectedCommentRestriction",[h.action],Object.getOwnPropertyDescriptor(I.prototype,"setUserSelectedCommentRestriction"),I.prototype),(0,r.default)(I.prototype,"setUserSelectedIsPaidEndorsement",[h.action],Object.getOwnPropertyDescriptor(I.prototype,"setUserSelectedIsPaidEndorsement"),I.prototype),(0,r.default)(I.prototype,"setUserSelectedVisibility",[h.action],Object.getOwnPropertyDescriptor(I.prototype,"setUserSelectedVisibility"),I.prototype),(0,r.default)(I.prototype,"onUnifiedSettingMenuSave",[h.action],Object.getOwnPropertyDescriptor(I.prototype,"onUnifiedSettingMenuSave"),I.prototype),(0,r.default)(I.prototype,"goToDashContainersList",[h.action],Object.getOwnPropertyDescriptor(I.prototype,"goToDashContainersList"),I.prototype),(0,r.default)(I.prototype,"goToUnifiedSettingsMenu",[h.action],Object.getOwnPropertyDescriptor(I.prototype,"goToUnifiedSettingsMenu"),I.prototype),(0,r.default)(I.prototype,"goToSecondarySettingsScreen",[h.action],Object.getOwnPropertyDescriptor(I.prototype,"goToSecondarySettingsScreen"),I.prototype),I)
function Q(){return this.stickyVisibilityData.map((e=>(0,b.formatStickyVisibilityItem)(e)))}function Z(e){var t
const[i]=(null===(t=this.dashContainersMetadata)||void 0===t?void 0:t.filter((t=>t.containerTypeUrn===e.containerTypeUrn)))||[]
return i}function $(e){return(0,b.shouldResetCommentRestrictionType)(this.currentVisibility,e,this.args.authorAndAudienceSettings.commentRestrictionUserSelectionType)?m.DEFAULT_COMMENT_RESTRICTION_TYPE:this.currentCommentRestriction.type}function J(){return(0,b.selectVisibilityAndCommentControlsPayload)(this.stickyVisibilityData,this.currentVisibility,this.currentCommentRestriction.type)}function ee(e){if(e){const{selectedVisibility:e,selectedCommentControlConfig:t}=(0,b.findSelectedOptions)(this.stickyVisibilityData)
this.userSelectedVisibility=(0,b.formatSelectedStickyVisibilityItem)(e)
const i=this.userSelectedCommentRestrictionType?this.currentCommentRestriction.type:null==t?void 0:t.allowedCommentersScope
this.userSelectedCommentRestriction=new f.default(this.currentVisibility,i,this.currentActor.isNonMemberActor,this.args.isInBroadcastMode)}else{this.userSelectedVisibility=this.anyoneVisibilityOptionType
this.userSelectedCommentRestriction=new f.default(this.currentVisibility,this.args.authorAndAudienceSettings.commentRestrictionUserSelectionType,this.currentActor.isNonMemberActor,this.args.isInBroadcastMode)}}function te(){return this.currentActor.actorType===g.ACTOR_TYPES.organizationalPage?this.defaultOrganizationalPageActorVisibilityOptions:this.currentActor.actorType===g.ACTOR_TYPES.company?this.defaultOrganizationActorVisibilityOptions:null}function ie(e){if(!(0,b.isValidPaidEndorsementVisibility)(e)&&"boolean"==typeof this.currentIsPaidEndorsement&&this.currentIsPaidEndorsement){this.userSelectedIsPaidEndorsement=!1;(0,n.default)(this,K,ne).call(this)}}function ne(){if(!this.memberViewedToastThisSession){this.memberViewedToastThisSession=!0;(0,d.fireLegoRequestHelper)(this.legoResolver,{pageKey:"feed_share",slotId:"paid_endorsement_visibility_notice",groupId:"paid_endorsement_visibility_notice",widgetId:"sharing:paid_endorsement_visibility_notice_web"},(e=>{const t=this.i18n.lookupTranslation("components/sharing-v2@visibility/phoenix-visibility-manager","i18n_brand_partnership_toast_notice")()
this.persistentToastManager.notice({message:t})
this.legoTracking.sendLegoImpression(null==e?void 0:e.trackingToken,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}))}}(0,o.setComponentTemplate)(q,X)}))
define("sharing-v2/components/visibility/targeting-audience",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/service","@ember/object","organization-targeting-audience/utils/targeting-modal-helpers","sharing-v2/utils/visibility/visibility-utils","sharing-v2/utils/sharing-constants","data-layer/utils/organization/models/target","sharing-v2/utils/visibility/visibility-option-configs","detour-framework/utils/detour-constants"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g,m,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,_,T,y,S,E,v,I,C
const A=(0,o.createTemplateFactory)({id:"OiK1zhf0",block:'[[[11,0],[24,0,"full-height display-flex flex-column flex-grow-1"],[4,[38,0],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,1],[[53,"outletState"],"render.name"],null],[28,[37,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[41,[30,1],[[[1,"    "],[8,[39,4],null,[["@headerType","@titleText"],[[30,2],[28,[37,5],["i18n_targeting_audience_settings","sharing-v2/components/visibility/targeting-audience"],null]]],null],[1,"\\n"]],[]],null],[1,"\\n  "],[8,[39,6],null,[["@dashOrganizationUrn","@targetAudience","@isTargetAudienceError","@numMembersTargeted","@onTargetAudienceChange","@isEstimatedTargetAudienceLoading","@isTargetedAudienceTooBroad","@isTargetedAudienceTooNarrow","@minTargetedFollowers","@class"],[[30,3],[30,0,["targetAudienceDraft"]],[30,0,["isTargetAudienceError"]],[30,4],[30,0,["onTargetAudienceChange"]],[30,5],[30,0,["isAudienceTooBroad"]],[30,0,["isAudienceTooNarrow"]],[30,0,["minTargetedFollowers"]],[52,[30,6],"share-box-modal-content__container","share-targeting-audience__targeting-container"]]],null],[1,"\\n  "],[8,[39,7],null,[["@primaryAction","@primaryControlName","@primaryButtonKey","@isPrimaryDisabled","@secondaryAction","@secondaryControlName","@secondaryButtonKey"],[[30,0,["onSave"]],[30,0,["controlInteractionEvents","NEW_TARGETING_SAVE"]],[30,0,["footerPrimaryButtonKeys","SAVE"]],[30,0,["disableSaveButton"]],[30,0,["onSecondaryAction"]],[30,0,["controlInteractionEvents","NEW_TARGETING_BACK"]],[30,0,["footerSecondaryButtonKeys","BACK"]]]],null],[1,"\\n"],[13]],["@showInlineHeader","@headerType","@dashOrganizationUrn","@numMembersTargeted","@isEstimatedTargetAudienceLoading","@isInModal"],false,["ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","if","detour-framework@title-bar","t","organization-targeting-audience@targeting-audience","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/visibility/targeting-audience.hbs",isStrictMode:!1}),O=Object.freeze({ADD:"add",REMOVE:"remove"})
let D=e.default=(f=(0,d.inject)("global-services@store-shim"),_=(0,d.inject)("i18n"),T=class extends s.default{get isAudienceTooBroad(){return-1===this.args.numMembersTargeted}get isAudienceTooNarrow(){const{numMembersTargeted:e}=this.args
return e>=0&&e<300}get disableSaveButton(){return!this.hasChangedSettings||this.isAudienceTooBroad||this.isAudienceTooNarrow}constructor(){var e,n
super(...arguments);(0,t.default)(this,"storeShim",y,this);(0,t.default)(this,"i18n",S,this);(0,i.default)(this,"pageKey",p.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.TARGETING);(0,i.default)(this,"targetedVisibilityOptionTypeV2",(0,h.buildVisibilityOptionFromConfig)(this.i18n,m.TARGETED_VISIBILITY_CONFIG));(0,i.default)(this,"footerPrimaryButtonKeys",b.SHARE_BOX_FOOTER_PRIMARY_KEYS);(0,i.default)(this,"footerSecondaryButtonKeys",b.SHARE_BOX_FOOTER_SECONDARY_KEYS);(0,t.default)(this,"hasChangedSettings",E,this);(0,t.default)(this,"isTargetAudienceError",v,this);(0,t.default)(this,"numMembersTargeted",I,this);(0,t.default)(this,"targetAudienceDraft",C,this);(0,i.default)(this,"minTargetedFollowers",300)
null===(e=(n=this.args).updateModalConfig)||void 0===e||e.call(n,{modalHeader:this.i18n.lookupTranslation("components/sharing-v2@visibility/targeting-audience","i18n_targeting_audience_settings")(),controlName:p.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.NEW_TARGETING_EXIT,shouldFocusOnHeader:!0})
const{targetAudience:r}=this.args
this.targetAudienceDraft=(0,u.createDraftVersionForTargetAudience)(r,this.storeShim)
this.controlInteractionEvents=p.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS}onTargetAudienceChange(e,t,i,n,r){switch(i){case O.ADD:if(r===g.DASH_TARGET_AUDIENCE_SEGMENTS.countryGroups)this.targetAudienceDraft={...this.targetAudienceDraft,[t]:e}
else{const i=[...this.targetAudienceDraft[t],e]
this.targetAudienceDraft={...this.targetAudienceDraft,[t]:i}}break
case O.REMOVE:{const i=[...this.targetAudienceDraft[t].filter((t=>t!==e))]
this.targetAudienceDraft={...this.targetAudienceDraft,[t]:i}
break}}if(t!==g.DASH_TARGET_AUDIENCE_SEGMENTS.locations||i===O.REMOVE||t===g.DASH_TARGET_AUDIENCE_SEGMENTS.locations&&!n){this.isTargetAudienceError=!1
this.args.updateTargetedSettings((0,u.convertLocalTargetAudienceToTargetModelForm)(this.targetAudienceDraft))
this.hasChangedSettings||(this.hasChangedSettings=!0)}else this.isTargetAudienceError=!0}onSave(){var e,t
const i=(0,u.convertLocalTargetAudienceToTargetModelForm)(this.targetAudienceDraft),n=this.storeShim.createRecord("com.linkedin.voyager.organization.content.Target",i)
null===(e=(t=this.args).onTargetingSelected)||void 0===e||e.call(t,this.targetedVisibilityOptionTypeV2,n)}onSecondaryAction(){this.args.isPhoenixUIEnabled?this.args.goToUnifiedSettingsMenu(p.UNIFIED_SETTINGS_CTAS.TARGETED):this.args.goToPreviousPage(p.UNIFIED_SETTINGS_CTAS.TARGETED)}},y=(0,n.default)(T.prototype,"storeShim",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,n.default)(T.prototype,"i18n",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,n.default)(T.prototype,"hasChangedSettings",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=(0,n.default)(T.prototype,"isTargetAudienceError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=(0,n.default)(T.prototype,"numMembersTargeted",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,n.default)(T.prototype,"targetAudienceDraft",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.default)(T.prototype,"onTargetAudienceChange",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"onTargetAudienceChange"),T.prototype),(0,n.default)(T.prototype,"onSave",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"onSave"),T.prototype),(0,n.default)(T.prototype,"onSecondaryAction",[c.action],Object.getOwnPropertyDescriptor(T.prototype,"onSecondaryAction"),T.prototype),T);(0,a.setComponentTemplate)(A,D)}))
define("sharing-v2/components/visibility/unified-settings-menu",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","@glimmer/tracking","@ember/object","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants","sharing-v2/utils/visibility/visibility-utils","sharing-v2/utils/sharing-utils","sharing-shared/utils/sharebox-list-item","sharing-shared/utils/text-view-model-helpers","detour-framework/utils/detour-constants","global-utils/utils/a11y-focus-element"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g,m,b,f,_,T){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,S,E,v,I,C,A,O,D,P,N,R,w,k,M,x,L
const V=(0,s.createTemplateFactory)({id:"FpfWx5Of",block:'[[[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@headerType","@titleText"],[[30,2],[30,0,["headerText"]]]],null],[1,"\\n"]],[]],null],[11,0],[16,0,[29,[[52,[30,3],"share-box-modal-content__container"]]]],[4,[38,2],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,3],[[53,"outletState"],"render.name"],null],[28,[37,3],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n\\n"],[41,[30,4],[[[1,"    "],[11,"button"],[24,0,"share-unified-settings-menu__actor-toggle"],[24,1,"ACTOR"],[24,4,"button"],[4,[38,5],["click",[30,0,["goToActorToggle"]]],null],[4,[38,6],[[30,0,["controlInteractionEvents","UNIFIED_VIEW_ACTOR_LIST"]]],null],[12],[1,"\\n      "],[10,1],[14,0,"share-unified-settings-menu__lockup"],[12],[1,"\\n"],[41,[28,[37,7],[[30,5,["image"]]],null],[[[1,"          "],[8,[39,8],null,[["@a11yText","@entitySize","@images","@imgHeight","@imgWidth","@imgClasses"],["",4,[30,5,["image"]],56,56,[28,[37,9],["share-unified-settings-menu__actor-image ",[30,0,["imageEntityClass"]]],null]]],null],[1,"\\n"]],[]],[[[1,"          "],[8,[39,10],null,[["@image","@alt","@desiredWidth","@class","@ghostType"],[[30,5,["image"]],"",56,[30,0,["imageEntityClass"]],[30,5,["vectorImageGhostType"]]]],null],[1,"\\n"]],[]]],[1,"        "],[10,1],[14,0,"share-unified-settings-menu__name"],[12],[1,"\\n          "],[8,[39,11],null,[["@tvm"],[[30,0,["actorName"]]]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[10,1],[12],[1,"\\n        "],[8,[39,12],[[24,0,"share-unified-settings-menu__list-caret"]],[["@type","@size","@name"],["system","medium","caret"]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[1,"  "],[10,0],[14,0,"share-unified-settings-menu__section-header"],[12],[1,"\\n    "],[1,[30,0,["sectionHeaderText"]]],[1,"\\n  "],[13],[1,"\\n"],[41,[30,6],[[[1,"    "],[10,0],[14,0,"share-unified-settings-menu__broadcast-description"],[12],[1,"\\n      "],[1,[28,[35,13],["i18n_post_settings_broadcast_subtext","sharing-v2/components/visibility/unified-settings-menu"],null]],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[41,[30,0,["showStickyVisibilityInlineFeedbackMessage"]],[[[1,"    "],[8,[39,14],null,[["@type","@message","@class"],["note",[28,[37,13],["i18n_sticky_visibility_message","sharing-v2/components/visibility/unified-settings-menu"],null],"share-visibility__options-menu-initialization-msg"]],null],[1,"\\n"]],[]],null],[41,[30,0,["showSelectVisibilityInlineFeedbackMessage"]],[[[1,"    "],[8,[39,14],null,[["@class","@message","@type"],["ml5 mt1",[28,[37,13],["i18n_visibility_selection","sharing-v2/components/visibility/unified-settings-menu"],null],"yield"]],null],[1,"\\n"]],[]],null],[1,"\\n  "],[10,"fieldset"],[14,0,"share-visibility__fieldset"],[12],[1,"\\n    "],[10,"legend"],[14,0,"visually-hidden"],[12],[1,[30,0,["headerText"]]],[13],[1,"\\n    "],[8,[39,15],null,[["@listItems","@currentSelectionId","@setItem","@isInModal"],[[30,0,["listItems"]],[30,0,["selectedOptionType"]],[30,0,["setItem"]],[30,3]]],null],[1,"\\n  "],[13],[1,"\\n"],[41,[30,0,["shouldShowCommentControls"]],[[[1,"    "],[11,"button"],[24,0,"share-unified-settings-menu__comment-control"],[24,1,"COMMENT"],[24,4,"button"],[4,[38,5],["click",[30,0,["goToCommentControls"]]],null],[4,[38,6],[[30,0,["controlInteractionEvents","UNIFIED_VIEW_COMMENT_CONTROLS_LIST"]]],null],[12],[1,"\\n      "],[10,1],[14,0,"share-unified-settings-menu__text-wrapper"],[12],[1,"\\n        "],[10,1],[14,0,"text-body-medium-bold t-black"],[12],[1,"\\n          "],[1,[28,[35,13],["i18n_comment_control","sharing-v2/components/visibility/unified-settings-menu"],null]],[1,"\\n        "],[13],[1,"\\n        "],[10,1],[14,0,"share-unified-settings-menu__comment-control-name"],[12],[1,"\\n          "],[1,[30,0,["commentRestrictionSelectionName"]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[10,1],[12],[1,"\\n        "],[8,[39,12],[[24,0,"share-unified-settings-menu__list-caret"]],[["@type","@size","@name"],["system","medium","caret"]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,7],[[[1,"    "],[8,[39,16],null,[["@disableBrandPartnershipToggle","@isPaidEndorsementToggleState","@onPaidEndorsementToggle","@shouldHidePaidEndorsementToggle"],[[30,8],[30,9],[30,0,["onPaidEndorsementToggle"]],[30,10]]],null],[1,"\\n"]],[]],null],[13],[1,"\\n\\n"],[8,[39,17],null,[["@primaryAction","@primaryControlName","@primaryButtonKey","@isPrimaryDisabled","@secondaryAction","@secondaryControlName","@secondaryButtonKey"],[[30,0,["onSave"]],[30,0,["controlInteractionEvents","VISIBILITY_SAVE"]],[30,0,["footerPrimaryButtonKeys","DONE"]],[30,0,["disableSaveButton"]],[30,11],[30,0,["controlInteractionEvents","VISIBILITY_BACK"]],[30,0,["footerSecondaryButtonKeys","BACK"]]]],null]],["@showInlineHeader","@headerType","@isInModal","@showActorToggleButton","@actor","@isInBroadcastMode","@showPaidEndorsement","@disableBrandPartnershipToggle","@isPaidEndorsementToggleState","@shouldHidePaidEndorsementToggle","@goToCreation"],false,["if","detour-framework@title-bar","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","on","ember-cli-pemberly-tracking@track-interaction","global-helpers@is-ivm-image","image-view-model@image-view-model","concat","ember-vector-images@lazy-image","text-view-model@text-view-model-v2","hue-web-icons@icon","t","artdeco-inline-feedback@artdeco-inline-feedback","sharing-shared@generic-list","sharing-v2@visibility/paid-endorsement-toggle","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/visibility/unified-settings-menu.hbs",isStrictMode:!1})
let U=e.default=(y=(0,d.inject)("i18n"),S=(0,d.inject)("lego@resolver"),E=(0,d.inject)("lego@tracking"),v=(0,d.inject)("lix"),I=(0,d.inject)("tracking"),C=(k=new WeakSet,M=new WeakSet,x=new WeakSet,L=new WeakSet,class extends l.default{get actorName(){return(0,f.createTextViewModelV2)(this.args.actor.name)}get commentRestrictionSelectionName(){var e,t,i
const{displayType:n}=this.args.commentRestrictionSetting,r=null!==(e=h.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS[n])&&void 0!==e&&e.I18N_TEXT_KEY?null===(t=h.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS[n])||void 0===t?void 0:t.I18N_TEXT_KEY:null===(i=h.COMMENT_RESTRICTION_CONFIGS[n])||void 0===i?void 0:i.I18N_TEXT_KEY
return this.i18n.lookupTranslation("components/sharing-v2@visibility/comment-controls",r)()}get currentVisibility(){var e
return this.selectedVisibility??(null===(e=this.args)||void 0===e?void 0:e.initialVisibility)}get disableSaveButton(){return!this.args.enableUnifiedSettingsMenuSaveBtn}get fixedVisibilityIsContainer(){var e
return this.args.isFixedVisibility&&(null===(e=this.currentVisibility)||void 0===e?void 0:e.containerEntity)}get headerText(){return this.i18n.lookupTranslation("components/sharing-v2@visibility/unified-settings-menu","i18n_post_settings")()}get imageEntityClass(){return`EntityPhoto-${this.args.actor.lockupImageShape}-4`}get listItems(){return this.fixedVisibilityIsContainer?[(0,n.default)(this,k,B).call(this)]:this.args.usingStickyVisibility?this.stickyVisibilityListItems:(0,n.default)(this,M,H).call(this)}get sectionHeaderText(){return this.args.isInBroadcastMode?this.i18n.lookupTranslation("components/sharing-v2@visibility/visibility-options-menu","i18n_who_can_see_this_broadcast")():this.i18n.lookupTranslation("components/sharing-v2@visibility/visibility-options-menu","i18n_who_can_see_this_post")()}get shouldShowCommentControls(){return this.args.commentRestrictionSetting&&!this.args.isInBroadcastMode}get selectedOptionType(){var e
return null===(e=this.currentVisibility)||void 0===e?void 0:e.type}get showSelectVisibilityInlineFeedbackMessage(){var e
return this.lix.getTreatmentIsEnabled("voyager.web.sharing-select-visibility-inline-feedback-message")&&(null===(e=this.currentVisibility)||void 0===e?void 0:e.type)===p.VALID_VISIBILITY_TYPES.SELECT_VISIBILITY}get stickyVisibilityListItems(){return this.args.visibilityOptions.map((e=>(0,g.formatStickyVisibilityItemAsShareboxListItem)(e,this.currentVisibility)))}constructor(){var e,r
super(...arguments)
L.add(this)
x.add(this)
M.add(this)
k.add(this);(0,t.default)(this,"i18n",A,this);(0,t.default)(this,"legoResolver",O,this);(0,t.default)(this,"legoTracking",D,this);(0,t.default)(this,"lix",P,this);(0,t.default)(this,"tracking",N,this);(0,i.default)(this,"controlInteractionEvents",h.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"footerPrimaryButtonKeys",_.SHARE_BOX_FOOTER_PRIMARY_KEYS);(0,i.default)(this,"footerSecondaryButtonKeys",_.SHARE_BOX_FOOTER_SECONDARY_KEYS);(0,i.default)(this,"pageKey",h.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.UNIFIED_SETTINGS);(0,t.default)(this,"selectedVisibility",R,this);(0,t.default)(this,"showStickyVisibilityInlineFeedbackMessage",w,this)
const a=!this.args.focusOnOption
null===(e=(r=this.args).updateModalConfig)||void 0===e||e.call(r,{modalHeader:this.headerText,controlName:this.controlInteractionEvents.UNIFIED_SETTINGS_DISMISS,shouldFocusOnHeader:a})
this.args.usingStickyVisibility&&(0,n.default)(this,x,F).call(this)
this.args.focusOnOption&&(0,T.default)(this,`#${this.args.focusOnOption}`)}goToActorToggle(){this.args.goToSecondarySettingsScreen(h.VISIBILITY_SCREEN.ACTOR_TOGGLE)}goToCommentControls(){this.args.goToSecondarySettingsScreen(h.VISIBILITY_SCREEN.COMMENT_CONTROLS)}onSave(){var e,t
null===(e=(t=this.args).onSave)||void 0===e||e.call(t)}onPaidEndorsementToggle(){this.tracking.fireInteractionEvent(this.controlInteractionEvents.PAID_ENDORSEMENT_TOGGLE)
this.args.onPaidEndorsementSelected(!this.args.isPaidEndorsementToggleState)}setItem(e){const t=this.args.visibilityOptions.find((t=>t.type===e))
switch(t.type){case p.VALID_VISIBILITY_TYPES.TARGETED:this.args.goToSecondarySettingsScreen(h.VISIBILITY_SCREEN.TARGETED_AUDIENCE)
break
case p.VALID_VISIBILITY_TYPES.CONTAINER:if(t.containerTypeUrn){var i,n
null===(i=(n=this.args).goToDashContainersList)||void 0===i||i.call(n,t)}break
case p.VALID_VISIBILITY_TYPES.ANYONE:case p.VALID_VISIBILITY_TYPES.CONNECTIONS:this.selectedVisibility=t
this.args.onVisibilityOptionSelected(t)}}}),A=(0,r.default)(C.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(C.prototype,"legoResolver",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,r.default)(C.prototype,"legoTracking",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,r.default)(C.prototype,"lix",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,r.default)(C.prototype,"tracking",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,r.default)(C.prototype,"selectedVisibility",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,r.default)(C.prototype,"showStickyVisibilityInlineFeedbackMessage",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(C.prototype,"goToActorToggle",[u.action],Object.getOwnPropertyDescriptor(C.prototype,"goToActorToggle"),C.prototype),(0,r.default)(C.prototype,"goToCommentControls",[u.action],Object.getOwnPropertyDescriptor(C.prototype,"goToCommentControls"),C.prototype),(0,r.default)(C.prototype,"onSave",[u.action],Object.getOwnPropertyDescriptor(C.prototype,"onSave"),C.prototype),(0,r.default)(C.prototype,"onPaidEndorsementToggle",[u.action],Object.getOwnPropertyDescriptor(C.prototype,"onPaidEndorsementToggle"),C.prototype),(0,r.default)(C.prototype,"setItem",[u.action],Object.getOwnPropertyDescriptor(C.prototype,"setItem"),C.prototype),C)
function B(){var e
return new b.default({itemId:this.currentVisibility.type,image:this.currentVisibility.logo,iconType:this.currentVisibility.iconName,entityImageShape:"square",mainText:this.currentVisibility.name,imageAltText:null===(e=this.currentVisibility.name)||void 0===e?void 0:e.text})}function H(){return this.args.visibilityOptions.map((e=>new b.default({itemId:e.type,controlName:e.controlName,mainText:e.name,subtext:e.description,iconType:e.iconName,itemOpensPage:e.showChevron})))}function F(){(0,m.fireLegoRequestHelper)(this.legoResolver,{pageKey:"feed_share",slotId:"sticky_visibility_inline_feedback",groupId:"sticky_visibility_inline_feedback",widgetId:"sharing:_show_sticky_vis_inline_feedback_vis"},(e=>(0,n.default)(this,L,z).call(this,null==e?void 0:e.trackingToken)))}function z(e){this.showStickyVisibilityInlineFeedbackMessage=!0
this.legoTracking.sendLegoImpression(e,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}(0,o.setComponentTemplate)(V,U)}))
define("sharing-v2/components/visibility/visibility-manager",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/service","@ember/object","@ember/debug","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants","sharing-v2/utils/visibility/visibility-utils","sharing-v2/utils/visibility/comment-restriction","sharing-v2/utils/visibility/visibility-option-configs"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g,m,b,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var _,T,y,S,E,v,I,C,A,O,D,P,N,R,w,k,M,x,L
const V=(0,s.createTemplateFactory)({id:"1lUFr9KN",block:'[[[41,[28,[37,1],[[30,0,["currentScreen"]],"VISIBILITY_OPTIONS"],null],[[[1,"  "],[8,[39,2],null,[["@modalComponents","@shouldFocusOnHeader","@selector"],[[30,1],[30,2],[30,3]]],[["shareBoxHeader","shareBoxContent"],[[[[1,"\\n      "],[1,[30,4]],[1,"\\n    "]],[]],[[[1,"\\n      "],[10,0],[14,0,"share-visibility__manager"],[12],[1,"\\n        "],[8,[39,3],null,[["@excludedVisibilityTypes","@goToCreation","@goToDashContainersList","@goToTargetedAudience","@headerType","@initialVisibility","@isFixedVisibility","@isInBroadcastMode","@isInModal","@isOrganizationActor","@onVisibilityOptionSelected","@showInlineHeader","@updateModalConfig","@usingStickyVisibility","@visibilityOptions","@focusOnOption"],[[30,5],[30,6],[30,0,["goToDashContainersList"]],[30,0,["goToTargetedAudience"]],[30,7],[30,0,["currentVisibility"]],[30,8],[30,9],[30,10],[30,0,["isOrganizationActor"]],[30,0,["updateVisibilityOptionSelected"]],[30,11],[30,12],[30,0,["usingStickyVisibility"]],[30,0,["visibilityOptions"]],[30,0,["optionToFocus"]]]],null],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["currentScreen"]],"MEDIA_WARN_DIALOG"],null],[[[1,"  "],[8,[39,2],null,[["@modalComponents","@shouldFocusOnHeader","@selector"],[[30,1],[30,2],[30,3]]],[["shareBoxHeader","shareBoxContent"],[[[[1,"\\n      "],[1,[30,4]],[1,"\\n    "]],[]],[[[1,"\\n      "],[10,0],[14,0,"share-visibility__manager"],[12],[1,"\\n        "],[8,[39,4],null,[["@onCancel","@goToMainVisibilityScreen","@isInModal","@updateModalConfig"],[[30,6],[30,0,["goToMainVisibilityScreen"]],[30,10],[30,12]]],null],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["currentScreen"]],"DASH_CONTAINERS_LIST"],null],[[[1,"  "],[8,[39,2],null,[["@modalComponents","@shouldFocusOnHeader","@selector"],[[30,1],[30,2],[30,3]]],[["shareBoxHeader","shareBoxContent"],[[[[1,"\\n      "],[1,[30,4]],[1,"\\n    "]],[]],[[[1,"\\n      "],[10,0],[14,0,"share-visibility__manager"],[12],[1,"\\n        "],[8,[39,5],null,[["@containerIconType","@dashContainerMetadata","@goToCreation","@goToPreviousPage","@headerType","@initialVisibility","@isInModal","@onOptionSelected","@showInlineHeader","@updateModalConfig"],[[30,0,["containerIconType"]],[30,0,["dashContainerMetadata"]],[30,6],[30,0,["goToMainVisibilityScreen"]],[30,7],[30,0,["currentVisibility"]],[30,10],[30,0,["updateVisibilityOptionSelected"]],[30,11],[30,12]]],null],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["currentScreen"]],"TARGETED_AUDIENCE"],null],[[[1,"  "],[8,[39,2],null,[["@modalComponents","@shouldFocusOnHeader","@selector"],[[30,1],[30,2],[30,3]]],[["shareBoxHeader","shareBoxContent"],[[[[1,"\\n      "],[1,[30,4]],[1,"\\n    "]],[]],[[[1,"\\n      "],[10,0],[14,0,"share-visibility__manager"],[12],[1,"\\n        "],[8,[39,6],null,[["@followedCompanyUrn","@targetAudience"],[[30,0,["normalizedOrganizationUrn"]],[30,0,["currentTargetedAudience"]]]],[["default"],[[[[1,"\\n          "],[8,[39,7],null,[["@dashOrganizationUrn","@goToCreation","@goToPreviousPage","@headerType","@isEstimatedTargetAudienceLoading","@isInModal","@numMembersTargeted","@onTargetingSelected","@showInlineHeader","@targetAudience","@updateModalConfig","@updateTargetedSettings","@class"],[[30,0,["dashOrganizationUrn"]],[30,6],[30,0,["goToMainVisibilityScreen"]],[30,7],[30,13,["state","isEstimatedTargetAudienceLoading"]],[30,10],[30,13,["state","numMembersTargeted"]],[30,0,["updateVisibilityOptionSelected"]],[30,11],[30,0,["currentTargetedAudience"]],[30,12],[30,13,["actions","updateTargetedSettings"]],"full-height display-flex flex-column flex-grow-1"]],null],[1,"\\n        "]],[13]]]]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["currentScreen"]],"ACTOR_TOGGLE"],null],[[[1,"  "],[8,[39,2],null,[["@modalComponents","@shouldFocusOnHeader","@selector"],[[30,1],[30,2],[30,3]]],[["shareBoxHeader","shareBoxContent"],[[[[1,"\\n      "],[1,[30,4]],[1,"\\n    "]],[]],[[[1,"\\n      "],[10,0],[14,0,"share-visibility__manager"],[12],[1,"\\n        "],[8,[39,8],null,[["@availableActors","@goToCreation","@headerType","@initialActor","@isInModal","@isInRepostMode","@onActorSelected","@shareboxHasAttachment","@showInlineHeader","@updateModalConfig"],[[30,14],[30,6],[30,7],[30,0,["currentActor"]],[30,10],[30,15],[30,0,["updateActorSelection"]],[30,16],[30,11],[30,12]]],null],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["currentScreen"]],"COMMENT_CONTROLS"],null],[[[1,"  "],[8,[39,2],null,[["@modalComponents","@shouldFocusOnHeader","@selector"],[[30,1],[30,2],[30,3]]],[["shareBoxHeader","shareBoxContent"],[[[[1,"\\n      "],[1,[30,4]],[1,"\\n    "]],[]],[[[1,"\\n      "],[10,0],[14,0,"share-visibility__manager"],[12],[1,"\\n        "],[8,[39,9],null,[["@currentCommentControlsList","@currentVisibility","@goToCreation","@headerType","@initialCommentRestrictionSetting","@isInBroadcastMode","@isInModal","@isNonMemberActor","@onCommentRestrictionSelected","@showInlineHeader","@updateModalConfig"],[[30,0,["currentCommentControlsList"]],[30,0,["currentVisibility"]],[30,6],[30,7],[30,0,["currentCommentRestriction"]],[30,9],[30,10],[30,0,["currentActor","isNonMemberActor"]],[30,0,["updateCommentRestrictionSelected"]],[30,11],[30,12]]],null],[1,"\\n      "],[13],[1,"\\n\\n    "]],[]]]]],[1,"\\n"]],[]],null]],[]]]],[]]]],[]]]],[]]]],[]]]],["@layoutComponents","@shouldFocusOnHeader","@selector","@modalHeader","@excludedVisibilityTypes","@goToCreation","@headerType","@isFixedVisibility","@isInBroadcastMode","@isInModal","@showInlineHeader","@updateModalConfig","container","@availableActors","@isInRepostMode","@shareboxHasAttachment"],false,["if","global-helpers@eq","sharing-v2@share-box-layout","sharing-v2@visibility/visibility-options-menu","sharing-v2@visibility/media-remove-warn-dialog","sharing-v2@visibility/dash-containers-list","organization-targeting-audience@targeted-settings-container","sharing-v2@visibility/targeting-audience","sharing-v2@visibility/actor-toggle","sharing-v2@visibility/comment-controls"]]',moduleName:"sharing-v2/components/visibility/visibility-manager.hbs",isStrictMode:!1})
let U=e.default=(_=(0,c.inject)("global-services@store-shim"),T=(0,c.inject)("i18n"),y=(R=new WeakSet,w=new WeakSet,k=new WeakSet,M=new WeakSet,x=new WeakSet,L=new WeakSet,class extends l.default{constructor(){super(...arguments)
L.add(this)
x.add(this)
M.add(this)
k.add(this)
w.add(this)
R.add(this);(0,t.default)(this,"storeShim",S,this);(0,t.default)(this,"i18n",E,this);(0,i.default)(this,"anyoneVisibilityOptionType",(0,m.buildVisibilityOptionFromConfig)(this.i18n,f.ANYONE_VISIBILITY_CONFIG));(0,i.default)(this,"defaultOrganizationActorVisibilityOptions",(0,m.buildVisibilityOptionsFromConfigs)(this.i18n,f.DEFAULT_ORGANIZATION_ACTOR_VISIBILITY_CONFIGS));(0,i.default)(this,"defaultOrganizationalPageActorVisibilityOptions",(0,m.buildVisibilityOptionsFromConfigs)(this.i18n,f.DEFAULT_ORGANIZATIONAL_PAGE_ACTOR_VISIBILITY_CONFIGS));(0,i.default)(this,"defaultFallbackVisibilityOptions",(0,m.buildVisibilityOptionsFromConfigs)(this.i18n,f.FALLBACK_INITIALIZATION_VISIBILITY_CONFIGS));(0,t.default)(this,"containerIconType",v,this);(0,t.default)(this,"localCurrentActor",I,this);(0,t.default)(this,"localCurrentCommentRestriction",C,this);(0,t.default)(this,"localCurrentScreen",A,this);(0,t.default)(this,"localCurrentTargetedAudience",O,this);(0,t.default)(this,"localCurrentVisibility",D,this);(0,t.default)(this,"localStickyVisibilityData",P,this);(0,t.default)(this,"optionToFocus",N,this)}get currentActor(){return this.localCurrentActor?this.localCurrentActor:this.initialActor}get currentCommentControlsList(){if(this.usingStickyVisibility){const[e]=this.currentStickyVisibilityData.filter((e=>{var t,i,n
return(null===(t=e.visibilityDataUnion)||void 0===t?void 0:t.visibilityType)===this.currentVisibility.type||(null===(i=e.visibilityDataUnion)||void 0===i||null===(n=i.containerVisibility)||void 0===n?void 0:n.containerTypeUrn)}))
return e.commentControls}}get currentCommentRestriction(){return this.localCurrentCommentRestriction?this.localCurrentCommentRestriction:this.initialCommentRestriction}get currentScreen(){return this.localCurrentScreen?this.localCurrentScreen:this.initialScreen}get currentStickyVisibilityData(){return this.localStickyVisibilityData?this.localStickyVisibilityData:this.initialStickyVisibilityData}get currentTargetedAudience(){return this.localCurrentTargetedAudience?this.localCurrentTargetedAudience:this.initialTargetedAudience}get currentVisibility(){return this.localCurrentVisibility?this.localCurrentVisibility:this.initialVisibility}get dashContainersMetadata(){if(this.currentStickyVisibilityData)return(0,m.getDashContainersMetadata)(this.currentStickyVisibilityData)}get dashOrganizationUrn(){return this.isOrganizationActor?this.currentActor.dashUrn:null}get initialActor(){return this.args.authorAndAudienceSettings.actor}get initialCommentRestriction(){return this.args.authorAndAudienceSettings.commentRestriction}get initialScreen(){return this.args.protectedMediaPresentForDraft&&this.args.visibilityScreen===p.VISIBILITY_SCREEN.VISIBILITY_OPTIONS?p.VISIBILITY_SCREEN.MEDIA_WARN_DIALOG:this.args.visibilityScreen}get initialStickyVisibilityData(){return this.args.authorAndAudienceSettings.stickyVisibilityData}get initialTargetedAudience(){return this.args.authorAndAudienceSettings.targetedAudience}get initialVisibility(){return this.args.authorAndAudienceSettings.visibility}get isOrganizationActor(){return this.currentActor.actorType===g.ACTOR_TYPES.company}get normalizedOrganizationUrn(){return this.isOrganizationActor?this.currentActor.urn:null}get usingStickyVisibility(){return!(!this.currentStickyVisibilityData||this.currentActor.isNonMemberActor)}get visibilityOptions(){return(0,n.default)(this,k,F).call(this)}updateActorSelection(e){this.localCurrentActor=e
if(e.actorType===g.ACTOR_TYPES.member&&this.currentStickyVisibilityData){const{selectedVisibility:e,selectedCommentControlConfig:t}=(0,m.findSelectedOptions)(this.currentStickyVisibilityData)
this.localCurrentVisibility=(0,m.formatSelectedStickyVisibilityItem)(e)
this.localCurrentCommentRestriction=new b.default(this.currentVisibility,t.allowedCommentersScope,this.currentActor.isNonMemberActor,this.args.isInBroadcastMode)}else this.localCurrentVisibility=this.anyoneVisibilityOptionType
this.localCurrentCommentRestriction=new b.default(this.currentVisibility,this.args.authorAndAudienceSettings.commentRestrictionUserSelectionType,this.currentActor.isNonMemberActor,this.args.isInBroadcastMode)
this.args.updateAuthorAndAudienceSettings({actor:this.currentActor,commentRestriction:this.currentCommentRestriction,visibility:this.currentVisibility})
this.args.goToCreation()}updateCommentRestrictionSelected(e){this.localCurrentCommentRestriction=new b.default(this.currentVisibility,e,this.currentActor.isNonMemberActor,this.args.isInBroadcastMode)
this.usingStickyVisibility&&(this.localStickyVisibilityData=(0,n.default)(this,M,z).call(this))
this.args.updateAuthorAndAudienceSettings({commentRestriction:this.currentCommentRestriction,commentRestrictionUserSelectionType:e,stickyVisibilityData:this.currentStickyVisibilityData})
this.args.goToCreation()}updateVisibilityOptionSelected(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null
const i=(0,n.default)(this,x,G).call(this,e)
this.localCurrentVisibility=e
this.localCurrentTargetedAudience=t
this.localCurrentCommentRestriction=new b.default(this.currentVisibility,i,this.currentActor.isNonMemberActor,this.args.isInBroadcastMode)
this.usingStickyVisibility&&(this.localStickyVisibilityData=(0,n.default)(this,M,z).call(this))
this.args.updateAuthorAndAudienceSettings({commentRestriction:this.currentCommentRestriction,commentRestrictionUserSelectionType:i,stickyVisibilityData:this.currentStickyVisibilityData,targetedAudience:this.currentTargetedAudience,visibility:this.currentVisibility})
this.args.goToCreation()}goToDashContainersList(e){this.dashContainerMetadata=(0,n.default)(this,w,H).call(this,e)
this.localCurrentScreen=p.VISIBILITY_SCREEN.DASH_CONTAINERS_LIST
this.containerIconType=e.iconName}goToMainVisibilityScreen(e){this.localCurrentScreen=p.VISIBILITY_SCREEN.VISIBILITY_OPTIONS
e&&(this.optionToFocus=e)}goToTargetedAudience(){this.localCurrentScreen=p.VISIBILITY_SCREEN.TARGETED_AUDIENCE}}),S=(0,r.default)(y.prototype,"storeShim",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,r.default)(y.prototype,"i18n",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,r.default)(y.prototype,"containerIconType",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=(0,r.default)(y.prototype,"localCurrentActor",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,r.default)(y.prototype,"localCurrentCommentRestriction",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,r.default)(y.prototype,"localCurrentScreen",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(y.prototype,"localCurrentTargetedAudience",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,r.default)(y.prototype,"localCurrentVisibility",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,r.default)(y.prototype,"localStickyVisibilityData",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,r.default)(y.prototype,"optionToFocus",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(y.prototype,"updateActorSelection",[u.action],Object.getOwnPropertyDescriptor(y.prototype,"updateActorSelection"),y.prototype),(0,r.default)(y.prototype,"updateCommentRestrictionSelected",[u.action],Object.getOwnPropertyDescriptor(y.prototype,"updateCommentRestrictionSelected"),y.prototype),(0,r.default)(y.prototype,"updateVisibilityOptionSelected",[u.action],Object.getOwnPropertyDescriptor(y.prototype,"updateVisibilityOptionSelected"),y.prototype),(0,r.default)(y.prototype,"goToDashContainersList",[u.action],Object.getOwnPropertyDescriptor(y.prototype,"goToDashContainersList"),y.prototype),(0,r.default)(y.prototype,"goToMainVisibilityScreen",[u.action],Object.getOwnPropertyDescriptor(y.prototype,"goToMainVisibilityScreen"),y.prototype),(0,r.default)(y.prototype,"goToTargetedAudience",[u.action],Object.getOwnPropertyDescriptor(y.prototype,"goToTargetedAudience"),y.prototype),y)
function B(){return this.currentStickyVisibilityData.map((e=>(0,m.formatStickyVisibilityItem)(e)))}function H(e){var t
const[i]=(null===(t=this.dashContainersMetadata)||void 0===t?void 0:t.filter((t=>t.containerTypeUrn===e.containerTypeUrn)))||[]
return i}function F(){if(this.args.isFixedVisibility||this.args.isInEditMode)return[this.currentVisibility]
if(this.currentActor.isNonMemberActor)return(0,n.default)(this,L,j).call(this)
if(!this.currentStickyVisibilityData)return this.args.eventContentVisibilityRestriction?[this.defaultFallbackVisibilityOptions[0]]:this.defaultFallbackVisibilityOptions
const e=(0,n.default)(this,R,B).call(this)
return this.args.eventContentVisibilityRestriction?e.slice(0,1):e}function z(){const e=(0,m.selectVisibilityAndCommentControlsPayload)(this.currentStickyVisibilityData,this.currentVisibility,this.currentCommentRestriction.type);(0,m.saveVisibilityAndCommentControlsPayload)(e,this.storeShim)
return e}function G(e){return this.currentVisibility.type!==g.VALID_VISIBILITY_TYPES.CONNECTIONS&&this.currentVisibility.type!==g.VALID_VISIBILITY_TYPES.CONTAINER||!e.type.includes("ANYONE")||this.args.authorAndAudienceSettings.commentRestrictionUserSelectionType!==g.VALID_COMMENT_RESTRICTION_TYPES.CONNECTIONS_ONLY?this.args.authorAndAudienceSettings.commentRestrictionUserSelectionType:p.DEFAULT_COMMENT_RESTRICTION_TYPE}function j(){return this.currentActor.actorType===g.ACTOR_TYPES.organizationalPage?this.defaultOrganizationalPageActorVisibilityOptions:this.currentActor.actorType===g.ACTOR_TYPES.company?this.defaultOrganizationActorVisibilityOptions:null}(0,o.setComponentTemplate)(V,U)}))
define("sharing-v2/components/visibility/visibility-options-menu",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","@glimmer/tracking","@ember/object","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants","sharing-v2/utils/visibility/visibility-utils","sharing-v2/utils/sharing-utils","sharing-shared/utils/generic-list-item","text-view-model/utils/generator","global-utils/utils/a11y-focus-element","detour-framework/utils/detour-constants"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g,m,b,f,_,T){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,S,E,v,I,C,A,O,D,P,N,R,w,k
const M=(0,s.createTemplateFactory)({id:"enCeEjZk",block:'[[[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@headerType","@titleText"],[[30,2],[30,0,["headerText"]]]],null],[1,"\\n"]],[]],null],[11,0],[16,0,[52,[30,3],"share-box-modal-content__container"]],[4,[38,2],null,[["pageKey","routeName","currentRoute"],[[30,0,["pageKey"]],[28,[37,3],[[53,"outletState"],"render.name"],null],[28,[37,3],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n  "],[10,"h3"],[14,0,"share-visibility__subheader"],[12],[1,"\\n    "],[1,[30,0,["subheaderText"]]],[1,"\\n  "],[13],[1,"\\n"],[41,[30,0,["showStickyVisibilityInlineFeedbackMessage"]],[[[1,"    "],[8,[39,5],null,[["@type","@message","@class"],["note",[28,[37,6],["i18n_sticky_visibility_message","sharing-v2/components/visibility/visibility-options-menu"],null],"share-visibility__options-menu-initialization-msg"]],null],[1,"\\n"]],[]],null],[1,"\\n  "],[10,"fieldset"],[14,0,"share-visibility__fieldset"],[12],[1,"\\n    "],[10,"legend"],[14,0,"visually-hidden"],[12],[1,[30,0,["headerText"]]],[13],[1,"\\n    "],[8,[39,7],null,[["@listItems","@currentSelectionId","@setItem","@isInModal"],[[30,0,["listItems"]],[30,0,["selectedOptionType"]],[30,0,["setItem"]],[30,3]]],null],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n"],[8,[39,8],null,[["@secondaryAction","@secondaryControlName","@secondaryButtonKey","@isPrimaryDisabled","@primaryAction","@primaryControlName","@primaryButtonKey"],[[30,4],[30,0,["controlInteractionEvents","VISIBILITY_BACK"]],[30,0,["footerSecondaryButtonKeys","BACK"]],[30,0,["disableSaveButton"]],[30,0,["onSave"]],[30,0,["controlInteractionEvents","VISIBILITY_SAVE"]],[30,0,["footerPrimaryButtonKeys","SAVE"]]]],null]],["@showInlineHeader","@headerType","@isInModal","@goToCreation"],false,["if","detour-framework@title-bar","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","artdeco-inline-feedback@artdeco-inline-feedback","t","sharing-shared@detour-generic-list","detour-framework@share-box-footer"]]',moduleName:"sharing-v2/components/visibility/visibility-options-menu.hbs",isStrictMode:!1})
let x=e.default=(y=(0,d.inject)("i18n"),S=(0,d.inject)("lego@resolver"),E=(0,d.inject)("lego@tracking"),v=(N=new WeakSet,R=new WeakSet,w=new WeakSet,k=new WeakSet,class extends l.default{get currentVisibility(){var e
return this.selectedVisibility??(null===(e=this.args)||void 0===e?void 0:e.initialVisibility)}get disableSaveButton(){var e,t,i
return(null===(e=this.args)||void 0===e||null===(t=e.initialVisibility)||void 0===t?void 0:t.type)===(null===(i=this.currentVisibility)||void 0===i?void 0:i.type)}get fixedVisibilityIsContainer(){var e
return this.args.isFixedVisibility&&(null===(e=this.currentVisibility)||void 0===e?void 0:e.containerEntity)}get listItems(){return this.fixedVisibilityIsContainer?[(0,n.default)(this,R,V).call(this)]:this.args.usingStickyVisibility?this.stickyVisibilityListItemsV2:(0,n.default)(this,N,L).call(this)}get selectedOptionType(){var e
return null===(e=this.currentVisibility)||void 0===e?void 0:e.type}get headerText(){return this.args.isInBroadcastMode?this.i18n.lookupTranslation("components/sharing-v2@visibility/visibility-options-menu","i18n_who_can_see_this_broadcast")():this.i18n.lookupTranslation("components/sharing-v2@visibility/visibility-options-menu","i18n_who_can_see_this_post")()}get subheaderText(){return this.args.isInBroadcastMode?this.i18n.lookupTranslation("components/sharing-v2@visibility/visibility-options-menu","i18n_post_settings_broadcast_subtext")():this.i18n.lookupTranslation("components/sharing-v2@visibility/visibility-options-menu","i18n_post_settings_subtext")()}get stickyVisibilityListItems(){return this.visibilityOptions.map((e=>{var t
if(e.containerTypeUrn&&this.currentVisibility.containerTypeUrn===e.containerTypeUrn){var i
return new b.default({itemId:this.currentVisibility.type,image:this.currentVisibility.logo,controlName:e.controlName,text:null===(i=this.currentVisibility.name)||void 0===i?void 0:i.text,imageAltText:e.type,iconType:e.iconName,showChevron:e.showChevron,entityImageShape:"square",subtext:e.selectedDescription})}const n=this.currentVisibility.type===e.type&&e.selectedDescription?e.selectedDescription:e.description
return new b.default({itemId:e.type,image:e.logo?e.logo:null,controlName:e.controlName,text:null===(t=e.name)||void 0===t?void 0:t.text,subtext:n,imageAltText:(0,f.default)(e.type),iconType:e.iconName,entityImageShape:"square",showChevron:e.showChevron})}))}get stickyVisibilityListItemsV2(){return this.visibilityOptions.map((e=>{if(e.containerTypeUrn&&this.currentVisibility.containerTypeUrn===e.containerTypeUrn)return new b.default({itemId:this.currentVisibility.type,image:this.currentVisibility.logo,controlName:e.controlName,text:this.currentVisibility.name,imageAltText:e.type,iconType:e.iconName,showChevron:e.showChevron,entityImageShape:"square",subtext:e.selectedDescription,useTVMV2:!0})
const t=this.currentVisibility.type===e.type&&e.selectedDescription?e.selectedDescription:e.description
return new b.default({itemId:e.type,image:e.logo?e.logo:null,controlName:e.controlName,text:e.name,subtext:t,imageAltText:(0,f.default)(e.type,!0),iconType:e.iconName,entityImageShape:"square",showChevron:e.showChevron,useTVMV2:!0})}))}constructor(){var e,r
super(...arguments)
k.add(this)
w.add(this)
R.add(this)
N.add(this);(0,t.default)(this,"i18n",I,this);(0,t.default)(this,"legoResolver",C,this);(0,t.default)(this,"legoTracking",A,this);(0,i.default)(this,"controlInteractionEvents",h.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS);(0,i.default)(this,"footerSecondaryButtonKeys",T.SHARE_BOX_FOOTER_SECONDARY_KEYS);(0,i.default)(this,"footerPrimaryButtonKeys",T.SHARE_BOX_FOOTER_PRIMARY_KEYS);(0,i.default)(this,"pageKey",h.SHAREBOX_TRACKING.PAGEVIEW_EVENTS.VISIBILITY);(0,t.default)(this,"selectedVisibility",O,this);(0,t.default)(this,"showStickyVisibilityInlineFeedbackMessage",D,this);(0,t.default)(this,"visibilityOptions",P,this)
const a=!this.args.focusOnOption
null===(e=(r=this.args).updateModalConfig)||void 0===e||e.call(r,{modalHeader:this.headerText,controlName:this.controlInteractionEvents.VISIBILITY_EXIT,shouldFocusOnHeader:a})
const o=this.args.excludedVisibilityTypes||[]
this.visibilityOptions=(0,g.getFilteredVisibilityOptions)(this.args.visibilityOptions,o)
this.args.usingStickyVisibility&&(0,n.default)(this,w,U).call(this)
this.args.focusOnOption&&(0,_.default)(this,`#${this.args.focusOnOption}`)}setItem(e){const t=this.visibilityOptions.find((t=>t.type===e))
if(t.type===p.VALID_VISIBILITY_TYPES.TARGETED){var i,n
null===(i=(n=this.args).goToTargetedAudience)||void 0===i||i.call(n)}if(t.containerTypeUrn){var r,a
null===(r=(a=this.args).goToDashContainersList)||void 0===r||r.call(a,t)}else this.selectedVisibility=t}onSave(){var e,t
null===(e=(t=this.args).onVisibilityOptionSelected)||void 0===e||e.call(t,this.selectedVisibility)}}),I=(0,r.default)(v.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,r.default)(v.prototype,"legoResolver",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,r.default)(v.prototype,"legoTracking",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,r.default)(v.prototype,"selectedVisibility",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,r.default)(v.prototype,"showStickyVisibilityInlineFeedbackMessage",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,r.default)(v.prototype,"visibilityOptions",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,r.default)(v.prototype,"setItem",[u.action],Object.getOwnPropertyDescriptor(v.prototype,"setItem"),v.prototype),(0,r.default)(v.prototype,"onSave",[u.action],Object.getOwnPropertyDescriptor(v.prototype,"onSave"),v.prototype),v)
function L(){return this.visibilityOptions.map((e=>{var t
return new b.default({itemId:e.type,image:e.logo?e.logo:null,controlName:e.controlName,text:e.name,subtext:e.description,imageAltText:null===(t=e.name)||void 0===t?void 0:t.text,iconType:e.iconName,entityImageShape:"square",useTVMV2:!0})}))}function V(){var e
return new b.default({itemId:this.currentVisibility.type,image:this.currentVisibility.logo,iconType:this.currentVisibility.iconName,entityImageShape:"square",text:this.currentVisibility.name,imageAltText:null===(e=this.currentVisibility.name)||void 0===e?void 0:e.text})}function U(){(0,m.fireLegoRequestHelper)(this.legoResolver,{pageKey:"feed_share",slotId:"sticky_visibility_inline_feedback",groupId:"sticky_visibility_inline_feedback",widgetId:"sharing:_show_sticky_vis_inline_feedback_vis"},(e=>(0,n.default)(this,k,B).call(this,null==e?void 0:e.trackingToken)))}function B(e){this.showStickyVisibilityInlineFeedbackMessage=!0
this.legoTracking.sendLegoImpression(e,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}(0,o.setComponentTemplate)(M,x)}))
define("sharing-v2/config/environment",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
let t
try{const e="sharing-v2/config/environment",i=document.querySelector('meta[name="'+e+'"]').getAttribute("content")
t=JSON.parse(unescape(i))}catch(e){t={}}e.default=t}))
define.alias("ember-truth-helpers/helpers/and","sharing-v2/helpers/and")
define.alias("artdeco-datepicker/helpers/artdeco-adjust-date-for-timezone","sharing-v2/helpers/artdeco-adjust-date-for-timezone")
define.alias("artdeco-datepicker/helpers/artdeco-is-between-dates","sharing-v2/helpers/artdeco-is-between-dates")
define.alias("ember-media-player/helpers/autoplay-media","sharing-v2/helpers/autoplay-media")
define.alias("artdeco-datepicker/helpers/cal-dates-equal","sharing-v2/helpers/cal-dates-equal")
define.alias("ember-element-helper/helpers/element","sharing-v2/helpers/element")
define.alias("ember-holy-futuristic-template-namespacing-batman/helpers/-translate-dynamic-2","sharing-v2/helpers/ember-holy-futuristic-template-namespacing-batman-translate-dynamic-2")
define("sharing-v2/helpers/ensure-safe-component",["exports","@embroider/util"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.EnsureSafeComponentHelper}})}))
define.alias("ember-truth-helpers/helpers/eq","sharing-v2/helpers/eq")
define.alias("ember-media-player/helpers/format-autoplay","sharing-v2/helpers/format-autoplay")
define.alias("ember-cli-pemberly-i18n/helpers/format-number","sharing-v2/helpers/format-number")
define.alias("ember-semaphore/helpers/format-title","sharing-v2/helpers/format-title")
define.alias("ember-truth-helpers/helpers/gt","sharing-v2/helpers/gt")
define.alias("ember-truth-helpers/helpers/gte","sharing-v2/helpers/gte")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/helpers/convert-to-icon-name","sharing-v2/helpers/hue-web-artdeco-icon-migration-runtime")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/helpers/convert-to-icon-v2","sharing-v2/helpers/hue-web-artdeco-li-icon-migration-runtime-v2")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/helpers/convert-to-icon-path","sharing-v2/helpers/hue-web-artdeco-li-icon-migration-runtime")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/helpers/convert-argument","sharing-v2/helpers/hue-web-artdeco-migration-runtime")
define.alias("helpcenter-in-product-ember/helpers/includes","sharing-v2/helpers/includes")
define.alias("ember-truth-helpers/helpers/is-array","sharing-v2/helpers/is-array")
define.alias("ember-truth-helpers/helpers/is-empty","sharing-v2/helpers/is-empty")
define.alias("ember-truth-helpers/helpers/is-equal","sharing-v2/helpers/is-equal")
define.alias("artdeco-icons-web/helpers/li-icon","sharing-v2/helpers/li-icon")
define.alias("ember-async-data/helpers/load","sharing-v2/helpers/load")
define.alias("ember-truth-helpers/helpers/lt","sharing-v2/helpers/lt")
define.alias("ember-truth-helpers/helpers/lte","sharing-v2/helpers/lte")
define.alias("ember-truth-helpers/helpers/not-eq","sharing-v2/helpers/not-eq")
define.alias("ember-truth-helpers/helpers/not","sharing-v2/helpers/not")
define.alias("ember-truth-helpers/helpers/or","sharing-v2/helpers/or")
define("sharing-v2/helpers/ref-to",["exports","ember-ref-bucket/helpers/ref-to"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"refTo",{enumerable:!0,get:function(){return t.default}})}))
define.alias("ember-app-scheduler/helpers/route-idle","sharing-v2/helpers/route-idle")
define.alias("ember-media-player/helpers/seek-media","sharing-v2/helpers/seek-media")
define.alias("ember-set-helper/helpers/set","sharing-v2/helpers/set")
define.alias("ember-cli-pemberly-i18n/helpers/t","sharing-v2/helpers/t")
define.alias("ember-truth-helpers/helpers/xor","sharing-v2/helpers/xor")
define.alias("ember-uuid","sharing-v2/index")
define("sharing-v2/initializers/coordinator-setup",["exports","sharing-v2/models/coordinator"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default={name:"setup coordinator",initialize:function(){(arguments[1]||arguments[0]).register("drag:coordinator",t.default)}}}))
define("sharing-v2/initializers/icons",["exports","artdeco-icons-web/src/icons","sharing-v2/config/environment"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function n(e){throw e}e.default={name:"icons",initialize:function(){const{environment:e,APP:r}=i.default
let a,o
r&&({artdecoCustomSpriteUrl:a,artdecoCustomSpriteName:o}=r)
const s="test"!==e
t.default.load(s,a,o).catch(n)}}}))
define.alias("ember-cli-pemberly-lix/initializers/lix","sharing-v2/initializers/lix")
define.alias("ember-m3/initializers/m3-store","sharing-v2/initializers/m3-store")
define("sharing-v2/instance-initializers/artdeco",["exports","artdeco-eyeglass"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.initialize=r
const i=[t.default.contextClasses,t.default.floatingLabel,t.default.focusOutline]
function n(e,t){const n=e[t]
e[t]=function(){i.forEach((e=>e&&"function"==typeof e.teardown&&e.teardown()))
n&&"function"==typeof n&&n.call(e)}}function r(e){if("undefined"!=typeof document){i.forEach((e=>e.install()))
"function"==typeof e.willDestroy?n(e,"willDestroy"):"function"==typeof e.destroy&&n(e,"destroy")}}e.default={name:"artdeco",initialize:r}}))
define.alias("ember-ref-bucket/instance-initializers/global-ref-cleanup","sharing-v2/instance-initializers/global-ref-cleanup")
define.alias("video/instance-initializers/media-plugins","sharing-v2/instance-initializers/media-plugins")
define.alias("tracking-overlay-service/instance-initializers/tracking-overlay","sharing-v2/instance-initializers/tracking-overlay")
define("sharing-v2/models/coordinator",["exports","@ember/object","@ember/object/evented","sharing-v2/models/obj-hash","ember-drag-drop/utils/proxy-unproxy-objects"],(function(e,t,i,n,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=t.default.extend(i.default,{objectMap:(0,t.computed)((function(){return n.default.create()})),getObject:function(e,t){t=t||{}
var i=this.get("objectMap").getObj(e)
if(i.ops.source&&!i.ops.source.isDestroying&&!i.ops.source.isDestroyed){const e=i.ops.source.action
"function"==typeof e&&e(i.obj)
"string"==typeof e&&"function"==typeof i.ops.source.target[e]&&i.ops.source.target[e](i.obj)}if(i.ops.target&&!i.ops.target.isDestroying&&!i.ops.target.isDestroyed){const e=i.ops.target.action
"function"==typeof e&&e(i.obj)
"string"==typeof e&&"function"==typeof i.ops.target.source[e]&&i.ops.target.source[e](i.obj)}this.trigger("objectMoved",{obj:(0,r.unwrapper)(i.obj),source:i.ops.source,target:t.target})
return(0,r.unwrapper)(i.obj)},setObject:function(e,t){t=t||{}
return this.get("objectMap").add({obj:e,ops:t})}})}))
define("sharing-v2/models/obj-hash",["exports","@ember/object","@ember/object/computed","@ember/array"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=t.default.extend({contentLength:0,length:(0,i.alias)("contentLength"),init:function(){this._super()
this.content={}},add:function(e){var t=this.generateId()
this.get("content")[t]=e
this.incrementProperty("contentLength")
return t},getObj:function(e){var t=this.get("content")[e]
if(!t)throw new Error("no obj for key "+e)
return t},generateId:function(){var e=1e12*Math.random()
return e=""+(e=parseInt(e))},keys:function(){var e=[]
for(var t in this.get("content"))e.push(t)
return(0,n.A)(e)}})}))
define.alias("artdeco-datepicker/modifiers/artdeco-calendar-click-watcher","sharing-v2/modifiers/artdeco-calendar-click-watcher")
define.alias("ember-ref-bucket/modifiers/create-ref","sharing-v2/modifiers/create-ref")
define.alias("ember-css-transitions/modifiers/css-transition","sharing-v2/modifiers/css-transition")
define.alias("@ember/render-modifiers/modifiers/did-insert","sharing-v2/modifiers/did-insert")
define.alias("ember-scroll-modifiers/modifiers/did-intersect","sharing-v2/modifiers/did-intersect")
define.alias("ember-resize-modifier/modifiers/did-resize","sharing-v2/modifiers/did-resize")
define.alias("@ember/render-modifiers/modifiers/did-update","sharing-v2/modifiers/did-update")
define.alias("ember-finite-scroll/modifiers/ember-finite-scroll/focus","sharing-v2/modifiers/ember-finite-scroll/focus")
define.alias("image-editor/modifiers/fabric","sharing-v2/modifiers/fabric")
define("sharing-v2/modifiers/on-dom-insert",["exports","ember-modifier"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=(0,t.modifier)((function(e,t){let[i]=t
i(e)
return()=>{}}))}))
define.alias("ember-prop-modifier","sharing-v2/modifiers/prop")
define.alias("ember-scroll-modifiers/modifiers/scroll-into-view","sharing-v2/modifiers/scroll-into-view")
define("sharing-v2/modifiers/share-modal-focus",["exports","ember-modifier","ember-batcher","@ember/debug"],(function(e,t,i,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,t.modifier)(((e,t,n)=>{let{shouldFocus:r=!0,selector:a}=n
r&&(0,i.readDOM)((()=>{const t=e.closest(".artdeco-modal"),n=a?t.querySelector(a):t
document.activeElement!==n&&(0,i.mutateDOM)((()=>{null==n||n.focus()}))}))}),{eager:!1})
e.default=r}))
define.alias("ember-sortable/modifiers/sortable-group","sharing-v2/modifiers/sortable-group")
define.alias("ember-sortable/modifiers/sortable-handle","sharing-v2/modifiers/sortable-handle")
define.alias("ember-sortable/modifiers/sortable-item","sharing-v2/modifiers/sortable-item")
define.alias("@ember/render-modifiers/modifiers/will-destroy","sharing-v2/modifiers/will-destroy")
define.alias("ember-cloud-filepicker/providers/base-provider","sharing-v2/providers/base-provider")
define.alias("ember-cloud-filepicker/providers/dropbox-provider","sharing-v2/providers/dropbox-provider")
define.alias("ember-cloud-filepicker/providers/onedrive-provider","sharing-v2/providers/onedrive-provider")
define("sharing-v2/providers/slideshare-provider",["exports","ember-cloud-filepicker/providers/slideshare-provider"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(i,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}))
define.alias("@embroider/util/services/ensure-registered","sharing-v2/services/-ensure-registered")
define.alias("artdeco-hoverables/services/artdeco-hoverable","sharing-v2/services/artdeco-hoverable")
define.alias("artdeco-modal/services/artdeco-modal","sharing-v2/services/artdeco-modal")
define.alias("artdeco-toast/services/artdeco-toast","sharing-v2/services/artdeco-toast")
define.alias("client-sensor-web/services/client-sensor","sharing-v2/services/client-sensor")
define.alias("ember-date-service/services/date","sharing-v2/services/date")
define("sharing-v2/services/drag-coordinator",["exports","ember-drag-drop/services/drag-coordinator"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=t.default}))
define.alias("ember-sortable/services/ember-sortable-internal-state","sharing-v2/services/ember-sortable-internal-state")
define("sharing-v2/services/feedback-manager",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/classPrivateFieldSet","@babel/runtime/helpers/esm/classPrivateFieldGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/service","sharing-v2/utils/sharing-constants","tracked-built-ins","detour-framework/utils/detour-constants","@ember/object","@glimmer/tracking","ember-lifeline"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,b,f,_,T,y,S,E,v,I
e.default=(m=(0,l.inject)("global-services@window"),b=(0,l.inject)("i18n"),f=(E=new WeakMap,v=new WeakMap,I=new WeakSet,class extends l.default{constructor(){super(...arguments)
I.add(this);(0,t.default)(this,"windowService",_,this);(0,t.default)(this,"i18n",T,this);(0,t.default)(this,"isDetourPreviewLoading",y,this);(0,t.default)(this,"hideFeedbackItemForAnnimation",S,this)
E.set(this,{writable:!0,value:!1})
v.set(this,{writable:!0,value:new c.TrackedArray([])})}get feedbackTypeToArtdecoType(){var e
const t=null===(e=this.feedbackItemToRender)||void 0===e?void 0:e.feedbackMsgType
return t===d.FEEDBACK_MESSAGE_TYPE.PREVIEW_LOADING||t===d.FEEDBACK_MESSAGE_TYPE.URL_PREVIEW_ERROR||t===d.FEEDBACK_MESSAGE_TYPE.MENTION_NOTICE?"note":"error"}get feedbackItemToRender(){var e,t
return(0,a.default)(this,v)[0]?(0,a.default)(this,v)[0]:this.isDetourPreviewLoading?{feedbackMsgText:this.i18n.lookupTranslation("components/sharing-v2@feedback-manager-ui","i18n_content_preview_load")(),feedbackMsgType:d.FEEDBACK_MESSAGE_TYPE.PREVIEW_LOADING}:null!==(e=this.shareContentsData)&&void 0!==e&&e.charCountOverLimit?{feedbackMsgText:this.i18n.lookupTranslation("components/sharing-v2@feedback-manager-ui","i18n_exceeded_max_char_limit_msg")(),feedbackMsgType:d.FEEDBACK_MESSAGE_TYPE.CHAR_LIMIT}:null!==(t=this.shareContentsData)&&void 0!==t&&t.exceedsMaxMentions?{feedbackMsgText:this.i18n.lookupTranslation("components/sharing-v2@feedback-manager-ui","i18n_exceeded_max_mentions_msg")(),feedbackMsgType:d.FEEDBACK_MESSAGE_TYPE.MENTIONS_LIMIT}:null}get isCharCountErrorRendered(){var e
return(null===(e=this.feedbackItemToRender)||void 0===e?void 0:e.feedbackMsgType)===d.FEEDBACK_MESSAGE_TYPE.CHAR_LIMIT}get isClickable(){var e,t
return!(null===(e=this.feedbackItemToRender)||void 0===e||!e.feedbackLinkUrl||null===(t=this.feedbackItemToRender)||void 0===t||!t.feedbackLinkText)}get isDetourPreviewLoadingIsRendered(){var e
return(null===(e=this.feedbackItemToRender)||void 0===e?void 0:e.feedbackMsgType)===d.FEEDBACK_MESSAGE_TYPE.PREVIEW_LOADING}clearActiveTimedFeedbackItem(){this.hideFeedbackItemForAnnimation=!0}onAnimationEnd(e){if("fadeOut"===e.animationName){(0,a.default)(this,v).shift();(0,r.default)(this,E,!1);(0,n.default)(this,I,C).call(this)
this.hideFeedbackItemForAnnimation=!1}}addFeedbackItem(e){let{feedbackMsgText:t,feedbackMsgType:i,feedbackLinkUrl:r,feedbackLinkText:o}=e
const s={feedbackMsgText:t,feedbackMsgType:i,feedbackLinkUrl:r,feedbackLinkText:o};(0,a.default)(this,v).push(s);(0,n.default)(this,I,C).call(this)}onDestroy(){(0,r.default)(this,E,!1)
this.hideFeedbackItemForAnnimation=!1;(0,r.default)(this,v,new c.TrackedArray([]));(0,g.cancelTask)(this,this.activeTask)
this.setShareContentsData({})}onItemClick(){var e
this.windowService.open(null===(e=this.feedbackItemToRender)||void 0===e?void 0:e.feedbackLinkUrl,"_blank")}setShareContentsData(e){this.shareContentsData=e}updateDetourFeedbackState(e,t,i,n){if(!i){(null==e?void 0:e.previewState)===u.DETOUR_PREVIEW_STATES.IN_PROGRESS||t?this.isDetourPreviewLoading=!0:this.isDetourPreviewLoading=!1
if((null==e?void 0:e.previewState)===u.DETOUR_PREVIEW_STATES.FAILED){var r,a,o,s,l
const t=(null==e||null===(r=e.previewStatusData)||void 0===r?void 0:r.message)||this.i18n.lookupTranslation("components/sharing-v2@feedback-manager-ui","i18n_detour_preview_default_error_temp")()
this.addFeedbackItem({feedbackMsgText:t,feedbackMsgType:n?d.FEEDBACK_MESSAGE_TYPE.URL_PREVIEW_ERROR:d.FEEDBACK_MESSAGE_TYPE.DETOUR_PREVIEW_ERROR,feedbackLinkUrl:null==e||null===(a=e.previewStatusData)||void 0===a||null===(o=a.link)||void 0===o?void 0:o.url,feedbackLinkText:null==e||null===(s=e.previewStatusData)||void 0===s||null===(l=s.link)||void 0===l?void 0:l.text})}}}}),_=(0,o.default)(f.prototype,"windowService",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,o.default)(f.prototype,"i18n",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,o.default)(f.prototype,"isDetourPreviewLoading",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=(0,o.default)(f.prototype,"hideFeedbackItemForAnnimation",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,o.default)(f.prototype,"onAnimationEnd",[h.action],Object.getOwnPropertyDescriptor(f.prototype,"onAnimationEnd"),f.prototype),(0,o.default)(f.prototype,"addFeedbackItem",[h.action],Object.getOwnPropertyDescriptor(f.prototype,"addFeedbackItem"),f.prototype),(0,o.default)(f.prototype,"onDestroy",[h.action],Object.getOwnPropertyDescriptor(f.prototype,"onDestroy"),f.prototype),(0,o.default)(f.prototype,"onItemClick",[h.action],Object.getOwnPropertyDescriptor(f.prototype,"onItemClick"),f.prototype),(0,o.default)(f.prototype,"setShareContentsData",[h.action],Object.getOwnPropertyDescriptor(f.prototype,"setShareContentsData"),f.prototype),(0,o.default)(f.prototype,"updateDetourFeedbackState",[h.action],Object.getOwnPropertyDescriptor(f.prototype,"updateDetourFeedbackState"),f.prototype),f)
function C(){if(!(0,a.default)(this,E)&&0!==(0,a.default)(this,v).length){(0,r.default)(this,E,!0)
this.activeTask=(0,g.runTask)(this,this.clearActiveTimedFeedbackItem,(0,g.getTimeoutOrTestFallback)(5e3))}}}))
define.alias("@linkedin/ember-restli-graphql/services/graphql","sharing-v2/services/graphql")
define.alias("image-editor/services/image-editor-loader","sharing-v2/services/image-editor-loader")
define.alias("@linkedin/ember-pem/services/internal-event-utils","sharing-v2/services/internal-event-utils")
define.alias("@linkedin/ember-pem/services/internal-pem-tracking","sharing-v2/services/internal-pem-tracking")
define.alias("helpcenter-in-product-ember/services/iph-service","sharing-v2/services/iph-service")
define.alias("ember-cli-pemberly-lix/services/lix","sharing-v2/services/lix")
define.alias("ember-m3/services/m3-schema-manager","sharing-v2/services/m3-schema-manager")
define.alias("ember-media-player/services/media-player","sharing-v2/services/media-player")
define.alias("@linkedin/ember-pem/services/pem-response-metadata","sharing-v2/services/pem-response-metadata")
define.alias("@linkedin/ember-pem/services/pem-tracking","sharing-v2/services/pem-tracking")
define.alias("persistent-toast-manager/services/persistent-toast-manager","sharing-v2/services/persistent-toast-manager")
define.alias("@linkedin/ember-qualtrics/services/qualtrics-surveys","sharing-v2/services/qualtrics-surveys")
define.alias("ember-media-player/services/static-asset-loader","sharing-v2/services/static-asset-loader")
define.alias("ember-cli-pemberly-m3/services/store","sharing-v2/services/store")
define.alias("ember-cli-pemberly-litms/services/tag-manager","sharing-v2/services/tag-manager")
define.alias("@linkedin/ember-pem/services/tracer","sharing-v2/services/tracer")
define.alias("ember-cli-pemberly-litms/services/tracking-adapter-for-tag-manager","sharing-v2/services/tracking-adapter-for-tag-manager")
define("sharing-v2/templates/components/draggable-object-target",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"HWYum/+A",block:'[[[41,[30,1],[[[1,"  "],[11,3],[24,6,"#"],[4,[38,1],[[30,0,["acceptForDrop"]]],null],[12],[1,"\\n    "],[18,2,null],[1,"\\n  "],[13],[1,"\\n"]],[]],[[[1,"  "],[18,2,null],[1,"\\n"]],[]]]],["@enableClicking","&default"],false,["if","fn","yield"]]',moduleName:"sharing-v2/templates/components/draggable-object-target.hbs",isStrictMode:!1})}))
define("sharing-v2/templates/components/draggable-object",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"VQDY83Ay",block:'[[[41,[30,1],[[[1,"  "],[11,3],[24,6,"#"],[4,[38,1],[[30,0,["selectForDrag"]]],null],[12],[1,"\\n    "],[18,2,null],[1,"\\n  "],[13],[1,"\\n"]],[]],[[[1,"  "],[18,2,null],[1,"\\n"]],[]]]],["@enableClicking","&default"],false,["if","fn","yield"]]',moduleName:"sharing-v2/templates/components/draggable-object.hbs",isStrictMode:!1})}))
define("sharing-v2/templates/components/sortable-objects",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=(0,t.createTemplateFactory)({id:"9FgNaeiI",block:'[[[18,1,null]],["&default"],false,["yield"]]',moduleName:"sharing-v2/templates/components/sortable-objects.hbs",isStrictMode:!1})}))
define.alias("ember-async-data/tracked-async-data","sharing-v2/tracked-async-data")
define("sharing-v2/utils/asset-utils",["exports","ember-cloud-filepicker/utils/asset-utils"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(i,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}))
define.alias("ember-highcharts/utils/build-options","sharing-v2/utils/build-options")
define("sharing-v2/utils/confirmation-dialog-utils",["exports","sharing-v2/utils/sharing-constants","sharing-v2/utils/share-box-confirmation-dialog","sharing-shared/utils/sharing-shared-constants","global-helpers/helpers/actor-name"],(function(e,t,i,n,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.buildConvertRepostDialog=function(e,t,n,a){var o,s
const l=(0,r.getActorFamiliarNameFromAttributes)(null==a?void 0:a.actor,null==a?void 0:a.contextualHeader)||(null==a||null===(o=a.actor)||void 0===o||null===(s=o.name)||void 0===s?void 0:s.text)
return new i.ShareboxConfirmationDialog({title:e.lookupTranslation(u.i18nKeysTemplate,u.title)(),content:e.lookupTranslation(u.i18nKeysTemplate,u.content)([{actorName:l}]),primaryActionText:e.lookupTranslation(u.i18nKeysTemplate,u.primaryActionText)(),primaryAction:t,primaryControlName:u.primaryControlName,secondaryActionText:e.lookupTranslation(u.i18nKeysTemplate,u.secondaryActionText)(),secondaryAction:n,secondaryControlName:u.secondaryControlName,testId:u.testId})}
e.buildDiscardDraftDialog=function(e,t,n){return new i.ShareboxConfirmationDialog({title:e.lookupTranslation(s.i18nKeysTemplate,s.title)(),content:e.lookupTranslation(s.i18nKeysTemplate,s.content)(),primaryActionText:e.lookupTranslation(s.i18nKeysTemplate,s.primaryActionText)(),primaryAction:t,primaryControlName:s.primaryControlName,secondaryActionText:e.lookupTranslation(s.i18nKeysTemplate,s.secondaryActionText)(),secondaryAction:n,secondaryControlName:s.secondaryControlName,testId:s.testId})}
e.buildDiscardEditDialog=function(e,t,n){return new i.ShareboxConfirmationDialog({title:e.lookupTranslation(a.i18nKeysTemplate,a.title)(),content:e.lookupTranslation(a.i18nKeysTemplate,a.content)(),primaryActionText:e.lookupTranslation(a.i18nKeysTemplate,a.primaryActionText)(),primaryAction:t,primaryControlName:a.primaryControlName,secondaryActionText:e.lookupTranslation(a.i18nKeysTemplate,a.secondaryActionText)(),secondaryAction:n,secondaryControlName:a.secondaryControlName,testId:a.testId})}
e.buildPostAddThoughtsDialog=function(e,n,r,a){return new i.ShareboxConfirmationDialog({title:e.lookupTranslation(d.i18nKeysTemplate,d.title)(),content:e.lookupTranslation(d.i18nKeysTemplate,d.content)(),primaryActionText:e.lookupTranslation(d.i18nKeysTemplate,d.primaryActionText)(),primaryAction:n,primaryControlName:"ai"===a?t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.CANCEL_UNMODIFIED_AI_POST:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.CANCEL_UNMODIFIED_THOUGHT_STARTERS_POST,secondaryActionText:e.lookupTranslation(d.i18nKeysTemplate,d.secondaryActionText)(),secondaryAction:r,secondaryControlName:"ai"===a?t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.POST_AI_CONTENT_WITHOUT_EDIT:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.POST_THOUGHT_STARTERS_CONTENT_WITHOUT_EDIT,testId:d.testId})}
e.buildSaveDraftDialog=function(e,t,r,a,o,s){const d=function(e,t,i,r,a){if(i===n.SHARE_ORIGIN.ORGANIZATION){if(r&&a.type===n.VALID_COMMENT_RESTRICTION_TYPES.NONE)return e.lookupTranslation(t,"i18n_save_pages_draft_prompt_content_targeting_and_comments")()
if(r)return e.lookupTranslation(t,"i18n_save_pages_draft_prompt_content_targeting")()
if(a.type===n.VALID_COMMENT_RESTRICTION_TYPES.NONE)return e.lookupTranslation(t,"i18n_save_pages_draft_prompt_content_comments")()}return e.lookupTranslation(t,"i18n_save_draft_prompt_content")()}(e,l.i18nKeysTemplate,a,o,s)
return new i.ShareboxConfirmationDialog({title:e.lookupTranslation(l.i18nKeysTemplate,l.title)(),content:d,primaryActionText:e.lookupTranslation(l.i18nKeysTemplate,l.primaryActionText)(),primaryAction:t,primaryControlName:l.primaryControlName,secondaryActionText:e.lookupTranslation(l.i18nKeysTemplate,l.secondaryActionText)(),secondaryAction:r,secondaryControlName:l.secondaryControlName,testId:l.testId})}
e.buildScheduleAddThoughtsDialog=function(e,n,r,a){return new i.ShareboxConfirmationDialog({title:e.lookupTranslation(c.i18nKeysTemplate,c.title)(),content:e.lookupTranslation(c.i18nKeysTemplate,c.content)(),primaryActionText:e.lookupTranslation(c.i18nKeysTemplate,c.primaryActionText)(),primaryAction:n,primaryControlName:"ai"===a?t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.CANCEL_UNMODIFIED_AI_SCHEDULE:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.CANCEL_UNMODIFIED_THOUGHT_STARTERS_SCHEDULE,secondaryActionText:e.lookupTranslation(c.i18nKeysTemplate,c.secondaryActionText)(),secondaryAction:r,secondaryControlName:"ai"===a?t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.SCHEDULE_AI_CONTENT_WITHOUT_EDIT:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.SCHEDULE_THOUGHT_STARTERS_CONTENT_WITHOUT_EDIT,testId:c.testId})}
e.buildScheduleEditDiscardDialog=function(e,t,n){return new i.ShareboxConfirmationDialog({title:e.lookupTranslation(o.i18nKeysTemplate,o.title)(),content:e.lookupTranslation(o.i18nKeysTemplate,o.content)(),primaryActionText:e.lookupTranslation(o.i18nKeysTemplate,o.primaryActionText)(),primaryAction:t,primaryControlName:o.primaryControlName,secondaryActionText:e.lookupTranslation(o.i18nKeysTemplate,o.secondaryActionText)(),secondaryAction:n,secondaryControlName:o.secondaryControlName,testId:o.testId})}
e.buildSkillAddThoughtsDialog=function(e,t,n){return new i.ShareboxConfirmationDialog({title:e.lookupTranslation(p.i18nKeysTemplate,p.title)(),content:e.lookupTranslation(p.i18nKeysTemplate,p.content)(),primaryActionText:e.lookupTranslation(p.i18nKeysTemplate,p.primaryActionText)(),primaryAction:t,primaryControlName:p.primaryControlName,secondaryActionText:e.lookupTranslation(p.i18nKeysTemplate,p.secondaryActionText)(),secondaryAction:n,secondaryControlName:p.secondaryControlName,testId:p.testId})}
e.buildUnsavedDetourDialog=function(e,t,n){return new i.ShareboxConfirmationDialog({title:e.lookupTranslation(h.i18nKeysTemplate,h.title)(),content:e.lookupTranslation(h.i18nKeysTemplate,h.content)(),primaryActionText:e.lookupTranslation(h.i18nKeysTemplate,h.primaryActionText)(),primaryAction:t,primaryControlName:a.primaryControlName,secondaryActionText:e.lookupTranslation(h.i18nKeysTemplate,h.secondaryActionText)(),secondaryAction:n,secondaryControlName:h.secondaryControlName,testId:h.testId})}
const a=Object.freeze({i18nKeysTemplate:"components/sharing-v2@share-box-v2",title:"i18n_discard_edit_header",content:"i18n_discard_edit_content",primaryActionText:"i18n_discard",primaryControlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.CONFIRMATION_DIALOG_DISCARD,secondaryActionText:"i18n_go_back",secondaryControlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.CONFIRMATION_DIALOG_BACK,testId:"discard-edits-dialog"}),o=Object.freeze({i18nKeysTemplate:"components/sharing-v2@share-box-v2",title:"i18n_discard_scheduled_post_changes_header",content:"i18n_discard_scheduled_post_changes_content",primaryActionText:"i18n_discard_scheduled_post_changes_cta",primaryControlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.SCHEDULE_EDIT_DISCARD,secondaryActionText:"i18n_cancel",secondaryControlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.SCHEDULE_EDIT_DISCARD_CANCEL,testId:"schedule-edit-discard-dialog"}),s=Object.freeze({i18nKeysTemplate:"components/sharing-v2@share-box-v2",title:"i18n_discard_draft_header",content:"i18n_discard_draft_content",primaryActionText:"i18n_discard",primaryControlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.CONFIRMATION_DIALOG_DISCARD,secondaryActionText:"i18n_go_back",secondaryControlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.CONFIRMATION_DIALOG_BACK,testId:"discard-draft-dialog"}),l=Object.freeze({i18nKeysTemplate:"components/sharing-v2@share-box-v2",title:"i18n_save_draft_prompt_header",primaryActionText:"i18n_save_draft_confirm",primaryControlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.DRAFT_DIALOG_SAVE,secondaryActionText:"i18n_discard",secondaryControlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.DRAFT_DIALOG_DISCARD,testId:"save-draft-dialog"}),d=Object.freeze({i18nKeysTemplate:"components/sharing-v2@share-box-v2",title:"i18n_post_warning_header",content:"i18n_post_warning_content",primaryActionText:"i18n_keep_editing",secondaryActionText:"i18n_post",testId:"post-add-thoughts-dialog"}),c=Object.freeze({i18nKeysTemplate:"components/sharing-v2@share-box-v2",title:"i18n_schedule_warning_header",content:"i18n_schedule_warning_content",primaryActionText:"i18n_keep_editing",secondaryActionText:"i18n_schedule",testId:"schedule-add-thoughts-dialog"}),u=Object.freeze({i18nKeysTemplate:"components/sharing-v2@share-box-v2",title:"i18n_repost_without_adding_thoughts_header",content:"i18n_repost_without_adding_thoughts_content",primaryActionText:"i18n_yes_repost",primaryControlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.REPOST_EDUCATION_REPOST,secondaryActionText:"i18n_go_back",secondaryControlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.REPOST_EDUCATION_GO_BACK,testId:"repost-education-dialog"}),h=Object.freeze({i18nKeysTemplate:"components/sharing-v2@share-box-v2",title:"i18n_discard_edit_header",content:"i18n_unsaved_detour_dialog_content",primaryActionText:"i18n_discard",primaryControlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.CONFIRMATION_DIALOG_DISCARD,secondaryActionText:"i18n_cancel",secondaryControlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.CONFIRMATION_DIALOG_BACK,testId:"unsaved-detour-dialog"}),p=Object.freeze({i18nKeysTemplate:"components/sharing-v2@share-box-v2",title:"i18n_post_warning_header",content:"i18n_skill_add_thought_content",primaryActionText:"i18n_keep_editing",primaryControlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.SKILLS_EDIT_KEEP_EDITING,secondaryActionText:"i18n_post",secondaryControlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.SKILLS_EDIT_POST,testId:"skill_add_thoughts_dialog"})}))
define("sharing-v2/utils/file-error",["exports","ember-cloud-filepicker/utils/file-error"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(i,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}))
define("sharing-v2/utils/file-result",["exports","ember-cloud-filepicker/utils/file-result"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(i,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}))
define("sharing-v2/utils/get-app-config",["exports","ember-cloud-filepicker/utils/get-app-config"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(i,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}))
define.alias("ember-cli-artdeco-tabs/utils/get-box-model-width","sharing-v2/utils/get-box-model-width")
define("sharing-v2/utils/guider/dash-guider-manager",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateFieldGet","@babel/runtime/helpers/esm/classPrivateFieldSet","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","ember-cli-pemberly-tracking/utils/tracking","@ember/debug","@glimmer/tracking","global-utils/utils/is-browser","ember-lifeline","sharing-shared/utils/client-sensor-constants","sharing-shared/utils/client-sensor-utils"],(function(e,t,i,n,r,a,o,s,l,d,c,u,h,p,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.DashGuiderManager=void 0
var m,b,f,_,T,y,S,E,v
function I(e){var t,i,n,r,a,o,s,l,d
return{name:e.displayText,trackingControlName:e.trackingControlName,textToInsert:null===(t=e.clickBehaviorUnion)||void 0===t?void 0:t.textToInsert,editText:null===(i=e.clickBehaviorUnion)||void 0===i||null===(n=i.editText)||void 0===n||null===(r=n.editText)||void 0===r?void 0:r.text,detourType:null===(a=e.clickBehaviorUnion)||void 0===a?void 0:a.detourType,hashtagTrackingData:null===(o=e.customTrackingDataUnion)||void 0===o?void 0:o.hashtagTrackingData,trackingPromptType:null===(s=e.trackingData)||void 0===s?void 0:s.trackingPromptType,trackingData:e.trackingData,trackingId:(null===(l=e.trackingData)||void 0===l?void 0:l.trackingId)||(null===(d=e.trackingData)||void 0===d?void 0:d.hashtagBackendTrackingId)}}e.DashGuiderManager=(m=(_=new WeakMap,T=new WeakMap,y=new WeakSet,S=new WeakSet,E=new WeakSet,v=new WeakSet,class{constructor(e,n,r,a,o,s,l,d,c,u){v.add(this)
E.add(this)
S.add(this)
y.add(this);(0,t.default)(this,"headerPrompt",b,this);(0,t.default)(this,"prompts",f,this)
_.set(this,{writable:!0,value:[]});(0,i.default)(this,"clickedPromptsCollection",[])
T.set(this,{writable:!0,value:!1})
this.attachedShareMediaUrn=e
this.clientSensor=n
this.containerUrn=r
this.hasAttachment=a
this.organizationActorUrn=o
this.shareBoxSessionId=s
this.shareText=l
this.storeShim=d
this.tracking=c
this.typeaheadTracking=u}updateShareText(e){this.shareText=e
return(0,a.default)(this,v,D).call(this)}updateHasAttachment(e){this.hasAttachment=e
return(0,a.default)(this,v,D).call(this)}updateattachedShareMediaUrn(e){this.attachedShareMediaUrn=e
return(0,a.default)(this,v,D).call(this)}updateOrganizationActor(e,t){this.organizationActorUrn=e
this.containerUrn=t
return(0,a.default)(this,v,D).call(this)}updateContainerUrn(e){this.containerUrn=e
return(0,a.default)(this,v,D).call(this)}enableClientSideGuiderPrompt(){(0,r.default)(this,T,!0)}disableClientSideGuiderPrompt(){(0,r.default)(this,T,!1)
return(0,a.default)(this,v,D).call(this)}setInitialPrompt(){(0,a.default)(this,v,D).call(this)}handleGuiderPromptClickTracking(e){e.trackingControlName&&this.tracking.fireInteractionEvent(`share_${e.trackingControlName}`)
const{trackingId:t}=e,i={trackingId:t,guiderPromptWorkflowId:this.guiderPromptWorkflowId}
t&&this.clickedPromptsCollection.push(i)}handleCarouselImpressionTracking(){const e=(0,a.default)(this,S,A).call(this)
var t,i,r;(t=e,i=this.prompts,r=!0,t.map((e=>{var t
const n=i[e.dataset.index]
return r?function(e){var t
if(!e)return null
const i=(null===(t=e.trackingData)||void 0===t?void 0:t.hashtagBackendUrn)||"urn:li:dummy:1",{trackingId:n}=e
return n?{trackingObject:{objectUrn:i,trackingId:n}}:null}(n):{entity:null===(t=n.hashtagTrackingData)||void 0===t?void 0:t.backendUrn,index:Number(e.dataset.index),trackingId:n.trackingId}})).filter((e=>(null==e?void 0:e.entity)&&(null==e?void 0:e.trackingId)||r&&(null==e?void 0:e.trackingObject)))).length&&(0,n.default)(this,_).push(...e.map((e=>null==e?void 0:e.innerText)))}}),b=(0,o.default)(m.prototype,"headerPrompt",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{trackingPromptType:""}}}),f=(0,o.default)(m.prototype,"prompts",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m)
function C(){this.guiderPromptWorkflowId=(0,l.generateTrackingId)()}function A(){if(u.default){const e=document.querySelector(".share-creation-state__additional-toolbar"),t=null==e?void 0:e.getBoundingClientRect().right,i=[...document.querySelectorAll(".share-guider-custom-carousel-prompt__slide")]
return i.filter((e=>e.getBoundingClientRect().right<t&&!(0,n.default)(this,_).includes(e.innerText)))}return[]}function O(e){var t
const i=null===(t=e.name)||void 0===t?void 0:t.text
i&&!(0,n.default)(this,_).includes(i)&&(0,n.default)(this,_).push(i);(0,h.runTask)(this,this.handleCarouselImpressionTracking)}function D(){if((0,n.default)(this,T))return null
const e={hasAttachment:this.hasAttachment,q:"highestPriorityTriggeredPrompt",shareBoxSessionId:this.shareBoxSessionId}
this.shareText&&(e.commentary=this.shareText)
this.organizationActorUrn&&(e.organizationActorUrn=this.organizationActorUrn)
this.containerUrn&&(e.containerUrn=this.containerUrn)
this.attachedShareMediaUrn&&(e.mediaUrn=this.attachedShareMediaUrn)
return this.storeShim.queryURL("voyagerContentcreationDashGuiderPrompts",{params:{recipe:"com.linkedin.voyager.dash.deco.contentcreation.GuiderPrompt",...e}}).then((e=>{(0,g.fireSharingClientSensor)(this.clientSensor,p.SharingClientSensorMetrics.GUIDER_PROMPT_LOAD_SUCCESS)
if(e){var t,i,n,r,o,s,l
const d=(null===(t=e.elements)||void 0===t||null===(i=t.content)||void 0===i||null===(n=i[0])||void 0===n?void 0:n.header)||{},c=null===(r=d.trackingData)||void 0===r?void 0:r.trackingPromptType
c&&c!==this.headerPrompt.trackingPromptType&&(0,a.default)(this,y,C).call(this)
this.headerPrompt=I(d)
const u=(null===(o=e.elements)||void 0===o||null===(s=o.content)||void 0===s||null===(l=s[0])||void 0===l?void 0:l.items)||[]
this.prompts=u.map(I);(0,a.default)(this,E,O).call(this,this.headerPrompt)}})).catch((e=>{(0,g.fireSharingClientSensor)(this.clientSensor,p.SharingClientSensorMetrics.GUIDER_PROMPT_LOAD_FAILURE)
throw e}))}}))
define.alias("client-sensor-web/utils/helpers","sharing-v2/utils/helpers")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/utils/mapping-data","sharing-v2/utils/mapping-data")
define("sharing-v2/utils/mime-type-utils",["exports","ember-cloud-filepicker/utils/mime-type-utils"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(i,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}))
define("sharing-v2/utils/repost-education-utils",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","sharing-v2/utils/sharing-utils","sharing-v2/utils/sharing-constants","@glimmer/tracking","@ember/debug"],(function(e,t,i,n,r,a,o,s,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,c
e.default=(d=class{constructor(){let{legoResolver:e,legoTracking:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,t.default)(this,"repostEducationTrackingToken",c,this)
this.legoResolver=e
this.legoTracking=i;(0,a.fireLegoRequestHelper)(e,o.REPOST_EDUCATION_LEGO_CONFIG,(e=>{this.repostEducationTrackingToken=null==e?void 0:e.trackingToken}))}sendRepostEducationImpression(){this.repostEducationTrackingToken&&this.legoTracking.sendLegoImpression(this.repostEducationTrackingToken,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}sendRepostEducationPrimaryAction(){this.repostEducationTrackingToken&&this.legoTracking.sendLegoAction(this.repostEducationTrackingToken,this.legoTracking.LEGO_ACTION_PRIMARY,1)}static getShareUrn(e,t){var i,n
return e||(null==t||null===(i=t.metadata)||void 0===i?void 0:i.shareUrn)||(null==t||null===(n=t.updateMetadata)||void 0===n?void 0:n.shareUrn)}},c=(0,n.default)(d.prototype,"repostEducationTrackingToken",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d)}))
define("sharing-v2/utils/share-box-confirmation-dialog",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.ShareboxConfirmationDialog=void 0
e.ShareboxConfirmationDialog=class{constructor(e){let{title:t,content:i,primaryActionText:n,primaryAction:r,primaryControlName:a,secondaryActionText:o,secondaryAction:s,secondaryControlName:l,testId:d}=e
this.title=t
this.content=i
this.primaryActionText=n
this.primaryAction=r
this.primaryControlName=a
this.secondaryActionText=o
this.secondaryAction=s
this.secondaryControlName=l
this.testId=d}}}))
define("sharing-v2/utils/share-preview-utils",["exports","@ember/debug","@ember/object"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.getUpdateV2WithFeedComponent=function(e,t){const n=Math.floor(Math.random()*Math.floor(1e3)),r=i.default.create({$type:"com.linkedin.voyager.feed.render.UpdateMetadata",urn:`urn:li:fakeUpdate:${n}`,trackingData:{$type:"com.linkedin.voyager.feed.TrackingData",trackingId:`trackingId${n}`,requestId:`requestId${n}`,urn:`urn:li:fakeUpdate:${n}`}}),a=e.createRecord("com.linkedin.voyager.feed.render.UpdateV2",{entityUrn:`urn:li:fs_fakeEntityUrn:${n}`,highlightedComments:[],updateMetadata:r})
a.content=t
return a}}))
define("sharing-v2/utils/sharing-constants",["exports","sharing-shared/utils/sharing-shared-constants"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.VISIBILITY_SCREEN=e.UPLOAD_LIMITS=e.UNIFIED_SETTINGS_CTAS=e.SHARING_VIEWS=e.SHARE_AUDIENCE_VISIBILITY=e.SHAREBOX_TRACKING=e.SHAREBOX_STATE=e.REPOST_EDUCATION_LEGO_CONFIG=e.NOTIFICATION_DURATION=e.MENTION_ENTITY_TYPES=e.MANUAL_FIRE_REASON=e.LOCAL_STORAGE_KEYS=e.LIX_TREATMENTS=e.KEYS_NAMES=e.INTERACTION_TYPES=e.I18N_KEYS=e.HASHTAG_SOURCE_TYPES=e.HASHTAG_PREFIX=e.GUIDER_PROMPT_TYPES=e.FEEDBACK_MESSAGE_TYPE=e.EXTERNAL_DETOURS=e.ERRORS=e.DEFAULT_COMMENT_RESTRICTION_TYPE=e.CUSTOM_ACTION_EVENTS=e.CREATE_SURVEY_ELIGIBLE_PAGES=e.CREATE_PILLAR_SURVEY_CONSTANTS=e.COMMENT_RESTRICTION_TYPE_ICONS=e.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS=e.COMMENT_RESTRICTION_CONFIGS=void 0
e.SHAREBOX_STATE=Object.freeze({CREATION:"CREATION",DETOUR:"DETOUR",VISIBILITY:"VISIBILITY",DETOUR_CHOOSER_MENU:"DETOUR_CHOOSER_MENU",MANAGEMENT:"MANAGEMENT"}),e.KEYS_NAMES=Object.freeze({ESCAPE_KEY_NAME:"Escape",ESC_KEY_NAME:"Esc",TAB_KEY_NAME:"Tab"}),e.HASHTAG_PREFIX="#",e.HASHTAG_SOURCE_TYPES=Object.freeze({TYPEAHEAD:"TYPEAHEAD",SUGGESTED:"SUGGESTED"}),e.GUIDER_PROMPT_TYPES=Object.freeze({HASHTAG_SUGGESTION:"HASHTAG_SUGGESTION",JOB_DETOUR_RECOMMENDATION:"JOB",CELEBRATION_DETOUR_RECOMMENDATION:"CELEBRATION"}),e.CUSTOM_ACTION_EVENTS=Object.freeze({SELECT:"SELECT",DELETE:"DELETE",DISMISS:"DISMISS",PERSONALIZE:"PERSONALIZE"}),e.NOTIFICATION_DURATION=4e3,e.UPLOAD_LIMITS=Object.freeze({POST_CHAR_LIMIT:3e3,MENTIONS_LIMIT:40}),e.LIX_TREATMENTS=Object.freeze({ENABLED:"enabled",CONTROL:"control"}),e.VISIBILITY_SCREEN=Object.freeze({ACTOR_TOGGLE:"ACTOR_TOGGLE",COMMENT_CONTROLS:"COMMENT_CONTROLS",DASH_CONTAINERS_LIST:"DASH_CONTAINERS_LIST",TARGETED_AUDIENCE:"TARGETED_AUDIENCE",VISIBILITY_OPTIONS:"VISIBILITY_OPTIONS",MEDIA_WARN_DIALOG:"MEDIA_WARN_DIALOG",UNIFIED_SETTINGS:"UNIFIED_SETTINGS"}),e.SHARE_AUDIENCE_VISIBILITY=Object.freeze({PUBLIC:"PUBLIC",CONNECTIONS:"CONNECTIONS",GROUP:"GROUP",EMPLOYEES:"EMPLOYEES",PUBLIC_GROUP:"PUBLIC_GROUP"}),e.EXTERNAL_DETOURS=["SERVICE_MARKETPLACE","JOB","EVENTS"],e.I18N_KEYS=Object.freeze({SUCCESS_TOAST_PUBLISHED:"i18n_share_posted",SUCCESS_TOAST_SCHEDULED:"i18n_share_scheduled",SUCCESS_TOAST_DRAFT:"i18n_draft_saved",FAILED_TOAST_DRAFT:"i18n_draft_save_failed_v2",SHARE_UNSUCCESSFUL:"i18n_share_unsuccessful",SHARE_UNSUCCESSFUL_V2:"i18n_share_unsuccessful_v2",DUPLICATE_SHARE_UNSUCCESSFUL:"duplicate_share_unsuccessful",CHANGES_SAVED:"i18n_changes_saved",GENERIC_PREVIEW_ERROR:"i18n_detour_preview_default_error_temp",GENERIC_POST_ERROR:"i18n_something_went_wrong",PLEASE_TRY_AGAIN_PROMPT:"i18n_please_try_again",RETURN_TO_DRAFT:"i18n_return_to_draft"}),e.ERRORS=Object.freeze({DUPLICATE_SHARE_ERROR_CODE:"409"})
const i=e.SHAREBOX_TRACKING=Object.freeze({PAGEVIEW_EVENTS:{SHARE:"flagship3_feed_share",SHARE_V2:"flagship3_feed_share_v2",REPOST:"flagship3_feed_reshare_share",EDIT:"flagship3_feed_share_edit",DRAFT:"flagship3_feed_share_draft",VISIBILITY:"flagship3_feed_share_distribution",TARGETING:"flagship3_feed_share_targeting",ACTOR_TOGGLE:"flagship3_feed_share_actor_menu",ACTOR_TOGGLE_V2:"flagship3_feed_share_v2_actor",CONTAINER_MENU:"flagship3_feed_share_container_menu",CONTAINER_MENU_V2:"flagship3_feed_share_v2_groups_list",COMMENT_CONTROLS:"flagship3_feed_share_comment_controls",COMMENT_CONTROLS_V2:"flagship3_feed_share_v2_comment_setting",DETOUR_CHOOSER_MENU:"flagship3_feed_share_detour_chooser_menu",MEDIA_REMOVE_WARN_DIALOG:"flagship3_feed_share_media_remove_dialog_warn",POST_VIEW_LIST:"flagship3_feed_share_schedule_list",POST_DETAIL_VIEW:"flagship3_feed_share_schedule_detail",UNIFIED_SETTINGS:"flagship3_feed_share_v2_unified_settings",POST_TO_GROUP_VERIFICATION_CALLOUT:"flagship3_feed_share_v2_post_to_group_verification_callout"},CONTROL_INTERACTION_EVENTS:{ACTOR_SELECT:"share_actor_select",ACTOR_SELECT_OPEN:"share_actor_select_open",ACTOR_SELECT_BACK:"share_actor_select_back",ACTOR_SELECT_SAVE:"share_actor_select_save",ACTOR_SELECT_BACK_V2:"share_actor_back",ACTOR_SELECT_SAVE_V2:"share_actor_done",ACTOR_SELECT_EXIT:"share_actor_select_exit",ADD_COMMENTARY:"share_add_commentary",AI_ONBOARDING_DISMISS:"dismiss_wa_onboarding",AI_TOOLBAR_BTN:"open_wa_toolbar",AI_UPSELL_BTN:"wa_rewrite_upsell_open",AI_UPSELL_DISMISS:"wa_rewrite_upsell_dismiss",AI_CONFIRMATION_DIALOG_EXIT:"wa_edit_dismiss",CANCEL_UNMODIFIED_AI_POST:"wa_edit_keep_editing",CANCEL_UNMODIFIED_THOUGHT_STARTERS_POST:"ts_edit_keep_editing",CANCEL_UNMODIFIED_AI_SCHEDULE:"share_cancel_unmodified_ai_schedule",CANCEL_UNMODIFIED_THOUGHT_STARTERS_SCHEDULE:"ts_edit_keep_editing",COMMENT_CONTROLS_OPEN:"share_comment_controls_open",COMMENT_CONTROLS_SELECT_ALL:"share_select_comment_controls_all",COMMENT_CONTROLS_SELECT_ALL_V2:"share_change_comment_anyone",COMMENT_CONTROLS_SELECT_CONNECTIONS:"share_select_comment_controls_connections",COMMENT_CONTROLS_SELECT_CONNECTIONS_V2:"share_change_comment_connections",COMMENT_CONTROLS_SELECT_NONE:"share_select_comment_controls_none",COMMENT_CONTROLS_SELECT_NONE_V2:"share_change_comment_no_one",COMMENT_CONTROLS_SELECT_BACK:"share_select_comment_controls_settings_back",COMMENT_CONTROLS_SELECT_SAVE:"share_select_comment_controls_settings_save",COMMENT_CONTROLS_SELECT_BACK_V2:"share_comment_back",COMMENT_CONTROLS_SELECT_SAVE_V2:"share_comment_save",COMMENTS_CONTROLS_SELECT_EXIT:"share_select_comment_controls_settings_exit",CUSTOM_URL_PREVIEW_BTN:"share_change_article_preview",DRAFT_DIALOG_SAVE:"share_save_draft",DRAFT_DIALOG_DISCARD:"share_discard_draft",DETOUR_CHOOSER_MENU_SELECT_EXIT:"share_select_detour_chooser_menu_exit",DETOUR_CHOOSER_MENU_SELECT_BACK:"share_select_detour_chooser_menu_back",DETOUR_OPTIONS_SCROLL_LEFT:"share_scroll_options_left",DETOUR_OPTIONS_SCROLL_RIGHT:"share_scroll_options_right",DETOUR_OPTIONS_VIEW_ALL:"share_view_all_options",EDIT_PREVIEW_PREFIX:"share_edit_preview_",GROUP_INFO_NOTICE:"share_group_info",MEDIA_REMOVE_WARN_DIALOG_CANCEL:"share_select_media_warn_dialog_cancel",MEDIA_REMOVE_WARN_DIALOG_CONFIRM:"share_select_media_warn_dialog_confirm",MEDIA_REMOVE_WARN_DIALOG_EXIT:"share_select_media_warn_dialog_exit",NEW_TARGETING_BACK:"share_change_visibility_target_audience_back",NEW_TARGETING_EXIT:"share_change_visibility_target_audience_exit",NEW_TARGETING_SAVE:"share_change_visibility_target_audience_save",ORGANIZATION_AI_TOOLBAR_BTN:"organization_open_wa_toolbar",PAID_ENDORSEMENT_TOGGLE:"share_paid_endorsement_toggle",POST_AI_CONTENT_WITHOUT_EDIT:"wa_edit_post",POST_BTN:"share_post",POST_THOUGHT_STARTERS_CONTENT_WITHOUT_EDIT:"ts_edit_post",POST_TO_GROUP_START_VERIFICATION:"post_to_group_start_verification",REMOVE_PREVIEW_PREFIX:"share_remove_preview_",REPOST_EDUCATION_REPOST:"repost_instantly",REPOST_EDUCATION_GO_BACK:"repost_instantly_go_back",SAVE_BTN:"share_save",SCHEDULE_AI_CONTENT_WITHOUT_EDIT:"wa_edit_schedule",SCHEDULE_THOUGHT_STARTERS_CONTENT_WITHOUT_EDIT:"ts_edit_schedule",SCHEDULE_BTN:"schedule_post",SCHEDULE_BTN_V2:"share_schedule_post",SCHEDULE_PICKER_OPEN:"schedule_picker_open",SCHEDULE_PICKER_OPEN_V2:"share_schedule_picker_open",SCHEDULE_EDIT_OPEN:"schedule_edit_open",SCHEDULE_EDIT_DISCARD:"schedule_edit_cancel",SCHEDULE_EDIT_DISCARD_CANCEL:"schedule_discard_cancel",SCHEDULE_POST_LIST_BACK:"schedule_mgmnt_back",SCHEDULE_POST_LIST_EXIT:"schedule_mgmnt_exit",SCHEDULE_POST_LIST_SELECT:"schedule_mgmnt_select",SCHEDULE_POST_LIST_DELETE:"schedule_mgmnt_delete",SCHEDULE_POST_LIST_PICKER_OPEN:"schedule_mgmnt_picker_open",SCHEDULE_POST_LIST_CREATE_SCHEDULE:"schedule_mgmnt_create_schedule",SCHEDULE_DETAIL_BACK:"schedule_detail_back",SCHEDULE_DETAIL_EXIT:"schedule_detail_exit",SCHEDULE_DETAIL_DELETE:"schedule_detail_delete",SCHEDULE_DETAIL_PICKER_OPEN:"schedule_detail_picker_open",SHOW_MORE_HASHTAGS:"share_show_more_hashtags",UNDO:"wa_undo",UNFOCUS_SHAREBOX:"share_close",UNIFIED_SETTINGS_DISMISS:"share_settings_dismiss",UNIFIED_SETTINGS_ENTRY:"share_settings_open",UNIFIED_VIEW_ACTOR_LIST:"share_view_actor_list",UNIFIED_VIEW_COMMENT_CONTROLS_LIST:"share_view_comment_controls_list",VISIBILITY_BACK:"share_change_visibility_back",VISIBILITY_BTN:"share_visibility_button",VISIBILITY_EXIT:"share_change_visibility_exit",VISIBILITY_SAVE:"share_change_visibility_save",VISIBILITY_TYPE_ANYONE:"share_change_visibility_public",VISIBILITY_TYPE_CONNECTIONS:"share_change_visibility_connections_only",VISIBILITY_TYPE_TARGETED:"share_change_visibility_targeted_audience",CONFIRMATION_DIALOG_BACK:"share_draft_goback",CONFIRMATION_DIALOG_DISCARD:"share_draft_discard",CONFIRMATION_DIALOG_EXIT:"share_draft_exit",SKILLS_EDIT_DISMISS:"skills_edit_dimiss",SKILLS_EDIT_KEEP_EDITING:"skills_edit_keep_editing",SKILLS_EDIT_POST:"skills_edit_post"},FAE:{SHARE:{actionCategory:"SHARE",actionType:"submitShare"}}}),n=(e.DEFAULT_COMMENT_RESTRICTION_TYPE=t.VALID_COMMENT_RESTRICTION_TYPES.ALL,e.COMMENT_RESTRICTION_TYPE_ICONS=Object.freeze({ALL:"globe-americas",ENABLED:"comment",DISABLED:"comment-off",NONE:"comment-off",CONNECTIONS_ONLY:"people"}))
e.COMMENT_RESTRICTION_CONFIGS={ALL:{TYPE:t.VALID_COMMENT_RESTRICTION_TYPES.ALL,ICON_NAME:n.ALL,CONTROL_NAME:i.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_SELECT_ALL,CONTROL_NAME_V2:i.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_SELECT_ALL_V2,I18N_TEXT_KEY:"i18n_anyone",I18N_SUBTEXT_KEY:"i18n_anyone_desc"},CONNECTIONS_ONLY:{TYPE:t.VALID_COMMENT_RESTRICTION_TYPES.CONNECTIONS_ONLY,ICON_NAME:n.CONNECTIONS_ONLY,CONTROL_NAME:i.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_SELECT_CONNECTIONS,CONTROL_NAME_V2:i.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_SELECT_CONNECTIONS_V2,I18N_TEXT_KEY:"i18n_connections_only",I18N_SUBTEXT_KEY:"i18n_connections_only_desc"},NONE:{TYPE:t.VALID_COMMENT_RESTRICTION_TYPES.NONE,ICON_NAME:n.NONE,CONTROL_NAME:i.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_SELECT_NONE,CONTROL_NAME_V2:i.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_SELECT_NONE_V2,I18N_TEXT_KEY:"i18n_no_one",I18N_SUBTEXT_KEY:"i18n_no_one_desc"}},e.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS={ENABLED:{TYPE:t.VALID_COMMENT_RESTRICTION_TYPES.ALL,DISPLAY_TYPE:"ENABLED",ICON_NAME:n.ENABLED,CONTROL_NAME:i.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_SELECT_ALL,CONTROL_NAME_V2:i.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_SELECT_ALL_V2,I18N_TEXT_KEY:"i18n_comments_enabled",I18N_SUBTEXT_KEY:"i18n_comments_enabled_desc"},DISABLED:{TYPE:t.VALID_COMMENT_RESTRICTION_TYPES.NONE,DISPLAY_TYPE:"DISABLED",ICON_NAME:n.NONE,CONTROL_NAME:i.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_SELECT_NONE,CONTROL_NAME_V2:i.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_SELECT_NONE_V2,I18N_TEXT_KEY:"i18n_comments_disabled",I18N_SUBTEXT_KEY:"i18n_comments_disabled_desc"}},e.MENTION_ENTITY_TYPES={EXPLICIT:"EXPLICIT",HASHTAG:"HASHTAG"},e.LOCAL_STORAGE_KEYS=Object.freeze({ORGANIZATION_ACTORS:"sharing-organization-actors"}),e.UNIFIED_SETTINGS_CTAS=Object.freeze({ACTOR:"ACTOR",COMMENT:"COMMENT",CONTAINER:"CONTAINER",TARGETED:"TARGETED"}),e.FEEDBACK_MESSAGE_TYPE=Object.freeze({BE_KIND:"BE_KIND",CHAR_LIMIT:"CHAR_LIMIT",DETOUR_PREVIEW_ERROR:"DETOUR_PREVIEW_ERROR",DRAG_AND_DROP_ERROR:"DRAG_AND_DROP_ERROR",MENTIONS_LIMIT:"MENTIONS_LIMIT",POST_FAILURE:"POST_FAILURE",PREVIEW_LOADING:"PREVIEW_LOADING",URL_PREVIEW_ERROR:"URL_PREVIEW_ERROR",MENTION_NOTICE:"MENTION_NOTICE",INITIALIZATION_ERROR:"INITIALIZATION_ERROR"}),e.REPOST_EDUCATION_LEGO_CONFIG=Object.freeze({pageKey:"flagship_feed_repost_education",slotId:"repost_education",groupId:"repost_education_group",widgetId:"flagship_feed:repost_education"}),e.CREATE_PILLAR_SURVEY_CONSTANTS=Object.freeze({dwellTime:5e3,samplingRateInPercentage:.04,interceptId:"SI_8GOH9B9giUWVEz4",zoneId:"ZN_3fUwD6hWNsaYINE",legoConfig:{pageKey:"flagship_desktop_surveys",slotId:"surveys",groupId:"surveys",widgetId:"create-pillar:csat_survey:sv_cowdr0j21bo2jhg"}}),e.CREATE_SURVEY_ELIGIBLE_PAGES=["d_flagship3_feed","d_flagship3_company_admin","d_flagship3_company_admin_dashboard_index","d_flagship3_profile_view_create_post"],e.SHARING_VIEWS=Object.freeze({SHARE_UPDATE_SHAREBOX_STATE:"share-update-sharebox-state"}),e.MANUAL_FIRE_REASON=Object.freeze({VIEW_NOT_ACCESSIBLE:"VIEW_NOT_ACCESSIBLE"}),e.INTERACTION_TYPES=Object.freeze({SHORT_PRESS:"SHORT_PRESS"})}))
define("sharing-v2/utils/sharing-utils",["exports","@ember/utils","sharing-v2/utils/sharing-constants","feed-utils/utils/error-parsing","sharing-shared/utils/sharing-shared-constants","graphql-queries/queries/sharing/contentcreation-dash-update-url-preview-by-url.graphql"],(function(e,t,i,n,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.appendTextAndMentions=function(e,i){if((0,t.isEmpty)(e.text)&&(0,t.isEmpty)(i.text))return{text:"",mentions:[]}
if((0,t.isEmpty)(e.text))return i
if((0,t.isEmpty)(i.text))return e
const n=e.text.length+1,r={text:e.text.concat(" ",i.text),mentions:e.mentions||[]}
i.mentions.forEach((e=>{e.match.start+=n
r.mentions.push(e)}))
return r}
e.fetchDashUrlPreviewPromise=function(e,t){const i={degradations:[r.URL_FETCH_DEGRADATION_TRACKING_METADATA],degradedEntityIDsToRemove:[]}
return t.executeQuery(a.default,{url:e},{adapterOptions:i})}
e.fireLegoRequestHelper=function(e,t,i){const{pageKey:n,slotId:r,groupId:a,widgetId:o}=t
return e.clearSlotCache(n,r).fireLegoCall({pageKey:n,slotId:r,groupId:a,widgetId:o},!1,!0).then((e=>{(null==e?void 0:e.widgetKey)===o&&i(e)
return null==e?void 0:e.trackingToken}))}
e.generateShareStatusData=function(e){var t,i,n,a,o
let{createRequestResponse:s,detourManager:l}=e
const d=(null==s||null===(t=s.data)||void 0===t?void 0:t.createContentcreationDashShares)||(null==s||null===(i=s.data)||void 0===i?void 0:i.updateContentcreationDashShares),c=null==d?void 0:d.entity.status.lifecycleState.UnpublishedState,u=null===(n=s.status)||void 0===n?void 0:n.mediaStatus
return{detourManager:l,isProcessing:c===r.SHARE_UNPUBLISHED_STATES.MEDIA_PROCESSING||u===r.SHARE_MEDIA_STATUSES.PROCESSING,isPendingPostModeration:!!(c===r.SHARE_UNPUBLISHED_STATES.PENDING_MODERATION||null!==(a=s.status)&&void 0!==a&&a.pendingModeration),proccessingPostUrn:(null==d?void 0:d.entity.entityUrn)||(null===(o=s.status)||void 0===o?void 0:o.urn)}}
e.isDuplicatePostError=function(e){const t=(0,n.getStatusCode)(e)
return Number(t)===Number(i.ERRORS.DUPLICATE_SHARE_ERROR_CODE)}
e.isTimestampWithinBoundaries=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.TIME_VALUES.ONE_HOUR_MS,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.TIME_VALUES.NINTY_DAYS_MS
const n=(new Date).getTime()
return e>=n+t&&e<=n+i}}))
define("sharing-v2/utils/state-change-button-config",["exports","@ember/debug","sharing-v2/utils/visibility/share-box-actor","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants","sharing-v2/utils/visibility/comment-restriction","sharing-v2/utils/visibility/visibility-option"],(function(e,t,i,n,r,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e,t,s){this.buttonType="secondary"
this.buttonSize="1"
this.showCaretIcon=!0
if(e instanceof o.default){var l
this.type="visibility"
this.label=null===(l=e.name)||void 0===l?void 0:l.text
this.iconType=e.iconName
this.ariaLabel=t.lookupTranslation(`components/${s}`,"i18n_visibility_btn_a11y_label")([{label:this.label}])
this.controlName=n.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.VISIBILITY_BTN}else if(e instanceof i.default){this.type="actor"
this.label=e.name
this.iconType="person"
this.ariaLabel=t.lookupTranslation(`components/${s}`,"i18n_actor_btn_a11y_label")([{label:this.label}])
this.controlName=n.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.ACTOR_SELECT_OPEN}else if(e instanceof a.default){this.type="comment-restriction"
this.label=t.lookupTranslation(`components/${s}`,"i18n_comment_restriction_options")([{commentRestrictionSelection:e.displayType}])
this.iconType=e.type===r.VALID_COMMENT_RESTRICTION_TYPES.NONE?n.COMMENT_RESTRICTION_TYPE_ICONS.DISABLED:n.COMMENT_RESTRICTION_TYPE_ICONS.ENABLED
this.ariaLabel=t.lookupTranslation(`components/${s}`,"i18n_comment-restriction-type_btn_a11y_label")([{label:this.label}])
this.showCaretIcon=!1
this.buttonType="tertiary"
this.controlName=n.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.COMMENT_CONTROLS_OPEN}}}}))
define("sharing-v2/utils/tracked-post-contents",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateFieldGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/tracking","@ember/utils","sharing-shared/utils/text-view-model-helpers","sharing-v2/utils/sharing-utils","sharing-v2/utils/sharing-constants"],(function(e,t,i,n,r,a,o,s,l,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,h,p,g,m
e.default=(u=(g=new WeakMap,m=new WeakMap,class{get characterCount(){var e
return(null===(e=this.text)||void 0===e?void 0:e.length)??0}get exceedsMaxCharLimit(){return this.characterCount>(0,n.default)(this,g)}get exceedsMaxMentions(){return!!this.mentions&&this.mentions.length>(0,n.default)(this,m)}get hasText(){return!!this.characterCount}get trackedPostContentsData(){return(0,s.isPresent)(this.text)||(0,s.isPresent)(this.mentions)?{text:this.text,mentions:this.mentions}:{}}get charCountOverLimit(){return this.exceedsMaxCharLimit?(0,n.default)(this,g)-this.characterCount:0}constructor(e,i){g.set(this,{writable:!0,value:c.UPLOAD_LIMITS.POST_CHAR_LIMIT})
m.set(this,{writable:!0,value:c.UPLOAD_LIMITS.MENTIONS_LIMIT});(0,t.default)(this,"text",h,this);(0,t.default)(this,"mentions",p,this)
this.text=e
this.mentions=i}appendTextAndMentions(e,t){const i=(0,l.generateTextAndMentionsFromTextViewModelV2)(e,t),n={text:this.text,mentions:this.mentions},{text:r,mentions:a}=(0,d.appendTextAndMentions)(n,i)
this.updateData(r,a)}convertTrackedPostContentsToTVM(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]
return(0,l.generateTVMV2FromTextAndMentions)(this.text,this.mentions,e)}initializeDataFromHashtag(e){this.updateData(`\n${e}`,[])}initializeDataFromTVMV2(e,t){const{text:i,mentions:n}=(0,l.generateTextAndMentionsFromTextViewModelV2)(e,t)
this.updateData(i,n)}initializeDataFromDashUpdate(e,t){var i
const{text:n,mentions:r}=(0,l.generateTextAndMentionsFromTextViewModelV2)(e,null===(i=t.commentary)||void 0===i?void 0:i.text)
this.updateData(n,r)}updateData(e,t){this.text=e
this.mentions=t}}),h=(0,r.default)(u.prototype,"text",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=(0,r.default)(u.prototype,"mentions",[o.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)}))
define("sharing-v2/utils/uuid-generator",["exports","ember-uuid/utils/uuid-generator"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}})
Object.defineProperty(e,"unparse",{enumerable:!0,get:function(){return t.unparse}})
Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.v1}})
Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return t.v4}})}))
define("sharing-v2/utils/validation-helpers",["exports","ember-cloud-filepicker/utils/validation-helpers"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(i,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}))
define.alias("ember-vector-images/utils/vector-url","sharing-v2/utils/vector-url")
define("sharing-v2/utils/visibility/comment-restriction",["exports","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e,n,r,a){e.containerEntity?a?this.setRestrictions(i.VALID_COMMENT_RESTRICTION_TYPES.NONE):this.setRestrictionsForContainers(n):n===i.VALID_COMMENT_RESTRICTION_TYPES.NONE?this.setRestrictions(i.VALID_COMMENT_RESTRICTION_TYPES.NONE):r?this.setRestrictions(i.VALID_COMMENT_RESTRICTION_TYPES.ALL):e.type===i.VALID_VISIBILITY_TYPES.CONNECTIONS?this.setRestrictions(i.VALID_COMMENT_RESTRICTION_TYPES.CONNECTIONS_ONLY):n?this.setRestrictions(n):this.setRestrictions(t.DEFAULT_COMMENT_RESTRICTION_TYPE)}setRestrictionsForContainers(e){if(e===i.VALID_COMMENT_RESTRICTION_TYPES.NONE){this.type=t.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.DISABLED.TYPE
this.displayType=t.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.DISABLED.DISPLAY_TYPE
this.iconName=t.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.DISABLED.ICON_NAME}else{this.type=t.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.ENABLED.TYPE
this.displayType=t.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.ENABLED.DISPLAY_TYPE
this.iconName=t.COMMENT_RESTRICTION_CONFIGS_FOR_CONTAINERS.ENABLED.ICON_NAME}}setRestrictions(e){this.type=e
this.displayType=e
this.iconName=t.COMMENT_RESTRICTION_TYPE_ICONS[e]}}}))
define("sharing-v2/utils/visibility/container-type-metadata",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e){let{containerTypeUrn:t,header:i,subheader:n,retryControlName:r,saveControlName:a,backControlName:o,exitControlName:s,selectionControlName:l}=e
Object.assign(this,{containerTypeUrn:t,header:i,subheader:n})
this.retryControlName=`share_${r}`
this.saveControlName=`share_${a}`
this.backControlName=`share_${o}`
this.exitControlName=`share_${s}`
this.selectionControlName=`share_${l}`}}}))
define("sharing-v2/utils/visibility/share-box-actor",["exports","@ember/debug","@ember/object","@ember/utils","global-utils/utils/api-compat","global-utils/utils/urn-converter","dash-interop-helper/utils/get-graphql-value-with-dash-fallback","sharing-shared/utils/sharing-shared-constants"],(function(e,t,i,n,r,a,o,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function l(e,t){return["com.linkedin.voyager.dash.organization.Company","com.linkedin.voyager.dash.organization.OrganizationalPage"].includes(e)?(0,i.get)(t,"entityUrn"):(0,i.get)(t,"dashEntityUrn")||(0,i.get)(t,"dashCompanyUrn")}e.default=class{constructor(e,t){const n=(0,r.classNameOf)(e)
this.actorType=function(e){switch(e){case"com.linkedin.voyager.entities.shared.MiniCompany":case"com.linkedin.voyager.organization.Company":case"com.linkedin.voyager.dash.organization.Company":return s.ACTOR_TYPES.company
case"com.linkedin.voyager.dash.organization.OrganizationalPage":case"com.linkedin.voyager.entities.shared.MiniOrganizationalPage":return s.ACTOR_TYPES.organizationalPage
case"com.linkedin.voyager.identity.shared.MiniProfile":return s.ACTOR_TYPES.member
default:return}}(n)
this.name=function(e,t,n){switch(t){case s.ACTOR_TYPES.organizationalPage:return(0,i.get)(e,"localizedName")||(0,i.get)(e,"name")
case s.ACTOR_TYPES.company:return(0,i.get)(e,"name")
case s.ACTOR_TYPES.member:return n.formatName((0,i.getProperties)(e,"firstName","maidenName","lastName"),"full")
default:return}}(e,this.actorType,t)
this.lockupImageShape=function(e){switch(e){case s.ACTOR_TYPES.company:case s.ACTOR_TYPES.organizationalPage:return"square"
default:return"circle"}}(this.actorType)
this.image=function(e,t){if(t)switch(e){case s.ACTOR_TYPES.organizationalPage:return(0,i.get)(t,"logoV2")||(0,i.get)(t,"logo")
case s.ACTOR_TYPES.company:return(0,o.getGraphQlValueWithDashFallback)(t,"logoResolutionResult.vectorImage")||(0,i.get)(t,"logo")
case s.ACTOR_TYPES.member:return(0,i.get)(t,"picture")
default:return}}(this.actorType,e)
this.urn=function(e,t){switch(e){case s.ACTOR_TYPES.organizationalPage:return(0,i.get)(t,"dashEntityUrn")||(0,i.get)(t,"entityUrn")
case s.ACTOR_TYPES.company:return(0,a.convertUrnType)("organization/company",(0,i.get)(t,"entityUrn"))
case s.ACTOR_TYPES.member:return(0,i.get)(t,"entityUrn")
default:return}}(this.actorType,e)
this.actorType===s.ACTOR_TYPES.company&&(this.dashCompanyUrn=l(n,e))
this.actorType!==s.ACTOR_TYPES.company&&this.actorType!==s.ACTOR_TYPES.organizationalPage&&this.actorType!==s.ACTOR_TYPES.member||(this.dashUrn=l(n,e))
this.vectorImageGhostType=function(e){switch(e){case s.ACTOR_TYPES.company:case s.ACTOR_TYPES.organizationalPage:return"company"
default:return"person"}}(this.actorType)
this.imageEntityClass=`EntityPhoto-${this.lockupImageShape}-2`}get isNonMemberActor(){return[s.ACTOR_TYPES.company,s.ACTOR_TYPES.organizationalPage].includes(this.actorType)}}}))
define("sharing-v2/utils/visibility/visibility-option-configs",["exports","sharing-v2/utils/sharing-constants","sharing-shared/utils/sharing-shared-constants"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.TARGETED_VISIBILITY_CONFIG=e.FALLBACK_INITIALIZATION_VISIBILITY_CONFIGS=e.DEFAULT_ORGANIZATION_ACTOR_VISIBILITY_CONFIGS=e.DEFAULT_ORGANIZATIONAL_PAGE_ACTOR_VISIBILITY_CONFIGS=e.CONNECTIONS_ONLY_VISIBILITY_CONFIG=e.ANYONE_VISIBILITY_CONFIG=void 0
const n=e.ANYONE_VISIBILITY_CONFIG=Object.freeze({type:i.VALID_VISIBILITY_TYPES.ANYONE,nameI18nLabelKey:"i18n_anyone_visibility_options_name",descriptionI18nLabelKey:"i18n_anyone_visibility_options_description",iconName:"globe-americas",controlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.VISIBILITY_TYPE_ANYONE,showChevron:!1}),r=e.CONNECTIONS_ONLY_VISIBILITY_CONFIG=Object.freeze({type:i.VALID_VISIBILITY_TYPES.CONNECTIONS,nameI18nLabelKey:"i18n_connections_visibility_options_name",descriptionI18nLabelKey:"i18n_connections_visibility_options_description",iconName:"people",controlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.VISIBILITY_TYPE_CONNECTIONS,showChevron:!1}),a=e.TARGETED_VISIBILITY_CONFIG=Object.freeze({type:i.VALID_VISIBILITY_TYPES.TARGETED,nameI18nLabelKey:"i18n_targeted_visibility_options_name",descriptionI18nLabelKey:"i18n_targeted_visibility_options_description",iconName:"radar-screen",controlName:t.SHAREBOX_TRACKING.CONTROL_INTERACTION_EVENTS.VISIBILITY_TYPE_TARGETED,showChevron:!0})
e.DEFAULT_ORGANIZATION_ACTOR_VISIBILITY_CONFIGS=[n,a],e.DEFAULT_ORGANIZATIONAL_PAGE_ACTOR_VISIBILITY_CONFIGS=[n],e.FALLBACK_INITIALIZATION_VISIBILITY_CONFIGS=[n,r]}))
define("sharing-v2/utils/visibility/visibility-option",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e){let{type:t,name:i,description:n,selectedDescription:r,logo:a,iconName:o,controlName:s,containerTypeUrn:l,containerEntity:d,isPrivateContainer:c,showChevron:u=!1}=e
Object.assign(this,{type:t,name:i,description:n,iconName:o,controlName:s,showChevron:u})
r&&(this.selectedDescription=r)
a&&(this.logo=a)
l&&(this.containerTypeUrn=l)
d&&(this.containerEntity=d)
"boolean"==typeof c&&(this.isPrivateContainer=c)}}}))
define("sharing-v2/utils/visibility/visibility-utils",["exports","image-view-model/utils/hue-icon","image-view-model/utils/image-view-model-create","image-view-model/utils/dash-image-view-model-create","sharing-shared/utils/sharing-shared-constants","sharing-v2/utils/sharing-constants","sharing-v2/utils/visibility/container-type-metadata","sharing-v2/utils/visibility/visibility-option","sharing-v2/utils/visibility/visibility-option-configs","text-view-model/utils/generator","sharing-shared/utils/sharebox-list-item"],(function(e,t,i,n,r,a,o,s,l,d,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.buildEmployeesVisibilityOptionForEditMode=u
e.buildGroupVisibilityOptionFromDashUpdate=h
e.buildVisibilityOptionFromConfig=p
e.buildVisibilityOptionFromConfigPhoenix=g
e.buildVisibilityOptionsFromConfigs=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]
return t.map((t=>i?g(e,t):p(e,t)))}
e.checkEligibility=m
e.filterIneligibleOptions=b
e.findSelectedOptions=function(e){const[t]=e.filter((e=>{var t
return null===(t=e.menuItem)||void 0===t?void 0:t.selectedItem})),[i]=t.commentControls.filter((e=>{var t
return null===(t=e.menuItem)||void 0===t?void 0:t.selectedItem}))
return{selectedVisibility:t,selectedCommentControlConfig:i}}
e.formatBasicShareboxListItemFromStickyVisItem=f
e.formatContainerFixedVisibilityOption=function(e){return new s.default({type:e.type,containerEntity:e.containerEntity,name:(0,d.default)(e.name),description:(0,d.default)(e.subText),iconName:e.iconType,logo:e.logo,isPrivateContainer:e.isPrivateContainer})}
e.formatSelectedStickyVisibilityItem=function(e){var i,n,a,o,l,d,c,u
const h=null===(i=e.menuItem)||void 0===i?void 0:i.controlName,p=e.visibilityDataUnion||e.visibilityData,g=(null==p||null===(n=p.containerVisibility)||void 0===n?void 0:n.container)||(null==p||null===(a=p.containerVisibility)||void 0===a?void 0:a.containerV2)
return new s.default({type:(null==p?void 0:p.visibilityType)||r.VALID_VISIBILITY_TYPES.CONTAINER,containerEntity:(null==g?void 0:g.containerEntity)||(null==g?void 0:g.containerEntityUrn),name:(null==g?void 0:g.name)||(null===(o=e.menuItem)||void 0===o?void 0:o.title),isPrivateContainer:null==g?void 0:g.isContainerPrivate,description:null===(l=e.menuItem)||void 0===l?void 0:l.description,iconName:(0,t.getHueIcon)(null===(d=e.menuItem)||void 0===d?void 0:d.iconName).name,logo:null==g?void 0:g.logo,controlName:`share_${h}`,selectedDescription:null===(c=e.menuItem)||void 0===c?void 0:c.selectedDescription,containerTypeUrn:null==p||null===(u=p.containerVisibility)||void 0===u?void 0:u.containerTypeUrn,showChevron:!(null==p||!p.containerVisibility)})}
e.formatShareboxListItemFromStickyVisAnyone=T
e.formatShareboxListItemFromStickyVisContainer=_
e.formatStickyVisibilityItem=function(e){var i,n,a,o,l,d
const c=null===(i=e.menuItem)||void 0===i?void 0:i.controlName,u=e.visibilityDataUnion||e.visibilityData
return new s.default({type:(null==u?void 0:u.visibilityType)||r.VALID_VISIBILITY_TYPES.CONTAINER,name:null===(n=e.menuItem)||void 0===n?void 0:n.title,description:null===(a=e.menuItem)||void 0===a?void 0:a.description,iconName:(0,t.getHueIcon)(null===(o=e.menuItem)||void 0===o?void 0:o.iconName).name,controlName:`share_${c}`,selectedDescription:null===(l=e.menuItem)||void 0===l?void 0:l.selectedDescription,containerTypeUrn:null==u||null===(d=u.containerVisibility)||void 0===d?void 0:d.containerTypeUrn,showChevron:!(null==u||!u.containerVisibility)})}
e.formatStickyVisibilityItemAsShareboxListItem=function(e,t){if(e.containerTypeUrn)return _(e,t)
if(e.type===r.VALID_VISIBILITY_TYPES.ANYONE)return T(e,t)
return f(e)}
e.getDashContainersMetadata=function(e){return e.map((e=>e.visibilityDataUnion||e.visibilityData)).filter((e=>void 0!==e.containerVisibility)).map((e=>{var t,i,n,r,a,s,l,d
return new o.default({containerTypeUrn:null===(t=e.containerVisibility)||void 0===t?void 0:t.containerTypeUrn,header:null===(i=e.containerVisibility)||void 0===i?void 0:i.header,subheader:null===(n=e.containerVisibility)||void 0===n?void 0:n.subheader,retryControlName:null===(r=e.containerVisibility)||void 0===r?void 0:r.retryControlName,saveControlName:null===(a=e.containerVisibility)||void 0===a?void 0:a.saveControlName,backControlName:null===(s=e.containerVisibility)||void 0===s?void 0:s.backControlName,exitControlName:null===(l=e.containerVisibility)||void 0===l?void 0:l.exitControlName,selectionControlName:null===(d=e.containerVisibility)||void 0===d?void 0:d.updateSelectionControlName})}))}
e.getFilteredVisibilityOptions=function(e,t,i){return b(e,t)}
e.getVisibilityOptionFromUpdate=function(e,t){var i
let n
switch(null===(i=e.metadata)||void 0===i?void 0:i.shareAudience){case a.SHARE_AUDIENCE_VISIBILITY.PUBLIC:n=p(t,l.ANYONE_VISIBILITY_CONFIG)
break
case a.SHARE_AUDIENCE_VISIBILITY.CONNECTIONS:n=p(t,l.CONNECTIONS_ONLY_VISIBILITY_CONFIG)
break
case a.SHARE_AUDIENCE_VISIBILITY.GROUP:case a.SHARE_AUDIENCE_VISIBILITY.PUBLIC_GROUP:n=h(e)
break
case a.SHARE_AUDIENCE_VISIBILITY.EMPLOYEES:n=u(t)}return n}
e.isValidPaidEndorsementVisibility=function(e){if(e.type===r.VALID_VISIBILITY_TYPES.ANYONE||(e.type===r.VALID_VISIBILITY_TYPES.GROUP||e.type===r.VALID_VISIBILITY_TYPES.CONTAINER)&&!e.isPrivateContainer)return!0
return!1}
e.saveVisibilityAndCommentControlsPayload=function(e,t){const i={degradations:[r.UPDATE_SHARE_DATA_DEGRADATION_TRACKING_METADATA],degradedEntityIDsToRemove:[]}
return t.queryURL("/voyager/api/voyagerContentcreationDashSharebox",{params:{patch:{$set:{visibilities:e}}},adapterOptions:i,method:"POST",reload:!0})}
e.selectVisibilityAndCommentControlsPayload=function(e,t,i){return e.map((e=>{var n
const r=!!t.containerTypeUrn,a=e.visibilityDataUnion||e.visibilityData
if(t.type===(null==a?void 0:a.visibilityType)||r&&t.containerTypeUrn===(null==a||null===(n=a.containerVisibility)||void 0===n?void 0:n.containerTypeUrn)){e.menuItem.selectedItem=!0
if(t.containerEntity){const i={containerEntity:t.containerEntity,name:t.name,logo:t.logo,visibilityIcon:{attributes:[]},selectedDescription:{}}
if(e.visibilityData){i.containerEntityUrn=t.containerEntity
e.visibilityData.containerVisibility.containerV2=i}else{i.containerEntity=t.containerEntity
e.visibilityDataUnion.containerVisibility.container=i}t.selectedDescription&&(e.menuItem.selectedDescription=t.selectedDescription)}e.commentControls.map((e=>{i===e.allowedCommentersScope?e.menuItem.selectedItem=!0:e.menuItem.selectedItem=!1
return e}))}else{e.menuItem.selectedItem=!1
e.commentControls.map((e=>{e.menuItem.selectedItem=!1
return e}))}return e}))}
e.shouldResetCommentRestrictionType=function(e,t,i){if((e.type===r.VALID_VISIBILITY_TYPES.CONNECTIONS||e.type===r.VALID_VISIBILITY_TYPES.CONTAINER)&&t.type.includes("ANYONE")&&i===r.VALID_COMMENT_RESTRICTION_TYPES.CONNECTIONS_ONLY)return!0
return!1}
function u(e){const t=e.lookupTranslation("components/sharing-v2@visibility/visibility-manager","i18n_broadcast_visibility_option_name")()
return new s.default({type:r.VALID_VISIBILITY_TYPES.EMPLOYEE_BROADCAST_FEED,name:(0,d.default)(t),logo:i.ImageViewModelCreate.fromVectorImage(void 0,"COMPANY_GHOST"),iconName:"company"})}function h(e){var t,i,o
const l=null===(t=e.metadata)||void 0===t?void 0:t.group,c=null===(i=e.metadata)||void 0===i?void 0:i.shareAudience,u=n.DashImageViewModelCreate.fromVectorImage(null==l||null===(o=l.logoResolutionResult)||void 0===o?void 0:o.vectorImage,"GROUP")
return new s.default({type:r.VALID_VISIBILITY_TYPES.GROUP,name:(0,d.default)(l.name),logo:u,iconName:c===a.SHARE_AUDIENCE_VISIBILITY.PUBLIC_GROUP?"globe-americas":"group",containerEntity:l.entityUrn})}function p(e,t){const i=e.lookupTranslation("components/sharing-v2@visibility/visibility-manager",t.nameI18nLabelKey)(),n=e.lookupTranslation("components/sharing-v2@visibility/visibility-manager",t.descriptionI18nLabelKey)()
return new s.default({type:t.type,name:(0,d.default)(i),description:(0,d.default)(n),iconName:t.iconName,controlName:t.controlName})}function g(e,t){const i=e.lookupTranslation("components/sharing-v2@visibility/visibility-manager",t.nameI18nLabelKey)(),n=e.lookupTranslation("components/sharing-v2@visibility/visibility-manager",t.descriptionI18nLabelKey)()
return new s.default({type:t.type,name:(0,d.default)(i),description:t.type===r.VALID_VISIBILITY_TYPES.ANYONE?(0,d.default)(n):void 0,iconName:t.iconName,controlName:t.controlName,showChevron:t.showChevron})}function m(e){return!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).includes(e)}function b(e,t){return e.filter((e=>m(e.type,t)))}function f(e){return new c.default({itemId:e.type,controlName:e.controlName,mainText:e.name,iconType:e.type===r.VALID_VISIBILITY_TYPES.CONTAINER?"group":e.iconName,itemOpensPage:e.showChevron})}function _(e,t){return t.containerTypeUrn===e.containerTypeUrn?new c.default({itemId:t.type,controlName:e.controlName,mainText:e.name,iconType:t.iconName,itemOpensPage:e.showChevron,subtext:t.name}):f(e)}function T(e,t){const i=t.type===e.type&&e.selectedDescription?e.selectedDescription:e.description
return new c.default({itemId:e.type,controlName:e.controlName,mainText:e.name,subtext:i,iconType:e.iconName})}}))
define("sharing-v2/utils/window-helpers",["exports","ember-cloud-filepicker/utils/window-helpers"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
var i={}
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(i,n)||n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}))

//# sourceMappingURL=engine.map